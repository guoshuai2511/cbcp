/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 35);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class GPSToBaiduPoint {\r\n\r\n    /* 使用百度地图自带方法，每次解析10个坐标*/\r\n    static getBaiduPointByGPS(pointArray) {\r\n        let convertor = new BMap.Convertor();\r\n        let points = [];\r\n        for (let i = 0; i < pointArray.length; i++) {\r\n            points.push(new BMap.Point(pointArray[i][0], pointArray[i][1]));\r\n        }\r\n        /* 使用promise返回异步结果*/\r\n        return new Promise((resolve) => {\r\n            convertor.translate(points, 1, 5, (data) => {\r\n                let point = [];\r\n                for (let i = 0; i < data.points.length; i++) {\r\n                    let lng = Number(data.points[i].lng.toString().match(/^\\d+(?:\\.\\d{0,6})?/));\r\n                    let lat = Number(data.points[i].lat.toString().match(/^\\d+(?:\\.\\d{0,6})?/));\r\n                    point.push({ lng: lng, lat: lat });\r\n                }\r\n                resolve(point);\r\n            });\r\n        });\r\n    }\r\n\r\n    /* 使用webapi与jsonp，每次解析100个坐标*/\r\n    static getBaiduPointByGPSTypeB(pointArray) {\r\n        let ak = 'PgNHPqzIRsGR1yhs8nkoCtXOZLbwmawp';\r\n        let pointString = '';\r\n        /* 数组转字符串*/\r\n        for (let i = 0; i < pointArray.length; i++) {\r\n            pointString = pointString + pointArray[i][0] + ',' + pointArray[i][1] + ';';\r\n        }\r\n        /* 去掉末尾分号\";\"*/\r\n        pointString = pointString.substring(0, pointString.length - 1);\r\n        let url = 'http://api.map.baidu.com/geoconv/v1/?coords=' + pointString + '&from=1&to=5&ak=' + ak;\r\n        /* 使用promise返回ajax请求结果*/\r\n        return new Promise((resolve) => {\r\n            $.ajax({\r\n                url: url,\r\n                type: 'get',\r\n                dataType: \"jsonp\",\r\n                jsonp: \"callback\",\r\n            }).then((result) => {\r\n                resolve(result.result);\r\n            });\r\n        });\r\n    }\r\n\r\n    /* 坐标转换离线方法（同步）*/\r\n    static getBaiduPointLocation(pointArray) {\r\n\r\n        // 圆周率\r\n        let pi = Math.PI;\r\n        // 卫星椭球坐标投影到平面坐标系的投影因子\r\n        let a = 6378245.0;\r\n        // 椭球的偏心率\r\n        let ee = 0.00669342162296594323;\r\n        // 圆周率转换量\r\n        let x_pi = pi * 3000.0 / 180.0;\r\n\r\n        function wgs2bd(lat, lng) {\r\n            let _wgs2gcj = wgs2gcj(lat, lng);\r\n            let _gcj2bd = gcj2bd(_wgs2gcj[0], _wgs2gcj[1]);\r\n            return _gcj2bd;\r\n        }\r\n\r\n        /**\r\n         * GCJ坐标转百度坐标\r\n         * @param lat\r\n         * @param lng\r\n         * @return\r\n         */\r\n        function gcj2bd(lat, lng) {\r\n            let x = lng, y = lat;\r\n            let z = Math.sqrt(x * x + y * y) + 0.00002 * Math.sin(y * x_pi);\r\n            let theta = Math.atan2(y, x) + 0.000003 * Math.cos(x * x_pi);\r\n            let bd_lng = z * Math.cos(theta) + 0.0065;\r\n            let bd_lat = z * Math.sin(theta) + 0.006;\r\n            return [bd_lat, bd_lng];\r\n        }\r\n\r\n        /**\r\n         * WGS坐标转GCJ坐标\r\n         * @param lat\r\n         * @param lng\r\n         * @return\r\n         */\r\n        function wgs2gcj(lat, lng) {\r\n            let dLat = transformLat(lng - 105.0, lat - 35.0);\r\n            let dLng = transformLng(lng - 105.0, lat - 35.0);\r\n            let radLat = lat / 180.0 * pi;\r\n            let magic = Math.sin(radLat);\r\n            magic = 1 - ee * magic * magic;\r\n            let sqrtMagic = Math.sqrt(magic);\r\n            dLat = (dLat * 180.0) / ((a * (1 - ee)) / (magic * sqrtMagic) * pi);\r\n            dLng = (dLng * 180.0) / (a / sqrtMagic * Math.cos(radLat) * pi);\r\n            let mgLat = lat + dLat;\r\n            let mgLng = lng + dLng\r\n            let loc = [mgLat, mgLng];\r\n            return loc;\r\n        }\r\n\r\n        function transformLat(lat, lng) {\r\n            let ret = -100.0 + 2.0 * lat + 3.0 * lng + 0.2 * lng * lng + 0.1 * lat * lng + 0.2 * Math.sqrt(Math.abs(lat));\r\n            ret += (20.0 * Math.sin(6.0 * lat * pi) + 20.0 * Math.sin(2.0 * lat * pi)) * 2.0 / 3.0;\r\n            ret += (20.0 * Math.sin(lng * pi) + 40.0 * Math.sin(lng / 3.0 * pi)) * 2.0 / 3.0;\r\n            ret += (160.0 * Math.sin(lng / 12.0 * pi) + 320 * Math.sin(lng * pi / 30.0)) * 2.0 / 3.0;\r\n            return ret;\r\n        }\r\n\r\n        function transformLng(lat, lng) {\r\n            let ret = 300.0 + lat + 2.0 * lng + 0.1 * lat * lat + 0.1 * lat * lng + 0.1 * Math.sqrt(Math.abs(lat));\r\n            ret += (20.0 * Math.sin(6.0 * lat * pi) + 20.0 * Math.sin(2.0 * lat * pi)) * 2.0 / 3.0;\r\n            ret += (20.0 * Math.sin(lat * pi) + 40.0 * Math.sin(lat / 3.0 * pi)) * 2.0 / 3.0;\r\n            ret += (150.0 * Math.sin(lat / 12.0 * pi) + 300.0 * Math.sin(lat / 30.0 * pi)) * 2.0 / 3.0;\r\n            return ret;\r\n        }\r\n\r\n        let point = [];\r\n        for (let i = 0; i < pointArray.length; i++) {\r\n            let arr = wgs2bd(Number(pointArray[i][1]), Number(pointArray[i][0]));\r\n            point.push({ lng: arr[1], lat: arr[0] });\r\n        }\r\n        return point;\r\n\r\n    }\r\n\r\n    /* 坐标转换离线方法（异步）*/\r\n    static getBaiduPointLocationPromise(pointArray) {\r\n\r\n        return new Promise((resolve) => {\r\n            let point = this.getBaiduPointLocation(pointArray);\r\n            resolve(point);\r\n        });\r\n\r\n    }\r\n    \r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = GPSToBaiduPoint;\n\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRTovQ0JDUC93b3Jrc3BhY2UvQ0JDUC9zcmMvbWFpbi93ZWJhcHAvanMvc3JjL2FwcC9jb21tb24vYmFpZHVNYXAvR1BTVG9CYWlkdVBvaW50LkJhaWR1TWFwLmpzP2E4ZTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdUJBQXVCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix3QkFBd0I7QUFDdkQsc0ZBQXNGLElBQUk7QUFDMUYsc0ZBQXNGLElBQUk7QUFDMUYsZ0NBQWdDLHFCQUFxQjtBQUNyRDtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHVCQUF1QjtBQUM5QyxzRkFBc0Y7QUFDdEY7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUIsdUJBQXVCO0FBQzlDO0FBQ0Esd0JBQXdCLDJCQUEyQjtBQUNuRDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQSxDQUFDO0FBQUE7QUFBQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEdQU1RvQmFpZHVQb2ludCB7XHJcblxyXG4gICAgLyog5L2/55So55m+5bqm5Zyw5Zu+6Ieq5bim5pa55rOV77yM5q+P5qyh6Kej5p6QMTDkuKrlnZDmoIcqL1xyXG4gICAgc3RhdGljIGdldEJhaWR1UG9pbnRCeUdQUyhwb2ludEFycmF5KSB7XHJcbiAgICAgICAgbGV0IGNvbnZlcnRvciA9IG5ldyBCTWFwLkNvbnZlcnRvcigpO1xyXG4gICAgICAgIGxldCBwb2ludHMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50QXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcG9pbnRzLnB1c2gobmV3IEJNYXAuUG9pbnQocG9pbnRBcnJheVtpXVswXSwgcG9pbnRBcnJheVtpXVsxXSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiDkvb/nlKhwcm9taXNl6L+U5Zue5byC5q2l57uT5p6cKi9cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgY29udmVydG9yLnRyYW5zbGF0ZShwb2ludHMsIDEsIDUsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcG9pbnQgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5wb2ludHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbG5nID0gTnVtYmVyKGRhdGEucG9pbnRzW2ldLmxuZy50b1N0cmluZygpLm1hdGNoKC9eXFxkKyg/OlxcLlxcZHswLDZ9KT8vKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhdCA9IE51bWJlcihkYXRhLnBvaW50c1tpXS5sYXQudG9TdHJpbmcoKS5tYXRjaCgvXlxcZCsoPzpcXC5cXGR7MCw2fSk/LykpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50LnB1c2goeyBsbmc6IGxuZywgbGF0OiBsYXQgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHBvaW50KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyog5L2/55Sod2ViYXBp5LiOanNvbnDvvIzmr4/mrKHop6PmnpAxMDDkuKrlnZDmoIcqL1xyXG4gICAgc3RhdGljIGdldEJhaWR1UG9pbnRCeUdQU1R5cGVCKHBvaW50QXJyYXkpIHtcclxuICAgICAgICBsZXQgYWsgPSAnUGdOSFBxeklSc0dSMXloczhua29DdFhPWkxid21hd3AnO1xyXG4gICAgICAgIGxldCBwb2ludFN0cmluZyA9ICcnO1xyXG4gICAgICAgIC8qIOaVsOe7hOi9rOWtl+espuS4siovXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludEFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHBvaW50U3RyaW5nID0gcG9pbnRTdHJpbmcgKyBwb2ludEFycmF5W2ldWzBdICsgJywnICsgcG9pbnRBcnJheVtpXVsxXSArICc7JztcclxuICAgICAgICB9XHJcbiAgICAgICAgLyog5Y675o6J5pyr5bC+5YiG5Y+3XCI7XCIqL1xyXG4gICAgICAgIHBvaW50U3RyaW5nID0gcG9pbnRTdHJpbmcuc3Vic3RyaW5nKDAsIHBvaW50U3RyaW5nLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIGxldCB1cmwgPSAnaHR0cDovL2FwaS5tYXAuYmFpZHUuY29tL2dlb2NvbnYvdjEvP2Nvb3Jkcz0nICsgcG9pbnRTdHJpbmcgKyAnJmZyb209MSZ0bz01JmFrPScgKyBhaztcclxuICAgICAgICAvKiDkvb/nlKhwcm9taXNl6L+U5ZueYWpheOivt+axgue7k+aenCovXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdnZXQnLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvbnBcIixcclxuICAgICAgICAgICAgICAgIGpzb25wOiBcImNhbGxiYWNrXCIsXHJcbiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQucmVzdWx0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyog5Z2Q5qCH6L2s5o2i56a757q/5pa55rOV77yI5ZCM5q2l77yJKi9cclxuICAgIHN0YXRpYyBnZXRCYWlkdVBvaW50TG9jYXRpb24ocG9pbnRBcnJheSkge1xyXG5cclxuICAgICAgICAvLyDlnIblkajnjodcclxuICAgICAgICBsZXQgcGkgPSBNYXRoLlBJO1xyXG4gICAgICAgIC8vIOWNq+aYn+akreeQg+WdkOagh+aKleW9seWIsOW5s+mdouWdkOagh+ezu+eahOaKleW9seWboOWtkFxyXG4gICAgICAgIGxldCBhID0gNjM3ODI0NS4wO1xyXG4gICAgICAgIC8vIOakreeQg+eahOWBj+W/g+eOh1xyXG4gICAgICAgIGxldCBlZSA9IDAuMDA2NjkzNDIxNjIyOTY1OTQzMjM7XHJcbiAgICAgICAgLy8g5ZyG5ZGo546H6L2s5o2i6YePXHJcbiAgICAgICAgbGV0IHhfcGkgPSBwaSAqIDMwMDAuMCAvIDE4MC4wO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB3Z3MyYmQobGF0LCBsbmcpIHtcclxuICAgICAgICAgICAgbGV0IF93Z3MyZ2NqID0gd2dzMmdjaihsYXQsIGxuZyk7XHJcbiAgICAgICAgICAgIGxldCBfZ2NqMmJkID0gZ2NqMmJkKF93Z3MyZ2NqWzBdLCBfd2dzMmdjalsxXSk7XHJcbiAgICAgICAgICAgIHJldHVybiBfZ2NqMmJkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR0NK5Z2Q5qCH6L2s55m+5bqm5Z2Q5qCHXHJcbiAgICAgICAgICogQHBhcmFtIGxhdFxyXG4gICAgICAgICAqIEBwYXJhbSBsbmdcclxuICAgICAgICAgKiBAcmV0dXJuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2NqMmJkKGxhdCwgbG5nKSB7XHJcbiAgICAgICAgICAgIGxldCB4ID0gbG5nLCB5ID0gbGF0O1xyXG4gICAgICAgICAgICBsZXQgeiA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5KSArIDAuMDAwMDIgKiBNYXRoLnNpbih5ICogeF9waSk7XHJcbiAgICAgICAgICAgIGxldCB0aGV0YSA9IE1hdGguYXRhbjIoeSwgeCkgKyAwLjAwMDAwMyAqIE1hdGguY29zKHggKiB4X3BpKTtcclxuICAgICAgICAgICAgbGV0IGJkX2xuZyA9IHogKiBNYXRoLmNvcyh0aGV0YSkgKyAwLjAwNjU7XHJcbiAgICAgICAgICAgIGxldCBiZF9sYXQgPSB6ICogTWF0aC5zaW4odGhldGEpICsgMC4wMDY7XHJcbiAgICAgICAgICAgIHJldHVybiBbYmRfbGF0LCBiZF9sbmddO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogV0dT5Z2Q5qCH6L2sR0NK5Z2Q5qCHXHJcbiAgICAgICAgICogQHBhcmFtIGxhdFxyXG4gICAgICAgICAqIEBwYXJhbSBsbmdcclxuICAgICAgICAgKiBAcmV0dXJuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gd2dzMmdjaihsYXQsIGxuZykge1xyXG4gICAgICAgICAgICBsZXQgZExhdCA9IHRyYW5zZm9ybUxhdChsbmcgLSAxMDUuMCwgbGF0IC0gMzUuMCk7XHJcbiAgICAgICAgICAgIGxldCBkTG5nID0gdHJhbnNmb3JtTG5nKGxuZyAtIDEwNS4wLCBsYXQgLSAzNS4wKTtcclxuICAgICAgICAgICAgbGV0IHJhZExhdCA9IGxhdCAvIDE4MC4wICogcGk7XHJcbiAgICAgICAgICAgIGxldCBtYWdpYyA9IE1hdGguc2luKHJhZExhdCk7XHJcbiAgICAgICAgICAgIG1hZ2ljID0gMSAtIGVlICogbWFnaWMgKiBtYWdpYztcclxuICAgICAgICAgICAgbGV0IHNxcnRNYWdpYyA9IE1hdGguc3FydChtYWdpYyk7XHJcbiAgICAgICAgICAgIGRMYXQgPSAoZExhdCAqIDE4MC4wKSAvICgoYSAqICgxIC0gZWUpKSAvIChtYWdpYyAqIHNxcnRNYWdpYykgKiBwaSk7XHJcbiAgICAgICAgICAgIGRMbmcgPSAoZExuZyAqIDE4MC4wKSAvIChhIC8gc3FydE1hZ2ljICogTWF0aC5jb3MocmFkTGF0KSAqIHBpKTtcclxuICAgICAgICAgICAgbGV0IG1nTGF0ID0gbGF0ICsgZExhdDtcclxuICAgICAgICAgICAgbGV0IG1nTG5nID0gbG5nICsgZExuZ1xyXG4gICAgICAgICAgICBsZXQgbG9jID0gW21nTGF0LCBtZ0xuZ107XHJcbiAgICAgICAgICAgIHJldHVybiBsb2M7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB0cmFuc2Zvcm1MYXQobGF0LCBsbmcpIHtcclxuICAgICAgICAgICAgbGV0IHJldCA9IC0xMDAuMCArIDIuMCAqIGxhdCArIDMuMCAqIGxuZyArIDAuMiAqIGxuZyAqIGxuZyArIDAuMSAqIGxhdCAqIGxuZyArIDAuMiAqIE1hdGguc3FydChNYXRoLmFicyhsYXQpKTtcclxuICAgICAgICAgICAgcmV0ICs9ICgyMC4wICogTWF0aC5zaW4oNi4wICogbGF0ICogcGkpICsgMjAuMCAqIE1hdGguc2luKDIuMCAqIGxhdCAqIHBpKSkgKiAyLjAgLyAzLjA7XHJcbiAgICAgICAgICAgIHJldCArPSAoMjAuMCAqIE1hdGguc2luKGxuZyAqIHBpKSArIDQwLjAgKiBNYXRoLnNpbihsbmcgLyAzLjAgKiBwaSkpICogMi4wIC8gMy4wO1xyXG4gICAgICAgICAgICByZXQgKz0gKDE2MC4wICogTWF0aC5zaW4obG5nIC8gMTIuMCAqIHBpKSArIDMyMCAqIE1hdGguc2luKGxuZyAqIHBpIC8gMzAuMCkpICogMi4wIC8gMy4wO1xyXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdHJhbnNmb3JtTG5nKGxhdCwgbG5nKSB7XHJcbiAgICAgICAgICAgIGxldCByZXQgPSAzMDAuMCArIGxhdCArIDIuMCAqIGxuZyArIDAuMSAqIGxhdCAqIGxhdCArIDAuMSAqIGxhdCAqIGxuZyArIDAuMSAqIE1hdGguc3FydChNYXRoLmFicyhsYXQpKTtcclxuICAgICAgICAgICAgcmV0ICs9ICgyMC4wICogTWF0aC5zaW4oNi4wICogbGF0ICogcGkpICsgMjAuMCAqIE1hdGguc2luKDIuMCAqIGxhdCAqIHBpKSkgKiAyLjAgLyAzLjA7XHJcbiAgICAgICAgICAgIHJldCArPSAoMjAuMCAqIE1hdGguc2luKGxhdCAqIHBpKSArIDQwLjAgKiBNYXRoLnNpbihsYXQgLyAzLjAgKiBwaSkpICogMi4wIC8gMy4wO1xyXG4gICAgICAgICAgICByZXQgKz0gKDE1MC4wICogTWF0aC5zaW4obGF0IC8gMTIuMCAqIHBpKSArIDMwMC4wICogTWF0aC5zaW4obGF0IC8gMzAuMCAqIHBpKSkgKiAyLjAgLyAzLjA7XHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcG9pbnQgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50QXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGFyciA9IHdnczJiZChOdW1iZXIocG9pbnRBcnJheVtpXVsxXSksIE51bWJlcihwb2ludEFycmF5W2ldWzBdKSk7XHJcbiAgICAgICAgICAgIHBvaW50LnB1c2goeyBsbmc6IGFyclsxXSwgbGF0OiBhcnJbMF0gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwb2ludDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyog5Z2Q5qCH6L2s5o2i56a757q/5pa55rOV77yI5byC5q2l77yJKi9cclxuICAgIHN0YXRpYyBnZXRCYWlkdVBvaW50TG9jYXRpb25Qcm9taXNlKHBvaW50QXJyYXkpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwb2ludCA9IHRoaXMuZ2V0QmFpZHVQb2ludExvY2F0aW9uKHBvaW50QXJyYXkpO1xyXG4gICAgICAgICAgICByZXNvbHZlKHBvaW50KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuXHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIEU6L0NCQ1Avd29ya3NwYWNlL0NCQ1Avc3JjL21haW4vd2ViYXBwL2pzL3NyYy9hcHAvY29tbW9uL2JhaWR1TWFwL0dQU1RvQmFpZHVQb2ludC5CYWlkdU1hcC5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__sound_EnergySound_js__ = __webpack_require__(6);\n\r\n\r\nclass Energy {\r\n\r\n    /* 是否显示能量*/\r\n    static getEnergyDisplay(hit) {\r\n        if (hit) {\r\n            return 'block';\r\n        } else {\r\n            return 'none';\r\n        }\r\n    }\r\n\r\n    /* 能量最大值*/\r\n    static getEnergyMaxValue(energy) {\r\n        let maxVal = Number(energy[0]);\r\n        let maxIndex = 0;\r\n        /* 找到数组中的最大值 */\r\n        for (let i = 0; i < 4; i++) {\r\n            if (maxVal < Number(energy[i])) {\r\n                maxVal = Number(energy[i]);\r\n                maxIndex = i;\r\n            }\r\n        }\r\n        let eng = Number(energy[maxIndex]);\r\n        return eng;\r\n    }\r\n\r\n    /* 能量图标*/\r\n    static getEnergyImg(energy) {\r\n        let maxVal = Number(energy[0]);\r\n        let maxIndex = 0;\r\n        /* 找到数组中的最大值 */\r\n        for (let i = 0; i < 4; i++) {\r\n            if (maxVal < Number(energy[i])) {\r\n                maxVal = Number(energy[i]);\r\n                maxIndex = i;\r\n            }\r\n        }\r\n        let eng = Number(energy[maxIndex]);\r\n        let src = '';\r\n        if (eng >= 0 && eng <= 49) {\r\n            src = 'carE-level-1.png';\r\n        } else if (eng >= 50 && eng < 100) {\r\n            src = 'carE-level-2.png';\r\n        } else if (eng >= 100 && eng < 150) {\r\n            src = 'carE-level-3.png';\r\n        } else if (eng >= 150 && eng < 200) {\r\n            src = 'carE-level-4.png';\r\n        } else if (eng >= 200 && eng <= 255) {\r\n            src = 'carE-level-5.png';\r\n        }\r\n        return src;\r\n    }\r\n/**add by gaochao start */\r\n    /* 方块能量图标*/\r\n    static getEnergyBlockImg(energy) {\r\n        let maxVal = Number(energy[0]);\r\n        let maxIndex = 0;\r\n        /* 找到数组中的最大值 */\r\n        for (let i = 0; i < 4; i++) {\r\n            if (maxVal < Number(energy[i])) {\r\n                maxVal = Number(energy[i]);\r\n                maxIndex = i;\r\n            }\r\n        }\r\n        let eng = Number(energy[maxIndex]);\r\n        let src = '';\r\n        if (eng >= 0 && eng <= 49) {\r\n            src = 'car-level-1.png';\r\n        } else if (eng >= 50 && eng < 100) {\r\n            src = 'car-level-2.png';\r\n        } else if (eng >= 100 && eng < 150) {\r\n            src = 'car-level-3.png';\r\n        } else if (eng >= 150 && eng < 200) {\r\n            src = 'car-level-4.png';\r\n        } else if (eng >= 200 && eng <= 255) {\r\n            src = 'car-level-5.png';\r\n        }\r\n        return src;\r\n    }\r\n/**add by gaochao end*/\r\n    /* 能量颜色*/\r\n    static getEnergyColor(eng, isHit) {\r\n        let color = '';\r\n        if (isHit) {\r\n            if (eng >= 0 && eng <= 49) {\r\n                color = 'rgb(255, 203, 203)';\r\n            } else if (eng >= 50 && eng <= 99) {\r\n                color = 'rgb(255, 176, 176)';\r\n            } else if (eng >= 100 && eng <= 149) {\r\n                color = 'rgb(255, 127, 127)';\r\n            } else if (eng >= 150 && eng <= 199) {\r\n                color = 'rgb(255, 86, 86)';\r\n            } else if (eng >= 200 && eng <= 255) {\r\n                color = 'rgb(255, 0, 0)';\r\n            }\r\n        } else {\r\n            color = 'rgb(130, 130, 130)';\r\n        }\r\n        return color;\r\n    }\r\n\r\n    /* 能量指示角度*/\r\n    static getEnergyOrientation(energy, northAng) {\r\n        /**add by gaochao start */\r\n        function outputMaxPrice(array) {\r\n           let item1 = Math.max.apply(Math, array);\r\n           let item2 = Math.min.apply(Math, array);\r\n           return item1 - item2;\r\n\t\t}\r\n        /**add by gaochao end*/\r\n        let maxVal = Number(energy[0]);\r\n        let maxIndex = 0;\r\n        /* 找到数组中的最大值 */\r\n        for (let i = 0; i < 4; i++) {\r\n            if (maxVal < Number(energy[i])) {\r\n                maxVal = Number(energy[i]);\r\n                maxIndex = i;\r\n            }\r\n        }\r\n        /* 确定最大值的个数*/\r\n        let maxEngArr = [];\r\n        for (let i = 0; i < 4; i++) {\r\n            if (maxVal == Number(energy[i])) {\r\n                maxEngArr.push(i);\r\n            }\r\n        }\r\n        let deg = 0;\r\n        let engSoundDeg = 0;\r\n        switch (maxEngArr.length) {\r\n            case 1:\r\n                /* 一个最大值*/\r\n                deg = Number(northAng) + 90 * maxIndex;\r\n                engSoundDeg = 90 * maxIndex;;\r\n                break;\r\n            case 2:\r\n                /* 两个最大值*/\r\n                if (maxEngArr[0] == 0 && maxEngArr[1] == 3) {\r\n                    deg = Number(northAng) + 90 * 3.5;\r\n                    engSoundDeg = 90 * 3.5;\r\n                } else if (maxEngArr[0] == 0 && maxEngArr[1] == 2) {\r\n                    deg = Number(northAng) + 90 * 0;\r\n                    engSoundDeg = 90 * 0;\r\n                } else if (maxEngArr[0] == 1 && maxEngArr[1] == 3) {\r\n                    deg = Number(northAng) + 90 * 3;\r\n                    engSoundDeg = 90 * 3;\r\n                } else {\r\n                    deg = Number(northAng) + 90 * (maxEngArr[1] - 0.5);\r\n                    engSoundDeg = 90 * (maxEngArr[1] - 0.5);\r\n                }\r\n                break;\r\n            case 3:\r\n                /* 三个最大值*/\r\n                if (maxEngArr[0] == 0 && maxEngArr[2] == 3) {\r\n                    deg = Number(northAng);\r\n                    engSoundDeg = 0;\r\n                } else if (maxEngArr[0] == 0 && maxEngArr[1] == 2) {\r\n                    deg = Number(northAng) + 90 * 3;\r\n                    engSoundDeg = 90 * 3;\r\n                } else {\r\n                    deg = Number(northAng) + 90 * (maxEngArr[1] - 0.5);\r\n                    engSoundDeg = 90 * (maxEngArr[1] - 0.5);\r\n                }\r\n                break;\r\n            case 4:\r\n                /* 四个最大值*/\r\n                deg = Number(northAng);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        /**add by gaochao start */\r\n        if(outputMaxPrice(energy) <= 10){\r\n            deg = 1000;\r\n        }\r\n        /**add by gaochao end*/\r\n        /* 语音播报\r\n        if (thisPageType == 'RTC' && soundPlay) {\r\n            for (let i = 0; i < audioPlayerCache.length; i++) {\r\n                if (audioPlayerCache[i].devCode == devCode && audioPlayerCache[i].isPlay) {\r\n                    if (!audioPlayerStatus) {\r\n                        audioPlayerStatus = true;\r\n                        if (maxEngArr == 4) {\r\n                            EnergySound.playSingleAudio(maxVal);\r\n                        } else {\r\n                            EnergySound.playCarAudio(engSoundDeg, maxVal);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }*/\r\n        return deg;\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Energy;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvZW5lcmd5L0VuZXJneS5qcz9iZmVmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQXNEOztBQUUvQzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixPQUFPO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixPQUFPO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixPQUFPO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLE9BQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsT0FBTztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNkJBQTZCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBLEMiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVuZXJneVNvdW5kIH0gZnJvbSAnLi4vc291bmQvRW5lcmd5U291bmQuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVuZXJneSB7XHJcblxyXG4gICAgLyog5piv5ZCm5pi+56S66IO96YePKi9cclxuICAgIHN0YXRpYyBnZXRFbmVyZ3lEaXNwbGF5KGhpdCkge1xyXG4gICAgICAgIGlmIChoaXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdibG9jayc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyog6IO96YeP5pyA5aSn5YC8Ki9cclxuICAgIHN0YXRpYyBnZXRFbmVyZ3lNYXhWYWx1ZShlbmVyZ3kpIHtcclxuICAgICAgICBsZXQgbWF4VmFsID0gTnVtYmVyKGVuZXJneVswXSk7XHJcbiAgICAgICAgbGV0IG1heEluZGV4ID0gMDtcclxuICAgICAgICAvKiDmib7liLDmlbDnu4TkuK3nmoTmnIDlpKflgLwgKi9cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAobWF4VmFsIDwgTnVtYmVyKGVuZXJneVtpXSkpIHtcclxuICAgICAgICAgICAgICAgIG1heFZhbCA9IE51bWJlcihlbmVyZ3lbaV0pO1xyXG4gICAgICAgICAgICAgICAgbWF4SW5kZXggPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBlbmcgPSBOdW1iZXIoZW5lcmd5W21heEluZGV4XSk7XHJcbiAgICAgICAgcmV0dXJuIGVuZztcclxuICAgIH1cclxuXHJcbiAgICAvKiDog73ph4/lm77moIcqL1xyXG4gICAgc3RhdGljIGdldEVuZXJneUltZyhlbmVyZ3kpIHtcclxuICAgICAgICBsZXQgbWF4VmFsID0gTnVtYmVyKGVuZXJneVswXSk7XHJcbiAgICAgICAgbGV0IG1heEluZGV4ID0gMDtcclxuICAgICAgICAvKiDmib7liLDmlbDnu4TkuK3nmoTmnIDlpKflgLwgKi9cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAobWF4VmFsIDwgTnVtYmVyKGVuZXJneVtpXSkpIHtcclxuICAgICAgICAgICAgICAgIG1heFZhbCA9IE51bWJlcihlbmVyZ3lbaV0pO1xyXG4gICAgICAgICAgICAgICAgbWF4SW5kZXggPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBlbmcgPSBOdW1iZXIoZW5lcmd5W21heEluZGV4XSk7XHJcbiAgICAgICAgbGV0IHNyYyA9ICcnO1xyXG4gICAgICAgIGlmIChlbmcgPj0gMCAmJiBlbmcgPD0gNDkpIHtcclxuICAgICAgICAgICAgc3JjID0gJ2NhckUtbGV2ZWwtMS5wbmcnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZW5nID49IDUwICYmIGVuZyA8IDEwMCkge1xyXG4gICAgICAgICAgICBzcmMgPSAnY2FyRS1sZXZlbC0yLnBuZyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbmcgPj0gMTAwICYmIGVuZyA8IDE1MCkge1xyXG4gICAgICAgICAgICBzcmMgPSAnY2FyRS1sZXZlbC0zLnBuZyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbmcgPj0gMTUwICYmIGVuZyA8IDIwMCkge1xyXG4gICAgICAgICAgICBzcmMgPSAnY2FyRS1sZXZlbC00LnBuZyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbmcgPj0gMjAwICYmIGVuZyA8PSAyNTUpIHtcclxuICAgICAgICAgICAgc3JjID0gJ2NhckUtbGV2ZWwtNS5wbmcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3JjO1xyXG4gICAgfVxyXG4vKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgLyog5pa55Z2X6IO96YeP5Zu+5qCHKi9cclxuICAgIHN0YXRpYyBnZXRFbmVyZ3lCbG9ja0ltZyhlbmVyZ3kpIHtcclxuICAgICAgICBsZXQgbWF4VmFsID0gTnVtYmVyKGVuZXJneVswXSk7XHJcbiAgICAgICAgbGV0IG1heEluZGV4ID0gMDtcclxuICAgICAgICAvKiDmib7liLDmlbDnu4TkuK3nmoTmnIDlpKflgLwgKi9cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAobWF4VmFsIDwgTnVtYmVyKGVuZXJneVtpXSkpIHtcclxuICAgICAgICAgICAgICAgIG1heFZhbCA9IE51bWJlcihlbmVyZ3lbaV0pO1xyXG4gICAgICAgICAgICAgICAgbWF4SW5kZXggPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBlbmcgPSBOdW1iZXIoZW5lcmd5W21heEluZGV4XSk7XHJcbiAgICAgICAgbGV0IHNyYyA9ICcnO1xyXG4gICAgICAgIGlmIChlbmcgPj0gMCAmJiBlbmcgPD0gNDkpIHtcclxuICAgICAgICAgICAgc3JjID0gJ2Nhci1sZXZlbC0xLnBuZyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbmcgPj0gNTAgJiYgZW5nIDwgMTAwKSB7XHJcbiAgICAgICAgICAgIHNyYyA9ICdjYXItbGV2ZWwtMi5wbmcnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZW5nID49IDEwMCAmJiBlbmcgPCAxNTApIHtcclxuICAgICAgICAgICAgc3JjID0gJ2Nhci1sZXZlbC0zLnBuZyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbmcgPj0gMTUwICYmIGVuZyA8IDIwMCkge1xyXG4gICAgICAgICAgICBzcmMgPSAnY2FyLWxldmVsLTQucG5nJztcclxuICAgICAgICB9IGVsc2UgaWYgKGVuZyA+PSAyMDAgJiYgZW5nIDw9IDI1NSkge1xyXG4gICAgICAgICAgICBzcmMgPSAnY2FyLWxldmVsLTUucG5nJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNyYztcclxuICAgIH1cclxuLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgIC8qIOiDvemHj+minOiJsiovXHJcbiAgICBzdGF0aWMgZ2V0RW5lcmd5Q29sb3IoZW5nLCBpc0hpdCkge1xyXG4gICAgICAgIGxldCBjb2xvciA9ICcnO1xyXG4gICAgICAgIGlmIChpc0hpdCkge1xyXG4gICAgICAgICAgICBpZiAoZW5nID49IDAgJiYgZW5nIDw9IDQ5KSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9ICdyZ2IoMjU1LCAyMDMsIDIwMyknO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVuZyA+PSA1MCAmJiBlbmcgPD0gOTkpIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yID0gJ3JnYigyNTUsIDE3NiwgMTc2KSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5nID49IDEwMCAmJiBlbmcgPD0gMTQ5KSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9ICdyZ2IoMjU1LCAxMjcsIDEyNyknO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVuZyA+PSAxNTAgJiYgZW5nIDw9IDE5OSkge1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSAncmdiKDI1NSwgODYsIDg2KSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5nID49IDIwMCAmJiBlbmcgPD0gMjU1KSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9ICdyZ2IoMjU1LCAwLCAwKSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb2xvciA9ICdyZ2IoMTMwLCAxMzAsIDEzMCknO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgLyog6IO96YeP5oyH56S66KeS5bqmKi9cclxuICAgIHN0YXRpYyBnZXRFbmVyZ3lPcmllbnRhdGlvbihlbmVyZ3ksIG5vcnRoQW5nKSB7XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICBmdW5jdGlvbiBvdXRwdXRNYXhQcmljZShhcnJheSkge1xyXG4gICAgICAgICAgIGxldCBpdGVtMSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIGFycmF5KTtcclxuICAgICAgICAgICBsZXQgaXRlbTIgPSBNYXRoLm1pbi5hcHBseShNYXRoLCBhcnJheSk7XHJcbiAgICAgICAgICAgcmV0dXJuIGl0ZW0xIC0gaXRlbTI7XHJcblx0XHR9XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICBsZXQgbWF4VmFsID0gTnVtYmVyKGVuZXJneVswXSk7XHJcbiAgICAgICAgbGV0IG1heEluZGV4ID0gMDtcclxuICAgICAgICAvKiDmib7liLDmlbDnu4TkuK3nmoTmnIDlpKflgLwgKi9cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAobWF4VmFsIDwgTnVtYmVyKGVuZXJneVtpXSkpIHtcclxuICAgICAgICAgICAgICAgIG1heFZhbCA9IE51bWJlcihlbmVyZ3lbaV0pO1xyXG4gICAgICAgICAgICAgICAgbWF4SW5kZXggPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIOehruWumuacgOWkp+WAvOeahOS4quaVsCovXHJcbiAgICAgICAgbGV0IG1heEVuZ0FyciA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChtYXhWYWwgPT0gTnVtYmVyKGVuZXJneVtpXSkpIHtcclxuICAgICAgICAgICAgICAgIG1heEVuZ0Fyci5wdXNoKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBkZWcgPSAwO1xyXG4gICAgICAgIGxldCBlbmdTb3VuZERlZyA9IDA7XHJcbiAgICAgICAgc3dpdGNoIChtYXhFbmdBcnIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIC8qIOS4gOS4quacgOWkp+WAvCovXHJcbiAgICAgICAgICAgICAgICBkZWcgPSBOdW1iZXIobm9ydGhBbmcpICsgOTAgKiBtYXhJbmRleDtcclxuICAgICAgICAgICAgICAgIGVuZ1NvdW5kRGVnID0gOTAgKiBtYXhJbmRleDs7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgLyog5Lik5Liq5pyA5aSn5YC8Ki9cclxuICAgICAgICAgICAgICAgIGlmIChtYXhFbmdBcnJbMF0gPT0gMCAmJiBtYXhFbmdBcnJbMV0gPT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZyA9IE51bWJlcihub3J0aEFuZykgKyA5MCAqIDMuNTtcclxuICAgICAgICAgICAgICAgICAgICBlbmdTb3VuZERlZyA9IDkwICogMy41O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXhFbmdBcnJbMF0gPT0gMCAmJiBtYXhFbmdBcnJbMV0gPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZyA9IE51bWJlcihub3J0aEFuZykgKyA5MCAqIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5nU291bmREZWcgPSA5MCAqIDA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1heEVuZ0FyclswXSA9PSAxICYmIG1heEVuZ0FyclsxXSA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVnID0gTnVtYmVyKG5vcnRoQW5nKSArIDkwICogMztcclxuICAgICAgICAgICAgICAgICAgICBlbmdTb3VuZERlZyA9IDkwICogMztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVnID0gTnVtYmVyKG5vcnRoQW5nKSArIDkwICogKG1heEVuZ0FyclsxXSAtIDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5nU291bmREZWcgPSA5MCAqIChtYXhFbmdBcnJbMV0gLSAwLjUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIC8qIOS4ieS4quacgOWkp+WAvCovXHJcbiAgICAgICAgICAgICAgICBpZiAobWF4RW5nQXJyWzBdID09IDAgJiYgbWF4RW5nQXJyWzJdID09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWcgPSBOdW1iZXIobm9ydGhBbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZ1NvdW5kRGVnID0gMDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF4RW5nQXJyWzBdID09IDAgJiYgbWF4RW5nQXJyWzFdID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWcgPSBOdW1iZXIobm9ydGhBbmcpICsgOTAgKiAzO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZ1NvdW5kRGVnID0gOTAgKiAzO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWcgPSBOdW1iZXIobm9ydGhBbmcpICsgOTAgKiAobWF4RW5nQXJyWzFdIC0gMC41KTtcclxuICAgICAgICAgICAgICAgICAgICBlbmdTb3VuZERlZyA9IDkwICogKG1heEVuZ0FyclsxXSAtIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgLyog5Zub5Liq5pyA5aSn5YC8Ki9cclxuICAgICAgICAgICAgICAgIGRlZyA9IE51bWJlcihub3J0aEFuZyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgIGlmKG91dHB1dE1heFByaWNlKGVuZXJneSkgPD0gMTApe1xyXG4gICAgICAgICAgICBkZWcgPSAxMDAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQqL1xyXG4gICAgICAgIC8qIOivremfs+aSreaKpVxyXG4gICAgICAgIGlmICh0aGlzUGFnZVR5cGUgPT0gJ1JUQycgJiYgc291bmRQbGF5KSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXVkaW9QbGF5ZXJDYWNoZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvUGxheWVyQ2FjaGVbaV0uZGV2Q29kZSA9PSBkZXZDb2RlICYmIGF1ZGlvUGxheWVyQ2FjaGVbaV0uaXNQbGF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhdWRpb1BsYXllclN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpb1BsYXllclN0YXR1cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXhFbmdBcnIgPT0gNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5lcmd5U291bmQucGxheVNpbmdsZUF1ZGlvKG1heFZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmVyZ3lTb3VuZC5wbGF5Q2FyQXVkaW8oZW5nU291bmREZWcsIG1heFZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9Ki9cclxuICAgICAgICByZXR1cm4gZGVnO1xyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L2VuZXJneS9FbmVyZ3kuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("let map = null;\r\nlet BMapExt;\r\nlet mapNavigation;\r\n\r\nclass BaiduMapInit {\r\n\r\n    /*初始化地图*/\r\n    static initMap() {\r\n        /* 创建map实例*/\r\n        this.map = new BMap.Map('allmap', { enableMapClick: false }); // 禁用显示标注详细信息\r\n        /* 通过当前IP设置地图中心与显示级别*/\r\n        this.map.centerAndZoom(new BMap.Point(114.2814580000, 30.5249590000), 6);\r\n        new BMap.LocalCity().get((result) => {\r\n            this.map.setCenter(result.name);\r\n        });\r\n        /* 添加地图类型控件*/\r\n        this.map.addControl(new BMap.MapTypeControl({ mapTypes: [BMAP_NORMAL_MAP, BMAP_SATELLITE_MAP, BMAP_HYBRID_MAP] }));\r\n        /* 开启鼠标滚轮缩放*/\r\n        this.map.enableScrollWheelZoom(true);\r\n        /* 禁止双击放大*/\r\n        this.map.disableDoubleClickZoom();\r\n        /* 开启键盘控制功能*/\r\n        this.map.enableKeyboard();\r\n        /* zoom缩小，触发显示点聚合*/\r\n        this.map.setZoom(12);\r\n        /* 地图缩放与移动控件*/\r\n        this.mapNavigation = new BMap.NavigationControl({ offset: new BMap.Size(235, 5) });\r\n        this.map.addControl(this.mapNavigation);\r\n        return this.map;\r\n    }\r\n\r\n    static getBaiduMap() {\r\n        return this.map;\r\n    }\r\n\r\n    static getBMapExt() {\r\n        return this.BMapExt;\r\n    }\r\n\r\n    static getBaiduMapNavigation() {\r\n        return this.mapNavigation;\r\n    }\r\n\r\n    /* 放大与缩小事件*/\r\n    static addMapZoom() {\r\n        map.setZoom(map.getZoom() + 1);\r\n    }\r\n    static narrowMapZoom() {\r\n        map.setZoom(map.getZoom() - 1);\r\n    }\r\n\r\n\r\n}\n/* unused harmony export BaiduMapInit */\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRTovQ0JDUC93b3Jrc3BhY2UvQ0JDUC9zcmMvbWFpbi93ZWJhcHAvanMvc3JjL2FwcC9jb21tb24vYmFpZHVNYXAvSW5pdC5CYWlkdU1hcC5qcz9mNzU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsd0JBQXdCLEVBQUU7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxxREFBcUQsbUVBQW1FO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxnQ0FBZ0M7QUFDekY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxDIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgbWFwID0gbnVsbDtcclxubGV0IEJNYXBFeHQ7XHJcbmxldCBtYXBOYXZpZ2F0aW9uO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhaWR1TWFwSW5pdCB7XHJcblxyXG4gICAgLyrliJ3lp4vljJblnLDlm74qL1xyXG4gICAgc3RhdGljIGluaXRNYXAoKSB7XHJcbiAgICAgICAgLyog5Yib5bu6bWFw5a6e5L6LKi9cclxuICAgICAgICB0aGlzLm1hcCA9IG5ldyBCTWFwLk1hcCgnYWxsbWFwJywgeyBlbmFibGVNYXBDbGljazogZmFsc2UgfSk7IC8vIOemgeeUqOaYvuekuuagh+azqOivpue7huS/oeaBr1xyXG4gICAgICAgIC8qIOmAmui/h+W9k+WJjUlQ6K6+572u5Zyw5Zu+5Lit5b+D5LiO5pi+56S657qn5YirKi9cclxuICAgICAgICB0aGlzLm1hcC5jZW50ZXJBbmRab29tKG5ldyBCTWFwLlBvaW50KDExNC4yODE0NTgwMDAwLCAzMC41MjQ5NTkwMDAwKSwgNik7XHJcbiAgICAgICAgbmV3IEJNYXAuTG9jYWxDaXR5KCkuZ2V0KChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0Q2VudGVyKHJlc3VsdC5uYW1lKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKiDmt7vliqDlnLDlm77nsbvlnovmjqfku7YqL1xyXG4gICAgICAgIHRoaXMubWFwLmFkZENvbnRyb2wobmV3IEJNYXAuTWFwVHlwZUNvbnRyb2woeyBtYXBUeXBlczogW0JNQVBfTk9STUFMX01BUCwgQk1BUF9TQVRFTExJVEVfTUFQLCBCTUFQX0hZQlJJRF9NQVBdIH0pKTtcclxuICAgICAgICAvKiDlvIDlkK/pvKDmoIfmu5rova7nvKnmlL4qL1xyXG4gICAgICAgIHRoaXMubWFwLmVuYWJsZVNjcm9sbFdoZWVsWm9vbSh0cnVlKTtcclxuICAgICAgICAvKiDnpoHmraLlj4zlh7vmlL7lpKcqL1xyXG4gICAgICAgIHRoaXMubWFwLmRpc2FibGVEb3VibGVDbGlja1pvb20oKTtcclxuICAgICAgICAvKiDlvIDlkK/plK7nm5jmjqfliLblip/og70qL1xyXG4gICAgICAgIHRoaXMubWFwLmVuYWJsZUtleWJvYXJkKCk7XHJcbiAgICAgICAgLyogem9vbee8qeWwj++8jOinpuWPkeaYvuekuueCueiBmuWQiCovXHJcbiAgICAgICAgdGhpcy5tYXAuc2V0Wm9vbSgxMik7XHJcbiAgICAgICAgLyog5Zyw5Zu+57yp5pS+5LiO56e75Yqo5o6n5Lu2Ki9cclxuICAgICAgICB0aGlzLm1hcE5hdmlnYXRpb24gPSBuZXcgQk1hcC5OYXZpZ2F0aW9uQ29udHJvbCh7IG9mZnNldDogbmV3IEJNYXAuU2l6ZSgyMzUsIDUpIH0pO1xyXG4gICAgICAgIHRoaXMubWFwLmFkZENvbnRyb2wodGhpcy5tYXBOYXZpZ2F0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEJhaWR1TWFwKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hcDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0Qk1hcEV4dCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5CTWFwRXh0O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRCYWlkdU1hcE5hdmlnYXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwTmF2aWdhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKiDmlL7lpKfkuI7nvKnlsI/kuovku7YqL1xyXG4gICAgc3RhdGljIGFkZE1hcFpvb20oKSB7XHJcbiAgICAgICAgbWFwLnNldFpvb20obWFwLmdldFpvb20oKSArIDEpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIG5hcnJvd01hcFpvb20oKSB7XHJcbiAgICAgICAgbWFwLnNldFpvb20obWFwLmdldFpvb20oKSAtIDEpO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBFOi9DQkNQL3dvcmtzcGFjZS9DQkNQL3NyYy9tYWluL3dlYmFwcC9qcy9zcmMvYXBwL2NvbW1vbi9iYWlkdU1hcC9Jbml0LkJhaWR1TWFwLmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class BtsValue {\r\n\r\n    static btsNameIcon(mnc) {\r\n        let value;\r\n        switch (mnc) {\r\n            case '0':\r\n                value = 'Chinamobile';\r\n                break;\r\n            case '00':\r\n                value = 'Chinamobile';\r\n                break;\r\n            case '1':\r\n                value = 'Chinauni';\r\n                break;\r\n            case '01':\r\n                value = 'Chinauni';\r\n                break;\r\n            case '3':\r\n                value = 'Chinatelecom';\r\n                break;\r\n            case '03':\r\n                value = 'Chinatelecom';\r\n                break;\r\n            case '2':\r\n                value = 'Chinamobile';\r\n                break;\r\n            case '02':\r\n                value = 'Chinamobile';\r\n                break;\r\n            case '5':\r\n                value = 'Chinatelecom';\r\n                break;\r\n            case '05':\r\n                value = 'Chinatelecom';\r\n                break;\r\n            case '6':\r\n                value = 'Chinauni';\r\n                break;\r\n            case '06':\r\n                value = 'Chinauni';\r\n                break;\r\n            case '7':\r\n                value = 'Chinamobile';\r\n                break;\r\n            case '07':\r\n                value = 'Chinamobile';\r\n                break;\r\n            case '11':\r\n                value = 'Chinatelecom';\r\n                break;\r\n            case '17':\r\n                value = 'Chinatelecom';\r\n                break;\r\n            case '20':\r\n                value = 'Chinamobile';\r\n                break;\r\n            case '32':\r\n                value = 'Chinamobile';\r\n                break;\r\n            default:\r\n                value = 'null';\r\n                break;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    static btsName(mnc) {\r\n        let value;\r\n        switch (mnc) {\r\n            case '0':\r\n                value = '中国移动';\r\n                break;\r\n            case '00':\r\n                value = '中国移动';\r\n                break;\r\n            case '1':\r\n                value = '中国联通';\r\n                break;\r\n            case '01':\r\n                value = '中国联通';\r\n                break;\r\n            case '3':\r\n                value = '中国电信';\r\n                break;\r\n            case '03':\r\n                value = '中国电信';\r\n                break;\r\n            case '2':\r\n                value = '中国移动';\r\n                break;\r\n            case '02':\r\n                value = '中国移动';\r\n                break;\r\n            case '5':\r\n                value = '中国电信';\r\n                break;\r\n            case '05':\r\n                value = '中国电信';\r\n                break;\r\n            case '6':\r\n                value = '中国联通';\r\n                break;\r\n            case '06':\r\n                value = '中国联通';\r\n                break;\r\n            case '7':\r\n                value = '中国移动';\r\n                break;\r\n            case '07':\r\n                value = '中国移动';\r\n                break;\r\n            case '11':\r\n                value = '中国电信';\r\n                break;\r\n            case '17':\r\n                value = '中国电信';\r\n                break;\r\n            case '20':\r\n                value = '中国移动';\r\n                break;\r\n            case '32':\r\n                value = '中国移动';\r\n                break;\r\n            default:\r\n                value = 'null';\r\n                break;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    static btsTag(mode, mcc, mnc, lacTac, sid, nid, bid, cellId) {\r\n        if (mode == 'cdma') {\r\n            return `${mcc}-${mnc}-${sid}-${nid}-${bid}`;\r\n            // return mcc + '-' + mnc + '-' + sid + '-' + nid + '-' + bid;\r\n        } else {\r\n            return `${mcc}-${mnc}-${lacTac}-${cellId}`;\r\n            // return mcc + '-' + mnc + '-' + lacTac + '-' + cellId;\r\n        }\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = BtsValue;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvYnRzL0J0c1ZhbHVlLmpzP2NlNWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJO0FBQ3REO0FBQ0EsU0FBUztBQUNULHNCQUFzQixJQUFJLEdBQUcsSUFBSSxHQUFHLE9BQU8sR0FBRyxPQUFPO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQSxDIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQnRzVmFsdWUge1xyXG5cclxuICAgIHN0YXRpYyBidHNOYW1lSWNvbihtbmMpIHtcclxuICAgICAgICBsZXQgdmFsdWU7XHJcbiAgICAgICAgc3dpdGNoIChtbmMpIHtcclxuICAgICAgICAgICAgY2FzZSAnMCc6XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICdDaGluYW1vYmlsZSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnMDAnOlxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAnQ2hpbmFtb2JpbGUnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJzEnOlxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAnQ2hpbmF1bmknO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJzAxJzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gJ0NoaW5hdW5pJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICczJzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gJ0NoaW5hdGVsZWNvbSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnMDMnOlxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAnQ2hpbmF0ZWxlY29tJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICcyJzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gJ0NoaW5hbW9iaWxlJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICcwMic6XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICdDaGluYW1vYmlsZSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnNSc6XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICdDaGluYXRlbGVjb20nO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJzA1JzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gJ0NoaW5hdGVsZWNvbSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnNic6XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICdDaGluYXVuaSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnMDYnOlxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAnQ2hpbmF1bmknO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJzcnOlxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAnQ2hpbmFtb2JpbGUnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJzA3JzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gJ0NoaW5hbW9iaWxlJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICcxMSc6XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICdDaGluYXRlbGVjb20nO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJzE3JzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gJ0NoaW5hdGVsZWNvbSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnMjAnOlxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAnQ2hpbmFtb2JpbGUnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJzMyJzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gJ0NoaW5hbW9iaWxlJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAnbnVsbCc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBidHNOYW1lKG1uYykge1xyXG4gICAgICAgIGxldCB2YWx1ZTtcclxuICAgICAgICBzd2l0Y2ggKG1uYykge1xyXG4gICAgICAgICAgICBjYXNlICcwJzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gJ+S4reWbveenu+WKqCc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnMDAnOlxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAn5Lit5Zu956e75YqoJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICcxJzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gJ+S4reWbveiBlOmAmic7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnMDEnOlxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAn5Lit5Zu96IGU6YCaJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICczJzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gJ+S4reWbveeUteS/oSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnMDMnOlxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAn5Lit5Zu955S15L+hJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICcyJzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gJ+S4reWbveenu+WKqCc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnMDInOlxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAn5Lit5Zu956e75YqoJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICc1JzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gJ+S4reWbveeUteS/oSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnMDUnOlxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAn5Lit5Zu955S15L+hJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICc2JzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gJ+S4reWbveiBlOmAmic7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnMDYnOlxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAn5Lit5Zu96IGU6YCaJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICc3JzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gJ+S4reWbveenu+WKqCc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnMDcnOlxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAn5Lit5Zu956e75YqoJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICcxMSc6XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICfkuK3lm73nlLXkv6EnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJzE3JzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gJ+S4reWbveeUteS/oSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnMjAnOlxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAn5Lit5Zu956e75YqoJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICczMic6XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICfkuK3lm73np7vliqgnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICdudWxsJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGJ0c1RhZyhtb2RlLCBtY2MsIG1uYywgbGFjVGFjLCBzaWQsIG5pZCwgYmlkLCBjZWxsSWQpIHtcclxuICAgICAgICBpZiAobW9kZSA9PSAnY2RtYScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke21jY30tJHttbmN9LSR7c2lkfS0ke25pZH0tJHtiaWR9YDtcclxuICAgICAgICAgICAgLy8gcmV0dXJuIG1jYyArICctJyArIG1uYyArICctJyArIHNpZCArICctJyArIG5pZCArICctJyArIGJpZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7bWNjfS0ke21uY30tJHtsYWNUYWN9LSR7Y2VsbElkfWA7XHJcbiAgICAgICAgICAgIC8vIHJldHVybiBtY2MgKyAnLScgKyBtbmMgKyAnLScgKyBsYWNUYWMgKyAnLScgKyBjZWxsSWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L2J0cy9CdHNWYWx1ZS5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__BtsDivOverlayConstructor_js__ = __webpack_require__(13);\n\r\n\r\nclass DrawBtsOverlay {\r\n\r\n    static drawBts(btsInfo) {\r\n        /* 绘制所有设备 */\r\n        //console.log(btsInfo)\r\n      \r\n        for (let i = 0; i < btsInfo.length; i++) {\r\n            /* 获取基站ID */\r\n            let btsId = btsInfo[i].btsInfo.btsId;\r\n            /* 获取设备坐标 */\r\n            let lng = btsInfo[i].btsInfo.lng; // 114\r\n            let lat = btsInfo[i].btsInfo.lat; // 30\r\n            let baiduPoint = new BMap.Point(lng, lat); // 百度地图坐标 \r\n            /* 绘制基站 */\r\n            /**edti by gaochao start */\r\n            let cover = new __WEBPACK_IMPORTED_MODULE_0__BtsDivOverlayConstructor_js__[\"a\" /* BtsDivOverlayConstructor */](baiduPoint, btsInfo[i].btsInfo.mcc, btsInfo[i].btsInfo.mnc, btsInfo[i].btsInfo.mode, btsInfo[i].btsInfo.sid, btsInfo[i].btsInfo.nid, btsInfo[i].btsInfo.bid, btsInfo[i].btsInfo.lacTac, btsInfo[i].btsInfo.radius, btsInfo[i].btsInfo.cellId, btsId, btsInfo[i].btsInfo.hitTimes,btsInfo.dlHitTimes,btsInfo[i].btsInfo.credibility);\r\n            /**edit by gaochao end */\r\n            map.addOverlay(cover);\r\n            /* 是否显示基站 */\r\n            if (isBtsOpen) {\r\n                cover.show();\r\n            } else {\r\n                cover.hide();\r\n            }\r\n            /* 存储绘制结果*/\r\n            let btsDiv = function () {\r\n                this.btsCover;\r\n                this.btsRadius;\r\n            }\r\n            btsDiv.btsCover = cover;\r\n            btsDivMap.set(btsId, btsDiv);\r\n            \r\n        }\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = DrawBtsOverlay;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3QnRzT3ZlcmxheS5qcz9kY2E0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQXlFOztBQUVsRTs7QUFFUDtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLG9CQUFvQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0MsNkNBQTZDO0FBQzdDLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0EsNEJBQTRCLDhGQUF3QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEMiLCJmaWxlIjoiNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ0c0Rpdk92ZXJsYXlDb25zdHJ1Y3RvciB9IGZyb20gJy4vQnRzRGl2T3ZlcmxheUNvbnN0cnVjdG9yLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBEcmF3QnRzT3ZlcmxheSB7XHJcblxyXG4gICAgc3RhdGljIGRyYXdCdHMoYnRzSW5mbykge1xyXG4gICAgICAgIC8qIOe7mOWItuaJgOacieiuvuWkhyAqL1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coYnRzSW5mbylcclxuICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidHNJbmZvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8qIOiOt+WPluWfuuermUlEICovXHJcbiAgICAgICAgICAgIGxldCBidHNJZCA9IGJ0c0luZm9baV0uYnRzSW5mby5idHNJZDtcclxuICAgICAgICAgICAgLyog6I635Y+W6K6+5aSH5Z2Q5qCHICovXHJcbiAgICAgICAgICAgIGxldCBsbmcgPSBidHNJbmZvW2ldLmJ0c0luZm8ubG5nOyAvLyAxMTRcclxuICAgICAgICAgICAgbGV0IGxhdCA9IGJ0c0luZm9baV0uYnRzSW5mby5sYXQ7IC8vIDMwXHJcbiAgICAgICAgICAgIGxldCBiYWlkdVBvaW50ID0gbmV3IEJNYXAuUG9pbnQobG5nLCBsYXQpOyAvLyDnmb7luqblnLDlm77lnZDmoIcgXHJcbiAgICAgICAgICAgIC8qIOe7mOWItuWfuuermSAqL1xyXG4gICAgICAgICAgICAvKiplZHRpIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgbGV0IGNvdmVyID0gbmV3IEJ0c0Rpdk92ZXJsYXlDb25zdHJ1Y3RvcihiYWlkdVBvaW50LCBidHNJbmZvW2ldLmJ0c0luZm8ubWNjLCBidHNJbmZvW2ldLmJ0c0luZm8ubW5jLCBidHNJbmZvW2ldLmJ0c0luZm8ubW9kZSwgYnRzSW5mb1tpXS5idHNJbmZvLnNpZCwgYnRzSW5mb1tpXS5idHNJbmZvLm5pZCwgYnRzSW5mb1tpXS5idHNJbmZvLmJpZCwgYnRzSW5mb1tpXS5idHNJbmZvLmxhY1RhYywgYnRzSW5mb1tpXS5idHNJbmZvLnJhZGl1cywgYnRzSW5mb1tpXS5idHNJbmZvLmNlbGxJZCwgYnRzSWQsIGJ0c0luZm9baV0uYnRzSW5mby5oaXRUaW1lcyxidHNJbmZvLmRsSGl0VGltZXMsYnRzSW5mb1tpXS5idHNJbmZvLmNyZWRpYmlsaXR5KTtcclxuICAgICAgICAgICAgLyoqZWRpdCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICBtYXAuYWRkT3ZlcmxheShjb3Zlcik7XHJcbiAgICAgICAgICAgIC8qIOaYr+WQpuaYvuekuuWfuuermSAqL1xyXG4gICAgICAgICAgICBpZiAoaXNCdHNPcGVuKSB7XHJcbiAgICAgICAgICAgICAgICBjb3Zlci5zaG93KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb3Zlci5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyog5a2Y5YKo57uY5Yi257uT5p6cKi9cclxuICAgICAgICAgICAgbGV0IGJ0c0RpdiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnRzQ292ZXI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0c1JhZGl1cztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBidHNEaXYuYnRzQ292ZXIgPSBjb3ZlcjtcclxuICAgICAgICAgICAgYnRzRGl2TWFwLnNldChidHNJZCwgYnRzRGl2KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L292ZXJsYXkvRHJhd0J0c092ZXJsYXkuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__overlay_DrawMultiBtsOverlay_js__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__overlay_DrawMultiBtsAnalysis_js__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__overlay_DrawBtsPreLockOverlay_js__ = __webpack_require__(25);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * 复合基站解析处理\r\n * 1.将Map结构的基站数据整理成List结构，根据基站ID排重\r\n * 2.根据基站ID+基站GPS判断基站是否需要绘制在地图上\r\n */\r\nclass ParsingMultiBtsInfo {\r\n\r\n    static parsingBtsInfosMap(devBtsInfosMap) {\r\n        /* 命中次数清理 */\r\n        $('.bts-hit-count').html(\"\");\r\n        /* 绘制基站 */\r\n        for (let key in devBtsInfosMap) {\r\n            ParsingMultiBtsInfo.prasingBtsInfo(devBtsInfosMap[key]);\r\n        }\r\n\r\n        let btsHitInfoMap = new Map();\r\n        //统计所有设备命中信息集合hitTimes累加\r\n        for (let key in devBtsInfosMap) {\r\n            let btsBaseInfo = [];\r\n            let devBtsInfos = devBtsInfosMap[key];\r\n            let btsInfos = devBtsInfos.btsInfos;\r\n            for (let key in btsInfos) {\r\n                btsBaseInfo.push({ btsId: key, btsInfo: JSON.parse(JSON.stringify(btsInfos[key])) });\r\n            }\r\n            for (let i = 0; i < btsBaseInfo.length; i++) {\r\n                //let btsId = BtsValue.btsTag(btsBaseInfo[i].btsInfo.mode, btsBaseInfo[i].btsInfo.mcc, btsBaseInfo[i].btsInfo.mnc, btsBaseInfo[i].btsInfo.lacTac, btsBaseInfo[i].btsInfo.sid, btsBaseInfo[i].btsInfo.nid, btsBaseInfo[i].btsInfo.bid, btsBaseInfo[i].btsInfo.cellId);\r\n                //btsBaseInfo[i].btsId = btsId;\r\n                let btsId = btsBaseInfo[i].btsId;\r\n                if (btsBaseInfo[i].btsInfo.hitTimes > 0 || btsBaseInfo[i].btsInfo.dlHitTimes > 0) {\r\n                    if (btsHitInfoMap.get(btsId) == null) {\r\n                        btsHitInfoMap.set(btsId, JSON.parse(JSON.stringify(btsBaseInfo[i].btsInfo)));\r\n                    } else {\r\n                        let btsHitInfo = JSON.parse(JSON.stringify(btsHitInfoMap.get(btsId)));\r\n                        btsHitInfo.hitTimes = btsHitInfo.hitTimes + btsBaseInfo[i].btsInfo.hitTimes;\r\n                        btsHitInfo.dlHitTimes = btsHitInfo.dlHitTimes + btsBaseInfo[i].btsInfo.dlHitTimes;\r\n                        btsHitInfoMap.set(btsId, btsHitInfo);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        /* 绘制命中信息 */\r\n        if (btsHitInfoMap.size > 0) {\r\n            for (let key of btsHitInfoMap.keys()) {\r\n                let btsHitInfo = btsHitInfoMap.get(key);\r\n                let btsInfo = btsInfoMap.get(key);\r\n                let multiBtsInfo = multiBtsInfoMap.get(key);\r\n                if (btsInfo != null) {\r\n                    if (multiBtsInfo != null && multiBtsInfo.type == 1) {\r\n                        //单基站\r\n                        $(`.bts-img-${key}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.bts-click-${key}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.bts-img-${key}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.bts-click-${key}`).css('z-index', 6000); // z轴置顶\r\n                        $(`.bts-hit-count-${key}`).html(btsHitInfo.hitTimes + \"/\" + btsHitInfo.dlHitTimes);\r\n                        $(`.bts-hit-count-shadow-${key}`).css('display', 'block');\r\n                        $(`.bts-img-${key}`).attr('src', `img/btsicon/btsiconhit-${btsInfo.mode}.png`);\r\n                    } else if (multiBtsInfo != null && multiBtsInfo.type == 2) {\r\n                        //复合基站\r\n                        $(`.multi-bts-img-${key}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.multi-bts-click-${key}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.multi-bts-img-${key}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.multi-bts-click-${key}`).css('z-index', 6000); // z轴置顶\r\n                        // $(`.multi-bts-hit-count-${key}`).html(btsHitInfo.hitTimes+\"/\"+btsHitInfo.dlHitTimes);\r\n                        $(`.multi-bts-img-${key}`).attr('src', `img/multibtsicon/btsiconhit-${btsInfo.mode}.png`);\r\n                        //子图标添加样式\r\n                        $(`.bts-img-${key}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.multi-sub-bts-click-${key}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.bts-img-${key}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.multi-sub-bts-click-${key}`).css('z-index', 6000); // z轴置顶\r\n                        $(`.multi-sub-bts-hit-count-${key}`).html(btsHitInfo.hitTimes + \"/\" + btsHitInfo.dlHitTimes);\r\n                        $(`.multi-sub-bts-hit-count-shadow-${key}`).css('display', 'block');\r\n                        $(`.bts-img-${key}`).attr('src', `img/btsicon/btsiconhit-${btsInfo.mode}.png`);\r\n\r\n                    } else if (multiBtsInfo == null) {\r\n                        let parentBtsId = btsInfo.parentBtsId;\r\n                        $(`.multi-bts-img-${parentBtsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.multi-bts-click-${parentBtsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.multi-bts-img-${parentBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.multi-bts-click-${parentBtsId}`).css('z-index', 6000); // z轴置顶\r\n                        // $(`.multi-bts-hit-count-${parentBtsId}`).html(btsHitInfo.hitTimes+\"/\"+btsHitInfo.dlHitTimes);\r\n                        $(`.multi-bts-img-${parentBtsId}`).attr('src', `img/multibtsicon/btsiconhit-${btsInfo.mode}.png`);\r\n                        //子图标添加样式\r\n                        $(`.bts-img-${key}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.multi-sub-bts-click-${key}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.bts-img-${key}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.multi-sub-bts-click-${key}`).css('z-index', 6000); // z轴置顶\r\n                        $(`.multi-sub-bts-hit-count-${key}`).html(btsHitInfo.hitTimes + \"/\" + btsHitInfo.dlHitTimes);\r\n                        $(`.multi-sub-bts-hit-count-shadow-${key}`).css('display', 'block');\r\n                        $(`.bts-img-${key}`).attr('src', `img/btsicon/btsiconhit-${btsInfo.mode}.png`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    static prasingBtsInfo(devBtsInfos) {\r\n        let btsBaseInfo = [];\r\n        let btsInfos = devBtsInfos.btsInfos;\r\n        for (let key in btsInfos) {\r\n            //添加基站属性type=1表示普通基站type=2表示复合基站 child表示子基站集合\r\n            btsInfos[key]['type'] = 1;\r\n            btsInfos[key]['child'] = [];\r\n            //基站颜色状态 5红(带特效) 4红 3粉红 2黄 1蓝 0灰\r\n            btsInfos[key]['color'] = 0;\r\n            //父基站ID\r\n            btsInfos[key]['parentBtsId'] = '';\r\n            /** add by sunbing start */\r\n            //基站解析来源（复合基站使用）默认：0 预锁基站：1 命中基站：2 \r\n            btsInfos[key]['analysisSrc'] = 0;\r\n            //基站解析权值\r\n            btsInfos[key]['analysisValue'] = 0;\r\n            /** add by sunbing end */\r\n            btsBaseInfo.push({ btsId: key, btsInfo: btsInfos[key] });\r\n        }\r\n        ParsingMultiBtsInfo.drawBtsList(btsBaseInfo);\r\n        //统计未在地图上绘制的基站集合\r\n        let unExistBts = [];\r\n        for (let i = 0; i < btsBaseInfo.length; i++) {\r\n            let btsId = __WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsTag(btsBaseInfo[i].btsInfo.mode, btsBaseInfo[i].btsInfo.mcc, btsBaseInfo[i].btsInfo.mnc, btsBaseInfo[i].btsInfo.lacTac, btsBaseInfo[i].btsInfo.sid, btsBaseInfo[i].btsInfo.nid, btsBaseInfo[i].btsInfo.bid, btsBaseInfo[i].btsInfo.cellId);\r\n            btsBaseInfo[i].btsId = btsId;\r\n            if (btsInfoMap.get(btsId) == null) {\r\n                //检查基站属性是否包含GPS信息\r\n                let lng = btsBaseInfo[i].btsInfo.lng;\r\n                let lat = btsBaseInfo[i].btsInfo.lat;\r\n                if (lng && lng != '' && typeof (lng) != undefined && lat && lat != '' && typeof (lat) != undefined) {\r\n                    unExistBts.push(btsBaseInfo[i]);\r\n                }\r\n            }\r\n        }\r\n        this.handleBtsToDraw(unExistBts);\r\n    }\r\n\r\n    /**\r\n     * 1.将基站原始坐标转换成百度坐标\r\n     * 2.根据基站距离生成复合基站\r\n     * 3.调用绘制基站方法\r\n     */\r\n    static handleBtsToDraw(srcBtsInfoMap) {\r\n        ParsingMultiBtsInfo.drawBtsList(srcBtsInfoMap);\r\n        if (srcBtsInfoMap.length > 0) {\r\n            //坐标转换\r\n            let pointArray = [];\r\n            for (let i = 0; i < srcBtsInfoMap.length; i++) {\r\n                let lng = srcBtsInfoMap[i].btsInfo.lng;\r\n                let lat = srcBtsInfoMap[i].btsInfo.lat;\r\n                let point = [lng, lat];\r\n                pointArray.push(point);\r\n            }\r\n            let btsBdPoints = __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation(pointArray);\r\n            for (let i = 0; i < btsBdPoints.length; i++) {\r\n                srcBtsInfoMap[i].btsInfo.lng = btsBdPoints[i].lng;\r\n                srcBtsInfoMap[i].btsInfo.lat = btsBdPoints[i].lat;\r\n                /* 保存至map*/\r\n                //srcBtsInfoMap[i].btsInfo.btsId = srcBtsInfoMap[i].btsId;\r\n                if (btsInfoMap.get(srcBtsInfoMap[i].btsId) == null) {\r\n                    btsInfoMap.set(srcBtsInfoMap[i].btsId, srcBtsInfoMap[i].btsInfo);\r\n                }\r\n\r\n            }\r\n            let multiBtsList = [];\r\n            //基站预筛选，将临近的基站合成复合基站\r\n            for (let key of btsInfoMap.keys()) {\r\n                let btsInfo = btsInfoMap.get(key);\r\n                let lngNew = btsInfo.lng;\r\n                let latNew = btsInfo.lat;\r\n                if (multiBtsList.length > 0) {\r\n                    let index = -1;\r\n                    for (let j = 0; j < multiBtsList.length; j++) {\r\n                        let lng = multiBtsList[j].lng;\r\n                        let lat = multiBtsList[j].lat;\r\n                        if (map.getDistance(new BMap.Point(lng, lat), new BMap.Point(lngNew, latNew)) < 50) {\r\n                            index = j;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (index > -1) {\r\n                        if (multiBtsList[index].type == 1) {\r\n                            //如果是单基站转复合基站\r\n                            let slfBts = JSON.parse(JSON.stringify(multiBtsList[index]));\r\n                            slfBts.parentBtsId = multiBtsList[index].btsId;\r\n                            multiBtsList[index].child.push(slfBts);\r\n                            multiBtsList[index].type = 2;\r\n                            btsInfo.parentBtsId = multiBtsList[index].btsId;\r\n                            let tempBts = JSON.parse(JSON.stringify(btsInfo));\r\n                            multiBtsList[index].child.push(tempBts);\r\n                        } else {\r\n                            //如果已经是复合基站\r\n                            btsInfo.parentBtsId = multiBtsList[index].btsId;\r\n                            let tempBts = JSON.parse(JSON.stringify(btsInfo));\r\n                            multiBtsList[index].child.push(tempBts);\r\n                        }\r\n                    } else {\r\n                        btsInfo.parentBtsId = btsInfo.btsId;\r\n                        let tempBts = JSON.parse(JSON.stringify(btsInfo));\r\n                        multiBtsList.push(tempBts);\r\n                    }\r\n                } else {\r\n                    btsInfo.parentBtsId = btsInfo.btsId;\r\n                    let tempBts = JSON.parse(JSON.stringify(btsInfo));\r\n                    multiBtsList.push(tempBts);\r\n                }\r\n            }\r\n\r\n            //地图上绘制复合基站\r\n            for (let i = 0; i < multiBtsList.length; i++) {\r\n                //使用JSON对象克隆，js改变新对象的值不影响引用对象的值\r\n                let multiBts = JSON.parse(JSON.stringify(multiBtsList[i]));\r\n                let btsId = multiBts.btsId;\r\n                if (multiBtsInfoMap.get(btsId) == null) {\r\n                    //绘制基站\r\n                    __WEBPACK_IMPORTED_MODULE_2__overlay_DrawMultiBtsOverlay_js__[\"a\" /* DrawMultiBtsOverlay */].drawBts(multiBts);\r\n                    //添加到缓存\r\n                    multiBtsInfoMap.set(btsId, multiBts);\r\n                } else if (multiBtsInfoMap.get(btsId) != null && multiBtsInfoMap.get(btsId).type == 1 && multiBts.type == 2) {\r\n                    //原先地图上是单基站图片，现在要显示复合基站图标\r\n                    //先移除原图标，再绘制新图标\r\n                    map.removeOverlay(btsDivMap.get(btsId).btsCover);\r\n                    btsDivMap.get(btsId).btsCover = null;\r\n                    //绘制基站\r\n                    __WEBPACK_IMPORTED_MODULE_2__overlay_DrawMultiBtsOverlay_js__[\"a\" /* DrawMultiBtsOverlay */].drawBts(multiBts);\r\n                    //添加到缓存\r\n                    multiBtsInfoMap.set(btsId, multiBts);\r\n                } else if (multiBtsInfoMap.get(btsId) != null && multiBtsInfoMap.get(btsId).type == 2 && multiBtsInfoMap.get(btsId).child.length != multiBts.child.length) {\r\n                    //原本是复合基站，但是新增了子基站,重绘基站\r\n                    map.removeOverlay(btsDivMap.get(btsId).btsCover);\r\n                    btsDivMap.get(btsId).btsCover = null;\r\n                    //绘制基站\r\n                    __WEBPACK_IMPORTED_MODULE_2__overlay_DrawMultiBtsOverlay_js__[\"a\" /* DrawMultiBtsOverlay */].drawBts(multiBts);\r\n                    //添加到缓存\r\n                    multiBtsInfoMap.set(btsId, multiBts);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**add by gaochao start */\r\n    //预锁基站\r\n    static showPreLockCell() {\r\n\r\n        if (Object.getOwnPropertyNames(devPreLockCellClearInfosCache).length != 0) {\r\n            for (let key in devPreLockCellClearInfosCache) {\r\n                let btsInfo = btsInfoMap.get(key);\r\n                let multiBtsInfo = multiBtsInfoMap.get(key);\r\n                if (btsInfoMap.get(key) != null) {\r\n                    if (multiBtsInfo != null && multiBtsInfo.type == 1) {\r\n                        if ($(`.bts-img-${key}`).hasClass('bts-img-unhit')) {\r\n                            $(`.bts-img-${key}`).addClass('proLock');\r\n                            $(`.bts-img-${key}`).attr('src', `img/btsicon/btsicon-${devPreLockCellClearInfosCache[key]}.png`);\r\n                            $(`.bts-active-img-${key}`).hide();\r\n                        } else {\r\n                            $(`.bts-img-${key}`).attr('src', `img/btsicon/btsiconhit-${devPreLockCellClearInfosCache[key]}.png`);\r\n                            $(`.bts-active-img-${key}`).hide();\r\n                        }\r\n                    } else if (multiBtsInfo != null && multiBtsInfo.type == 2) {\r\n                        //复基站\r\n                        if ($(`.multi-bts-img-${key}`).hasClass('bts-img-unhit')) {\r\n                            $(`.multi-bts-img-${key}`).addClass('proLock');\r\n                            $(`.multi-bts-img-${key}`).attr('src', `img/multibtsicon/btsicon-${devPreLockCellClearInfosCache[key]}.png`);\r\n                            $(`.multi-bts-active-img-${key}`).hide();\r\n                        } else {\r\n                            $(`.multi-bts-img-${key}`).attr('src', `img/multibtsicon/btsiconhit-${devPreLockCellClearInfosCache[key]}.png`);\r\n                            $(`.multi-bts-active-img-${key}`).hide();\r\n                        }\r\n\r\n                        if ($(`.bts-img-${key}`).hasClass('bts-img-unhit')) {\r\n                            $(`.bts-img-${key}`).addClass('proLock');\r\n                            $(`.bts-img-${key}`).attr('src', `img/btsicon/btsicon-${devPreLockCellClearInfosCache[key]}.png`);\r\n                            $(`.multi-sub-active-img-${key}`).hide();\r\n                        } else {\r\n                            $(`.bts-img-${key}`).attr('src', `img/btsicon/btsiconhit-${devPreLockCellClearInfosCache[key]}.png`);\r\n                            $(`.multi-sub-active-img-${key}`).hide();\r\n                        }\r\n\r\n                    } else if (multiBtsInfo == null) {\r\n                        let parentBtsId = btsInfo.parentBtsId;\r\n\r\n                        if ($(`.multi-bts-img-${parentBtsId}`).hasClass('bts-img-unhit')) {\r\n                            $(`.multi-bts-img-${parentBtsId}`).addClass('proLock');\r\n                            $(`.multi-bts-img-${parentBtsId}`).attr('src', `img/multibtsicon/btsicon-${devPreLockCellClearInfosCache[key]}.png`);\r\n                            $(`.multi-bts-active-img-${parentBtsId}`).hide();\r\n                        } else {\r\n                            $(`.multi-bts-img-${parentBtsId}`).attr('src', `img/multibtsicon/btsiconhit-${devPreLockCellClearInfosCache[key]}.png`);\r\n                            $(`.multi-bts-active-img-${parentBtsId}`).hide();\r\n                        }\r\n\r\n                        if ($(`.bts-img-${key}`).hasClass('bts-img-unhit')) {\r\n                            $(`.bts-img-${key}`).addClass('proLock');\r\n                            $(`.bts-img-${key}`).attr('src', `img/btsicon/btsicon-${devPreLockCellClearInfosCache[key]}.png`);\r\n                            $(`.multi-sub-active-img-${key}`).hide();\r\n                        } else {\r\n                            $(`.bts-img-${key}`).attr('src', `img/btsicon/btsiconhit-${devPreLockCellClearInfosCache[key]}.png`);\r\n                            $(`.multi-sub-active-img-${key}`).hide();\r\n                        }\r\n\r\n                    }\r\n\r\n                } else {\r\n                    map.removeOverlay(devPreLockCellClearInfosCache[key]);\r\n                }\r\n            }\r\n            devPreLockCellClearInfosCache = {};\r\n        }\r\n        /* 设置颜色或绘制目标基站*/\r\n        devPreLockCellInfosCache.forEach((eachPreLockBts) => {\r\n            if (btsInfoMap.get(eachPreLockBts.btsId) != null) {\r\n                let btsInfo = btsInfoMap.get(eachPreLockBts.btsId);\r\n                let multiBtsInfo = multiBtsInfoMap.get(eachPreLockBts.btsId);\r\n                if (multiBtsInfo != null && multiBtsInfo.type == 1) {\r\n\r\n                    if ($(`.bts-img-${eachPreLockBts.btsId}`).hasClass('bts-img-unhit')) {\r\n                        $(`.bts-img-${eachPreLockBts.btsId}`).addClass('proLock');\r\n                        $(`.bts-img-${eachPreLockBts.btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.bts-click-${eachPreLockBts.btsId}`).css('z-index', 6000); // z轴置顶\r\n                        $(`.bts-img-${eachPreLockBts.btsId}`).attr('src', `img/btsicon/btsicontarget-${eachPreLockBts.mode}.png`);\r\n                        if (eachPreLockBts.type == 1) {\r\n                            $(`.bts-active-img-${eachPreLockBts.btsId}`).show();\r\n                        }\r\n                        devPreLockCellClearInfosCache[eachPreLockBts.btsId] = eachPreLockBts.mode;\r\n                    }\r\n                } else if (multiBtsInfo != null && multiBtsInfo.type == 2) {\r\n                    if ($(`.multi-bts-img-${eachPreLockBts.btsId}`).hasClass('bts-img-unhit')) {\r\n                        $(`.multi-bts-img-${eachPreLockBts.btsId}`).addClass('proLock');\r\n                        $(`.multi-bts-img-${eachPreLockBts.btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.bts-click-${eachPreLockBts.btsId}`).css('z-index', 6000); // z轴置顶\r\n                        $(`.multi-bts-img-${eachPreLockBts.btsId}`).attr('src', `img/multibtsicon/btsicontarget-${eachPreLockBts.mode}.png`);\r\n                        if (eachPreLockBts.type == 1) {\r\n                            $(`.multi-bts-active-img-${eachPreLockBts.btsId}`).show();\r\n                        }\r\n                    }\r\n                    if ($(`.bts-img-${eachPreLockBts.btsId}`).hasClass('bts-img-unhit')) {\r\n                        $(`.bts-img-${eachPreLockBts.btsId}`).addClass('proLock');\r\n                        $(`.bts-img-${eachPreLockBts.btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.multi-sub-bts-click-${eachPreLockBts.btsId}`).css('z-index', 6000); // z轴置顶\r\n                        $(`.bts-img-${eachPreLockBts.btsId}`).attr('src', `img/btsicon/btsicontarget-${eachPreLockBts.mode}.png`);\r\n                        if (eachPreLockBts.type == 1) {\r\n                            $(`.multi-sub-active-img-${eachPreLockBts.btsId}`).show();\r\n                        }\r\n                        devPreLockCellClearInfosCache[eachPreLockBts.btsId] = eachPreLockBts.mode;\r\n                    }\r\n                } else if (multiBtsInfo == null) {\r\n                    let parentBtsId = btsInfo.parentBtsId;\r\n                    if ($(`.multi-bts-img-${parentBtsId}`).hasClass('bts-img-unhit')) {\r\n                        $(`.multi-bts-img-${parentBtsId}`).addClass('proLock');\r\n                        $(`.multi-bts-img-${parentBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.bts-click-${parentBtsId}`).css('z-index', 6000); // z轴置顶\r\n                        $(`.multi-bts-img-${parentBtsId}`).attr('src', `img/multibtsicon/btsicontarget-${eachPreLockBts.mode}.png`);\r\n                        if (eachPreLockBts.type == 1) {\r\n                            $(`.multi-bts-active-img-${parentBtsId}`).show();\r\n                        }\r\n                    }\r\n\r\n                    if ($(`.bts-img-${eachPreLockBts.btsId}`).hasClass('bts-img-unhit')) {\r\n                        $(`.bts-img-${eachPreLockBts.btsId}`).addClass('proLock');\r\n                        $(`.bts-img-${eachPreLockBts.btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.multi-sub-bts-click${eachPreLockBts.btsId}`).css('z-index', 6000); // z轴置顶\r\n                        $(`.bts-img-${eachPreLockBts.btsId}`).attr('src', `img/btsicon/btsicontarget-${eachPreLockBts.mode}.png`);\r\n                        if (eachPreLockBts.type == 1) {\r\n                            $(`.multi-sub-active-img-${eachPreLockBts.btsId}`).show();\r\n                        }\r\n                        devPreLockCellClearInfosCache[eachPreLockBts.btsId] = eachPreLockBts.mode;\r\n                    }\r\n                }\r\n\r\n\r\n            } else {\r\n                //地图上没有当前预锁基站，需要检查预锁基站附近是否有基站（与multiBtsInfoMap缓存基站信息对比），解决预锁基站覆盖之前基站位置引起的bug\r\n                let drawFlag = true;\r\n                let preLockBtsLng = eachPreLockBts.lng;\r\n                let preLockBtsLat = eachPreLockBts.lat;\r\n                for (let key of multiBtsInfoMap.keys()) {\r\n                    let btsInfo = multiBtsInfoMap.get(key);\r\n                    let type = btsInfo.type;\r\n                    let lng = btsInfo.lng;\r\n                    let lat = btsInfo.lat;\r\n                    if (type == 2) {\r\n                        let distance = map.getDistance(new BMap.Point(preLockBtsLng, preLockBtsLat), new BMap.Point(lng, lat));\r\n                        if (distance < 50) {\r\n                            drawFlag = false;\r\n                            let dataList = eachPreLockBts.btsId.split(\"-\");\r\n                            eachPreLockBts.mcc = dataList[0];\r\n                            eachPreLockBts.mnc = dataList[1];\r\n                            eachPreLockBts.lacTac = dataList[2];\r\n                            eachPreLockBts.cellId = dataList[3];\r\n                            let preLockBtsOfMultiBts = ParsingMultiBtsInfo.FormatBtsData(eachPreLockBts);\r\n                            preLockBtsOfMultiBts.parentBtsId = btsInfo.btsId;\r\n                            preLockBtsOfMultiBts.type = 1;\r\n                            btsInfo.child.push(preLockBtsOfMultiBts);\r\n                            map.removeOverlay(btsDivMap.get(btsInfo.btsId).btsCover);\r\n                            btsDivMap.get(btsInfo.btsId).btsCover = null;\r\n                            //绘制基站\r\n                            __WEBPACK_IMPORTED_MODULE_2__overlay_DrawMultiBtsOverlay_js__[\"a\" /* DrawMultiBtsOverlay */].drawBts(btsInfo);\r\n                            //添加到缓存\r\n                            multiBtsInfoMap.set(btsInfo.btsId, btsInfo);\r\n                            btsInfoMap.set(eachPreLockBts.btsId, preLockBtsOfMultiBts)\r\n                            // 将当前复合基站图标设置成预锁基站图标，并在子基站添加当前预锁基站信息\r\n                            if ($(`.multi-bts-img-${preLockBtsOfMultiBts.parentBtsId}`).hasClass('bts-img-unhit')) {\r\n                                $(`.multi-bts-img-${preLockBtsOfMultiBts.parentBtsId}`).addClass('proLock');\r\n                                $(`.multi-bts-img-${preLockBtsOfMultiBts.parentBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                                $(`.bts-click-${preLockBtsOfMultiBts.parentBtsId}`).css('z-index', 6000); // z轴置顶\r\n                                $(`.multi-bts-img-${preLockBtsOfMultiBts.parentBtsId}`).attr('src', `img/multibtsicon/btsicontarget-${eachPreLockBts.mode}.png`);\r\n                                if (eachPreLockBts.type == 1) {\r\n                                    $(`.multi-bts-active-img-${preLockBtsOfMultiBts.parentBtsId}`).show();\r\n                                }\r\n                            }\r\n                            if ($(`.bts-img-${eachPreLockBts.btsId}`).hasClass('bts-img-unhit')) {\r\n                                $(`.bts-img-${eachPreLockBts.btsId}`).addClass('proLock');\r\n                                $(`.bts-img-${eachPreLockBts.btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                                $(`.multi-sub-bts-click-${eachPreLockBts.btsId}`).css('z-index', 6000); // z轴置顶\r\n                                $(`.bts-img-${eachPreLockBts.btsId}`).attr('src', `img/btsicon/btsicontarget-${eachPreLockBts.mode}.png`);\r\n                                if (eachPreLockBts.type == 1) {\r\n                                    $(`.multi-sub-active-img-${eachPreLockBts.btsId}`).show();\r\n                                }\r\n                                devPreLockCellClearInfosCache[eachPreLockBts.btsId] = eachPreLockBts.mode;\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (drawFlag) {\r\n                    eachPreLockBts.isInfoPanelOpen = false;\r\n                    eachPreLockBts.isRadiusOpen = false;\r\n                    eachPreLockBts.needDraw = true;\r\n                    // btsInfoMap.set(eachPreLockBts.btsId, eachPreLockBts);\r\n                    __WEBPACK_IMPORTED_MODULE_4__overlay_DrawBtsPreLockOverlay_js__[\"a\" /* DrawBtsPreLockOverlay */].drawBts(eachPreLockBts);\r\n                    if (eachPreLockBts.type == 1) {\r\n                        $(`.bts-active-img-${eachPreLockBts.btsId}`).show();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        if (devPreLockCellLineCache != null) {\r\n            map.removeOverlay(devPreLockCellLineCache);\r\n            devPreLockCellLineCache = null;\r\n        }\r\n        /* 绘制红色路径*/\r\n        devInfoMap.forEach((eachDevInfo) => {\r\n            /* 目标小区*/\r\n            if (eachDevInfo.devType == 1 && devPreLockCellInfosCache.size != 0) {\r\n                let preLockCellPoint;\r\n                let lngAll = 0;\r\n                let latAll = 0;\r\n                devPreLockCellInfosCache.forEach((eachPreLockBts) => {\r\n                    lngAll = lngAll + Number(eachPreLockBts.lng);\r\n                    latAll = latAll + Number(eachPreLockBts.lat);\r\n                });\r\n                preLockCellPoint = { lng: lngAll / devPreLockCellInfosCache.size, lat: latAll / devPreLockCellInfosCache.size };\r\n                let baiduGpsInfo = __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[eachDevInfo.gpsInfo.lng, eachDevInfo.gpsInfo.lat]])[0];\r\n                if (map.getDistance(new BMap.Point(baiduGpsInfo.lng, baiduGpsInfo.lat), new BMap.Point(preLockCellPoint.lng, preLockCellPoint.lat)) > 500) {\r\n                    let devPreLockCellLine = new BMap.Polyline([\r\n                        new BMap.Point(preLockCellPoint.lng, preLockCellPoint.lat),\r\n                        new BMap.Point(baiduGpsInfo.lng, baiduGpsInfo.lat),\r\n                    ], { strokeColor: 'red', strokeWeight: 1, strokeOpacity: 1 });\r\n\r\n                    devPreLockCellLineCache = devPreLockCellLine;\r\n                    map.addOverlay(devPreLockCellLine);\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n    /**add by gaochao end*/\r\n    static FormatBtsData(data) {\r\n        let btsInfo = { btsId: null, mcc: null, mnc: null, mode: null, lacTac: null, cellId: null, sid: null, nid: null, bid: null, lng: null, lat: null, radius: null, credibility: null, time: null, reportTime: null, createTime: null };\r\n        btsInfo.btsId = data.btsId;\r\n        btsInfo.mcc = data.mcc;\r\n        btsInfo.mnc = data.mnc;\r\n        btsInfo.mode = data.mode;\r\n        btsInfo.lacTac = data.lacTac;\r\n        btsInfo.cellId = data.cellId;\r\n        btsInfo.sid = data.sid;\r\n        btsInfo.nid = data.nid;\r\n        btsInfo.bid = data.bid;\r\n        btsInfo.lng = data.lng;\r\n        btsInfo.lat = data.lat;\r\n        btsInfo.radius = data.radius;\r\n        btsInfo.credibility = data.credibility;\r\n        btsInfo.reportTime = data.reportTime;\r\n        btsInfo.createTime = data.createTime;\r\n        btsInfo.hitTimes = 0;\r\n        btsInfo.dlHitTimes = 0;\r\n        return btsInfo;\r\n    }\r\n    /* 基站解析进度 */\r\n    static cellAnalysis(devStateInfoMap) {\r\n        /* 高级面板显示通道信息*/\r\n        let LteConEffective = 0;\r\n        let WcdmaConEffective = 0;\r\n        let CdmaConEffective = 0;\r\n        let GsmConEffective = 0;\r\n\r\n        let LteConEffectiveMap = new Map();\r\n        let WcdmaConEffectiveMap = new Map();\r\n        let CdmaConEffectiveMap = new Map();\r\n        let GsmConEffectiveMap = new Map();\r\n        let analysisInfoMapEach = new Map();\r\n        analysisInfoHitMap = new Map();\r\n        for (let dev in devStateInfoMap) {\r\n            let infoList = devStateInfoMap[dev].cellAnalysisInfoList;\r\n            let channelInfoHtml = '';\r\n            let analysisInfoMapNow = new Map();\r\n            let advanceInfoHtmlLte = '';\r\n            let advanceInfoHtmlWcdma = '';\r\n            let advanceInfoHtmlCdma = '';\r\n            let advanceInfoHtmlGsm = '';\r\n            let advanceInfoHtmlLteCon = 0;\r\n            let advanceInfoHtmlWcdmaCon = 0;\r\n            let advanceInfoHtmlCdmaCon = 0;\r\n            let advanceInfoHtmlGsmCon = 0;\r\n            /**add by gaochao end*/\r\n            if (infoList != null) {\r\n                for (let i = 0; i < infoList.length; i++) {\r\n                    analysisInfoMapNow.set(infoList[i].btsId, 0);\r\n                    if (infoList[i].hitTimes != null && infoList[i].hitTimes != undefined && infoList[i].hitTimes != '') {\r\n                        analysisInfoMapNow.set(infoList[i].btsId, analysisInfoMapNow.get(infoList[i].btsId) + infoList[i].hitTimes);\r\n                    }\r\n                    let btsIdArr = infoList[i].btsId.split('-');\r\n                    let perc;\r\n                    if (infoList[i].mode != 'cdma' && infoList[i].mode != 'wcdma') {\r\n                        perc = infoList[i].broadcastPercent + '%' + '-' + infoList[i].dedicatedPercent + '%';\r\n                    } else {\r\n                        perc = infoList[i].broadcastPercent + '%';\r\n                    }\r\n                    let panelHitTimes;\r\n                    if (btsInfoMap.get(infoList[i].btsId) == null || btsInfoMap.get(infoList[i].btsId).hitTimes == null) {\r\n                        panelHitTimes = 0;\r\n                    } else {\r\n                        panelHitTimes = btsInfoMap.get(infoList[i].btsId).hitTimes;\r\n                    }\r\n                    let areacode = infoList[i].mode == 'cdma' ? `${btsIdArr[btsIdArr.length - 3]}-${btsIdArr[btsIdArr.length - 2]}-${btsIdArr[btsIdArr.length - 1]}` : `${btsIdArr[btsIdArr.length - 2]}-${btsIdArr[btsIdArr.length - 1]}`;\r\n                    channelInfoHtml = channelInfoHtml + `\r\n                        <tr>\r\n                            <td style=\"width: 115px;\">${infoList[i].freqPci}</td>\r\n                            <td style=\"width: 135px;\">${areacode}</td>\r\n                            <td style=\"width: 86px; color: rgb(0, 125, 222)\">${perc}</td>\r\n                            <td style=\"width: 50px;\">${panelHitTimes}</td>\r\n                            <td style=\"width: 34px; color: #ff0000\">${infoList[i].dbm}</td>\r\n                            <td style=\"width: 34px;\"></td>\r\n                        </tr>\r\n                        `;\r\n                    if (infoList[i].mode == 'lte') {\r\n                        if (advanceInfoHtmlLteCon % 2 == 0) {\r\n                            advanceInfoHtmlLte = advanceInfoHtmlLte + `\r\n                            <div class=\"advance-info-content-odd\">\r\n                                <div class=\"advance-info-content-active\">${isActive(infoList[i].isActive, infoList[i].freqPci, 1)}</div>\r\n                                <div class=\"advance-info-content-bts\" style=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 2)}\">${infoList[i].freqPci}</div>\r\n                                <div class=\"advance-info-content-locationcode clipboard\"  active-status=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 3)}\" data-clipboard-text=\"${infoList[i].btsId}\">${areacode}</div>\r\n                                <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                                <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                                <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                            </div>\r\n                            `;\r\n                        } else {\r\n                            advanceInfoHtmlLte = advanceInfoHtmlLte + `\r\n                            <div class=\"advance-info-content-even\">\r\n                                <div class=\"advance-info-content-active\">${isActive(infoList[i].isActive, infoList[i].freqPci, 1)}</div>\r\n                                <div class=\"advance-info-content-bts\" style=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 2)}\">${infoList[i].freqPci}</div>\r\n                                <div class=\"advance-info-content-locationcode clipboard\"  active-status=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 3)}\" data-clipboard-text=\"${infoList[i].btsId}\">${areacode}</div>\r\n                                <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                                <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                                <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                            </div>\r\n                            `;\r\n                        }\r\n                        advanceInfoHtmlLteCon++;\r\n                        if (infoList[i].analysisFlag == 1) {\r\n                            LteConEffective++;\r\n                            if (LteConEffectiveMap.get(areacode) == undefined) {\r\n                                LteConEffectiveMap.set(areacode, 1);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (infoList[i].mode == 'wcdma') {\r\n                        if (advanceInfoHtmlWcdmaCon % 2 == 0) {\r\n                            advanceInfoHtmlWcdma = advanceInfoHtmlWcdma + `\r\n                            <div class=\"advance-info-content-odd\">\r\n                                <div class=\"advance-info-content-active\">${isActive(infoList[i].isActive, infoList[i].freqPci, 1)}</div>\r\n                                <div class=\"advance-info-content-bts\" style=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 2)}\">${infoList[i].freqPci}</div>\r\n                                <div class=\"advance-info-content-locationcode clipboard\"  active-status=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 3)}\" data-clipboard-text=\"${infoList[i].btsId}\">${areacode}</div>\r\n                                <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                                <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                                <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                            </div>\r\n                            `;\r\n                        } else {\r\n                            advanceInfoHtmlWcdma = advanceInfoHtmlWcdma + `\r\n                            <div class=\"advance-info-content-even\">\r\n                                <div class=\"advance-info-content-active\">${isActive(infoList[i].isActive, infoList[i].freqPci, 1)}</div>\r\n                                <div class=\"advance-info-content-bts\" style=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 2)}\">${infoList[i].freqPci}</div>\r\n                                <div class=\"advance-info-content-locationcode clipboard\"  active-status=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 3)}\" data-clipboard-text=\"${infoList[i].btsId}\">${areacode}</div>\r\n                                <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                                <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                                <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                            </div>\r\n                            `;\r\n                        }\r\n                        advanceInfoHtmlWcdmaCon++;\r\n                        if (infoList[i].analysisFlag == 1) {\r\n                            WcdmaConEffective++;\r\n                            if (WcdmaConEffectiveMap.get(areacode) == undefined) {\r\n                                WcdmaConEffectiveMap.set(areacode, 1);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (infoList[i].mode == 'cdma') {\r\n                        if (advanceInfoHtmlCdmaCon % 2 == 0) {\r\n                            advanceInfoHtmlCdma = advanceInfoHtmlCdma + `\r\n                            <div class=\"advance-info-content-odd\">\r\n                                <div class=\"advance-info-content-active\">${isActive(infoList[i].isActive, infoList[i].freqPci, 1)}</div>\r\n                                <div class=\"advance-info-content-bts\" style=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 2)}\">${infoList[i].freqPci}</div>\r\n                                <div class=\"advance-info-content-locationcode clipboard\"  active-status=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 3)}\" data-clipboard-text=\"${infoList[i].btsId}\">${areacode}</div>\r\n                                <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                                <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                                <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                            </div>\r\n                            `;\r\n                        } else {\r\n                            advanceInfoHtmlCdma = advanceInfoHtmlCdma + `\r\n                            <div class=\"advance-info-content-even\">\r\n                                <div class=\"advance-info-content-active\">${isActive(infoList[i].isActive, infoList[i].freqPci, 1)}</div>\r\n                                <div class=\"advance-info-content-bts\" style=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 2)}\">${infoList[i].freqPci}</div>\r\n                                <div class=\"advance-info-content-locationcode clipboard\"  active-status=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 3)}\" data-clipboard-text=\"${infoList[i].btsId}\">${areacode}</div>\r\n                                <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                                <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                                <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                            </div>\r\n                            `;\r\n                        }\r\n                        advanceInfoHtmlCdmaCon++;\r\n                        if (infoList[i].analysisFlag == 1) {\r\n                            CdmaConEffective++;\r\n                            if (CdmaConEffectiveMap.get(areacode) == undefined) {\r\n                                CdmaConEffectiveMap.set(areacode, 1);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (infoList[i].mode == 'gsm') {\r\n                        if (advanceInfoHtmlGsmCon % 2 == 0) {\r\n                            advanceInfoHtmlGsm = advanceInfoHtmlGsm + `\r\n                            <div class=\"advance-info-content-odd\">\r\n                                <div class=\"advance-info-content-active\">${isActive(infoList[i].isActive, infoList[i].freqPci, 1)}</div>\r\n                                <div class=\"advance-info-content-bts\" style=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 2)}\">${infoList[i].freqPci}</div>\r\n                                <div class=\"advance-info-content-locationcode clipboard\"  active-status=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 3)}\" data-clipboard-text=\"${infoList[i].btsId}\">${areacode}</div>\r\n                                <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                                <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                                <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                            </div>\r\n                            `;\r\n                        } else {\r\n                            advanceInfoHtmlGsm = advanceInfoHtmlGsm + `\r\n                            <div class=\"advance-info-content-even\">\r\n                                <div class=\"advance-info-content-active\">${isActive(infoList[i].isActive, infoList[i].freqPci, 1)}</div>\r\n                                <div class=\"advance-info-content-bts\" style=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 2)}\">${infoList[i].freqPci}</div>\r\n                                <div class=\"advance-info-content-locationcode clipboard\"  active-status=\"${isActive(infoList[i].isActive, infoList[i].freqPci, 3)}\" data-clipboard-text=\"${infoList[i].btsId}\">${areacode}</div>\r\n                                <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                                <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                                <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                            </div>\r\n                            `;\r\n                        }\r\n                        advanceInfoHtmlGsmCon++;\r\n                        if (infoList[i].analysisFlag == 1) {\r\n                            GsmConEffective++;\r\n                            if (GsmConEffectiveMap.get(areacode) == undefined) {\r\n                                GsmConEffectiveMap.set(areacode, 1);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                $(`.channel-info-table-tbody-${dev}`).html(channelInfoHtml);\r\n                $(`.advance-info-content-container-${dev}-lte`).html(advanceInfoHtmlLte);\r\n                $(`.advance-info-content-container-${dev}-wcdma`).html(advanceInfoHtmlWcdma);\r\n                $(`.advance-info-content-container-${dev}-cdma`).html(advanceInfoHtmlCdma);\r\n                $(`.advance-info-content-container-${dev}-gsm`).html(advanceInfoHtmlGsm);\r\n            }\r\n            analysisInfoMapEach.set(dev, analysisInfoMapNow);\r\n            if (devStateInfoMap[dev].reportTime != \"\" && devStateInfoMap[dev].reportTime != undefined && devStateInfoMap[dev].reportTime != null) {\r\n                $(`.advance-info-time-${dev}`).html(new Date(devStateInfoMap[dev].reportTime).Format('hh:mm:ss'));\r\n            }\r\n        }\r\n\r\n        $('#data-channel-gsm').html(GsmConEffectiveMap.size < 10 ? \"&nbsp&nbsp\" + GsmConEffectiveMap.size : GsmConEffectiveMap.size);\r\n        $('#data-channel-cdma').html(CdmaConEffectiveMap.sizefective < 10 ? \"&nbsp&nbsp\" + CdmaConEffectiveMap.size : CdmaConEffectiveMap.size);\r\n        $('#data-channel-wcdma').html(WcdmaConEffectiveMap.size < 10 ? \"&nbsp&nbsp\" + WcdmaConEffectiveMap.size : WcdmaConEffectiveMap.size);\r\n        $('#data-channel-lte').html(LteConEffectiveMap.size < 10 ? \"&nbsp&nbsp\" + LteConEffectiveMap.size : LteConEffectiveMap.size);\r\n        for (let key in devStateInfoMap) {\r\n            if (devStateInfoMap[key].energy != null && devStateInfoMap[key].energy != 0) {\r\n                $(`#team-each-dev-battery-value-${devStateInfoMap[key].devCode}`).css('display', 'block');\r\n                $(`#team-each-dev-battery-icon-${devStateInfoMap[key].devCode}`).css('display', 'block');\r\n                $(`#team-each-dev-battery-value-${devStateInfoMap[key].devCode}`).html(`${devStateInfoMap[key].energy}%`);\r\n            }\r\n            if (devStateInfoMap[key].temperature != null && devStateInfoMap[key].temperature != 0) {\r\n                $(`#team-each-dev-temperature-value-${devStateInfoMap[key].devCode}`).css('display', 'block');\r\n                $(`#team-each-dev-temperature-icon-${devStateInfoMap[key].devCode}`).css('display', 'block');\r\n                $(`#team-each-dev-temperature-value-${devStateInfoMap[key].devCode}`).html(`${devStateInfoMap[key].temperature}℃`);\r\n            }\r\n        }\r\n        /* 显示上行增益*/\r\n        for (let key in devStateInfoMap) {\r\n            if (devStateInfoMap[key].upGainValue != null) {\r\n                $(`.uplink-gain-status-pot-${key}`).css('left', devStateInfoMap[key].upGainValue + '%');\r\n                $(`.uplink-gain-status-gray-cover-${key}`).css('width', (1 - devStateInfoMap[key].upGainValue / 100) * 100 + '%');\r\n                $(`.uplink-gain-status-value-${key}`).html(devStateInfoMap[key].upGainValue);\r\n            } else {\r\n                $(`.uplink-gain-status-pot-${key}`).css('left', '0%');\r\n                $(`.uplink-gain-status-gray-cover-${key}`).css('width', '100%');\r\n                $(`.uplink-gain-status-value-${key}`).html('0');\r\n            }\r\n        }\r\n        /* 显示触发信息*/\r\n        if (thisPageType == 'RTC') {\r\n            if (devStateInfoMap != null) {\r\n                for (let key in devStateInfoMap) {\r\n                    if (devDrawInfoMap.get(key).devType == 1 && devStateInfoMap[key] != null) {\r\n                        let triggerInfoValue = devStateInfoMap[key].triggerInfo;\r\n                        if (triggerInfoValue != null) {\r\n                            $('.sms-info-icon').css('background', `url(img/icon/sms_${triggerInfoValue.triggerStatus}.png)`);\r\n                            $('#sms-send-value').html(triggerInfoValue.sendTimes);\r\n                            $('#sms-finish-value').html(triggerInfoValue.completeTimes);\r\n                            $('#sms-receipt-value').html(triggerInfoValue.receiptTimes);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        for (let _key in devStateInfoMap) {\r\n            if (devStateInfoMap[_key].cellAnalysisInfoList != null) {\r\n                for (let key in devStateInfoMap) {\r\n                    /* 如果当前视角中包含重复的基站，则以当前视角的基站为主，清除与当前视角重复的基站*/\r\n                    if (key != currentViewDevCode) {\r\n                        if (devStateInfoMap[key].cellAnalysisInfoList != null) {\r\n                            for (let i = 0; i < devStateInfoMap[key].cellAnalysisInfoList.length; i++) {\r\n                                let isExist = false;\r\n                                if (devStateInfoMap[currentViewDevCode] != null && devStateInfoMap[currentViewDevCode].cellAnalysisInfoList != null) {\r\n                                    for (let j = 0; j < devStateInfoMap[currentViewDevCode].cellAnalysisInfoList.length; j++) {\r\n                                        if (devStateInfoMap[key].cellAnalysisInfoList[i].btsId == devStateInfoMap[currentViewDevCode].cellAnalysisInfoList[j].btsId) {\r\n                                            isExist = true;\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                if (isExist) {\r\n                                    devStateInfoMap[key].cellAnalysisInfoList.splice(i, 1);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                /* 绘制基站解析*/\r\n                __WEBPACK_IMPORTED_MODULE_3__overlay_DrawMultiBtsAnalysis_js__[\"a\" /* DrawMultiBtsAnalysis */].drawAnalysis(devStateInfoMap);\r\n            }\r\n        }\r\n    }\r\n    static drawBtsList(devBtsInfos) {\r\n        if (devBtsInfos.length > 0) {\r\n            for (let i = 0; i < devBtsInfos.length; i++) {\r\n                let btsId = devBtsInfos[i].btsId;\r\n                let btsInfo = devBtsInfos[i].btsInfo;\r\n                let display = \"display:none\";\r\n                if (btsId != undefined&&btsId.split(\"-\")[1]!=undefined) {\r\n                    if (btsListMap.get(btsId) == null) {\r\n                        let html = ``;\r\n                        if (btsInfo.lat != \"\" && btsInfo.lat != null) {\r\n                            display = \"\";\r\n                        }\r\n                        if (btsListCon % 2 == 0) {\r\n                            html = `<div class=\"advance-info-content-odd\">\r\n                                <div class=\"advance-info-content-list-active advance-info-content-list-active-${btsId}\" style=\"display:none;margin: -2px 0px 0px 6px;\"><span style=\"background: url('img/iconpic/CR-active.png') no-repeat;background-size: 100% 100%;\r\n                                width: 34px;height: 18px;margin: 8px auto;display: block;\"></span></div>\r\n                                <div class=\"advance-info-list-content-btsId advance-info-list-content-btsId-${btsId} clipboard\" data-clipboard-text=\"${btsId}\">${btsInfo.lacTac}-${btsInfo.cellId}</div>\r\n                                <div class=\"advance-info-list-content-GPS\"><img class=\"advance-info-list-content-GPS-img\" data-clipboard-text=\"${btsId}\" style=\"${display}\" src=\"img/icon/gps.png\"></div>\r\n                                <div class=\"advance-info-list-content-time\">${!!btsInfo.reportTime?new Date(btsInfo.reportTime).Format('hh:mm:ss'):\"\"}</div>\r\n                            </div>`;\r\n                        } else {\r\n                            html = `<div class=\"advance-info-content-even\">\r\n                                <div class=\"advance-info-content-list-active advance-info-content-list-active-${btsId}\" style=\"display:none;margin: -2px 0px 0px 6px;\"><span style=\"background: url('img/iconpic/CR-active.png') no-repeat;background-size: 100% 100%;\r\n                                width: 34px;height: 18px;margin: 8px auto;display: block;\"></span></div>\r\n                                <div class=\"advance-info-list-content-btsId advance-info-list-content-btsId-${btsId} clipboard\" data-clipboard-text=\"${btsId}\">${btsInfo.lacTac}-${btsInfo.cellId}</div>\r\n                                <div class=\"advance-info-list-content-GPS\"><img class=\"advance-info-list-content-GPS-img\" data-clipboard-text=\"${btsId}\" style=\"${display}\" src=\"img/icon/gps.png\"></div>\r\n                                <div class=\"advance-info-list-content-time\">${!!btsInfo.reportTime?new Date(btsInfo.reportTime).Format('hh:mm:ss'):\"\"}</div>\r\n                            </div>`;\r\n                        }\r\n                        $('.advance-info-list-content-container').prepend(html);\r\n                        $('.advance-info-list-content-lastTime').html(`${!!btsInfo.reportTime?new Date(btsInfo.reportTime).Format('hh:mm:ss'):\"\"}`);\r\n                        btsListCon = btsListCon + 1;\r\n                        btsListMap.set(btsId, btsInfo);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = ParsingMultiBtsInfo;\n\r\n\r\n/*是否为主动式基站*/\r\nfunction isActive(activeStatus, data, type) {\r\n    let result = \"\";\r\n    if (activeStatus == 1) {\r\n        if (type == 1) {\r\n            result = `\r\n\t\t\t\t<span style=\"background: url('img/iconpic/CR-active.png') no-repeat;background-size: 100% 100%;\r\n\t\t\t\twidth: 34px;height: 18px;margin: 8px auto;display: block;\"></span>\r\n\t\t\t\t`;\r\n        } else if (type == 2) {\r\n            result = \"color:#F63232;font-weight:1000;\";\r\n        } else {\r\n            result = \"true\";\r\n        }\r\n    } else {\r\n        if (btsActiveCache != undefined && btsActiveCache != null) {\r\n            for (let i = 0; i < btsActiveCache.length; i++) {\r\n                if (btsActiveCache[i].status == 2 && (btsActiveCache[i].freq + \"-\" + btsActiveCache[i].pci) == data) {\r\n                    if (type == 1) {\r\n                        result = `\r\n\t\t\t\t\t\t\t<span style=\"background: url('img/iconpic/CR-active.png') no-repeat;background-size: 100% 100%;\r\n\t\t\t\t\t\t\twidth: 34px;height: 18px;margin: 8px auto;display: block;\"></span>\r\n\t\t\t\t\t\t\t`;\r\n                    } else if (type == 2) {\r\n                        result = \"color:#F63232;font-weight:1000;\";\r\n                    } else {\r\n                        result = \"true\";\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvcGFyc2luZy9QYXJzaW5nTXVsdGlCdHNJbmZvLmpzPzI1YjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF1RjtBQUN6QztBQUMwQjtBQUNFO0FBQ0U7OztBQUc1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsaUVBQWlFO0FBQ25HO0FBQ0EsMkJBQTJCLHdCQUF3QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxJQUFJLGdDQUFnQztBQUMxRSx3Q0FBd0MsSUFBSSxrQ0FBa0M7QUFDOUUsc0NBQXNDLElBQUksNkJBQTZCO0FBQ3ZFLHdDQUF3QyxJQUFJLHdCQUF3QjtBQUNwRSw0Q0FBNEMsSUFBSTtBQUNoRCxtREFBbUQsSUFBSTtBQUN2RCxzQ0FBc0MsSUFBSSx5Q0FBeUMsYUFBYTtBQUNoRyxxQkFBcUI7QUFDckI7QUFDQSw0Q0FBNEMsSUFBSSxnQ0FBZ0M7QUFDaEYsOENBQThDLElBQUksa0NBQWtDO0FBQ3BGLDRDQUE0QyxJQUFJLDZCQUE2QjtBQUM3RSw4Q0FBOEMsSUFBSSx3QkFBd0I7QUFDMUUscURBQXFELElBQUk7QUFDekQsNENBQTRDLElBQUksOENBQThDLGFBQWE7QUFDM0c7QUFDQSxzQ0FBc0MsSUFBSSxnQ0FBZ0M7QUFDMUUsa0RBQWtELElBQUksa0NBQWtDO0FBQ3hGLHNDQUFzQyxJQUFJLDZCQUE2QjtBQUN2RSxrREFBa0QsSUFBSSx3QkFBd0I7QUFDOUUsc0RBQXNELElBQUk7QUFDMUQsNkRBQTZELElBQUk7QUFDakUsc0NBQXNDLElBQUkseUNBQXlDLGFBQWE7O0FBRWhHLHFCQUFxQjtBQUNyQjtBQUNBLDRDQUE0QyxZQUFZLGdDQUFnQztBQUN4Riw4Q0FBOEMsWUFBWSxrQ0FBa0M7QUFDNUYsNENBQTRDLFlBQVksNkJBQTZCO0FBQ3JGLDhDQUE4QyxZQUFZLHdCQUF3QjtBQUNsRixxREFBcUQsWUFBWTtBQUNqRSw0Q0FBNEMsWUFBWSw4Q0FBOEMsYUFBYTtBQUNuSDtBQUNBLHNDQUFzQyxJQUFJLGdDQUFnQztBQUMxRSxrREFBa0QsSUFBSSxrQ0FBa0M7QUFDeEYsc0NBQXNDLElBQUksNkJBQTZCO0FBQ3ZFLGtEQUFrRCxJQUFJLHdCQUF3QjtBQUM5RSxzREFBc0QsSUFBSTtBQUMxRCw2REFBNkQsSUFBSTtBQUNqRSxzQ0FBc0MsSUFBSSx5Q0FBeUMsYUFBYTtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIscUNBQXFDO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHdCQUF3QjtBQUMvQyx3QkFBd0Isa0VBQVE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDBCQUEwQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHFHQUFlO0FBQzdDLDJCQUEyQix3QkFBd0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHlCQUF5QjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQix5QkFBeUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0RkFBbUI7QUFDdkM7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDRGQUFtQjtBQUN2QztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDRGQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLElBQUk7QUFDOUMsMENBQTBDLElBQUk7QUFDOUMsMENBQTBDLElBQUksc0NBQXNDLG1DQUFtQztBQUN2SCxpREFBaUQsSUFBSTtBQUNyRCx5QkFBeUI7QUFDekIsMENBQTBDLElBQUkseUNBQXlDLG1DQUFtQztBQUMxSCxpREFBaUQsSUFBSTtBQUNyRDtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGdEQUFnRCxJQUFJO0FBQ3BELGdEQUFnRCxJQUFJO0FBQ3BELGdEQUFnRCxJQUFJLDJDQUEyQyxtQ0FBbUM7QUFDbEksdURBQXVELElBQUk7QUFDM0QseUJBQXlCO0FBQ3pCLGdEQUFnRCxJQUFJLDhDQUE4QyxtQ0FBbUM7QUFDckksdURBQXVELElBQUk7QUFDM0Q7O0FBRUEsMENBQTBDLElBQUk7QUFDOUMsMENBQTBDLElBQUk7QUFDOUMsMENBQTBDLElBQUksc0NBQXNDLG1DQUFtQztBQUN2SCx1REFBdUQsSUFBSTtBQUMzRCx5QkFBeUI7QUFDekIsMENBQTBDLElBQUkseUNBQXlDLG1DQUFtQztBQUMxSCx1REFBdUQsSUFBSTtBQUMzRDs7QUFFQSxxQkFBcUI7QUFDckI7O0FBRUEsZ0RBQWdELFlBQVk7QUFDNUQsZ0RBQWdELFlBQVk7QUFDNUQsZ0RBQWdELFlBQVksMkNBQTJDLG1DQUFtQztBQUMxSSx1REFBdUQsWUFBWTtBQUNuRSx5QkFBeUI7QUFDekIsZ0RBQWdELFlBQVksOENBQThDLG1DQUFtQztBQUM3SSx1REFBdUQsWUFBWTtBQUNuRTs7QUFFQSwwQ0FBMEMsSUFBSTtBQUM5QywwQ0FBMEMsSUFBSTtBQUM5QywwQ0FBMEMsSUFBSSxzQ0FBc0MsbUNBQW1DO0FBQ3ZILHVEQUF1RCxJQUFJO0FBQzNELHlCQUF5QjtBQUN6QiwwQ0FBMEMsSUFBSSx5Q0FBeUMsbUNBQW1DO0FBQzFILHVEQUF1RCxJQUFJO0FBQzNEOztBQUVBOztBQUVBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNDQUFzQyxxQkFBcUI7QUFDM0Qsc0NBQXNDLHFCQUFxQjtBQUMzRCxzQ0FBc0MscUJBQXFCLDZCQUE2QjtBQUN4Rix3Q0FBd0MscUJBQXFCLHdCQUF3QjtBQUNyRixzQ0FBc0MscUJBQXFCLDRDQUE0QyxvQkFBb0I7QUFDM0g7QUFDQSxpREFBaUQscUJBQXFCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiw0Q0FBNEMscUJBQXFCO0FBQ2pFLDRDQUE0QyxxQkFBcUI7QUFDakUsNENBQTRDLHFCQUFxQiw2QkFBNkI7QUFDOUYsd0NBQXdDLHFCQUFxQix3QkFBd0I7QUFDckYsNENBQTRDLHFCQUFxQixpREFBaUQsb0JBQW9CO0FBQ3RJO0FBQ0EsdURBQXVELHFCQUFxQjtBQUM1RTtBQUNBO0FBQ0Esc0NBQXNDLHFCQUFxQjtBQUMzRCxzQ0FBc0MscUJBQXFCO0FBQzNELHNDQUFzQyxxQkFBcUIsNkJBQTZCO0FBQ3hGLGtEQUFrRCxxQkFBcUIsd0JBQXdCO0FBQy9GLHNDQUFzQyxxQkFBcUIsNENBQTRDLG9CQUFvQjtBQUMzSDtBQUNBLHVEQUF1RCxxQkFBcUI7QUFDNUU7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsNENBQTRDLFlBQVk7QUFDeEQsNENBQTRDLFlBQVk7QUFDeEQsNENBQTRDLFlBQVksNkJBQTZCO0FBQ3JGLHdDQUF3QyxZQUFZLHdCQUF3QjtBQUM1RSw0Q0FBNEMsWUFBWSxpREFBaUQsb0JBQW9CO0FBQzdIO0FBQ0EsdURBQXVELFlBQVk7QUFDbkU7QUFDQTs7QUFFQSxzQ0FBc0MscUJBQXFCO0FBQzNELHNDQUFzQyxxQkFBcUI7QUFDM0Qsc0NBQXNDLHFCQUFxQiw2QkFBNkI7QUFDeEYsaURBQWlELHFCQUFxQix3QkFBd0I7QUFDOUYsc0NBQXNDLHFCQUFxQiw0Q0FBNEMsb0JBQW9CO0FBQzNIO0FBQ0EsdURBQXVELHFCQUFxQjtBQUM1RTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDRGQUFtQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxpQ0FBaUM7QUFDckYsb0RBQW9ELGlDQUFpQztBQUNyRixvREFBb0QsaUNBQWlDLDZCQUE2QjtBQUNsSCxnREFBZ0QsaUNBQWlDLHdCQUF3QjtBQUN6RyxvREFBb0QsaUNBQWlDLGlEQUFpRCxvQkFBb0I7QUFDMUo7QUFDQSwrREFBK0QsaUNBQWlDO0FBQ2hHO0FBQ0E7QUFDQSw4Q0FBOEMscUJBQXFCO0FBQ25FLDhDQUE4QyxxQkFBcUI7QUFDbkUsOENBQThDLHFCQUFxQiw2QkFBNkI7QUFDaEcsMERBQTBELHFCQUFxQix3QkFBd0I7QUFDdkcsOENBQThDLHFCQUFxQiw0Q0FBNEMsb0JBQW9CO0FBQ25JO0FBQ0EsK0RBQStELHFCQUFxQjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0dBQXFCO0FBQ3pDO0FBQ0EsNkNBQTZDLHFCQUFxQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsb0NBQW9DO0FBQ3BDLG1DQUFtQyxxR0FBZTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3REFBd0Q7O0FBRWhGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHFCQUFxQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLG1FQUFtRSw4QkFBOEIsR0FBRyw4QkFBOEIsR0FBRyw4QkFBOEIsT0FBTyw4QkFBOEIsR0FBRyw4QkFBOEI7QUFDek87QUFDQTtBQUNBLG9EQUFvRCxJQUFJLG9CQUFvQjtBQUM1RSxvREFBb0QsSUFBSSxTQUFTO0FBQ2pFLG1EQUFtRCw0QkFBNEIsS0FBSztBQUNwRixtREFBbUQsSUFBSSxjQUFjO0FBQ3JFLG1EQUFtRCxtQkFBbUIsZ0JBQWdCO0FBQ3RGLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsdURBQXVEO0FBQ2xJLCtFQUErRSx1REFBdUQsSUFBSSxvQkFBb0I7QUFDOUosMkdBQTJHLHVEQUF1RCx5QkFBeUIsa0JBQWtCLElBQUksU0FBUztBQUMxTiw2RUFBNkUsS0FBSztBQUNsRix3RUFBd0UsNkRBQTZEO0FBQ3JJLGtGQUFrRixnQkFBZ0I7QUFDbEc7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsMkVBQTJFLHVEQUF1RDtBQUNsSSwrRUFBK0UsdURBQXVELElBQUksb0JBQW9CO0FBQzlKLDJHQUEyRyx1REFBdUQseUJBQXlCLGtCQUFrQixJQUFJLFNBQVM7QUFDMU4sNkVBQTZFLEtBQUs7QUFDbEYsd0VBQXdFLDZEQUE2RDtBQUNySSxrRkFBa0YsZ0JBQWdCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSx1REFBdUQ7QUFDbEksK0VBQStFLHVEQUF1RCxJQUFJLG9CQUFvQjtBQUM5SiwyR0FBMkcsdURBQXVELHlCQUF5QixrQkFBa0IsSUFBSSxTQUFTO0FBQzFOLDZFQUE2RSxLQUFLO0FBQ2xGLHdFQUF3RSw2REFBNkQ7QUFDckksa0ZBQWtGLGdCQUFnQjtBQUNsRztBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSwyRUFBMkUsdURBQXVEO0FBQ2xJLCtFQUErRSx1REFBdUQsSUFBSSxvQkFBb0I7QUFDOUosMkdBQTJHLHVEQUF1RCx5QkFBeUIsa0JBQWtCLElBQUksU0FBUztBQUMxTiw2RUFBNkUsS0FBSztBQUNsRix3RUFBd0UsNkRBQTZEO0FBQ3JJLGtGQUFrRixnQkFBZ0I7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLHVEQUF1RDtBQUNsSSwrRUFBK0UsdURBQXVELElBQUksb0JBQW9CO0FBQzlKLDJHQUEyRyx1REFBdUQseUJBQXlCLGtCQUFrQixJQUFJLFNBQVM7QUFDMU4sNkVBQTZFLEtBQUs7QUFDbEYsd0VBQXdFLDZEQUE2RDtBQUNySSxrRkFBa0YsZ0JBQWdCO0FBQ2xHO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLDJFQUEyRSx1REFBdUQ7QUFDbEksK0VBQStFLHVEQUF1RCxJQUFJLG9CQUFvQjtBQUM5SiwyR0FBMkcsdURBQXVELHlCQUF5QixrQkFBa0IsSUFBSSxTQUFTO0FBQzFOLDZFQUE2RSxLQUFLO0FBQ2xGLHdFQUF3RSw2REFBNkQ7QUFDckksa0ZBQWtGLGdCQUFnQjtBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsdURBQXVEO0FBQ2xJLCtFQUErRSx1REFBdUQsSUFBSSxvQkFBb0I7QUFDOUosMkdBQTJHLHVEQUF1RCx5QkFBeUIsa0JBQWtCLElBQUksU0FBUztBQUMxTiw2RUFBNkUsS0FBSztBQUNsRix3RUFBd0UsNkRBQTZEO0FBQ3JJLGtGQUFrRixnQkFBZ0I7QUFDbEc7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsMkVBQTJFLHVEQUF1RDtBQUNsSSwrRUFBK0UsdURBQXVELElBQUksb0JBQW9CO0FBQzlKLDJHQUEyRyx1REFBdUQseUJBQXlCLGtCQUFrQixJQUFJLFNBQVM7QUFDMU4sNkVBQTZFLEtBQUs7QUFDbEYsd0VBQXdFLDZEQUE2RDtBQUNySSxrRkFBa0YsZ0JBQWdCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxJQUFJO0FBQ25ELHFEQUFxRCxJQUFJO0FBQ3pELHFEQUFxRCxJQUFJO0FBQ3pELHFEQUFxRCxJQUFJO0FBQ3pELHFEQUFxRCxJQUFJO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxJQUFJO0FBQzVDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELDZCQUE2QjtBQUMvRSxpREFBaUQsNkJBQTZCO0FBQzlFLGtEQUFrRCw2QkFBNkIsV0FBVyw0QkFBNEI7QUFDdEg7QUFDQTtBQUNBLHNEQUFzRCw2QkFBNkI7QUFDbkYscURBQXFELDZCQUE2QjtBQUNsRixzREFBc0QsNkJBQTZCLFdBQVcsaUNBQWlDO0FBQy9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsSUFBSTtBQUNqRCxvREFBb0QsSUFBSTtBQUN4RCwrQ0FBK0MsSUFBSTtBQUNuRCxhQUFhO0FBQ2IsNkNBQTZDLElBQUk7QUFDakQsb0RBQW9ELElBQUk7QUFDeEQsK0NBQStDLElBQUk7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLCtCQUErQjtBQUNySDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxzREFBc0Q7QUFDakc7QUFDQTtBQUNBLG1EQUFtRCxxRUFBcUU7QUFDeEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4RkFBb0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix3QkFBd0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdIQUFnSCxNQUFNLHNCQUFzQix5QkFBeUIsc0VBQXNFO0FBQzNPLDRDQUE0QyxhQUFhLGlCQUFpQixlQUFlO0FBQ3pGLDhHQUE4RyxNQUFNLG1DQUFtQyxNQUFNLElBQUksZUFBZSxHQUFHLGVBQWU7QUFDbE0saUpBQWlKLE1BQU0sV0FBVyxRQUFRO0FBQzFLLDhFQUE4RSx3RUFBd0U7QUFDdEo7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxnSEFBZ0gsTUFBTSxzQkFBc0IseUJBQXlCLHNFQUFzRTtBQUMzTyw0Q0FBNEMsYUFBYSxpQkFBaUIsZUFBZTtBQUN6Riw4R0FBOEcsTUFBTSxtQ0FBbUMsTUFBTSxJQUFJLGVBQWUsR0FBRyxlQUFlO0FBQ2xNLGlKQUFpSixNQUFNLFdBQVcsUUFBUTtBQUMxSyw4RUFBOEUsd0VBQXdFO0FBQ3RKO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSx3RUFBd0U7QUFDako7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQztBQUFBO0FBQUE7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFO0FBQ3hFLGdCQUFnQixhQUFhLGlCQUFpQixlQUFlO0FBQzdEO0FBQ0EsU0FBUztBQUNULG9DQUFvQyxpQkFBaUI7QUFDckQsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwyQkFBMkIsMkJBQTJCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRTtBQUMzRSxtQkFBbUIsYUFBYSxpQkFBaUIsZUFBZTtBQUNoRTtBQUNBLHFCQUFxQjtBQUNyQixnREFBZ0QsaUJBQWlCO0FBQ2pFLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdQU1RvQmFpZHVQb2ludCB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9iYWlkdU1hcC9HUFNUb0JhaWR1UG9pbnQuQmFpZHVNYXAuanMnO1xyXG5pbXBvcnQgeyBCdHNWYWx1ZSB9IGZyb20gJy4uL2J0cy9CdHNWYWx1ZS5qcyc7XHJcbmltcG9ydCB7IERyYXdNdWx0aUJ0c092ZXJsYXkgfSBmcm9tICcuLi9vdmVybGF5L0RyYXdNdWx0aUJ0c092ZXJsYXkuanMnO1xyXG5pbXBvcnQgeyBEcmF3TXVsdGlCdHNBbmFseXNpcyB9IGZyb20gJy4uL292ZXJsYXkvRHJhd011bHRpQnRzQW5hbHlzaXMuanMnO1xyXG5pbXBvcnQgeyBEcmF3QnRzUHJlTG9ja092ZXJsYXkgfSBmcm9tICcuLi9vdmVybGF5L0RyYXdCdHNQcmVMb2NrT3ZlcmxheS5qcyc7XHJcblxyXG5cclxuLyoqXHJcbiAqIOWkjeWQiOWfuuermeino+aekOWkhOeQhlxyXG4gKiAxLuWwhk1hcOe7k+aehOeahOWfuuermeaVsOaNruaVtOeQhuaIkExpc3Tnu5PmnoTvvIzmoLnmja7ln7rnq5lJROaOkumHjVxyXG4gKiAyLuagueaNruWfuuermUlEK+WfuuermUdQU+WIpOaWreWfuuermeaYr+WQpumcgOimgee7mOWItuWcqOWcsOWbvuS4ilxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBhcnNpbmdNdWx0aUJ0c0luZm8ge1xyXG5cclxuICAgIHN0YXRpYyBwYXJzaW5nQnRzSW5mb3NNYXAoZGV2QnRzSW5mb3NNYXApIHtcclxuICAgICAgICAvKiDlkb3kuK3mrKHmlbDmuIXnkIYgKi9cclxuICAgICAgICAkKCcuYnRzLWhpdC1jb3VudCcpLmh0bWwoXCJcIik7XHJcbiAgICAgICAgLyog57uY5Yi25Z+656uZICovXHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIGRldkJ0c0luZm9zTWFwKSB7XHJcbiAgICAgICAgICAgIFBhcnNpbmdNdWx0aUJ0c0luZm8ucHJhc2luZ0J0c0luZm8oZGV2QnRzSW5mb3NNYXBba2V5XSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgYnRzSGl0SW5mb01hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICAvL+e7n+iuoeaJgOacieiuvuWkh+WRveS4reS/oeaBr+mbhuWQiGhpdFRpbWVz57Sv5YqgXHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIGRldkJ0c0luZm9zTWFwKSB7XHJcbiAgICAgICAgICAgIGxldCBidHNCYXNlSW5mbyA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgZGV2QnRzSW5mb3MgPSBkZXZCdHNJbmZvc01hcFtrZXldO1xyXG4gICAgICAgICAgICBsZXQgYnRzSW5mb3MgPSBkZXZCdHNJbmZvcy5idHNJbmZvcztcclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGJ0c0luZm9zKSB7XHJcbiAgICAgICAgICAgICAgICBidHNCYXNlSW5mby5wdXNoKHsgYnRzSWQ6IGtleSwgYnRzSW5mbzogSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShidHNJbmZvc1trZXldKSkgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidHNCYXNlSW5mby5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy9sZXQgYnRzSWQgPSBCdHNWYWx1ZS5idHNUYWcoYnRzQmFzZUluZm9baV0uYnRzSW5mby5tb2RlLCBidHNCYXNlSW5mb1tpXS5idHNJbmZvLm1jYywgYnRzQmFzZUluZm9baV0uYnRzSW5mby5tbmMsIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8ubGFjVGFjLCBidHNCYXNlSW5mb1tpXS5idHNJbmZvLnNpZCwgYnRzQmFzZUluZm9baV0uYnRzSW5mby5uaWQsIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uYmlkLCBidHNCYXNlSW5mb1tpXS5idHNJbmZvLmNlbGxJZCk7XHJcbiAgICAgICAgICAgICAgICAvL2J0c0Jhc2VJbmZvW2ldLmJ0c0lkID0gYnRzSWQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgYnRzSWQgPSBidHNCYXNlSW5mb1tpXS5idHNJZDtcclxuICAgICAgICAgICAgICAgIGlmIChidHNCYXNlSW5mb1tpXS5idHNJbmZvLmhpdFRpbWVzID4gMCB8fCBidHNCYXNlSW5mb1tpXS5idHNJbmZvLmRsSGl0VGltZXMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ0c0hpdEluZm9NYXAuZ2V0KGJ0c0lkKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0c0hpdEluZm9NYXAuc2V0KGJ0c0lkLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJ0c0hpdEluZm8gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGJ0c0hpdEluZm9NYXAuZ2V0KGJ0c0lkKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidHNIaXRJbmZvLmhpdFRpbWVzID0gYnRzSGl0SW5mby5oaXRUaW1lcyArIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uaGl0VGltZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0c0hpdEluZm8uZGxIaXRUaW1lcyA9IGJ0c0hpdEluZm8uZGxIaXRUaW1lcyArIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uZGxIaXRUaW1lcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRzSGl0SW5mb01hcC5zZXQoYnRzSWQsIGJ0c0hpdEluZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKiDnu5jliLblkb3kuK3kv6Hmga8gKi9cclxuICAgICAgICBpZiAoYnRzSGl0SW5mb01hcC5zaXplID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgb2YgYnRzSGl0SW5mb01hcC5rZXlzKCkpIHtcclxuICAgICAgICAgICAgICAgIGxldCBidHNIaXRJbmZvID0gYnRzSGl0SW5mb01hcC5nZXQoa2V5KTtcclxuICAgICAgICAgICAgICAgIGxldCBidHNJbmZvID0gYnRzSW5mb01hcC5nZXQoa2V5KTtcclxuICAgICAgICAgICAgICAgIGxldCBtdWx0aUJ0c0luZm8gPSBtdWx0aUJ0c0luZm9NYXAuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnRzSW5mbyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG11bHRpQnRzSW5mbyAhPSBudWxsICYmIG11bHRpQnRzSW5mby50eXBlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/ljZXln7rnq5lcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtrZXl9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1pbWctdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtY2xpY2stJHtrZXl9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1jbGljay11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtrZXl9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtY2xpY2stJHtrZXl9YCkuY3NzKCd6LWluZGV4JywgNjAwMCk7IC8vIHrovbTnva7pobZcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1oaXQtY291bnQtJHtrZXl9YCkuaHRtbChidHNIaXRJbmZvLmhpdFRpbWVzICsgXCIvXCIgKyBidHNIaXRJbmZvLmRsSGl0VGltZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWhpdC1jb3VudC1zaGFkb3ctJHtrZXl9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7a2V5fWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNpY29uaGl0LSR7YnRzSW5mby5tb2RlfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG11bHRpQnRzSW5mbyAhPSBudWxsICYmIG11bHRpQnRzSW5mby50eXBlID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/lpI3lkIjln7rnq5lcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtrZXl9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1pbWctdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtY2xpY2stJHtrZXl9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1jbGljay11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtrZXl9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtY2xpY2stJHtrZXl9YCkuY3NzKCd6LWluZGV4JywgNjAwMCk7IC8vIHrovbTnva7pobZcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJChgLm11bHRpLWJ0cy1oaXQtY291bnQtJHtrZXl9YCkuaHRtbChidHNIaXRJbmZvLmhpdFRpbWVzK1wiL1wiK2J0c0hpdEluZm8uZGxIaXRUaW1lcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7a2V5fWApLmF0dHIoJ3NyYycsIGBpbWcvbXVsdGlidHNpY29uL2J0c2ljb25oaXQtJHtidHNJbmZvLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+WtkOWbvuagh+a3u+WKoOagt+W8j1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2tleX1gKS5yZW1vdmVDbGFzcygnYnRzLWltZy11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtY2xpY2stJHtrZXl9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1jbGljay11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtrZXl9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWNsaWNrLSR7a2V5fWApLmNzcygnei1pbmRleCcsIDYwMDApOyAvLyB66L20572u6aG2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWhpdC1jb3VudC0ke2tleX1gKS5odG1sKGJ0c0hpdEluZm8uaGl0VGltZXMgKyBcIi9cIiArIGJ0c0hpdEluZm8uZGxIaXRUaW1lcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWhpdC1jb3VudC1zaGFkb3ctJHtrZXl9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7a2V5fWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNpY29uaGl0LSR7YnRzSW5mby5tb2RlfS5wbmdgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtdWx0aUJ0c0luZm8gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyZW50QnRzSWQgPSBidHNJbmZvLnBhcmVudEJ0c0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWltZy0ke3BhcmVudEJ0c0lkfWApLnJlbW92ZUNsYXNzKCdidHMtaW1nLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWNsaWNrLSR7cGFyZW50QnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1jbGljay11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtwYXJlbnRCdHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1jbGljay0ke3BhcmVudEJ0c0lkfWApLmNzcygnei1pbmRleCcsIDYwMDApOyAvLyB66L20572u6aG2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoYC5tdWx0aS1idHMtaGl0LWNvdW50LSR7cGFyZW50QnRzSWR9YCkuaHRtbChidHNIaXRJbmZvLmhpdFRpbWVzK1wiL1wiK2J0c0hpdEluZm8uZGxIaXRUaW1lcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7cGFyZW50QnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9tdWx0aWJ0c2ljb24vYnRzaWNvbmhpdC0ke2J0c0luZm8ubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5a2Q5Zu+5qCH5re75Yqg5qC35byPXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7a2V5fWApLnJlbW92ZUNsYXNzKCdidHMtaW1nLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktc3ViLWJ0cy1jbGljay0ke2tleX1gKS5yZW1vdmVDbGFzcygnYnRzLWNsaWNrLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2tleX1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtY2xpY2stJHtrZXl9YCkuY3NzKCd6LWluZGV4JywgNjAwMCk7IC8vIHrovbTnva7pobZcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtaGl0LWNvdW50LSR7a2V5fWApLmh0bWwoYnRzSGl0SW5mby5oaXRUaW1lcyArIFwiL1wiICsgYnRzSGl0SW5mby5kbEhpdFRpbWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtaGl0LWNvdW50LXNoYWRvdy0ke2tleX1gKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtrZXl9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2ljb25oaXQtJHtidHNJbmZvLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcHJhc2luZ0J0c0luZm8oZGV2QnRzSW5mb3MpIHtcclxuICAgICAgICBsZXQgYnRzQmFzZUluZm8gPSBbXTtcclxuICAgICAgICBsZXQgYnRzSW5mb3MgPSBkZXZCdHNJbmZvcy5idHNJbmZvcztcclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gYnRzSW5mb3MpIHtcclxuICAgICAgICAgICAgLy/mt7vliqDln7rnq5nlsZ7mgKd0eXBlPTHooajnpLrmma7pgJrln7rnq5l0eXBlPTLooajnpLrlpI3lkIjln7rnq5kgY2hpbGTooajnpLrlrZDln7rnq5npm4blkIhcclxuICAgICAgICAgICAgYnRzSW5mb3Nba2V5XVsndHlwZSddID0gMTtcclxuICAgICAgICAgICAgYnRzSW5mb3Nba2V5XVsnY2hpbGQnXSA9IFtdO1xyXG4gICAgICAgICAgICAvL+WfuuermeminOiJsueKtuaAgSA157qiKOW4pueJueaViCkgNOe6oiAz57KJ57qiIDLpu4QgMeiTnSAw54GwXHJcbiAgICAgICAgICAgIGJ0c0luZm9zW2tleV1bJ2NvbG9yJ10gPSAwO1xyXG4gICAgICAgICAgICAvL+eItuWfuuermUlEXHJcbiAgICAgICAgICAgIGJ0c0luZm9zW2tleV1bJ3BhcmVudEJ0c0lkJ10gPSAnJztcclxuICAgICAgICAgICAgLyoqIGFkZCBieSBzdW5iaW5nIHN0YXJ0ICovXHJcbiAgICAgICAgICAgIC8v5Z+656uZ6Kej5p6Q5p2l5rqQ77yI5aSN5ZCI5Z+656uZ5L2/55So77yJ6buY6K6k77yaMCDpooTplIHln7rnq5nvvJoxIOWRveS4reWfuuerme+8mjIgXHJcbiAgICAgICAgICAgIGJ0c0luZm9zW2tleV1bJ2FuYWx5c2lzU3JjJ10gPSAwO1xyXG4gICAgICAgICAgICAvL+Wfuuermeino+aekOadg+WAvFxyXG4gICAgICAgICAgICBidHNJbmZvc1trZXldWydhbmFseXNpc1ZhbHVlJ10gPSAwO1xyXG4gICAgICAgICAgICAvKiogYWRkIGJ5IHN1bmJpbmcgZW5kICovXHJcbiAgICAgICAgICAgIGJ0c0Jhc2VJbmZvLnB1c2goeyBidHNJZDoga2V5LCBidHNJbmZvOiBidHNJbmZvc1trZXldIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBQYXJzaW5nTXVsdGlCdHNJbmZvLmRyYXdCdHNMaXN0KGJ0c0Jhc2VJbmZvKTtcclxuICAgICAgICAvL+e7n+iuoeacquWcqOWcsOWbvuS4iue7mOWItueahOWfuuermembhuWQiFxyXG4gICAgICAgIGxldCB1bkV4aXN0QnRzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidHNCYXNlSW5mby5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgYnRzSWQgPSBCdHNWYWx1ZS5idHNUYWcoYnRzQmFzZUluZm9baV0uYnRzSW5mby5tb2RlLCBidHNCYXNlSW5mb1tpXS5idHNJbmZvLm1jYywgYnRzQmFzZUluZm9baV0uYnRzSW5mby5tbmMsIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8ubGFjVGFjLCBidHNCYXNlSW5mb1tpXS5idHNJbmZvLnNpZCwgYnRzQmFzZUluZm9baV0uYnRzSW5mby5uaWQsIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uYmlkLCBidHNCYXNlSW5mb1tpXS5idHNJbmZvLmNlbGxJZCk7XHJcbiAgICAgICAgICAgIGJ0c0Jhc2VJbmZvW2ldLmJ0c0lkID0gYnRzSWQ7XHJcbiAgICAgICAgICAgIGlmIChidHNJbmZvTWFwLmdldChidHNJZCkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgLy/mo4Dmn6Xln7rnq5nlsZ7mgKfmmK/lkKbljIXlkKtHUFPkv6Hmga9cclxuICAgICAgICAgICAgICAgIGxldCBsbmcgPSBidHNCYXNlSW5mb1tpXS5idHNJbmZvLmxuZztcclxuICAgICAgICAgICAgICAgIGxldCBsYXQgPSBidHNCYXNlSW5mb1tpXS5idHNJbmZvLmxhdDtcclxuICAgICAgICAgICAgICAgIGlmIChsbmcgJiYgbG5nICE9ICcnICYmIHR5cGVvZiAobG5nKSAhPSB1bmRlZmluZWQgJiYgbGF0ICYmIGxhdCAhPSAnJyAmJiB0eXBlb2YgKGxhdCkgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5FeGlzdEJ0cy5wdXNoKGJ0c0Jhc2VJbmZvW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhhbmRsZUJ0c1RvRHJhdyh1bkV4aXN0QnRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIDEu5bCG5Z+656uZ5Y6f5aeL5Z2Q5qCH6L2s5o2i5oiQ55m+5bqm5Z2Q5qCHXHJcbiAgICAgKiAyLuagueaNruWfuuermei3neemu+eUn+aIkOWkjeWQiOWfuuermVxyXG4gICAgICogMy7osIPnlKjnu5jliLbln7rnq5nmlrnms5VcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGhhbmRsZUJ0c1RvRHJhdyhzcmNCdHNJbmZvTWFwKSB7XHJcbiAgICAgICAgUGFyc2luZ011bHRpQnRzSW5mby5kcmF3QnRzTGlzdChzcmNCdHNJbmZvTWFwKTtcclxuICAgICAgICBpZiAoc3JjQnRzSW5mb01hcC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIC8v5Z2Q5qCH6L2s5o2iXHJcbiAgICAgICAgICAgIGxldCBwb2ludEFycmF5ID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3JjQnRzSW5mb01hcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxuZyA9IHNyY0J0c0luZm9NYXBbaV0uYnRzSW5mby5sbmc7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGF0ID0gc3JjQnRzSW5mb01hcFtpXS5idHNJbmZvLmxhdDtcclxuICAgICAgICAgICAgICAgIGxldCBwb2ludCA9IFtsbmcsIGxhdF07XHJcbiAgICAgICAgICAgICAgICBwb2ludEFycmF5LnB1c2gocG9pbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBidHNCZFBvaW50cyA9IEdQU1RvQmFpZHVQb2ludC5nZXRCYWlkdVBvaW50TG9jYXRpb24ocG9pbnRBcnJheSk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnRzQmRQb2ludHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHNyY0J0c0luZm9NYXBbaV0uYnRzSW5mby5sbmcgPSBidHNCZFBvaW50c1tpXS5sbmc7XHJcbiAgICAgICAgICAgICAgICBzcmNCdHNJbmZvTWFwW2ldLmJ0c0luZm8ubGF0ID0gYnRzQmRQb2ludHNbaV0ubGF0O1xyXG4gICAgICAgICAgICAgICAgLyog5L+d5a2Y6IezbWFwKi9cclxuICAgICAgICAgICAgICAgIC8vc3JjQnRzSW5mb01hcFtpXS5idHNJbmZvLmJ0c0lkID0gc3JjQnRzSW5mb01hcFtpXS5idHNJZDtcclxuICAgICAgICAgICAgICAgIGlmIChidHNJbmZvTWFwLmdldChzcmNCdHNJbmZvTWFwW2ldLmJ0c0lkKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRzSW5mb01hcC5zZXQoc3JjQnRzSW5mb01hcFtpXS5idHNJZCwgc3JjQnRzSW5mb01hcFtpXS5idHNJbmZvKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG11bHRpQnRzTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAvL+WfuuermemihOetm+mAie+8jOWwhuS4tOi/keeahOWfuuermeWQiOaIkOWkjeWQiOWfuuermVxyXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgb2YgYnRzSW5mb01hcC5rZXlzKCkpIHtcclxuICAgICAgICAgICAgICAgIGxldCBidHNJbmZvID0gYnRzSW5mb01hcC5nZXQoa2V5KTtcclxuICAgICAgICAgICAgICAgIGxldCBsbmdOZXcgPSBidHNJbmZvLmxuZztcclxuICAgICAgICAgICAgICAgIGxldCBsYXROZXcgPSBidHNJbmZvLmxhdDtcclxuICAgICAgICAgICAgICAgIGlmIChtdWx0aUJ0c0xpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbXVsdGlCdHNMaXN0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsbmcgPSBtdWx0aUJ0c0xpc3Rbal0ubG5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGF0ID0gbXVsdGlCdHNMaXN0W2pdLmxhdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcC5nZXREaXN0YW5jZShuZXcgQk1hcC5Qb2ludChsbmcsIGxhdCksIG5ldyBCTWFwLlBvaW50KGxuZ05ldywgbGF0TmV3KSkgPCA1MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG11bHRpQnRzTGlzdFtpbmRleF0udHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WmguaenOaYr+WNleWfuuermei9rOWkjeWQiOWfuuermVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNsZkJ0cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobXVsdGlCdHNMaXN0W2luZGV4XSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xmQnRzLnBhcmVudEJ0c0lkID0gbXVsdGlCdHNMaXN0W2luZGV4XS5idHNJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpQnRzTGlzdFtpbmRleF0uY2hpbGQucHVzaChzbGZCdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlCdHNMaXN0W2luZGV4XS50eXBlID0gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0c0luZm8ucGFyZW50QnRzSWQgPSBtdWx0aUJ0c0xpc3RbaW5kZXhdLmJ0c0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBCdHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGJ0c0luZm8pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpQnRzTGlzdFtpbmRleF0uY2hpbGQucHVzaCh0ZW1wQnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5aaC5p6c5bey57uP5piv5aSN5ZCI5Z+656uZXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidHNJbmZvLnBhcmVudEJ0c0lkID0gbXVsdGlCdHNMaXN0W2luZGV4XS5idHNJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wQnRzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShidHNJbmZvKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aUJ0c0xpc3RbaW5kZXhdLmNoaWxkLnB1c2godGVtcEJ0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidHNJbmZvLnBhcmVudEJ0c0lkID0gYnRzSW5mby5idHNJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBCdHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGJ0c0luZm8pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlCdHNMaXN0LnB1c2godGVtcEJ0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBidHNJbmZvLnBhcmVudEJ0c0lkID0gYnRzSW5mby5idHNJZDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcEJ0cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYnRzSW5mbykpO1xyXG4gICAgICAgICAgICAgICAgICAgIG11bHRpQnRzTGlzdC5wdXNoKHRlbXBCdHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL+WcsOWbvuS4iue7mOWItuWkjeWQiOWfuuermVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG11bHRpQnRzTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy/kvb/nlKhKU09O5a+56LGh5YWL6ZqG77yManPmlLnlj5jmlrDlr7nosaHnmoTlgLzkuI3lvbHlk43lvJXnlKjlr7nosaHnmoTlgLxcclxuICAgICAgICAgICAgICAgIGxldCBtdWx0aUJ0cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobXVsdGlCdHNMaXN0W2ldKSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgYnRzSWQgPSBtdWx0aUJ0cy5idHNJZDtcclxuICAgICAgICAgICAgICAgIGlmIChtdWx0aUJ0c0luZm9NYXAuZ2V0KGJ0c0lkKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/nu5jliLbln7rnq5lcclxuICAgICAgICAgICAgICAgICAgICBEcmF3TXVsdGlCdHNPdmVybGF5LmRyYXdCdHMobXVsdGlCdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5re75Yqg5Yiw57yT5a2YXHJcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlCdHNJbmZvTWFwLnNldChidHNJZCwgbXVsdGlCdHMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtdWx0aUJ0c0luZm9NYXAuZ2V0KGJ0c0lkKSAhPSBudWxsICYmIG11bHRpQnRzSW5mb01hcC5nZXQoYnRzSWQpLnR5cGUgPT0gMSAmJiBtdWx0aUJ0cy50eXBlID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+WOn+WFiOWcsOWbvuS4iuaYr+WNleWfuuermeWbvueJh++8jOeOsOWcqOimgeaYvuekuuWkjeWQiOWfuuermeWbvuagh1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5YWI56e76Zmk5Y6f5Zu+5qCH77yM5YaN57uY5Yi25paw5Zu+5qCHXHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkoYnRzRGl2TWFwLmdldChidHNJZCkuYnRzQ292ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0c0Rpdk1hcC5nZXQoYnRzSWQpLmJ0c0NvdmVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAvL+e7mOWItuWfuuermVxyXG4gICAgICAgICAgICAgICAgICAgIERyYXdNdWx0aUJ0c092ZXJsYXkuZHJhd0J0cyhtdWx0aUJ0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/mt7vliqDliLDnvJPlrZhcclxuICAgICAgICAgICAgICAgICAgICBtdWx0aUJ0c0luZm9NYXAuc2V0KGJ0c0lkLCBtdWx0aUJ0cyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG11bHRpQnRzSW5mb01hcC5nZXQoYnRzSWQpICE9IG51bGwgJiYgbXVsdGlCdHNJbmZvTWFwLmdldChidHNJZCkudHlwZSA9PSAyICYmIG11bHRpQnRzSW5mb01hcC5nZXQoYnRzSWQpLmNoaWxkLmxlbmd0aCAhPSBtdWx0aUJ0cy5jaGlsZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+WOn+acrOaYr+WkjeWQiOWfuuerme+8jOS9huaYr+aWsOWinuS6huWtkOWfuuermSzph43nu5jln7rnq5lcclxuICAgICAgICAgICAgICAgICAgICBtYXAucmVtb3ZlT3ZlcmxheShidHNEaXZNYXAuZ2V0KGJ0c0lkKS5idHNDb3Zlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRzRGl2TWFwLmdldChidHNJZCkuYnRzQ292ZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIC8v57uY5Yi25Z+656uZXHJcbiAgICAgICAgICAgICAgICAgICAgRHJhd011bHRpQnRzT3ZlcmxheS5kcmF3QnRzKG11bHRpQnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAvL+a3u+WKoOWIsOe8k+WtmFxyXG4gICAgICAgICAgICAgICAgICAgIG11bHRpQnRzSW5mb01hcC5zZXQoYnRzSWQsIG11bHRpQnRzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAvL+mihOmUgeWfuuermVxyXG4gICAgc3RhdGljIHNob3dQcmVMb2NrQ2VsbCgpIHtcclxuXHJcbiAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRldlByZUxvY2tDZWxsQ2xlYXJJbmZvc0NhY2hlKS5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gZGV2UHJlTG9ja0NlbGxDbGVhckluZm9zQ2FjaGUpIHtcclxuICAgICAgICAgICAgICAgIGxldCBidHNJbmZvID0gYnRzSW5mb01hcC5nZXQoa2V5KTtcclxuICAgICAgICAgICAgICAgIGxldCBtdWx0aUJ0c0luZm8gPSBtdWx0aUJ0c0luZm9NYXAuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnRzSW5mb01hcC5nZXQoa2V5KSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG11bHRpQnRzSW5mbyAhPSBudWxsICYmIG11bHRpQnRzSW5mby50eXBlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoYC5idHMtaW1nLSR7a2V5fWApLmhhc0NsYXNzKCdidHMtaW1nLXVuaGl0JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7a2V5fWApLmFkZENsYXNzKCdwcm9Mb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2tleX1gKS5hdHRyKCdzcmMnLCBgaW1nL2J0c2ljb24vYnRzaWNvbi0ke2RldlByZUxvY2tDZWxsQ2xlYXJJbmZvc0NhY2hlW2tleV19LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1hY3RpdmUtaW1nLSR7a2V5fWApLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7a2V5fWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNpY29uaGl0LSR7ZGV2UHJlTG9ja0NlbGxDbGVhckluZm9zQ2FjaGVba2V5XX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWFjdGl2ZS1pbWctJHtrZXl9YCkuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtdWx0aUJ0c0luZm8gIT0gbnVsbCAmJiBtdWx0aUJ0c0luZm8udHlwZSA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5aSN5Z+656uZXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKGAubXVsdGktYnRzLWltZy0ke2tleX1gKS5oYXNDbGFzcygnYnRzLWltZy11bmhpdCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWltZy0ke2tleX1gKS5hZGRDbGFzcygncHJvTG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtrZXl9YCkuYXR0cignc3JjJywgYGltZy9tdWx0aWJ0c2ljb24vYnRzaWNvbi0ke2RldlByZUxvY2tDZWxsQ2xlYXJJbmZvc0NhY2hlW2tleV19LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1hY3RpdmUtaW1nLSR7a2V5fWApLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7a2V5fWApLmF0dHIoJ3NyYycsIGBpbWcvbXVsdGlidHNpY29uL2J0c2ljb25oaXQtJHtkZXZQcmVMb2NrQ2VsbENsZWFySW5mb3NDYWNoZVtrZXldfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtYWN0aXZlLWltZy0ke2tleX1gKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKGAuYnRzLWltZy0ke2tleX1gKS5oYXNDbGFzcygnYnRzLWltZy11bmhpdCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2tleX1gKS5hZGRDbGFzcygncHJvTG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtrZXl9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2ljb24tJHtkZXZQcmVMb2NrQ2VsbENsZWFySW5mb3NDYWNoZVtrZXldfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYWN0aXZlLWltZy0ke2tleX1gKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2tleX1gKS5hdHRyKCdzcmMnLCBgaW1nL2J0c2ljb24vYnRzaWNvbmhpdC0ke2RldlByZUxvY2tDZWxsQ2xlYXJJbmZvc0NhY2hlW2tleV19LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1hY3RpdmUtaW1nLSR7a2V5fWApLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG11bHRpQnRzSW5mbyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnRCdHNJZCA9IGJ0c0luZm8ucGFyZW50QnRzSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJChgLm11bHRpLWJ0cy1pbWctJHtwYXJlbnRCdHNJZH1gKS5oYXNDbGFzcygnYnRzLWltZy11bmhpdCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWltZy0ke3BhcmVudEJ0c0lkfWApLmFkZENsYXNzKCdwcm9Mb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWltZy0ke3BhcmVudEJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvbXVsdGlidHNpY29uL2J0c2ljb24tJHtkZXZQcmVMb2NrQ2VsbENsZWFySW5mb3NDYWNoZVtrZXldfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtYWN0aXZlLWltZy0ke3BhcmVudEJ0c0lkfWApLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7cGFyZW50QnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9tdWx0aWJ0c2ljb24vYnRzaWNvbmhpdC0ke2RldlByZUxvY2tDZWxsQ2xlYXJJbmZvc0NhY2hlW2tleV19LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1hY3RpdmUtaW1nLSR7cGFyZW50QnRzSWR9YCkuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJChgLmJ0cy1pbWctJHtrZXl9YCkuaGFzQ2xhc3MoJ2J0cy1pbWctdW5oaXQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtrZXl9YCkuYWRkQ2xhc3MoJ3Byb0xvY2snKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7a2V5fWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNpY29uLSR7ZGV2UHJlTG9ja0NlbGxDbGVhckluZm9zQ2FjaGVba2V5XX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktc3ViLWFjdGl2ZS1pbWctJHtrZXl9YCkuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtrZXl9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2ljb25oaXQtJHtkZXZQcmVMb2NrQ2VsbENsZWFySW5mb3NDYWNoZVtrZXldfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYWN0aXZlLWltZy0ke2tleX1gKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkoZGV2UHJlTG9ja0NlbGxDbGVhckluZm9zQ2FjaGVba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGV2UHJlTG9ja0NlbGxDbGVhckluZm9zQ2FjaGUgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyog6K6+572u6aKc6Imy5oiW57uY5Yi255uu5qCH5Z+656uZKi9cclxuICAgICAgICBkZXZQcmVMb2NrQ2VsbEluZm9zQ2FjaGUuZm9yRWFjaCgoZWFjaFByZUxvY2tCdHMpID0+IHtcclxuICAgICAgICAgICAgaWYgKGJ0c0luZm9NYXAuZ2V0KGVhY2hQcmVMb2NrQnRzLmJ0c0lkKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYnRzSW5mbyA9IGJ0c0luZm9NYXAuZ2V0KGVhY2hQcmVMb2NrQnRzLmJ0c0lkKTtcclxuICAgICAgICAgICAgICAgIGxldCBtdWx0aUJ0c0luZm8gPSBtdWx0aUJ0c0luZm9NYXAuZ2V0KGVhY2hQcmVMb2NrQnRzLmJ0c0lkKTtcclxuICAgICAgICAgICAgICAgIGlmIChtdWx0aUJ0c0luZm8gIT0gbnVsbCAmJiBtdWx0aUJ0c0luZm8udHlwZSA9PSAxKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKGAuYnRzLWltZy0ke2VhY2hQcmVMb2NrQnRzLmJ0c0lkfWApLmhhc0NsYXNzKCdidHMtaW1nLXVuaGl0JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtlYWNoUHJlTG9ja0J0cy5idHNJZH1gKS5hZGRDbGFzcygncHJvTG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2VhY2hQcmVMb2NrQnRzLmJ0c0lkfWApLnJlbW92ZUNsYXNzKCdncmF5LWNvdmVyJyk7IC8vIOWOu+mZpOeBsOiJsua7pOmVnFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWNsaWNrLSR7ZWFjaFByZUxvY2tCdHMuYnRzSWR9YCkuY3NzKCd6LWluZGV4JywgNjAwMCk7IC8vIHrovbTnva7pobZcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtlYWNoUHJlTG9ja0J0cy5idHNJZH1gKS5hdHRyKCdzcmMnLCBgaW1nL2J0c2ljb24vYnRzaWNvbnRhcmdldC0ke2VhY2hQcmVMb2NrQnRzLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWFjaFByZUxvY2tCdHMudHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWFjdGl2ZS1pbWctJHtlYWNoUHJlTG9ja0J0cy5idHNJZH1gKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2UHJlTG9ja0NlbGxDbGVhckluZm9zQ2FjaGVbZWFjaFByZUxvY2tCdHMuYnRzSWRdID0gZWFjaFByZUxvY2tCdHMubW9kZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG11bHRpQnRzSW5mbyAhPSBudWxsICYmIG11bHRpQnRzSW5mby50eXBlID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJChgLm11bHRpLWJ0cy1pbWctJHtlYWNoUHJlTG9ja0J0cy5idHNJZH1gKS5oYXNDbGFzcygnYnRzLWltZy11bmhpdCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7ZWFjaFByZUxvY2tCdHMuYnRzSWR9YCkuYWRkQ2xhc3MoJ3Byb0xvY2snKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtlYWNoUHJlTG9ja0J0cy5idHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1jbGljay0ke2VhY2hQcmVMb2NrQnRzLmJ0c0lkfWApLmNzcygnei1pbmRleCcsIDYwMDApOyAvLyB66L20572u6aG2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7ZWFjaFByZUxvY2tCdHMuYnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9tdWx0aWJ0c2ljb24vYnRzaWNvbnRhcmdldC0ke2VhY2hQcmVMb2NrQnRzLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWFjaFByZUxvY2tCdHMudHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWFjdGl2ZS1pbWctJHtlYWNoUHJlTG9ja0J0cy5idHNJZH1gKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQoYC5idHMtaW1nLSR7ZWFjaFByZUxvY2tCdHMuYnRzSWR9YCkuaGFzQ2xhc3MoJ2J0cy1pbWctdW5oaXQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2VhY2hQcmVMb2NrQnRzLmJ0c0lkfWApLmFkZENsYXNzKCdwcm9Mb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZWFjaFByZUxvY2tCdHMuYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWNsaWNrLSR7ZWFjaFByZUxvY2tCdHMuYnRzSWR9YCkuY3NzKCd6LWluZGV4JywgNjAwMCk7IC8vIHrovbTnva7pobZcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtlYWNoUHJlTG9ja0J0cy5idHNJZH1gKS5hdHRyKCdzcmMnLCBgaW1nL2J0c2ljb24vYnRzaWNvbnRhcmdldC0ke2VhY2hQcmVMb2NrQnRzLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWFjaFByZUxvY2tCdHMudHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktc3ViLWFjdGl2ZS1pbWctJHtlYWNoUHJlTG9ja0J0cy5idHNJZH1gKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2UHJlTG9ja0NlbGxDbGVhckluZm9zQ2FjaGVbZWFjaFByZUxvY2tCdHMuYnRzSWRdID0gZWFjaFByZUxvY2tCdHMubW9kZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG11bHRpQnRzSW5mbyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmVudEJ0c0lkID0gYnRzSW5mby5wYXJlbnRCdHNJZDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJChgLm11bHRpLWJ0cy1pbWctJHtwYXJlbnRCdHNJZH1gKS5oYXNDbGFzcygnYnRzLWltZy11bmhpdCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7cGFyZW50QnRzSWR9YCkuYWRkQ2xhc3MoJ3Byb0xvY2snKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtwYXJlbnRCdHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1jbGljay0ke3BhcmVudEJ0c0lkfWApLmNzcygnei1pbmRleCcsIDYwMDApOyAvLyB66L20572u6aG2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7cGFyZW50QnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9tdWx0aWJ0c2ljb24vYnRzaWNvbnRhcmdldC0ke2VhY2hQcmVMb2NrQnRzLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWFjaFByZUxvY2tCdHMudHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWFjdGl2ZS1pbWctJHtwYXJlbnRCdHNJZH1gKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKGAuYnRzLWltZy0ke2VhY2hQcmVMb2NrQnRzLmJ0c0lkfWApLmhhc0NsYXNzKCdidHMtaW1nLXVuaGl0JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtlYWNoUHJlTG9ja0J0cy5idHNJZH1gKS5hZGRDbGFzcygncHJvTG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2VhY2hQcmVMb2NrQnRzLmJ0c0lkfWApLnJlbW92ZUNsYXNzKCdncmF5LWNvdmVyJyk7IC8vIOWOu+mZpOeBsOiJsua7pOmVnFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktc3ViLWJ0cy1jbGljayR7ZWFjaFByZUxvY2tCdHMuYnRzSWR9YCkuY3NzKCd6LWluZGV4JywgNjAwMCk7IC8vIHrovbTnva7pobZcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtlYWNoUHJlTG9ja0J0cy5idHNJZH1gKS5hdHRyKCdzcmMnLCBgaW1nL2J0c2ljb24vYnRzaWNvbnRhcmdldC0ke2VhY2hQcmVMb2NrQnRzLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWFjaFByZUxvY2tCdHMudHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktc3ViLWFjdGl2ZS1pbWctJHtlYWNoUHJlTG9ja0J0cy5idHNJZH1gKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2UHJlTG9ja0NlbGxDbGVhckluZm9zQ2FjaGVbZWFjaFByZUxvY2tCdHMuYnRzSWRdID0gZWFjaFByZUxvY2tCdHMubW9kZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8v5Zyw5Zu+5LiK5rKh5pyJ5b2T5YmN6aKE6ZSB5Z+656uZ77yM6ZyA6KaB5qOA5p+l6aKE6ZSB5Z+656uZ6ZmE6L+R5piv5ZCm5pyJ5Z+656uZ77yI5LiObXVsdGlCdHNJbmZvTWFw57yT5a2Y5Z+656uZ5L+h5oGv5a+55q+U77yJ77yM6Kej5Yaz6aKE6ZSB5Z+656uZ6KaG55uW5LmL5YmN5Z+656uZ5L2N572u5byV6LW355qEYnVnXHJcbiAgICAgICAgICAgICAgICBsZXQgZHJhd0ZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IHByZUxvY2tCdHNMbmcgPSBlYWNoUHJlTG9ja0J0cy5sbmc7XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJlTG9ja0J0c0xhdCA9IGVhY2hQcmVMb2NrQnRzLmxhdDtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBvZiBtdWx0aUJ0c0luZm9NYXAua2V5cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJ0c0luZm8gPSBtdWx0aUJ0c0luZm9NYXAuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGUgPSBidHNJbmZvLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxuZyA9IGJ0c0luZm8ubG5nO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXQgPSBidHNJbmZvLmxhdDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXN0YW5jZSA9IG1hcC5nZXREaXN0YW5jZShuZXcgQk1hcC5Qb2ludChwcmVMb2NrQnRzTG5nLCBwcmVMb2NrQnRzTGF0KSwgbmV3IEJNYXAuUG9pbnQobG5nLCBsYXQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgNTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YUxpc3QgPSBlYWNoUHJlTG9ja0J0cy5idHNJZC5zcGxpdChcIi1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoUHJlTG9ja0J0cy5tY2MgPSBkYXRhTGlzdFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhY2hQcmVMb2NrQnRzLm1uYyA9IGRhdGFMaXN0WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFjaFByZUxvY2tCdHMubGFjVGFjID0gZGF0YUxpc3RbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoUHJlTG9ja0J0cy5jZWxsSWQgPSBkYXRhTGlzdFszXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcmVMb2NrQnRzT2ZNdWx0aUJ0cyA9IFBhcnNpbmdNdWx0aUJ0c0luZm8uRm9ybWF0QnRzRGF0YShlYWNoUHJlTG9ja0J0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVMb2NrQnRzT2ZNdWx0aUJ0cy5wYXJlbnRCdHNJZCA9IGJ0c0luZm8uYnRzSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVMb2NrQnRzT2ZNdWx0aUJ0cy50eXBlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0c0luZm8uY2hpbGQucHVzaChwcmVMb2NrQnRzT2ZNdWx0aUJ0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAucmVtb3ZlT3ZlcmxheShidHNEaXZNYXAuZ2V0KGJ0c0luZm8uYnRzSWQpLmJ0c0NvdmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0c0Rpdk1hcC5nZXQoYnRzSW5mby5idHNJZCkuYnRzQ292ZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/nu5jliLbln7rnq5lcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyYXdNdWx0aUJ0c092ZXJsYXkuZHJhd0J0cyhidHNJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5re75Yqg5Yiw57yT5a2YXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aUJ0c0luZm9NYXAuc2V0KGJ0c0luZm8uYnRzSWQsIGJ0c0luZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRzSW5mb01hcC5zZXQoZWFjaFByZUxvY2tCdHMuYnRzSWQsIHByZUxvY2tCdHNPZk11bHRpQnRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5bCG5b2T5YmN5aSN5ZCI5Z+656uZ5Zu+5qCH6K6+572u5oiQ6aKE6ZSB5Z+656uZ5Zu+5qCH77yM5bm25Zyo5a2Q5Z+656uZ5re75Yqg5b2T5YmN6aKE6ZSB5Z+656uZ5L+h5oGvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJChgLm11bHRpLWJ0cy1pbWctJHtwcmVMb2NrQnRzT2ZNdWx0aUJ0cy5wYXJlbnRCdHNJZH1gKS5oYXNDbGFzcygnYnRzLWltZy11bmhpdCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtwcmVMb2NrQnRzT2ZNdWx0aUJ0cy5wYXJlbnRCdHNJZH1gKS5hZGRDbGFzcygncHJvTG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7cHJlTG9ja0J0c09mTXVsdGlCdHMucGFyZW50QnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1jbGljay0ke3ByZUxvY2tCdHNPZk11bHRpQnRzLnBhcmVudEJ0c0lkfWApLmNzcygnei1pbmRleCcsIDYwMDApOyAvLyB66L20572u6aG2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtwcmVMb2NrQnRzT2ZNdWx0aUJ0cy5wYXJlbnRCdHNJZH1gKS5hdHRyKCdzcmMnLCBgaW1nL211bHRpYnRzaWNvbi9idHNpY29udGFyZ2V0LSR7ZWFjaFByZUxvY2tCdHMubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVhY2hQcmVMb2NrQnRzLnR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWFjdGl2ZS1pbWctJHtwcmVMb2NrQnRzT2ZNdWx0aUJ0cy5wYXJlbnRCdHNJZH1gKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoYC5idHMtaW1nLSR7ZWFjaFByZUxvY2tCdHMuYnRzSWR9YCkuaGFzQ2xhc3MoJ2J0cy1pbWctdW5oaXQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZWFjaFByZUxvY2tCdHMuYnRzSWR9YCkuYWRkQ2xhc3MoJ3Byb0xvY2snKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2VhY2hQcmVMb2NrQnRzLmJ0c0lkfWApLnJlbW92ZUNsYXNzKCdncmF5LWNvdmVyJyk7IC8vIOWOu+mZpOeBsOiJsua7pOmVnFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWNsaWNrLSR7ZWFjaFByZUxvY2tCdHMuYnRzSWR9YCkuY3NzKCd6LWluZGV4JywgNjAwMCk7IC8vIHrovbTnva7pobZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2VhY2hQcmVMb2NrQnRzLmJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNpY29udGFyZ2V0LSR7ZWFjaFByZUxvY2tCdHMubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVhY2hQcmVMb2NrQnRzLnR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktc3ViLWFjdGl2ZS1pbWctJHtlYWNoUHJlTG9ja0J0cy5idHNJZH1gKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldlByZUxvY2tDZWxsQ2xlYXJJbmZvc0NhY2hlW2VhY2hQcmVMb2NrQnRzLmJ0c0lkXSA9IGVhY2hQcmVMb2NrQnRzLm1vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkcmF3RmxhZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVhY2hQcmVMb2NrQnRzLmlzSW5mb1BhbmVsT3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGVhY2hQcmVMb2NrQnRzLmlzUmFkaXVzT3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGVhY2hQcmVMb2NrQnRzLm5lZWREcmF3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBidHNJbmZvTWFwLnNldChlYWNoUHJlTG9ja0J0cy5idHNJZCwgZWFjaFByZUxvY2tCdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIERyYXdCdHNQcmVMb2NrT3ZlcmxheS5kcmF3QnRzKGVhY2hQcmVMb2NrQnRzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWFjaFByZUxvY2tCdHMudHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtYWN0aXZlLWltZy0ke2VhY2hQcmVMb2NrQnRzLmJ0c0lkfWApLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGRldlByZUxvY2tDZWxsTGluZUNhY2hlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkoZGV2UHJlTG9ja0NlbGxMaW5lQ2FjaGUpO1xyXG4gICAgICAgICAgICBkZXZQcmVMb2NrQ2VsbExpbmVDYWNoZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIOe7mOWItue6ouiJsui3r+W+hCovXHJcbiAgICAgICAgZGV2SW5mb01hcC5mb3JFYWNoKChlYWNoRGV2SW5mbykgPT4ge1xyXG4gICAgICAgICAgICAvKiDnm67moIflsI/ljLoqL1xyXG4gICAgICAgICAgICBpZiAoZWFjaERldkluZm8uZGV2VHlwZSA9PSAxICYmIGRldlByZUxvY2tDZWxsSW5mb3NDYWNoZS5zaXplICE9IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBwcmVMb2NrQ2VsbFBvaW50O1xyXG4gICAgICAgICAgICAgICAgbGV0IGxuZ0FsbCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGF0QWxsID0gMDtcclxuICAgICAgICAgICAgICAgIGRldlByZUxvY2tDZWxsSW5mb3NDYWNoZS5mb3JFYWNoKChlYWNoUHJlTG9ja0J0cykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxuZ0FsbCA9IGxuZ0FsbCArIE51bWJlcihlYWNoUHJlTG9ja0J0cy5sbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhdEFsbCA9IGxhdEFsbCArIE51bWJlcihlYWNoUHJlTG9ja0J0cy5sYXQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBwcmVMb2NrQ2VsbFBvaW50ID0geyBsbmc6IGxuZ0FsbCAvIGRldlByZUxvY2tDZWxsSW5mb3NDYWNoZS5zaXplLCBsYXQ6IGxhdEFsbCAvIGRldlByZUxvY2tDZWxsSW5mb3NDYWNoZS5zaXplIH07XHJcbiAgICAgICAgICAgICAgICBsZXQgYmFpZHVHcHNJbmZvID0gR1BTVG9CYWlkdVBvaW50LmdldEJhaWR1UG9pbnRMb2NhdGlvbihbW2VhY2hEZXZJbmZvLmdwc0luZm8ubG5nLCBlYWNoRGV2SW5mby5ncHNJbmZvLmxhdF1dKVswXTtcclxuICAgICAgICAgICAgICAgIGlmIChtYXAuZ2V0RGlzdGFuY2UobmV3IEJNYXAuUG9pbnQoYmFpZHVHcHNJbmZvLmxuZywgYmFpZHVHcHNJbmZvLmxhdCksIG5ldyBCTWFwLlBvaW50KHByZUxvY2tDZWxsUG9pbnQubG5nLCBwcmVMb2NrQ2VsbFBvaW50LmxhdCkpID4gNTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRldlByZUxvY2tDZWxsTGluZSA9IG5ldyBCTWFwLlBvbHlsaW5lKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJNYXAuUG9pbnQocHJlTG9ja0NlbGxQb2ludC5sbmcsIHByZUxvY2tDZWxsUG9pbnQubGF0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJNYXAuUG9pbnQoYmFpZHVHcHNJbmZvLmxuZywgYmFpZHVHcHNJbmZvLmxhdCksXHJcbiAgICAgICAgICAgICAgICAgICAgXSwgeyBzdHJva2VDb2xvcjogJ3JlZCcsIHN0cm9rZVdlaWdodDogMSwgc3Ryb2tlT3BhY2l0eTogMSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGV2UHJlTG9ja0NlbGxMaW5lQ2FjaGUgPSBkZXZQcmVMb2NrQ2VsbExpbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmFkZE92ZXJsYXkoZGV2UHJlTG9ja0NlbGxMaW5lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICBzdGF0aWMgRm9ybWF0QnRzRGF0YShkYXRhKSB7XHJcbiAgICAgICAgbGV0IGJ0c0luZm8gPSB7IGJ0c0lkOiBudWxsLCBtY2M6IG51bGwsIG1uYzogbnVsbCwgbW9kZTogbnVsbCwgbGFjVGFjOiBudWxsLCBjZWxsSWQ6IG51bGwsIHNpZDogbnVsbCwgbmlkOiBudWxsLCBiaWQ6IG51bGwsIGxuZzogbnVsbCwgbGF0OiBudWxsLCByYWRpdXM6IG51bGwsIGNyZWRpYmlsaXR5OiBudWxsLCB0aW1lOiBudWxsLCByZXBvcnRUaW1lOiBudWxsLCBjcmVhdGVUaW1lOiBudWxsIH07XHJcbiAgICAgICAgYnRzSW5mby5idHNJZCA9IGRhdGEuYnRzSWQ7XHJcbiAgICAgICAgYnRzSW5mby5tY2MgPSBkYXRhLm1jYztcclxuICAgICAgICBidHNJbmZvLm1uYyA9IGRhdGEubW5jO1xyXG4gICAgICAgIGJ0c0luZm8ubW9kZSA9IGRhdGEubW9kZTtcclxuICAgICAgICBidHNJbmZvLmxhY1RhYyA9IGRhdGEubGFjVGFjO1xyXG4gICAgICAgIGJ0c0luZm8uY2VsbElkID0gZGF0YS5jZWxsSWQ7XHJcbiAgICAgICAgYnRzSW5mby5zaWQgPSBkYXRhLnNpZDtcclxuICAgICAgICBidHNJbmZvLm5pZCA9IGRhdGEubmlkO1xyXG4gICAgICAgIGJ0c0luZm8uYmlkID0gZGF0YS5iaWQ7XHJcbiAgICAgICAgYnRzSW5mby5sbmcgPSBkYXRhLmxuZztcclxuICAgICAgICBidHNJbmZvLmxhdCA9IGRhdGEubGF0O1xyXG4gICAgICAgIGJ0c0luZm8ucmFkaXVzID0gZGF0YS5yYWRpdXM7XHJcbiAgICAgICAgYnRzSW5mby5jcmVkaWJpbGl0eSA9IGRhdGEuY3JlZGliaWxpdHk7XHJcbiAgICAgICAgYnRzSW5mby5yZXBvcnRUaW1lID0gZGF0YS5yZXBvcnRUaW1lO1xyXG4gICAgICAgIGJ0c0luZm8uY3JlYXRlVGltZSA9IGRhdGEuY3JlYXRlVGltZTtcclxuICAgICAgICBidHNJbmZvLmhpdFRpbWVzID0gMDtcclxuICAgICAgICBidHNJbmZvLmRsSGl0VGltZXMgPSAwO1xyXG4gICAgICAgIHJldHVybiBidHNJbmZvO1xyXG4gICAgfVxyXG4gICAgLyog5Z+656uZ6Kej5p6Q6L+b5bqmICovXHJcbiAgICBzdGF0aWMgY2VsbEFuYWx5c2lzKGRldlN0YXRlSW5mb01hcCkge1xyXG4gICAgICAgIC8qIOmrmOe6p+mdouadv+aYvuekuumAmumBk+S/oeaBryovXHJcbiAgICAgICAgbGV0IEx0ZUNvbkVmZmVjdGl2ZSA9IDA7XHJcbiAgICAgICAgbGV0IFdjZG1hQ29uRWZmZWN0aXZlID0gMDtcclxuICAgICAgICBsZXQgQ2RtYUNvbkVmZmVjdGl2ZSA9IDA7XHJcbiAgICAgICAgbGV0IEdzbUNvbkVmZmVjdGl2ZSA9IDA7XHJcblxyXG4gICAgICAgIGxldCBMdGVDb25FZmZlY3RpdmVNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgbGV0IFdjZG1hQ29uRWZmZWN0aXZlTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGxldCBDZG1hQ29uRWZmZWN0aXZlTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGxldCBHc21Db25FZmZlY3RpdmVNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgbGV0IGFuYWx5c2lzSW5mb01hcEVhY2ggPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgYW5hbHlzaXNJbmZvSGl0TWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGZvciAobGV0IGRldiBpbiBkZXZTdGF0ZUluZm9NYXApIHtcclxuICAgICAgICAgICAgbGV0IGluZm9MaXN0ID0gZGV2U3RhdGVJbmZvTWFwW2Rldl0uY2VsbEFuYWx5c2lzSW5mb0xpc3Q7XHJcbiAgICAgICAgICAgIGxldCBjaGFubmVsSW5mb0h0bWwgPSAnJztcclxuICAgICAgICAgICAgbGV0IGFuYWx5c2lzSW5mb01hcE5vdyA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgbGV0IGFkdmFuY2VJbmZvSHRtbEx0ZSA9ICcnO1xyXG4gICAgICAgICAgICBsZXQgYWR2YW5jZUluZm9IdG1sV2NkbWEgPSAnJztcclxuICAgICAgICAgICAgbGV0IGFkdmFuY2VJbmZvSHRtbENkbWEgPSAnJztcclxuICAgICAgICAgICAgbGV0IGFkdmFuY2VJbmZvSHRtbEdzbSA9ICcnO1xyXG4gICAgICAgICAgICBsZXQgYWR2YW5jZUluZm9IdG1sTHRlQ29uID0gMDtcclxuICAgICAgICAgICAgbGV0IGFkdmFuY2VJbmZvSHRtbFdjZG1hQ29uID0gMDtcclxuICAgICAgICAgICAgbGV0IGFkdmFuY2VJbmZvSHRtbENkbWFDb24gPSAwO1xyXG4gICAgICAgICAgICBsZXQgYWR2YW5jZUluZm9IdG1sR3NtQ29uID0gMDtcclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAgICAgaWYgKGluZm9MaXN0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5mb0xpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmFseXNpc0luZm9NYXBOb3cuc2V0KGluZm9MaXN0W2ldLmJ0c0lkLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mb0xpc3RbaV0uaGl0VGltZXMgIT0gbnVsbCAmJiBpbmZvTGlzdFtpXS5oaXRUaW1lcyAhPSB1bmRlZmluZWQgJiYgaW5mb0xpc3RbaV0uaGl0VGltZXMgIT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5hbHlzaXNJbmZvTWFwTm93LnNldChpbmZvTGlzdFtpXS5idHNJZCwgYW5hbHlzaXNJbmZvTWFwTm93LmdldChpbmZvTGlzdFtpXS5idHNJZCkgKyBpbmZvTGlzdFtpXS5oaXRUaW1lcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBidHNJZEFyciA9IGluZm9MaXN0W2ldLmJ0c0lkLnNwbGl0KCctJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBlcmM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZm9MaXN0W2ldLm1vZGUgIT0gJ2NkbWEnICYmIGluZm9MaXN0W2ldLm1vZGUgIT0gJ3djZG1hJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJjID0gaW5mb0xpc3RbaV0uYnJvYWRjYXN0UGVyY2VudCArICclJyArICctJyArIGluZm9MaXN0W2ldLmRlZGljYXRlZFBlcmNlbnQgKyAnJSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVyYyA9IGluZm9MaXN0W2ldLmJyb2FkY2FzdFBlcmNlbnQgKyAnJSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYW5lbEhpdFRpbWVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidHNJbmZvTWFwLmdldChpbmZvTGlzdFtpXS5idHNJZCkgPT0gbnVsbCB8fCBidHNJbmZvTWFwLmdldChpbmZvTGlzdFtpXS5idHNJZCkuaGl0VGltZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYW5lbEhpdFRpbWVzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYW5lbEhpdFRpbWVzID0gYnRzSW5mb01hcC5nZXQoaW5mb0xpc3RbaV0uYnRzSWQpLmhpdFRpbWVzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgYXJlYWNvZGUgPSBpbmZvTGlzdFtpXS5tb2RlID09ICdjZG1hJyA/IGAke2J0c0lkQXJyW2J0c0lkQXJyLmxlbmd0aCAtIDNdfS0ke2J0c0lkQXJyW2J0c0lkQXJyLmxlbmd0aCAtIDJdfS0ke2J0c0lkQXJyW2J0c0lkQXJyLmxlbmd0aCAtIDFdfWAgOiBgJHtidHNJZEFycltidHNJZEFyci5sZW5ndGggLSAyXX0tJHtidHNJZEFycltidHNJZEFyci5sZW5ndGggLSAxXX1gO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbmZvSHRtbCA9IGNoYW5uZWxJbmZvSHRtbCArIGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPVwid2lkdGg6IDExNXB4O1wiPiR7aW5mb0xpc3RbaV0uZnJlcVBjaX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPVwid2lkdGg6IDEzNXB4O1wiPiR7YXJlYWNvZGV9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT1cIndpZHRoOiA4NnB4OyBjb2xvcjogcmdiKDAsIDEyNSwgMjIyKVwiPiR7cGVyY308L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPVwid2lkdGg6IDUwcHg7XCI+JHtwYW5lbEhpdFRpbWVzfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9XCJ3aWR0aDogMzRweDsgY29sb3I6ICNmZjAwMDBcIj4ke2luZm9MaXN0W2ldLmRibX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPVwid2lkdGg6IDM0cHg7XCI+PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mb0xpc3RbaV0ubW9kZSA9PSAnbHRlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWR2YW5jZUluZm9IdG1sTHRlQ29uICUgMiA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlSW5mb0h0bWxMdGUgPSBhZHZhbmNlSW5mb0h0bWxMdGUgKyBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtb2RkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWFjdGl2ZVwiPiR7aXNBY3RpdmUoaW5mb0xpc3RbaV0uaXNBY3RpdmUsIGluZm9MaXN0W2ldLmZyZXFQY2ksIDEpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1idHNcIiBzdHlsZT1cIiR7aXNBY3RpdmUoaW5mb0xpc3RbaV0uaXNBY3RpdmUsIGluZm9MaXN0W2ldLmZyZXFQY2ksIDIpfVwiPiR7aW5mb0xpc3RbaV0uZnJlcVBjaX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtbG9jYXRpb25jb2RlIGNsaXBib2FyZFwiICBhY3RpdmUtc3RhdHVzPVwiJHtpc0FjdGl2ZShpbmZvTGlzdFtpXS5pc0FjdGl2ZSwgaW5mb0xpc3RbaV0uZnJlcVBjaSwgMyl9XCIgZGF0YS1jbGlwYm9hcmQtdGV4dD1cIiR7aW5mb0xpc3RbaV0uYnRzSWR9XCI+JHthcmVhY29kZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYW5hbHlzaXNcIj4ke3BlcmN9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWJpZFwiPiR7aW5mb0xpc3RbaV0uaGl0VGltZXMgIT0gdW5kZWZpbmVkID8gaW5mb0xpc3RbaV0uaGl0VGltZXMgOiAwfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1maWVsZHN0cmVuZ3RoXCI+JHtpbmZvTGlzdFtpXS5kYm19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlSW5mb0h0bWxMdGUgPSBhZHZhbmNlSW5mb0h0bWxMdGUgKyBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtZXZlblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1hY3RpdmVcIj4ke2lzQWN0aXZlKGluZm9MaXN0W2ldLmlzQWN0aXZlLCBpbmZvTGlzdFtpXS5mcmVxUGNpLCAxKX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYnRzXCIgc3R5bGU9XCIke2lzQWN0aXZlKGluZm9MaXN0W2ldLmlzQWN0aXZlLCBpbmZvTGlzdFtpXS5mcmVxUGNpLCAyKX1cIj4ke2luZm9MaXN0W2ldLmZyZXFQY2l9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWxvY2F0aW9uY29kZSBjbGlwYm9hcmRcIiAgYWN0aXZlLXN0YXR1cz1cIiR7aXNBY3RpdmUoaW5mb0xpc3RbaV0uaXNBY3RpdmUsIGluZm9MaXN0W2ldLmZyZXFQY2ksIDMpfVwiIGRhdGEtY2xpcGJvYXJkLXRleHQ9XCIke2luZm9MaXN0W2ldLmJ0c0lkfVwiPiR7YXJlYWNvZGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWFuYWx5c2lzXCI+JHtwZXJjfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1iaWRcIj4ke2luZm9MaXN0W2ldLmhpdFRpbWVzICE9IHVuZGVmaW5lZCA/IGluZm9MaXN0W2ldLmhpdFRpbWVzIDogMH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtZmllbGRzdHJlbmd0aFwiPiR7aW5mb0xpc3RbaV0uZGJtfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2VJbmZvSHRtbEx0ZUNvbisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mb0xpc3RbaV0uYW5hbHlzaXNGbGFnID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEx0ZUNvbkVmZmVjdGl2ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEx0ZUNvbkVmZmVjdGl2ZU1hcC5nZXQoYXJlYWNvZGUpID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEx0ZUNvbkVmZmVjdGl2ZU1hcC5zZXQoYXJlYWNvZGUsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZvTGlzdFtpXS5tb2RlID09ICd3Y2RtYScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkdmFuY2VJbmZvSHRtbFdjZG1hQ29uICUgMiA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlSW5mb0h0bWxXY2RtYSA9IGFkdmFuY2VJbmZvSHRtbFdjZG1hICsgYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LW9kZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1hY3RpdmVcIj4ke2lzQWN0aXZlKGluZm9MaXN0W2ldLmlzQWN0aXZlLCBpbmZvTGlzdFtpXS5mcmVxUGNpLCAxKX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYnRzXCIgc3R5bGU9XCIke2lzQWN0aXZlKGluZm9MaXN0W2ldLmlzQWN0aXZlLCBpbmZvTGlzdFtpXS5mcmVxUGNpLCAyKX1cIj4ke2luZm9MaXN0W2ldLmZyZXFQY2l9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWxvY2F0aW9uY29kZSBjbGlwYm9hcmRcIiAgYWN0aXZlLXN0YXR1cz1cIiR7aXNBY3RpdmUoaW5mb0xpc3RbaV0uaXNBY3RpdmUsIGluZm9MaXN0W2ldLmZyZXFQY2ksIDMpfVwiIGRhdGEtY2xpcGJvYXJkLXRleHQ9XCIke2luZm9MaXN0W2ldLmJ0c0lkfVwiPiR7YXJlYWNvZGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWFuYWx5c2lzXCI+JHtwZXJjfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1iaWRcIj4ke2luZm9MaXN0W2ldLmhpdFRpbWVzICE9IHVuZGVmaW5lZCA/IGluZm9MaXN0W2ldLmhpdFRpbWVzIDogMH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtZmllbGRzdHJlbmd0aFwiPiR7aW5mb0xpc3RbaV0uZGJtfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZUluZm9IdG1sV2NkbWEgPSBhZHZhbmNlSW5mb0h0bWxXY2RtYSArIGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1ldmVuXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWFjdGl2ZVwiPiR7aXNBY3RpdmUoaW5mb0xpc3RbaV0uaXNBY3RpdmUsIGluZm9MaXN0W2ldLmZyZXFQY2ksIDEpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1idHNcIiBzdHlsZT1cIiR7aXNBY3RpdmUoaW5mb0xpc3RbaV0uaXNBY3RpdmUsIGluZm9MaXN0W2ldLmZyZXFQY2ksIDIpfVwiPiR7aW5mb0xpc3RbaV0uZnJlcVBjaX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtbG9jYXRpb25jb2RlIGNsaXBib2FyZFwiICBhY3RpdmUtc3RhdHVzPVwiJHtpc0FjdGl2ZShpbmZvTGlzdFtpXS5pc0FjdGl2ZSwgaW5mb0xpc3RbaV0uZnJlcVBjaSwgMyl9XCIgZGF0YS1jbGlwYm9hcmQtdGV4dD1cIiR7aW5mb0xpc3RbaV0uYnRzSWR9XCI+JHthcmVhY29kZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYW5hbHlzaXNcIj4ke3BlcmN9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWJpZFwiPiR7aW5mb0xpc3RbaV0uaGl0VGltZXMgIT0gdW5kZWZpbmVkID8gaW5mb0xpc3RbaV0uaGl0VGltZXMgOiAwfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1maWVsZHN0cmVuZ3RoXCI+JHtpbmZvTGlzdFtpXS5kYm19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZUluZm9IdG1sV2NkbWFDb24rKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm9MaXN0W2ldLmFuYWx5c2lzRmxhZyA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXY2RtYUNvbkVmZmVjdGl2ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFdjZG1hQ29uRWZmZWN0aXZlTWFwLmdldChhcmVhY29kZSkgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV2NkbWFDb25FZmZlY3RpdmVNYXAuc2V0KGFyZWFjb2RlLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mb0xpc3RbaV0ubW9kZSA9PSAnY2RtYScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkdmFuY2VJbmZvSHRtbENkbWFDb24gJSAyID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2VJbmZvSHRtbENkbWEgPSBhZHZhbmNlSW5mb0h0bWxDZG1hICsgYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LW9kZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1hY3RpdmVcIj4ke2lzQWN0aXZlKGluZm9MaXN0W2ldLmlzQWN0aXZlLCBpbmZvTGlzdFtpXS5mcmVxUGNpLCAxKX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYnRzXCIgc3R5bGU9XCIke2lzQWN0aXZlKGluZm9MaXN0W2ldLmlzQWN0aXZlLCBpbmZvTGlzdFtpXS5mcmVxUGNpLCAyKX1cIj4ke2luZm9MaXN0W2ldLmZyZXFQY2l9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWxvY2F0aW9uY29kZSBjbGlwYm9hcmRcIiAgYWN0aXZlLXN0YXR1cz1cIiR7aXNBY3RpdmUoaW5mb0xpc3RbaV0uaXNBY3RpdmUsIGluZm9MaXN0W2ldLmZyZXFQY2ksIDMpfVwiIGRhdGEtY2xpcGJvYXJkLXRleHQ9XCIke2luZm9MaXN0W2ldLmJ0c0lkfVwiPiR7YXJlYWNvZGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWFuYWx5c2lzXCI+JHtwZXJjfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1iaWRcIj4ke2luZm9MaXN0W2ldLmhpdFRpbWVzICE9IHVuZGVmaW5lZCA/IGluZm9MaXN0W2ldLmhpdFRpbWVzIDogMH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtZmllbGRzdHJlbmd0aFwiPiR7aW5mb0xpc3RbaV0uZGJtfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZUluZm9IdG1sQ2RtYSA9IGFkdmFuY2VJbmZvSHRtbENkbWEgKyBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtZXZlblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1hY3RpdmVcIj4ke2lzQWN0aXZlKGluZm9MaXN0W2ldLmlzQWN0aXZlLCBpbmZvTGlzdFtpXS5mcmVxUGNpLCAxKX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYnRzXCIgc3R5bGU9XCIke2lzQWN0aXZlKGluZm9MaXN0W2ldLmlzQWN0aXZlLCBpbmZvTGlzdFtpXS5mcmVxUGNpLCAyKX1cIj4ke2luZm9MaXN0W2ldLmZyZXFQY2l9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWxvY2F0aW9uY29kZSBjbGlwYm9hcmRcIiAgYWN0aXZlLXN0YXR1cz1cIiR7aXNBY3RpdmUoaW5mb0xpc3RbaV0uaXNBY3RpdmUsIGluZm9MaXN0W2ldLmZyZXFQY2ksIDMpfVwiIGRhdGEtY2xpcGJvYXJkLXRleHQ9XCIke2luZm9MaXN0W2ldLmJ0c0lkfVwiPiR7YXJlYWNvZGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWFuYWx5c2lzXCI+JHtwZXJjfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1iaWRcIj4ke2luZm9MaXN0W2ldLmhpdFRpbWVzICE9IHVuZGVmaW5lZCA/IGluZm9MaXN0W2ldLmhpdFRpbWVzIDogMH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtZmllbGRzdHJlbmd0aFwiPiR7aW5mb0xpc3RbaV0uZGJtfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2VJbmZvSHRtbENkbWFDb24rKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm9MaXN0W2ldLmFuYWx5c2lzRmxhZyA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDZG1hQ29uRWZmZWN0aXZlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ2RtYUNvbkVmZmVjdGl2ZU1hcC5nZXQoYXJlYWNvZGUpID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENkbWFDb25FZmZlY3RpdmVNYXAuc2V0KGFyZWFjb2RlLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mb0xpc3RbaV0ubW9kZSA9PSAnZ3NtJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWR2YW5jZUluZm9IdG1sR3NtQ29uICUgMiA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlSW5mb0h0bWxHc20gPSBhZHZhbmNlSW5mb0h0bWxHc20gKyBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtb2RkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWFjdGl2ZVwiPiR7aXNBY3RpdmUoaW5mb0xpc3RbaV0uaXNBY3RpdmUsIGluZm9MaXN0W2ldLmZyZXFQY2ksIDEpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1idHNcIiBzdHlsZT1cIiR7aXNBY3RpdmUoaW5mb0xpc3RbaV0uaXNBY3RpdmUsIGluZm9MaXN0W2ldLmZyZXFQY2ksIDIpfVwiPiR7aW5mb0xpc3RbaV0uZnJlcVBjaX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtbG9jYXRpb25jb2RlIGNsaXBib2FyZFwiICBhY3RpdmUtc3RhdHVzPVwiJHtpc0FjdGl2ZShpbmZvTGlzdFtpXS5pc0FjdGl2ZSwgaW5mb0xpc3RbaV0uZnJlcVBjaSwgMyl9XCIgZGF0YS1jbGlwYm9hcmQtdGV4dD1cIiR7aW5mb0xpc3RbaV0uYnRzSWR9XCI+JHthcmVhY29kZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYW5hbHlzaXNcIj4ke3BlcmN9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWJpZFwiPiR7aW5mb0xpc3RbaV0uaGl0VGltZXMgIT0gdW5kZWZpbmVkID8gaW5mb0xpc3RbaV0uaGl0VGltZXMgOiAwfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1maWVsZHN0cmVuZ3RoXCI+JHtpbmZvTGlzdFtpXS5kYm19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlSW5mb0h0bWxHc20gPSBhZHZhbmNlSW5mb0h0bWxHc20gKyBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtZXZlblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1hY3RpdmVcIj4ke2lzQWN0aXZlKGluZm9MaXN0W2ldLmlzQWN0aXZlLCBpbmZvTGlzdFtpXS5mcmVxUGNpLCAxKX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYnRzXCIgc3R5bGU9XCIke2lzQWN0aXZlKGluZm9MaXN0W2ldLmlzQWN0aXZlLCBpbmZvTGlzdFtpXS5mcmVxUGNpLCAyKX1cIj4ke2luZm9MaXN0W2ldLmZyZXFQY2l9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWxvY2F0aW9uY29kZSBjbGlwYm9hcmRcIiAgYWN0aXZlLXN0YXR1cz1cIiR7aXNBY3RpdmUoaW5mb0xpc3RbaV0uaXNBY3RpdmUsIGluZm9MaXN0W2ldLmZyZXFQY2ksIDMpfVwiIGRhdGEtY2xpcGJvYXJkLXRleHQ9XCIke2luZm9MaXN0W2ldLmJ0c0lkfVwiPiR7YXJlYWNvZGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWFuYWx5c2lzXCI+JHtwZXJjfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1iaWRcIj4ke2luZm9MaXN0W2ldLmhpdFRpbWVzICE9IHVuZGVmaW5lZCA/IGluZm9MaXN0W2ldLmhpdFRpbWVzIDogMH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtZmllbGRzdHJlbmd0aFwiPiR7aW5mb0xpc3RbaV0uZGJtfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2VJbmZvSHRtbEdzbUNvbisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mb0xpc3RbaV0uYW5hbHlzaXNGbGFnID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdzbUNvbkVmZmVjdGl2ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEdzbUNvbkVmZmVjdGl2ZU1hcC5nZXQoYXJlYWNvZGUpID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdzbUNvbkVmZmVjdGl2ZU1hcC5zZXQoYXJlYWNvZGUsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJChgLmNoYW5uZWwtaW5mby10YWJsZS10Ym9keS0ke2Rldn1gKS5odG1sKGNoYW5uZWxJbmZvSHRtbCk7XHJcbiAgICAgICAgICAgICAgICAkKGAuYWR2YW5jZS1pbmZvLWNvbnRlbnQtY29udGFpbmVyLSR7ZGV2fS1sdGVgKS5odG1sKGFkdmFuY2VJbmZvSHRtbEx0ZSk7XHJcbiAgICAgICAgICAgICAgICAkKGAuYWR2YW5jZS1pbmZvLWNvbnRlbnQtY29udGFpbmVyLSR7ZGV2fS13Y2RtYWApLmh0bWwoYWR2YW5jZUluZm9IdG1sV2NkbWEpO1xyXG4gICAgICAgICAgICAgICAgJChgLmFkdmFuY2UtaW5mby1jb250ZW50LWNvbnRhaW5lci0ke2Rldn0tY2RtYWApLmh0bWwoYWR2YW5jZUluZm9IdG1sQ2RtYSk7XHJcbiAgICAgICAgICAgICAgICAkKGAuYWR2YW5jZS1pbmZvLWNvbnRlbnQtY29udGFpbmVyLSR7ZGV2fS1nc21gKS5odG1sKGFkdmFuY2VJbmZvSHRtbEdzbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYW5hbHlzaXNJbmZvTWFwRWFjaC5zZXQoZGV2LCBhbmFseXNpc0luZm9NYXBOb3cpO1xyXG4gICAgICAgICAgICBpZiAoZGV2U3RhdGVJbmZvTWFwW2Rldl0ucmVwb3J0VGltZSAhPSBcIlwiICYmIGRldlN0YXRlSW5mb01hcFtkZXZdLnJlcG9ydFRpbWUgIT0gdW5kZWZpbmVkICYmIGRldlN0YXRlSW5mb01hcFtkZXZdLnJlcG9ydFRpbWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgJChgLmFkdmFuY2UtaW5mby10aW1lLSR7ZGV2fWApLmh0bWwobmV3IERhdGUoZGV2U3RhdGVJbmZvTWFwW2Rldl0ucmVwb3J0VGltZSkuRm9ybWF0KCdoaDptbTpzcycpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJCgnI2RhdGEtY2hhbm5lbC1nc20nKS5odG1sKEdzbUNvbkVmZmVjdGl2ZU1hcC5zaXplIDwgMTAgPyBcIiZuYnNwJm5ic3BcIiArIEdzbUNvbkVmZmVjdGl2ZU1hcC5zaXplIDogR3NtQ29uRWZmZWN0aXZlTWFwLnNpemUpO1xyXG4gICAgICAgICQoJyNkYXRhLWNoYW5uZWwtY2RtYScpLmh0bWwoQ2RtYUNvbkVmZmVjdGl2ZU1hcC5zaXplZmVjdGl2ZSA8IDEwID8gXCImbmJzcCZuYnNwXCIgKyBDZG1hQ29uRWZmZWN0aXZlTWFwLnNpemUgOiBDZG1hQ29uRWZmZWN0aXZlTWFwLnNpemUpO1xyXG4gICAgICAgICQoJyNkYXRhLWNoYW5uZWwtd2NkbWEnKS5odG1sKFdjZG1hQ29uRWZmZWN0aXZlTWFwLnNpemUgPCAxMCA/IFwiJm5ic3AmbmJzcFwiICsgV2NkbWFDb25FZmZlY3RpdmVNYXAuc2l6ZSA6IFdjZG1hQ29uRWZmZWN0aXZlTWFwLnNpemUpO1xyXG4gICAgICAgICQoJyNkYXRhLWNoYW5uZWwtbHRlJykuaHRtbChMdGVDb25FZmZlY3RpdmVNYXAuc2l6ZSA8IDEwID8gXCImbmJzcCZuYnNwXCIgKyBMdGVDb25FZmZlY3RpdmVNYXAuc2l6ZSA6IEx0ZUNvbkVmZmVjdGl2ZU1hcC5zaXplKTtcclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gZGV2U3RhdGVJbmZvTWFwKSB7XHJcbiAgICAgICAgICAgIGlmIChkZXZTdGF0ZUluZm9NYXBba2V5XS5lbmVyZ3kgIT0gbnVsbCAmJiBkZXZTdGF0ZUluZm9NYXBba2V5XS5lbmVyZ3kgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgJChgI3RlYW0tZWFjaC1kZXYtYmF0dGVyeS12YWx1ZS0ke2RldlN0YXRlSW5mb01hcFtrZXldLmRldkNvZGV9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAkKGAjdGVhbS1lYWNoLWRldi1iYXR0ZXJ5LWljb24tJHtkZXZTdGF0ZUluZm9NYXBba2V5XS5kZXZDb2RlfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgJChgI3RlYW0tZWFjaC1kZXYtYmF0dGVyeS12YWx1ZS0ke2RldlN0YXRlSW5mb01hcFtrZXldLmRldkNvZGV9YCkuaHRtbChgJHtkZXZTdGF0ZUluZm9NYXBba2V5XS5lbmVyZ3l9JWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkZXZTdGF0ZUluZm9NYXBba2V5XS50ZW1wZXJhdHVyZSAhPSBudWxsICYmIGRldlN0YXRlSW5mb01hcFtrZXldLnRlbXBlcmF0dXJlICE9IDApIHtcclxuICAgICAgICAgICAgICAgICQoYCN0ZWFtLWVhY2gtZGV2LXRlbXBlcmF0dXJlLXZhbHVlLSR7ZGV2U3RhdGVJbmZvTWFwW2tleV0uZGV2Q29kZX1gKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICQoYCN0ZWFtLWVhY2gtZGV2LXRlbXBlcmF0dXJlLWljb24tJHtkZXZTdGF0ZUluZm9NYXBba2V5XS5kZXZDb2RlfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgJChgI3RlYW0tZWFjaC1kZXYtdGVtcGVyYXR1cmUtdmFsdWUtJHtkZXZTdGF0ZUluZm9NYXBba2V5XS5kZXZDb2RlfWApLmh0bWwoYCR7ZGV2U3RhdGVJbmZvTWFwW2tleV0udGVtcGVyYXR1cmV94oSDYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyog5pi+56S65LiK6KGM5aKe55uKKi9cclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gZGV2U3RhdGVJbmZvTWFwKSB7XHJcbiAgICAgICAgICAgIGlmIChkZXZTdGF0ZUluZm9NYXBba2V5XS51cEdhaW5WYWx1ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAkKGAudXBsaW5rLWdhaW4tc3RhdHVzLXBvdC0ke2tleX1gKS5jc3MoJ2xlZnQnLCBkZXZTdGF0ZUluZm9NYXBba2V5XS51cEdhaW5WYWx1ZSArICclJyk7XHJcbiAgICAgICAgICAgICAgICAkKGAudXBsaW5rLWdhaW4tc3RhdHVzLWdyYXktY292ZXItJHtrZXl9YCkuY3NzKCd3aWR0aCcsICgxIC0gZGV2U3RhdGVJbmZvTWFwW2tleV0udXBHYWluVmFsdWUgLyAxMDApICogMTAwICsgJyUnKTtcclxuICAgICAgICAgICAgICAgICQoYC51cGxpbmstZ2Fpbi1zdGF0dXMtdmFsdWUtJHtrZXl9YCkuaHRtbChkZXZTdGF0ZUluZm9NYXBba2V5XS51cEdhaW5WYWx1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKGAudXBsaW5rLWdhaW4tc3RhdHVzLXBvdC0ke2tleX1gKS5jc3MoJ2xlZnQnLCAnMCUnKTtcclxuICAgICAgICAgICAgICAgICQoYC51cGxpbmstZ2Fpbi1zdGF0dXMtZ3JheS1jb3Zlci0ke2tleX1gKS5jc3MoJ3dpZHRoJywgJzEwMCUnKTtcclxuICAgICAgICAgICAgICAgICQoYC51cGxpbmstZ2Fpbi1zdGF0dXMtdmFsdWUtJHtrZXl9YCkuaHRtbCgnMCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIOaYvuekuuinpuWPkeS/oeaBryovXHJcbiAgICAgICAgaWYgKHRoaXNQYWdlVHlwZSA9PSAnUlRDJykge1xyXG4gICAgICAgICAgICBpZiAoZGV2U3RhdGVJbmZvTWFwICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBkZXZTdGF0ZUluZm9NYXApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGV2RHJhd0luZm9NYXAuZ2V0KGtleSkuZGV2VHlwZSA9PSAxICYmIGRldlN0YXRlSW5mb01hcFtrZXldICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyaWdnZXJJbmZvVmFsdWUgPSBkZXZTdGF0ZUluZm9NYXBba2V5XS50cmlnZ2VySW5mbztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJJbmZvVmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNtcy1pbmZvLWljb24nKS5jc3MoJ2JhY2tncm91bmQnLCBgdXJsKGltZy9pY29uL3Ntc18ke3RyaWdnZXJJbmZvVmFsdWUudHJpZ2dlclN0YXR1c30ucG5nKWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3Ntcy1zZW5kLXZhbHVlJykuaHRtbCh0cmlnZ2VySW5mb1ZhbHVlLnNlbmRUaW1lcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc21zLWZpbmlzaC12YWx1ZScpLmh0bWwodHJpZ2dlckluZm9WYWx1ZS5jb21wbGV0ZVRpbWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzbXMtcmVjZWlwdC12YWx1ZScpLmh0bWwodHJpZ2dlckluZm9WYWx1ZS5yZWNlaXB0VGltZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBfa2V5IGluIGRldlN0YXRlSW5mb01hcCkge1xyXG4gICAgICAgICAgICBpZiAoZGV2U3RhdGVJbmZvTWFwW19rZXldLmNlbGxBbmFseXNpc0luZm9MaXN0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBkZXZTdGF0ZUluZm9NYXApIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiDlpoLmnpzlvZPliY3op4bop5LkuK3ljIXlkKvph43lpI3nmoTln7rnq5nvvIzliJnku6XlvZPliY3op4bop5LnmoTln7rnq5nkuLrkuLvvvIzmuIXpmaTkuI7lvZPliY3op4bop5Lph43lpI3nmoTln7rnq5kqL1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gY3VycmVudFZpZXdEZXZDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZTdGF0ZUluZm9NYXBba2V5XS5jZWxsQW5hbHlzaXNJbmZvTGlzdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRldlN0YXRlSW5mb01hcFtrZXldLmNlbGxBbmFseXNpc0luZm9MaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzRXhpc3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV2U3RhdGVJbmZvTWFwW2N1cnJlbnRWaWV3RGV2Q29kZV0gIT0gbnVsbCAmJiBkZXZTdGF0ZUluZm9NYXBbY3VycmVudFZpZXdEZXZDb2RlXS5jZWxsQW5hbHlzaXNJbmZvTGlzdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZGV2U3RhdGVJbmZvTWFwW2N1cnJlbnRWaWV3RGV2Q29kZV0uY2VsbEFuYWx5c2lzSW5mb0xpc3QubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZTdGF0ZUluZm9NYXBba2V5XS5jZWxsQW5hbHlzaXNJbmZvTGlzdFtpXS5idHNJZCA9PSBkZXZTdGF0ZUluZm9NYXBbY3VycmVudFZpZXdEZXZDb2RlXS5jZWxsQW5hbHlzaXNJbmZvTGlzdFtqXS5idHNJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRXhpc3QgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0V4aXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldlN0YXRlSW5mb01hcFtrZXldLmNlbGxBbmFseXNpc0luZm9MaXN0LnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiDnu5jliLbln7rnq5nop6PmnpAqL1xyXG4gICAgICAgICAgICAgICAgRHJhd011bHRpQnRzQW5hbHlzaXMuZHJhd0FuYWx5c2lzKGRldlN0YXRlSW5mb01hcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZHJhd0J0c0xpc3QoZGV2QnRzSW5mb3MpIHtcclxuICAgICAgICBpZiAoZGV2QnRzSW5mb3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRldkJ0c0luZm9zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYnRzSWQgPSBkZXZCdHNJbmZvc1tpXS5idHNJZDtcclxuICAgICAgICAgICAgICAgIGxldCBidHNJbmZvID0gZGV2QnRzSW5mb3NbaV0uYnRzSW5mbztcclxuICAgICAgICAgICAgICAgIGxldCBkaXNwbGF5ID0gXCJkaXNwbGF5Om5vbmVcIjtcclxuICAgICAgICAgICAgICAgIGlmIChidHNJZCAhPSB1bmRlZmluZWQmJmJ0c0lkLnNwbGl0KFwiLVwiKVsxXSE9dW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ0c0xpc3RNYXAuZ2V0KGJ0c0lkKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBodG1sID0gYGA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidHNJbmZvLmxhdCAhPSBcIlwiICYmIGJ0c0luZm8ubGF0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidHNMaXN0Q29uICUgMiA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sID0gYDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1vZGRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtbGlzdC1hY3RpdmUgYWR2YW5jZS1pbmZvLWNvbnRlbnQtbGlzdC1hY3RpdmUtJHtidHNJZH1cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTttYXJnaW46IC0ycHggMHB4IDBweCA2cHg7XCI+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kOiB1cmwoJ2ltZy9pY29ucGljL0NSLWFjdGl2ZS5wbmcnKSBuby1yZXBlYXQ7YmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDM0cHg7aGVpZ2h0OiAxOHB4O21hcmdpbjogOHB4IGF1dG87ZGlzcGxheTogYmxvY2s7XCI+PC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tbGlzdC1jb250ZW50LWJ0c0lkIGFkdmFuY2UtaW5mby1saXN0LWNvbnRlbnQtYnRzSWQtJHtidHNJZH0gY2xpcGJvYXJkXCIgZGF0YS1jbGlwYm9hcmQtdGV4dD1cIiR7YnRzSWR9XCI+JHtidHNJbmZvLmxhY1RhY30tJHtidHNJbmZvLmNlbGxJZH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWxpc3QtY29udGVudC1HUFNcIj48aW1nIGNsYXNzPVwiYWR2YW5jZS1pbmZvLWxpc3QtY29udGVudC1HUFMtaW1nXCIgZGF0YS1jbGlwYm9hcmQtdGV4dD1cIiR7YnRzSWR9XCIgc3R5bGU9XCIke2Rpc3BsYXl9XCIgc3JjPVwiaW1nL2ljb24vZ3BzLnBuZ1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tbGlzdC1jb250ZW50LXRpbWVcIj4keyEhYnRzSW5mby5yZXBvcnRUaW1lP25ldyBEYXRlKGJ0c0luZm8ucmVwb3J0VGltZSkuRm9ybWF0KCdoaDptbTpzcycpOlwiXCJ9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCA9IGA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtZXZlblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1saXN0LWFjdGl2ZSBhZHZhbmNlLWluZm8tY29udGVudC1saXN0LWFjdGl2ZS0ke2J0c0lkfVwiIHN0eWxlPVwiZGlzcGxheTpub25lO21hcmdpbjogLTJweCAwcHggMHB4IDZweDtcIj48c3BhbiBzdHlsZT1cImJhY2tncm91bmQ6IHVybCgnaW1nL2ljb25waWMvQ1ItYWN0aXZlLnBuZycpIG5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6IDEwMCUgMTAwJTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMzRweDtoZWlnaHQ6IDE4cHg7bWFyZ2luOiA4cHggYXV0bztkaXNwbGF5OiBibG9jaztcIj48L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1saXN0LWNvbnRlbnQtYnRzSWQgYWR2YW5jZS1pbmZvLWxpc3QtY29udGVudC1idHNJZC0ke2J0c0lkfSBjbGlwYm9hcmRcIiBkYXRhLWNsaXBib2FyZC10ZXh0PVwiJHtidHNJZH1cIj4ke2J0c0luZm8ubGFjVGFjfS0ke2J0c0luZm8uY2VsbElkfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tbGlzdC1jb250ZW50LUdQU1wiPjxpbWcgY2xhc3M9XCJhZHZhbmNlLWluZm8tbGlzdC1jb250ZW50LUdQUy1pbWdcIiBkYXRhLWNsaXBib2FyZC10ZXh0PVwiJHtidHNJZH1cIiBzdHlsZT1cIiR7ZGlzcGxheX1cIiBzcmM9XCJpbWcvaWNvbi9ncHMucG5nXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1saXN0LWNvbnRlbnQtdGltZVwiPiR7ISFidHNJbmZvLnJlcG9ydFRpbWU/bmV3IERhdGUoYnRzSW5mby5yZXBvcnRUaW1lKS5Gb3JtYXQoJ2hoOm1tOnNzJyk6XCJcIn08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmFkdmFuY2UtaW5mby1saXN0LWNvbnRlbnQtY29udGFpbmVyJykucHJlcGVuZChodG1sKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmFkdmFuY2UtaW5mby1saXN0LWNvbnRlbnQtbGFzdFRpbWUnKS5odG1sKGAkeyEhYnRzSW5mby5yZXBvcnRUaW1lP25ldyBEYXRlKGJ0c0luZm8ucmVwb3J0VGltZSkuRm9ybWF0KCdoaDptbTpzcycpOlwiXCJ9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0c0xpc3RDb24gPSBidHNMaXN0Q29uICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRzTGlzdE1hcC5zZXQoYnRzSWQsIGJ0c0luZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8q5piv5ZCm5Li65Li75Yqo5byP5Z+656uZKi9cclxuZnVuY3Rpb24gaXNBY3RpdmUoYWN0aXZlU3RhdHVzLCBkYXRhLCB0eXBlKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuICAgIGlmIChhY3RpdmVTdGF0dXMgPT0gMSkge1xyXG4gICAgICAgIGlmICh0eXBlID09IDEpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gYFxyXG5cdFx0XHRcdDxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZDogdXJsKCdpbWcvaWNvbnBpYy9DUi1hY3RpdmUucG5nJykgbm8tcmVwZWF0O2JhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlO1xyXG5cdFx0XHRcdHdpZHRoOiAzNHB4O2hlaWdodDogMThweDttYXJnaW46IDhweCBhdXRvO2Rpc3BsYXk6IGJsb2NrO1wiPjwvc3Bhbj5cclxuXHRcdFx0XHRgO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAyKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IFwiY29sb3I6I0Y2MzIzMjtmb250LXdlaWdodDoxMDAwO1wiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IFwidHJ1ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGJ0c0FjdGl2ZUNhY2hlICE9IHVuZGVmaW5lZCAmJiBidHNBY3RpdmVDYWNoZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnRzQWN0aXZlQ2FjaGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChidHNBY3RpdmVDYWNoZVtpXS5zdGF0dXMgPT0gMiAmJiAoYnRzQWN0aXZlQ2FjaGVbaV0uZnJlcSArIFwiLVwiICsgYnRzQWN0aXZlQ2FjaGVbaV0ucGNpKSA9PSBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBgXHJcblx0XHRcdFx0XHRcdFx0PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kOiB1cmwoJ2ltZy9pY29ucGljL0NSLWFjdGl2ZS5wbmcnKSBuby1yZXBlYXQ7YmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7XHJcblx0XHRcdFx0XHRcdFx0d2lkdGg6IDM0cHg7aGVpZ2h0OiAxOHB4O21hcmdpbjogOHB4IGF1dG87ZGlzcGxheTogYmxvY2s7XCI+PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdGA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gXCJjb2xvcjojRjYzMjMyO2ZvbnQtd2VpZ2h0OjEwMDA7XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gXCJ0cnVlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L3BhcnNpbmcvUGFyc2luZ011bHRpQnRzSW5mby5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class EnergySound {\r\n\r\n    static playCarAudio(num, deg, value, hasA) {\r\n        let orientation;\r\n        switch (deg) {\r\n            case 0:\r\n                orientation = 'front';\r\n                break;\r\n            case 90:\r\n                orientation = 'right';\r\n                break;\r\n            case 180:\r\n                orientation = 'back';\r\n                break;\r\n            case 270:\r\n                orientation = 'left';\r\n                break;\r\n            case 45:\r\n                orientation = 'front_right';\r\n                break;\r\n            case 135:\r\n                orientation = 'right_back';\r\n                break;\r\n            case 225:\r\n                orientation = 'back_left';\r\n                break;\r\n            case 315:\r\n                orientation = 'left_front';\r\n                break;\r\n            /**add by gaochao start */\r\n            case 1000:\r\n                orientation = 'none';\r\n            break;\r\n            /**add by gaochao end*/\r\n            default:\r\n                break;\r\n        }\r\n        let audio = document.getElementById('engAudioPlay');\r\n        if (value == 1) {\r\n            // 车载四向能量为1\r\n            switch (engAudioType) {\r\n                case 1: // 单选\r\n                    audio.src = 'sound/car/' + value + '.wav';\r\n                    audio.play();\r\n                    audio.addEventListener('ended', playEnd, false);\r\n                    break;\r\n                case 2: // 优选\r\n                    audio.src = 'sound/car/car.wav'; // 车载\r\n                    audio.play();\r\n                    if (hasA) {\r\n                        audio.addEventListener('ended', playIndex, false); // A\r\n                    } else {\r\n                        audio.addEventListener('ended', playValue, false); // 1\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        } else {\r\n            switch (engAudioType) {\r\n                case 1: // 单选\r\n                    audio.src = 'sound/car/' + orientation + '.wav';\r\n                    audio.play();\r\n                    audio.addEventListener('ended', playValue, false);\r\n                    break;\r\n                case 2: // 优选\r\n                    audio.src = 'sound/car/car.wav'; // 车载\r\n                    audio.play();\r\n                    if (hasA) {\r\n                        audio.addEventListener('ended', playIndex, false); // A\r\n                    } else {\r\n                        audio.addEventListener('ended', playOrientation, false); // 前方\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        function playIndex() {\r\n            audio.src = 'sound/car/car_index_' + num + '.wav'; // A\r\n            audio.play();\r\n            if (value == 1) {\r\n                audio.addEventListener('ended', playValue, false);\r\n            } else {\r\n                audio.addEventListener('ended', playOrientation, false);\r\n            }\r\n            audio.removeEventListener('ended', playIndex, false);\r\n        }\r\n        function playOrientation() {\r\n            audio.src = 'sound/car/' + orientation + '.wav'; // 前方\r\n            audio.play();\r\n            audio.removeEventListener('ended', playOrientation, false);\r\n            audio.addEventListener('ended', playValue, false);\r\n        }\r\n        function playValue() {\r\n            audio.src = 'sound/car/' + value + '.wav'; // 182\r\n            audio.play();\r\n            audio.removeEventListener('ended', playValue, false);\r\n            audio.addEventListener('ended', playEnd, false);\r\n        }\r\n        function playEnd() {\r\n            audioPlayerStatus = false;\r\n            audio.removeEventListener('ended', playEnd, false);\r\n        }\r\n    }\r\n\r\n    static playSingleAudio(num, value, hasA) {\r\n        let audio = document.getElementById('engAudioPlay');\r\n        switch (engAudioType) {\r\n            case 1: // 单选\r\n                audio.src = 'sound/single/' + value + '.wav'; // 168\r\n                audio.play();\r\n                audio.addEventListener('ended', playEnd, false);\r\n                break;\r\n            case 2: // 优选\r\n                audio.src = 'sound/single/single.wav'; // 单兵\r\n                audio.play();\r\n                if (hasA) {\r\n                    audio.addEventListener('ended', playIndex, false); // A\r\n                } else {\r\n                    audio.addEventListener('ended', playValue, false); // 168\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        function playIndex() { // A\r\n            audio.src = 'sound/single/single_index_' + num + '.wav';\r\n            audio.play();\r\n            audio.removeEventListener('ended', playIndex, false);\r\n            audio.addEventListener('ended', playValue, false);\r\n        }\r\n        function playValue() { // 168\r\n            audio.src = 'sound/single/' + value + '.wav';\r\n            audio.play();\r\n            audio.removeEventListener('ended', playValue, false);\r\n            audio.addEventListener('ended', playEnd, false);\r\n        }\r\n        function playEnd() {\r\n            audioPlayerStatus = false;\r\n            audio.removeEventListener('ended', playEnd, false);\r\n        }\r\n    }\r\n\r\n    static playPassiveActive(isActive) {\r\n        let value;\r\n        if (isActive) {\r\n            value = 'active_hit';\r\n        } else {\r\n            value = 'active_escape';\r\n        }\r\n        let audio = document.getElementById('passiveAudioPlay');\r\n        audio.src = 'sound/car/' + value + '.wav';\r\n        audio.play();\r\n        /*\r\n        audio.addEventListener('ended', playEnd, false);\r\n        function playEnd() {\r\n            audioPlayerStatus = false;\r\n            audio.removeEventListener('ended', playEnd, false);\r\n        }\r\n        */\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = EnergySound;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvc291bmQvRW5lcmd5U291bmQuanM/ZjJkYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBLDBFQUEwRTtBQUMxRSxxQkFBcUI7QUFDckIsMEVBQTBFO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBLDBFQUEwRTtBQUMxRSxxQkFBcUI7QUFDckIsZ0ZBQWdGO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEUsaUJBQWlCO0FBQ2pCLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQyIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEVuZXJneVNvdW5kIHtcclxuXHJcbiAgICBzdGF0aWMgcGxheUNhckF1ZGlvKG51bSwgZGVnLCB2YWx1ZSwgaGFzQSkge1xyXG4gICAgICAgIGxldCBvcmllbnRhdGlvbjtcclxuICAgICAgICBzd2l0Y2ggKGRlZykge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9ICdmcm9udCc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA5MDpcclxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE4MDpcclxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gJ2JhY2snO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjcwOlxyXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0NTpcclxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gJ2Zyb250X3JpZ2h0JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDEzNTpcclxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gJ3JpZ2h0X2JhY2snO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjI1OlxyXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPSAnYmFja19sZWZ0JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDMxNTpcclxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gJ2xlZnRfZnJvbnQnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgIGNhc2UgMTAwMDpcclxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gJ25vbmUnO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW5nQXVkaW9QbGF5Jyk7XHJcbiAgICAgICAgaWYgKHZhbHVlID09IDEpIHtcclxuICAgICAgICAgICAgLy8g6L2m6L295Zub5ZCR6IO96YeP5Li6MVxyXG4gICAgICAgICAgICBzd2l0Y2ggKGVuZ0F1ZGlvVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOiAvLyDljZXpgIlcclxuICAgICAgICAgICAgICAgICAgICBhdWRpby5zcmMgPSAnc291bmQvY2FyLycgKyB2YWx1ZSArICcud2F2JztcclxuICAgICAgICAgICAgICAgICAgICBhdWRpby5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBwbGF5RW5kLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6IC8vIOS8mOmAiVxyXG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvLnNyYyA9ICdzb3VuZC9jYXIvY2FyLndhdic7IC8vIOi9pui9vVxyXG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHBsYXlJbmRleCwgZmFsc2UpOyAvLyBBXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBwbGF5VmFsdWUsIGZhbHNlKTsgLy8gMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGVuZ0F1ZGlvVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOiAvLyDljZXpgIlcclxuICAgICAgICAgICAgICAgICAgICBhdWRpby5zcmMgPSAnc291bmQvY2FyLycgKyBvcmllbnRhdGlvbiArICcud2F2JztcclxuICAgICAgICAgICAgICAgICAgICBhdWRpby5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBwbGF5VmFsdWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjogLy8g5LyY6YCJXHJcbiAgICAgICAgICAgICAgICAgICAgYXVkaW8uc3JjID0gJ3NvdW5kL2Nhci9jYXIud2F2JzsgLy8g6L2m6L29XHJcbiAgICAgICAgICAgICAgICAgICAgYXVkaW8ucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNBKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgcGxheUluZGV4LCBmYWxzZSk7IC8vIEFcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHBsYXlPcmllbnRhdGlvbiwgZmFsc2UpOyAvLyDliY3mlrlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHBsYXlJbmRleCgpIHtcclxuICAgICAgICAgICAgYXVkaW8uc3JjID0gJ3NvdW5kL2Nhci9jYXJfaW5kZXhfJyArIG51bSArICcud2F2JzsgLy8gQVxyXG4gICAgICAgICAgICBhdWRpby5wbGF5KCk7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHBsYXlWYWx1ZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBwbGF5T3JpZW50YXRpb24sIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhdWRpby5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHBsYXlJbmRleCwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBwbGF5T3JpZW50YXRpb24oKSB7XHJcbiAgICAgICAgICAgIGF1ZGlvLnNyYyA9ICdzb3VuZC9jYXIvJyArIG9yaWVudGF0aW9uICsgJy53YXYnOyAvLyDliY3mlrlcclxuICAgICAgICAgICAgYXVkaW8ucGxheSgpO1xyXG4gICAgICAgICAgICBhdWRpby5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHBsYXlPcmllbnRhdGlvbiwgZmFsc2UpO1xyXG4gICAgICAgICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHBsYXlWYWx1ZSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBwbGF5VmFsdWUoKSB7XHJcbiAgICAgICAgICAgIGF1ZGlvLnNyYyA9ICdzb3VuZC9jYXIvJyArIHZhbHVlICsgJy53YXYnOyAvLyAxODJcclxuICAgICAgICAgICAgYXVkaW8ucGxheSgpO1xyXG4gICAgICAgICAgICBhdWRpby5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHBsYXlWYWx1ZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHBsYXlFbmQsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcGxheUVuZCgpIHtcclxuICAgICAgICAgICAgYXVkaW9QbGF5ZXJTdGF0dXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXVkaW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBwbGF5RW5kLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBwbGF5U2luZ2xlQXVkaW8obnVtLCB2YWx1ZSwgaGFzQSkge1xyXG4gICAgICAgIGxldCBhdWRpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmdBdWRpb1BsYXknKTtcclxuICAgICAgICBzd2l0Y2ggKGVuZ0F1ZGlvVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIDE6IC8vIOWNlemAiVxyXG4gICAgICAgICAgICAgICAgYXVkaW8uc3JjID0gJ3NvdW5kL3NpbmdsZS8nICsgdmFsdWUgKyAnLndhdic7IC8vIDE2OFxyXG4gICAgICAgICAgICAgICAgYXVkaW8ucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBwbGF5RW5kLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOiAvLyDkvJjpgIlcclxuICAgICAgICAgICAgICAgIGF1ZGlvLnNyYyA9ICdzb3VuZC9zaW5nbGUvc2luZ2xlLndhdic7IC8vIOWNleWFtVxyXG4gICAgICAgICAgICAgICAgYXVkaW8ucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhhc0EpIHtcclxuICAgICAgICAgICAgICAgICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHBsYXlJbmRleCwgZmFsc2UpOyAvLyBBXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgcGxheVZhbHVlLCBmYWxzZSk7IC8vIDE2OFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcGxheUluZGV4KCkgeyAvLyBBXHJcbiAgICAgICAgICAgIGF1ZGlvLnNyYyA9ICdzb3VuZC9zaW5nbGUvc2luZ2xlX2luZGV4XycgKyBudW0gKyAnLndhdic7XHJcbiAgICAgICAgICAgIGF1ZGlvLnBsYXkoKTtcclxuICAgICAgICAgICAgYXVkaW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBwbGF5SW5kZXgsIGZhbHNlKTtcclxuICAgICAgICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBwbGF5VmFsdWUsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcGxheVZhbHVlKCkgeyAvLyAxNjhcclxuICAgICAgICAgICAgYXVkaW8uc3JjID0gJ3NvdW5kL3NpbmdsZS8nICsgdmFsdWUgKyAnLndhdic7XHJcbiAgICAgICAgICAgIGF1ZGlvLnBsYXkoKTtcclxuICAgICAgICAgICAgYXVkaW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBwbGF5VmFsdWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBwbGF5RW5kLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHBsYXlFbmQoKSB7XHJcbiAgICAgICAgICAgIGF1ZGlvUGxheWVyU3RhdHVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGF1ZGlvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgcGxheUVuZCwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcGxheVBhc3NpdmVBY3RpdmUoaXNBY3RpdmUpIHtcclxuICAgICAgICBsZXQgdmFsdWU7XHJcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gJ2FjdGl2ZV9oaXQnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gJ2FjdGl2ZV9lc2NhcGUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc2l2ZUF1ZGlvUGxheScpO1xyXG4gICAgICAgIGF1ZGlvLnNyYyA9ICdzb3VuZC9jYXIvJyArIHZhbHVlICsgJy53YXYnO1xyXG4gICAgICAgIGF1ZGlvLnBsYXkoKTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgcGxheUVuZCwgZmFsc2UpO1xyXG4gICAgICAgIGZ1bmN0aW9uIHBsYXlFbmQoKSB7XHJcbiAgICAgICAgICAgIGF1ZGlvUGxheWVyU3RhdHVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGF1ZGlvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgcGxheUVuZCwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAqL1xyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L3NvdW5kL0VuZXJneVNvdW5kLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__overlay_DrawBtsOverlay_js__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__overlay_BtsHitEffectionOverlayConstructor_js__ = __webpack_require__(14);\n\r\n\r\n\r\nclass DrawBtsEcharts {\r\n\r\n    static showBtsStyleCSS(hitedBts) {\r\n    \t/**edit by sunbing start*/\r\n    \tif(passiveActiveStatus != 1 || null == hitedBts.btsId) {\r\n    \t\tif (btsHitEffectionCover != null) {\r\n    \t\t\tmap.removeOverlay(btsHitEffectionCover);\r\n    \t\t}\r\n    \t\tlet color = this.getEffactionColor(hitedBts);\r\n    \t\tif (btsInfoMap.get(hitedBts.btsId) != null) {\r\n    \t\t\tlet btsPoint = new BMap.Point(btsInfoMap.get(hitedBts.btsId).lng, btsInfoMap.get(hitedBts.btsId).lat);\r\n    \t\t\tbtsHitEffectionCover = new __WEBPACK_IMPORTED_MODULE_1__overlay_BtsHitEffectionOverlayConstructor_js__[\"a\" /* BtsHitEffectionOverlayConstructor */](btsPoint, color);\r\n    \t\t\tmap.addOverlay(btsHitEffectionCover);\r\n    \t\t}\r\n    \t}\r\n    \t/**edit by sunbing end*/\r\n    }\r\n\r\n    static showBtsStyle(hitedBts) {\r\n        if (flashMarkerInterval != null) {\r\n            /* 清除定时器*/\r\n            clearInterval(flashMarkerInterval);\r\n            flashMarkerInterval = null;\r\n            /* 清除canvas*/\r\n            $('.bts-hit-canvas').remove();\r\n        }\r\n        /* 设置绘制参数*/\r\n        let markers = [];\r\n        let color = '#999';\r\n        for (let i = 0; i < hitedBts.dev.length; i++) {\r\n            if (currentViewDevCode == hitedBts.dev[i] && devDrawInfoMap.get(hitedBts.dev[i]).isCorrentView) {\r\n                switch (devDrawInfoMap.get(hitedBts.dev[i]).devType) {\r\n                    case 1:\r\n                        color = devColorLib.car[devDrawInfoMap.get(hitedBts.dev[i]).devImgIndex];\r\n                        break;\r\n                    case 2:\r\n                        color = devColorLib.single[devDrawInfoMap.get(hitedBts.dev[i]).devImgIndex];\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        if (btsInfoMap.get(hitedBts.btsId) != null) {\r\n            markers.push({\r\n                lnglat: [btsInfoMap.get(hitedBts.btsId).lng, btsInfoMap.get(hitedBts.btsId).lat],\r\n                color: color,\r\n                speed: 1,\r\n                max: 80,\r\n            });\r\n        }\r\n        /* 重新绘制canvas并更新定时器*/\r\n        flashMarkerInterval = this.btsHitStyleConstructor(map, markers);\r\n    }\r\n\r\n    /* 获取基站命中效果绘制颜色*/\r\n    static getEffactionColor(hitedBts) {\r\n        /**edit by gaochao start */\r\n        let color = 'rgb(153,153,153)';\r\n        /**edit by gaochao end */\r\n        if(hitedBts && null != hitedBts) {\r\n        \tfor (let i = 0; i < hitedBts.dev.length; i++) {\r\n        \t\tif (currentViewDevCode == hitedBts.dev[i] && devDrawInfoMap.get(hitedBts.dev[i]).isCorrentView) {\r\n        \t\t\tswitch (devDrawInfoMap.get(hitedBts.dev[i]).devType) {\r\n        \t\t\tcase 1:\r\n        \t\t\t\tcolor = devColorLib.car[devDrawInfoMap.get(hitedBts.dev[i]).devImgIndex];\r\n        \t\t\t\tbreak;\r\n        \t\t\tcase 2:\r\n        \t\t\t\tcolor = devColorLib.single[devDrawInfoMap.get(hitedBts.dev[i]).devImgIndex];\r\n        \t\t\t\tbreak;\r\n        \t\t\tdefault:\r\n        \t\t\t\tbreak;\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        }\r\n        return color;\r\n    }\r\n\r\n    /* 基站命中效果构造方法*/\r\n    static btsHitStyleConstructor(____map, ____markers) {\r\n        function CanvasLayer(options) {\r\n            this.options = options || {};\r\n            this.paneName = this.options.paneName || 'labelPane';\r\n            this.zIndex = this.options.zIndex || 0;\r\n            this._map = options.map;\r\n            this._lastDrawTime = null;\r\n            this.show();\r\n        }\r\n\r\n        CanvasLayer.prototype = new BMap.Overlay();\r\n\r\n        CanvasLayer.prototype.initialize = function (map) {\r\n            this._map = map;\r\n            let canvas = this.canvas = document.createElement('canvas');\r\n            let ctx = this.ctx = this.canvas.getContext('2d');\r\n            canvas.style.cssText = 'position:absolute;' + 'left:0;' + 'top:0;' + 'z-index:' + this.zIndex + ';';\r\n            canvas.style.zIndex = '-9999';\r\n            canvas.className = 'bts-hit-canvas';\r\n            this.adjustSize();\r\n            this.adjustRatio(ctx);\r\n            map.getPanes()[this.paneName].appendChild(canvas);\r\n            let that = this;\r\n            map.addEventListener('resize', function () {\r\n                that.adjustSize();\r\n                that._draw();\r\n            });\r\n            return this.canvas;\r\n        };\r\n\r\n        CanvasLayer.prototype.adjustSize = function () {\r\n            let size = this._map.getSize();\r\n            let canvas = this.canvas;\r\n            canvas.width = size.width;\r\n            canvas.height = size.height;\r\n            canvas.style.width = canvas.width + 'px';\r\n            canvas.style.height = canvas.height + 'px';\r\n        };\r\n\r\n        CanvasLayer.prototype.adjustRatio = function (ctx) {\r\n            let backingStore = ctx.backingStorePixelRatio || ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\r\n            let pixelRatio = (window.devicePixelRatio || 1) / backingStore;\r\n            let canvasWidth = ctx.canvas.width;\r\n            let canvasHeight = ctx.canvas.height;\r\n            ctx.canvas.width = canvasWidth * pixelRatio;\r\n            ctx.canvas.height = canvasHeight * pixelRatio;\r\n            ctx.canvas.style.width = canvasWidth + 'px';\r\n            ctx.canvas.style.height = canvasHeight + 'px';\r\n            // console.log(ctx.canvas.height, canvasHeight);\r\n            ctx.scale(pixelRatio, pixelRatio);\r\n        };\r\n\r\n        CanvasLayer.prototype.draw = function () {\r\n            let self = this;\r\n            let args = arguments;\r\n\r\n            clearTimeout(self.timeoutID);\r\n            self.timeoutID = setTimeout(function () {\r\n                self._draw();\r\n            }, 15);\r\n        };\r\n\r\n        CanvasLayer.prototype._draw = function () {\r\n            let map = this._map;\r\n            let size = map.getSize();\r\n            let center = map.getCenter();\r\n            if (center) {\r\n                let pixel = map.pointToOverlayPixel(center);\r\n                this.canvas.style.left = pixel.x - size.width / 2 + 'px';\r\n                this.canvas.style.top = pixel.y - size.height / 2 + 'px';\r\n                this.dispatchEvent('draw');\r\n                this.options.update && this.options.update.call(this);\r\n            }\r\n        };\r\n\r\n        CanvasLayer.prototype.getContainer = function () {\r\n            return this.canvas;\r\n        };\r\n\r\n        CanvasLayer.prototype.show = function () {\r\n            if (!this.canvas) {\r\n                this._map.addOverlay(this);\r\n            }\r\n            this.canvas.style.display = 'block';\r\n        };\r\n\r\n        CanvasLayer.prototype.hide = function () {\r\n            this.canvas.style.display = 'none';\r\n            //this._map.removeOverlay(this);\r\n        };\r\n\r\n        CanvasLayer.prototype.setZIndex = function (zIndex) {\r\n            this.canvas.style.zIndex = zIndex;\r\n        };\r\n\r\n        CanvasLayer.prototype.getZIndex = function () {\r\n            return this.zIndex;\r\n        };\r\n\r\n        let global = typeof window === 'undefined' ? {} : window;\r\n\r\n        let requestAnimationFrame = global.requestAnimationFrame || global.mozRequestAnimationFrame || global.webkitRequestAnimationFrame || global.msRequestAnimationFrame || function (callback) {\r\n            return global.setTimeout(callback, 1000 / 50);\r\n        };\r\n\r\n        function Marker(opts) {\r\n            this.city = opts.name;\r\n            this.location = new BMap.Point(opts.lnglat[0], opts.lnglat[1]);\r\n            this.color = opts.color;\r\n            // this.type = opts.type || 'circle';\r\n            this.speed = opts.speed || 0.15;\r\n            this.size = 0;\r\n            this.max = opts.max || 20;\r\n        }\r\n\r\n        Marker.prototype.draw = function (context) {\r\n            context.save();\r\n            context.beginPath();\r\n            this._drawCircle(context);\r\n            context.closePath();\r\n            context.restore();\r\n\r\n            this.size += 1;\r\n            if (this.size > 80) {\r\n                this.size = 0;\r\n            }\r\n        };\r\n\r\n        Marker.prototype._drawCircle = function (context) {\r\n            let pixel = this.pixel || map.pointToPixel(this.location);\r\n            context.strokeStyle = this.color;\r\n            context.moveTo(pixel.x + pixel.size, pixel.y);\r\n            context.arc(pixel.x, pixel.y, this.size, 0, Math.PI * 2);\r\n            context.stroke();\r\n        };\r\n\r\n        function FlashMarker(map, dataSet) {\r\n            let animationLayer = null,\r\n                width = map.getSize().width,\r\n                height = map.getSize().height,\r\n                animationFlag = true,\r\n                markers = [];\r\n\r\n            let addMarker = function addMarker() {\r\n                if (markers.length > 0) return;\r\n                markers = [];\r\n                for (let i = 0; i < dataSet.length; i++) {\r\n                    markers.push(new Marker(dataSet[i]));\r\n                }\r\n            };\r\n\r\n            //上层canvas渲染，动画效果\r\n            let render = function render() {\r\n                let animationCtx = animationLayer.canvas.getContext('2d');\r\n                if (!animationCtx) {\r\n                    return;\r\n                }\r\n\r\n                if (!animationFlag) {\r\n                    animationCtx.clearRect(0, 0, width, height);\r\n                    return;\r\n                }\r\n\r\n                addMarker();\r\n\r\n                animationCtx.fillStyle = 'rgba(0,0,0,0.9)';\r\n                let prev = animationCtx.globalCompositeOperation;\r\n                animationCtx.globalCompositeOperation = 'destination-in';\r\n                animationCtx.fillRect(0, 0, width, height);\r\n                animationCtx.globalCompositeOperation = prev;\r\n\r\n                for (let i = 0; i < markers.length; i++) {\r\n                    let marker = markers[i];\r\n                    marker.draw(animationCtx);\r\n                }\r\n            };\r\n\r\n            //初始化\r\n            let init = function () {\r\n                animationLayer = new CanvasLayer({\r\n                    map: map,\r\n                    update: render\r\n                });\r\n\r\n                mouseInteract();\r\n\r\n                let interval = setInterval(() => {\r\n                    render();\r\n                }, 1000 / 50);\r\n\r\n                return interval;\r\n            };\r\n\r\n            //鼠标事件\r\n            let mouseInteract = function mouseInteract() {\r\n                map.addEventListener('movestart', function () {\r\n                    animationFlag = false;\r\n                });\r\n\r\n                map.addEventListener('moveend', function () {\r\n                    animationFlag = true;\r\n                    markers = []; //解决拖动后多余的小圆点bug，没想明白，暂时这样\r\n                });\r\n\r\n                map.addEventListener('zoomstart', function () {\r\n                    animationFlag = false;\r\n                });\r\n\r\n                map.addEventListener('zoomend', function () {\r\n                    animationFlag = true;\r\n                    markers = [];\r\n                });\r\n            };\r\n\r\n            return init();\r\n        }\r\n\r\n        return FlashMarker(____map, ____markers);\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = DrawBtsEcharts;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3QnRzRWNoYXJ0cy5qcz8zMzYxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBOEQ7QUFDc0M7O0FBRTdGOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx3SEFBaUM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHlCQUF5QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUJBQXlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELFlBQVksV0FBVyxpQ0FBaUM7QUFDOUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHVEQUF1RDs7QUFFdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG9CQUFvQjtBQUNuRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0JBQStCLG9CQUFvQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxDIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEcmF3QnRzT3ZlcmxheSB9IGZyb20gJy4uL292ZXJsYXkvRHJhd0J0c092ZXJsYXkuanMnO1xyXG5pbXBvcnQgeyBCdHNIaXRFZmZlY3Rpb25PdmVybGF5Q29uc3RydWN0b3IgfSBmcm9tICcuLi9vdmVybGF5L0J0c0hpdEVmZmVjdGlvbk92ZXJsYXlDb25zdHJ1Y3Rvci5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRHJhd0J0c0VjaGFydHMge1xyXG5cclxuICAgIHN0YXRpYyBzaG93QnRzU3R5bGVDU1MoaGl0ZWRCdHMpIHtcclxuICAgIFx0LyoqZWRpdCBieSBzdW5iaW5nIHN0YXJ0Ki9cclxuICAgIFx0aWYocGFzc2l2ZUFjdGl2ZVN0YXR1cyAhPSAxIHx8IG51bGwgPT0gaGl0ZWRCdHMuYnRzSWQpIHtcclxuICAgIFx0XHRpZiAoYnRzSGl0RWZmZWN0aW9uQ292ZXIgIT0gbnVsbCkge1xyXG4gICAgXHRcdFx0bWFwLnJlbW92ZU92ZXJsYXkoYnRzSGl0RWZmZWN0aW9uQ292ZXIpO1xyXG4gICAgXHRcdH1cclxuICAgIFx0XHRsZXQgY29sb3IgPSB0aGlzLmdldEVmZmFjdGlvbkNvbG9yKGhpdGVkQnRzKTtcclxuICAgIFx0XHRpZiAoYnRzSW5mb01hcC5nZXQoaGl0ZWRCdHMuYnRzSWQpICE9IG51bGwpIHtcclxuICAgIFx0XHRcdGxldCBidHNQb2ludCA9IG5ldyBCTWFwLlBvaW50KGJ0c0luZm9NYXAuZ2V0KGhpdGVkQnRzLmJ0c0lkKS5sbmcsIGJ0c0luZm9NYXAuZ2V0KGhpdGVkQnRzLmJ0c0lkKS5sYXQpO1xyXG4gICAgXHRcdFx0YnRzSGl0RWZmZWN0aW9uQ292ZXIgPSBuZXcgQnRzSGl0RWZmZWN0aW9uT3ZlcmxheUNvbnN0cnVjdG9yKGJ0c1BvaW50LCBjb2xvcik7XHJcbiAgICBcdFx0XHRtYXAuYWRkT3ZlcmxheShidHNIaXRFZmZlY3Rpb25Db3Zlcik7XHJcbiAgICBcdFx0fVxyXG4gICAgXHR9XHJcbiAgICBcdC8qKmVkaXQgYnkgc3VuYmluZyBlbmQqL1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzaG93QnRzU3R5bGUoaGl0ZWRCdHMpIHtcclxuICAgICAgICBpZiAoZmxhc2hNYXJrZXJJbnRlcnZhbCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8qIOa4hemZpOWumuaXtuWZqCovXHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZmxhc2hNYXJrZXJJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIGZsYXNoTWFya2VySW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgICAgICAgICAvKiDmuIXpmaRjYW52YXMqL1xyXG4gICAgICAgICAgICAkKCcuYnRzLWhpdC1jYW52YXMnKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyog6K6+572u57uY5Yi25Y+C5pWwKi9cclxuICAgICAgICBsZXQgbWFya2VycyA9IFtdO1xyXG4gICAgICAgIGxldCBjb2xvciA9ICcjOTk5JztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhpdGVkQnRzLmRldi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudFZpZXdEZXZDb2RlID09IGhpdGVkQnRzLmRldltpXSAmJiBkZXZEcmF3SW5mb01hcC5nZXQoaGl0ZWRCdHMuZGV2W2ldKS5pc0NvcnJlbnRWaWV3KSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRldkRyYXdJbmZvTWFwLmdldChoaXRlZEJ0cy5kZXZbaV0pLmRldlR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yID0gZGV2Q29sb3JMaWIuY2FyW2RldkRyYXdJbmZvTWFwLmdldChoaXRlZEJ0cy5kZXZbaV0pLmRldkltZ0luZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvciA9IGRldkNvbG9yTGliLnNpbmdsZVtkZXZEcmF3SW5mb01hcC5nZXQoaGl0ZWRCdHMuZGV2W2ldKS5kZXZJbWdJbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChidHNJbmZvTWFwLmdldChoaXRlZEJ0cy5idHNJZCkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBtYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbG5nbGF0OiBbYnRzSW5mb01hcC5nZXQoaGl0ZWRCdHMuYnRzSWQpLmxuZywgYnRzSW5mb01hcC5nZXQoaGl0ZWRCdHMuYnRzSWQpLmxhdF0sXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsXHJcbiAgICAgICAgICAgICAgICBzcGVlZDogMSxcclxuICAgICAgICAgICAgICAgIG1heDogODAsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiDph43mlrDnu5jliLZjYW52YXPlubbmm7TmlrDlrprml7blmagqL1xyXG4gICAgICAgIGZsYXNoTWFya2VySW50ZXJ2YWwgPSB0aGlzLmJ0c0hpdFN0eWxlQ29uc3RydWN0b3IobWFwLCBtYXJrZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiDojrflj5bln7rnq5nlkb3kuK3mlYjmnpznu5jliLbpopzoibIqL1xyXG4gICAgc3RhdGljIGdldEVmZmFjdGlvbkNvbG9yKGhpdGVkQnRzKSB7XHJcbiAgICAgICAgLyoqZWRpdCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgbGV0IGNvbG9yID0gJ3JnYigxNTMsMTUzLDE1MyknO1xyXG4gICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICBpZihoaXRlZEJ0cyAmJiBudWxsICE9IGhpdGVkQnRzKSB7XHJcbiAgICAgICAgXHRmb3IgKGxldCBpID0gMDsgaSA8IGhpdGVkQnRzLmRldi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIFx0XHRpZiAoY3VycmVudFZpZXdEZXZDb2RlID09IGhpdGVkQnRzLmRldltpXSAmJiBkZXZEcmF3SW5mb01hcC5nZXQoaGl0ZWRCdHMuZGV2W2ldKS5pc0NvcnJlbnRWaWV3KSB7XHJcbiAgICAgICAgXHRcdFx0c3dpdGNoIChkZXZEcmF3SW5mb01hcC5nZXQoaGl0ZWRCdHMuZGV2W2ldKS5kZXZUeXBlKSB7XHJcbiAgICAgICAgXHRcdFx0Y2FzZSAxOlxyXG4gICAgICAgIFx0XHRcdFx0Y29sb3IgPSBkZXZDb2xvckxpYi5jYXJbZGV2RHJhd0luZm9NYXAuZ2V0KGhpdGVkQnRzLmRldltpXSkuZGV2SW1nSW5kZXhdO1xyXG4gICAgICAgIFx0XHRcdFx0YnJlYWs7XHJcbiAgICAgICAgXHRcdFx0Y2FzZSAyOlxyXG4gICAgICAgIFx0XHRcdFx0Y29sb3IgPSBkZXZDb2xvckxpYi5zaW5nbGVbZGV2RHJhd0luZm9NYXAuZ2V0KGhpdGVkQnRzLmRldltpXSkuZGV2SW1nSW5kZXhdO1xyXG4gICAgICAgIFx0XHRcdFx0YnJlYWs7XHJcbiAgICAgICAgXHRcdFx0ZGVmYXVsdDpcclxuICAgICAgICBcdFx0XHRcdGJyZWFrO1xyXG4gICAgICAgIFx0XHRcdH1cclxuICAgICAgICBcdFx0fVxyXG4gICAgICAgIFx0fVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgLyog5Z+656uZ5ZG95Lit5pWI5p6c5p6E6YCg5pa55rOVKi9cclxuICAgIHN0YXRpYyBidHNIaXRTdHlsZUNvbnN0cnVjdG9yKF9fX19tYXAsIF9fX19tYXJrZXJzKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ2FudmFzTGF5ZXIob3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgICAgICB0aGlzLnBhbmVOYW1lID0gdGhpcy5vcHRpb25zLnBhbmVOYW1lIHx8ICdsYWJlbFBhbmUnO1xyXG4gICAgICAgICAgICB0aGlzLnpJbmRleCA9IHRoaXMub3B0aW9ucy56SW5kZXggfHwgMDtcclxuICAgICAgICAgICAgdGhpcy5fbWFwID0gb3B0aW9ucy5tYXA7XHJcbiAgICAgICAgICAgIHRoaXMuX2xhc3REcmF3VGltZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQ2FudmFzTGF5ZXIucHJvdG90eXBlID0gbmV3IEJNYXAuT3ZlcmxheSgpO1xyXG5cclxuICAgICAgICBDYW52YXNMYXllci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChtYXApIHtcclxuICAgICAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xyXG4gICAgICAgICAgICBsZXQgY2FudmFzID0gdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgbGV0IGN0eCA9IHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgY2FudmFzLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246YWJzb2x1dGU7JyArICdsZWZ0OjA7JyArICd0b3A6MDsnICsgJ3otaW5kZXg6JyArIHRoaXMuekluZGV4ICsgJzsnO1xyXG4gICAgICAgICAgICBjYW52YXMuc3R5bGUuekluZGV4ID0gJy05OTk5JztcclxuICAgICAgICAgICAgY2FudmFzLmNsYXNzTmFtZSA9ICdidHMtaGl0LWNhbnZhcyc7XHJcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0U2l6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmFkanVzdFJhdGlvKGN0eCk7XHJcbiAgICAgICAgICAgIG1hcC5nZXRQYW5lcygpW3RoaXMucGFuZU5hbWVdLmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgICAgICAgICAgbWFwLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuYWRqdXN0U2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhhdC5fZHJhdygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENhbnZhc0xheWVyLnByb3RvdHlwZS5hZGp1c3RTaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgc2l6ZSA9IHRoaXMuX21hcC5nZXRTaXplKCk7XHJcbiAgICAgICAgICAgIGxldCBjYW52YXMgPSB0aGlzLmNhbnZhcztcclxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gc2l6ZS53aWR0aDtcclxuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHNpemUuaGVpZ2h0O1xyXG4gICAgICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBjYW52YXMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gY2FudmFzLmhlaWdodCArICdweCc7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2FudmFzTGF5ZXIucHJvdG90eXBlLmFkanVzdFJhdGlvID0gZnVuY3Rpb24gKGN0eCkge1xyXG4gICAgICAgICAgICBsZXQgYmFja2luZ1N0b3JlID0gY3R4LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4Lm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCBjdHgub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMTtcclxuICAgICAgICAgICAgbGV0IHBpeGVsUmF0aW8gPSAod2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkgLyBiYWNraW5nU3RvcmU7XHJcbiAgICAgICAgICAgIGxldCBjYW52YXNXaWR0aCA9IGN0eC5jYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgIGxldCBjYW52YXNIZWlnaHQgPSBjdHguY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgY3R4LmNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoICogcGl4ZWxSYXRpbztcclxuICAgICAgICAgICAgY3R4LmNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQgKiBwaXhlbFJhdGlvO1xyXG4gICAgICAgICAgICBjdHguY2FudmFzLnN0eWxlLndpZHRoID0gY2FudmFzV2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICBjdHguY2FudmFzLnN0eWxlLmhlaWdodCA9IGNhbnZhc0hlaWdodCArICdweCc7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGN0eC5jYW52YXMuaGVpZ2h0LCBjYW52YXNIZWlnaHQpO1xyXG4gICAgICAgICAgICBjdHguc2NhbGUocGl4ZWxSYXRpbywgcGl4ZWxSYXRpbyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2FudmFzTGF5ZXIucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgbGV0IGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0SUQpO1xyXG4gICAgICAgICAgICBzZWxmLnRpbWVvdXRJRCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5fZHJhdygpO1xyXG4gICAgICAgICAgICB9LCAxNSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2FudmFzTGF5ZXIucHJvdG90eXBlLl9kcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgbWFwID0gdGhpcy5fbWFwO1xyXG4gICAgICAgICAgICBsZXQgc2l6ZSA9IG1hcC5nZXRTaXplKCk7XHJcbiAgICAgICAgICAgIGxldCBjZW50ZXIgPSBtYXAuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgICAgIGlmIChjZW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwaXhlbCA9IG1hcC5wb2ludFRvT3ZlcmxheVBpeGVsKGNlbnRlcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS5sZWZ0ID0gcGl4ZWwueCAtIHNpemUud2lkdGggLyAyICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLnRvcCA9IHBpeGVsLnkgLSBzaXplLmhlaWdodCAvIDIgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdkcmF3Jyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudXBkYXRlICYmIHRoaXMub3B0aW9ucy51cGRhdGUuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENhbnZhc0xheWVyLnByb3RvdHlwZS5nZXRDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbnZhcztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDYW52YXNMYXllci5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwLmFkZE92ZXJsYXkodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2FudmFzTGF5ZXIucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIC8vdGhpcy5fbWFwLnJlbW92ZU92ZXJsYXkodGhpcyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2FudmFzTGF5ZXIucHJvdG90eXBlLnNldFpJbmRleCA9IGZ1bmN0aW9uICh6SW5kZXgpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuekluZGV4ID0gekluZGV4O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENhbnZhc0xheWVyLnByb3RvdHlwZS5nZXRaSW5kZXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnpJbmRleDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgZ2xvYmFsID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyB7fSA6IHdpbmRvdztcclxuXHJcbiAgICAgICAgbGV0IHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZ2xvYmFsLm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBnbG9iYWwud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGdsb2JhbC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbC5zZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNTApO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIE1hcmtlcihvcHRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2l0eSA9IG9wdHMubmFtZTtcclxuICAgICAgICAgICAgdGhpcy5sb2NhdGlvbiA9IG5ldyBCTWFwLlBvaW50KG9wdHMubG5nbGF0WzBdLCBvcHRzLmxuZ2xhdFsxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29sb3IgPSBvcHRzLmNvbG9yO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnR5cGUgPSBvcHRzLnR5cGUgfHwgJ2NpcmNsZSc7XHJcbiAgICAgICAgICAgIHRoaXMuc3BlZWQgPSBvcHRzLnNwZWVkIHx8IDAuMTU7XHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMubWF4ID0gb3B0cy5tYXggfHwgMjA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBNYXJrZXIucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgdGhpcy5fZHJhd0NpcmNsZShjb250ZXh0KTtcclxuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNpemUgKz0gMTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2l6ZSA+IDgwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpemUgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgTWFya2VyLnByb3RvdHlwZS5fZHJhd0NpcmNsZSA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIGxldCBwaXhlbCA9IHRoaXMucGl4ZWwgfHwgbWFwLnBvaW50VG9QaXhlbCh0aGlzLmxvY2F0aW9uKTtcclxuICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHBpeGVsLnggKyBwaXhlbC5zaXplLCBwaXhlbC55KTtcclxuICAgICAgICAgICAgY29udGV4dC5hcmMocGl4ZWwueCwgcGl4ZWwueSwgdGhpcy5zaXplLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gRmxhc2hNYXJrZXIobWFwLCBkYXRhU2V0KSB7XHJcbiAgICAgICAgICAgIGxldCBhbmltYXRpb25MYXllciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IG1hcC5nZXRTaXplKCkud2lkdGgsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBtYXAuZ2V0U2l6ZSgpLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkZsYWcgPSB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWFya2VycyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgbGV0IGFkZE1hcmtlciA9IGZ1bmN0aW9uIGFkZE1hcmtlcigpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtYXJrZXJzLmxlbmd0aCA+IDApIHJldHVybjtcclxuICAgICAgICAgICAgICAgIG1hcmtlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YVNldC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnMucHVzaChuZXcgTWFya2VyKGRhdGFTZXRbaV0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8v5LiK5bGCY2FudmFz5riy5p+T77yM5Yqo55S75pWI5p6cXHJcbiAgICAgICAgICAgIGxldCByZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYW5pbWF0aW9uQ3R4ID0gYW5pbWF0aW9uTGF5ZXIuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbkN0eCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbkZsYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25DdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBhZGRNYXJrZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25DdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMC45KSc7XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJldiA9IGFuaW1hdGlvbkN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb247XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25DdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLWluJztcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkN0eC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBwcmV2O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFya2Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXJrZXIgPSBtYXJrZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlci5kcmF3KGFuaW1hdGlvbkN0eCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL+WIneWni+WMllxyXG4gICAgICAgICAgICBsZXQgaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkxheWVyID0gbmV3IENhbnZhc0xheWVyKHtcclxuICAgICAgICAgICAgICAgICAgICBtYXA6IG1hcCxcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6IHJlbmRlclxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbW91c2VJbnRlcmFjdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMDAgLyA1MCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGludGVydmFsO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy/pvKDmoIfkuovku7ZcclxuICAgICAgICAgICAgbGV0IG1vdXNlSW50ZXJhY3QgPSBmdW5jdGlvbiBtb3VzZUludGVyYWN0KCkge1xyXG4gICAgICAgICAgICAgICAgbWFwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdmVzdGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25GbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBtYXAuYWRkRXZlbnRMaXN0ZW5lcignbW92ZWVuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25GbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJzID0gW107IC8v6Kej5Yaz5ouW5Yqo5ZCO5aSa5L2Z55qE5bCP5ZyG54K5YnVn77yM5rKh5oOz5piO55m977yM5pqC5pe26L+Z5qC3XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBtYXAuYWRkRXZlbnRMaXN0ZW5lcignem9vbXN0YXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIG1hcC5hZGRFdmVudExpc3RlbmVyKCd6b29tZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGluaXQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBGbGFzaE1hcmtlcihfX19fbWFwLCBfX19fbWFya2Vycyk7XHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3QnRzRWNoYXJ0cy5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__overlay_BtsHitEffectionOverlayConstructor_js__ = __webpack_require__(14);\n\r\n\r\nclass DrawMultiBtsEcharts {\r\n\r\n    static showBtsStyleCSS(hitedBts) {\r\n    \t/**edit by sunbing start*/\r\n    \tif(passiveActiveStatus != 1 || null == hitedBts.btsId) {\r\n    \t\tif (btsHitEffectionCover != null) {\r\n    \t\t\tmap.removeOverlay(btsHitEffectionCover);\r\n    \t\t}\r\n            let color = this.getEffactionColor(hitedBts);\r\n            let multiBtsInfo = multiBtsInfoMap.get(hitedBts.btsId);\r\n            if(multiBtsInfo != null) {\r\n                let btsPoint = new BMap.Point(multiBtsInfo.lng, multiBtsInfo.lat);\r\n    \t\t\tbtsHitEffectionCover = new __WEBPACK_IMPORTED_MODULE_0__overlay_BtsHitEffectionOverlayConstructor_js__[\"a\" /* BtsHitEffectionOverlayConstructor */](btsPoint, color);\r\n    \t\t\tmap.addOverlay(btsHitEffectionCover);\r\n                if(multiBtsInfo.type == 2) {\r\n                    //如是复合基站，则将子基站添加效果图\r\n                    $('.add-bts-hit-effection').css('display', 'none');\r\n                    $('.hot-id-' + hitedBts.btsId).css('display', 'block');\r\n                    $('.hot-id-' + hitedBts.btsId).css('background-color', color)\r\n                }\r\n            }else {\r\n                //子基站命中，则先找到对应的父基站\r\n                let bts = btsInfoMap.get(hitedBts.btsId);\r\n                if (bts != null) {\r\n                    let multiBtsId = bts.parentBtsId;\r\n                    let multiBtsInfo = multiBtsInfoMap.get(multiBtsId);\r\n                    if(null != multiBtsInfo) {\r\n                        //父基站添加效果\r\n                        let btsPoint = new BMap.Point(multiBtsInfo.lng, multiBtsInfo.lat);\r\n                        btsHitEffectionCover = new __WEBPACK_IMPORTED_MODULE_0__overlay_BtsHitEffectionOverlayConstructor_js__[\"a\" /* BtsHitEffectionOverlayConstructor */](btsPoint, color);\r\n                        map.addOverlay(btsHitEffectionCover);\r\n                        //子基站添加效果\r\n                        $('.add-bts-hit-effection').css('display', 'none');\r\n                        $('.hot-id-' + bts.btsId).css('display', 'block');\r\n                        $('.hot-id-' + bts.btsId).css('background-color', color);\r\n                    }\r\n                }\r\n            }\r\n    \t}\r\n    \t/**edit by sunbing end*/\r\n    }\r\n\r\n    static showBtsStyle(hitedBts) {\r\n        if (flashMarkerInterval != null) {\r\n            /* 清除定时器*/\r\n            clearInterval(flashMarkerInterval);\r\n            flashMarkerInterval = null;\r\n            /* 清除canvas*/\r\n            $('.bts-hit-canvas').remove();\r\n        }\r\n        /* 设置绘制参数*/\r\n        let markers = [];\r\n        let color = '#999';\r\n        for (let i = 0; i < hitedBts.dev.length; i++) {\r\n            if (currentViewDevCode == hitedBts.dev[i] && devDrawInfoMap.get(hitedBts.dev[i]).isCorrentView) {\r\n                switch (devDrawInfoMap.get(hitedBts.dev[i]).devType) {\r\n                    case 1:\r\n                        color = devColorLib.car[devDrawInfoMap.get(hitedBts.dev[i]).devImgIndex];\r\n                        break;\r\n                    case 2:\r\n                        color = devColorLib.single[devDrawInfoMap.get(hitedBts.dev[i]).devImgIndex];\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        if (btsInfoMap.get(hitedBts.btsId) != null) {\r\n            markers.push({\r\n                lnglat: [btsInfoMap.get(hitedBts.btsId).lng, btsInfoMap.get(hitedBts.btsId).lat],\r\n                color: color,\r\n                speed: 1,\r\n                max: 80,\r\n            });\r\n        }\r\n        /* 重新绘制canvas并更新定时器*/\r\n        flashMarkerInterval = this.btsHitStyleConstructor(map, markers);\r\n    }\r\n\r\n    /* 获取基站命中效果绘制颜色*/\r\n    static getEffactionColor(hitedBts) {\r\n        /**edit by gaochao start */\r\n        let color = 'rgb(153,153,153)';\r\n        /**edit by gaochao end */\r\n        if(hitedBts && null != hitedBts) {\r\n        \tfor (let i = 0; i < hitedBts.dev.length; i++) {\r\n        \t\tif (currentViewDevCode == hitedBts.dev[i] && devDrawInfoMap.get(hitedBts.dev[i]).isCorrentView) {\r\n        \t\t\tswitch (devDrawInfoMap.get(hitedBts.dev[i]).devType) {\r\n        \t\t\tcase 1:\r\n        \t\t\t\tcolor = devColorLib.car[devDrawInfoMap.get(hitedBts.dev[i]).devImgIndex];\r\n        \t\t\t\tbreak;\r\n        \t\t\tcase 2:\r\n        \t\t\t\tcolor = devColorLib.single[devDrawInfoMap.get(hitedBts.dev[i]).devImgIndex];\r\n        \t\t\t\tbreak;\r\n        \t\t\tdefault:\r\n        \t\t\t\tbreak;\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        }\r\n        return color;\r\n    }\r\n\r\n    /* 基站命中效果构造方法*/\r\n    static btsHitStyleConstructor(____map, ____markers) {\r\n        function CanvasLayer(options) {\r\n            this.options = options || {};\r\n            this.paneName = this.options.paneName || 'labelPane';\r\n            this.zIndex = this.options.zIndex || 0;\r\n            this._map = options.map;\r\n            this._lastDrawTime = null;\r\n            this.show();\r\n        }\r\n\r\n        CanvasLayer.prototype = new BMap.Overlay();\r\n\r\n        CanvasLayer.prototype.initialize = function (map) {\r\n            this._map = map;\r\n            let canvas = this.canvas = document.createElement('canvas');\r\n            let ctx = this.ctx = this.canvas.getContext('2d');\r\n            canvas.style.cssText = 'position:absolute;' + 'left:0;' + 'top:0;' + 'z-index:' + this.zIndex + ';';\r\n            canvas.style.zIndex = '-9999';\r\n            canvas.className = 'bts-hit-canvas';\r\n            this.adjustSize();\r\n            this.adjustRatio(ctx);\r\n            map.getPanes()[this.paneName].appendChild(canvas);\r\n            let that = this;\r\n            map.addEventListener('resize', function () {\r\n                that.adjustSize();\r\n                that._draw();\r\n            });\r\n            return this.canvas;\r\n        };\r\n\r\n        CanvasLayer.prototype.adjustSize = function () {\r\n            let size = this._map.getSize();\r\n            let canvas = this.canvas;\r\n            canvas.width = size.width;\r\n            canvas.height = size.height;\r\n            canvas.style.width = canvas.width + 'px';\r\n            canvas.style.height = canvas.height + 'px';\r\n        };\r\n\r\n        CanvasLayer.prototype.adjustRatio = function (ctx) {\r\n            let backingStore = ctx.backingStorePixelRatio || ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\r\n            let pixelRatio = (window.devicePixelRatio || 1) / backingStore;\r\n            let canvasWidth = ctx.canvas.width;\r\n            let canvasHeight = ctx.canvas.height;\r\n            ctx.canvas.width = canvasWidth * pixelRatio;\r\n            ctx.canvas.height = canvasHeight * pixelRatio;\r\n            ctx.canvas.style.width = canvasWidth + 'px';\r\n            ctx.canvas.style.height = canvasHeight + 'px';\r\n            // console.log(ctx.canvas.height, canvasHeight);\r\n            ctx.scale(pixelRatio, pixelRatio);\r\n        };\r\n\r\n        CanvasLayer.prototype.draw = function () {\r\n            let self = this;\r\n            let args = arguments;\r\n\r\n            clearTimeout(self.timeoutID);\r\n            self.timeoutID = setTimeout(function () {\r\n                self._draw();\r\n            }, 15);\r\n        };\r\n\r\n        CanvasLayer.prototype._draw = function () {\r\n            let map = this._map;\r\n            let size = map.getSize();\r\n            let center = map.getCenter();\r\n            if (center) {\r\n                let pixel = map.pointToOverlayPixel(center);\r\n                this.canvas.style.left = pixel.x - size.width / 2 + 'px';\r\n                this.canvas.style.top = pixel.y - size.height / 2 + 'px';\r\n                this.dispatchEvent('draw');\r\n                this.options.update && this.options.update.call(this);\r\n            }\r\n        };\r\n\r\n        CanvasLayer.prototype.getContainer = function () {\r\n            return this.canvas;\r\n        };\r\n\r\n        CanvasLayer.prototype.show = function () {\r\n            if (!this.canvas) {\r\n                this._map.addOverlay(this);\r\n            }\r\n            this.canvas.style.display = 'block';\r\n        };\r\n\r\n        CanvasLayer.prototype.hide = function () {\r\n            this.canvas.style.display = 'none';\r\n            //this._map.removeOverlay(this);\r\n        };\r\n\r\n        CanvasLayer.prototype.setZIndex = function (zIndex) {\r\n            this.canvas.style.zIndex = zIndex;\r\n        };\r\n\r\n        CanvasLayer.prototype.getZIndex = function () {\r\n            return this.zIndex;\r\n        };\r\n\r\n        let global = typeof window === 'undefined' ? {} : window;\r\n\r\n        let requestAnimationFrame = global.requestAnimationFrame || global.mozRequestAnimationFrame || global.webkitRequestAnimationFrame || global.msRequestAnimationFrame || function (callback) {\r\n            return global.setTimeout(callback, 1000 / 50);\r\n        };\r\n\r\n        function Marker(opts) {\r\n            this.city = opts.name;\r\n            this.location = new BMap.Point(opts.lnglat[0], opts.lnglat[1]);\r\n            this.color = opts.color;\r\n            // this.type = opts.type || 'circle';\r\n            this.speed = opts.speed || 0.15;\r\n            this.size = 0;\r\n            this.max = opts.max || 20;\r\n        }\r\n\r\n        Marker.prototype.draw = function (context) {\r\n            context.save();\r\n            context.beginPath();\r\n            this._drawCircle(context);\r\n            context.closePath();\r\n            context.restore();\r\n\r\n            this.size += 1;\r\n            if (this.size > 80) {\r\n                this.size = 0;\r\n            }\r\n        };\r\n\r\n        Marker.prototype._drawCircle = function (context) {\r\n            let pixel = this.pixel || map.pointToPixel(this.location);\r\n            context.strokeStyle = this.color;\r\n            context.moveTo(pixel.x + pixel.size, pixel.y);\r\n            context.arc(pixel.x, pixel.y, this.size, 0, Math.PI * 2);\r\n            context.stroke();\r\n        };\r\n\r\n        function FlashMarker(map, dataSet) {\r\n            let animationLayer = null,\r\n                width = map.getSize().width,\r\n                height = map.getSize().height,\r\n                animationFlag = true,\r\n                markers = [];\r\n\r\n            let addMarker = function addMarker() {\r\n                if (markers.length > 0) return;\r\n                markers = [];\r\n                for (let i = 0; i < dataSet.length; i++) {\r\n                    markers.push(new Marker(dataSet[i]));\r\n                }\r\n            };\r\n\r\n            //上层canvas渲染，动画效果\r\n            let render = function render() {\r\n                let animationCtx = animationLayer.canvas.getContext('2d');\r\n                if (!animationCtx) {\r\n                    return;\r\n                }\r\n\r\n                if (!animationFlag) {\r\n                    animationCtx.clearRect(0, 0, width, height);\r\n                    return;\r\n                }\r\n\r\n                addMarker();\r\n\r\n                animationCtx.fillStyle = 'rgba(0,0,0,0.9)';\r\n                let prev = animationCtx.globalCompositeOperation;\r\n                animationCtx.globalCompositeOperation = 'destination-in';\r\n                animationCtx.fillRect(0, 0, width, height);\r\n                animationCtx.globalCompositeOperation = prev;\r\n\r\n                for (let i = 0; i < markers.length; i++) {\r\n                    let marker = markers[i];\r\n                    marker.draw(animationCtx);\r\n                }\r\n            };\r\n\r\n            //初始化\r\n            let init = function () {\r\n                animationLayer = new CanvasLayer({\r\n                    map: map,\r\n                    update: render\r\n                });\r\n\r\n                mouseInteract();\r\n\r\n                let interval = setInterval(() => {\r\n                    render();\r\n                }, 1000 / 50);\r\n\r\n                return interval;\r\n            };\r\n\r\n            //鼠标事件\r\n            let mouseInteract = function mouseInteract() {\r\n                map.addEventListener('movestart', function () {\r\n                    animationFlag = false;\r\n                });\r\n\r\n                map.addEventListener('moveend', function () {\r\n                    animationFlag = true;\r\n                    markers = []; //解决拖动后多余的小圆点bug，没想明白，暂时这样\r\n                });\r\n\r\n                map.addEventListener('zoomstart', function () {\r\n                    animationFlag = false;\r\n                });\r\n\r\n                map.addEventListener('zoomend', function () {\r\n                    animationFlag = true;\r\n                    markers = [];\r\n                });\r\n            };\r\n\r\n            return init();\r\n        }\r\n\r\n        return FlashMarker(____map, ____markers);\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = DrawMultiBtsEcharts;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3TXVsdGlCdHNFY2hhcnRzLmpzPzdjODYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBb0c7O0FBRTdGOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHdIQUFpQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELHdIQUFpQztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseUJBQXlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5QkFBeUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsWUFBWSxXQUFXLGlDQUFpQztBQUM5RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsdURBQXVEOztBQUV2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isb0JBQW9CO0FBQ25EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0Isb0JBQW9CO0FBQ25EO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEMiLCJmaWxlIjoiOC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ0c0hpdEVmZmVjdGlvbk92ZXJsYXlDb25zdHJ1Y3RvciB9IGZyb20gJy4uL292ZXJsYXkvQnRzSGl0RWZmZWN0aW9uT3ZlcmxheUNvbnN0cnVjdG9yLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBEcmF3TXVsdGlCdHNFY2hhcnRzIHtcclxuXHJcbiAgICBzdGF0aWMgc2hvd0J0c1N0eWxlQ1NTKGhpdGVkQnRzKSB7XHJcbiAgICBcdC8qKmVkaXQgYnkgc3VuYmluZyBzdGFydCovXHJcbiAgICBcdGlmKHBhc3NpdmVBY3RpdmVTdGF0dXMgIT0gMSB8fCBudWxsID09IGhpdGVkQnRzLmJ0c0lkKSB7XHJcbiAgICBcdFx0aWYgKGJ0c0hpdEVmZmVjdGlvbkNvdmVyICE9IG51bGwpIHtcclxuICAgIFx0XHRcdG1hcC5yZW1vdmVPdmVybGF5KGJ0c0hpdEVmZmVjdGlvbkNvdmVyKTtcclxuICAgIFx0XHR9XHJcbiAgICAgICAgICAgIGxldCBjb2xvciA9IHRoaXMuZ2V0RWZmYWN0aW9uQ29sb3IoaGl0ZWRCdHMpO1xyXG4gICAgICAgICAgICBsZXQgbXVsdGlCdHNJbmZvID0gbXVsdGlCdHNJbmZvTWFwLmdldChoaXRlZEJ0cy5idHNJZCk7XHJcbiAgICAgICAgICAgIGlmKG11bHRpQnRzSW5mbyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYnRzUG9pbnQgPSBuZXcgQk1hcC5Qb2ludChtdWx0aUJ0c0luZm8ubG5nLCBtdWx0aUJ0c0luZm8ubGF0KTtcclxuICAgIFx0XHRcdGJ0c0hpdEVmZmVjdGlvbkNvdmVyID0gbmV3IEJ0c0hpdEVmZmVjdGlvbk92ZXJsYXlDb25zdHJ1Y3RvcihidHNQb2ludCwgY29sb3IpO1xyXG4gICAgXHRcdFx0bWFwLmFkZE92ZXJsYXkoYnRzSGl0RWZmZWN0aW9uQ292ZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYobXVsdGlCdHNJbmZvLnR5cGUgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5aaC5piv5aSN5ZCI5Z+656uZ77yM5YiZ5bCG5a2Q5Z+656uZ5re75Yqg5pWI5p6c5Zu+XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmFkZC1idHMtaGl0LWVmZmVjdGlvbicpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmhvdC1pZC0nICsgaGl0ZWRCdHMuYnRzSWQpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5ob3QtaWQtJyArIGhpdGVkQnRzLmJ0c0lkKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBjb2xvcilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy/lrZDln7rnq5nlkb3kuK3vvIzliJnlhYjmib7liLDlr7nlupTnmoTniLbln7rnq5lcclxuICAgICAgICAgICAgICAgIGxldCBidHMgPSBidHNJbmZvTWFwLmdldChoaXRlZEJ0cy5idHNJZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnRzICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbXVsdGlCdHNJZCA9IGJ0cy5wYXJlbnRCdHNJZDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbXVsdGlCdHNJbmZvID0gbXVsdGlCdHNJbmZvTWFwLmdldChtdWx0aUJ0c0lkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihudWxsICE9IG11bHRpQnRzSW5mbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+eItuWfuuermea3u+WKoOaViOaenFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYnRzUG9pbnQgPSBuZXcgQk1hcC5Qb2ludChtdWx0aUJ0c0luZm8ubG5nLCBtdWx0aUJ0c0luZm8ubGF0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRzSGl0RWZmZWN0aW9uQ292ZXIgPSBuZXcgQnRzSGl0RWZmZWN0aW9uT3ZlcmxheUNvbnN0cnVjdG9yKGJ0c1BvaW50LCBjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5hZGRPdmVybGF5KGJ0c0hpdEVmZmVjdGlvbkNvdmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/lrZDln7rnq5nmt7vliqDmlYjmnpxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmFkZC1idHMtaGl0LWVmZmVjdGlvbicpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5ob3QtaWQtJyArIGJ0cy5idHNJZCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5ob3QtaWQtJyArIGJ0cy5idHNJZCkuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHR9XHJcbiAgICBcdC8qKmVkaXQgYnkgc3VuYmluZyBlbmQqL1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzaG93QnRzU3R5bGUoaGl0ZWRCdHMpIHtcclxuICAgICAgICBpZiAoZmxhc2hNYXJrZXJJbnRlcnZhbCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8qIOa4hemZpOWumuaXtuWZqCovXHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZmxhc2hNYXJrZXJJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIGZsYXNoTWFya2VySW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgICAgICAgICAvKiDmuIXpmaRjYW52YXMqL1xyXG4gICAgICAgICAgICAkKCcuYnRzLWhpdC1jYW52YXMnKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyog6K6+572u57uY5Yi25Y+C5pWwKi9cclxuICAgICAgICBsZXQgbWFya2VycyA9IFtdO1xyXG4gICAgICAgIGxldCBjb2xvciA9ICcjOTk5JztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhpdGVkQnRzLmRldi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudFZpZXdEZXZDb2RlID09IGhpdGVkQnRzLmRldltpXSAmJiBkZXZEcmF3SW5mb01hcC5nZXQoaGl0ZWRCdHMuZGV2W2ldKS5pc0NvcnJlbnRWaWV3KSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRldkRyYXdJbmZvTWFwLmdldChoaXRlZEJ0cy5kZXZbaV0pLmRldlR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yID0gZGV2Q29sb3JMaWIuY2FyW2RldkRyYXdJbmZvTWFwLmdldChoaXRlZEJ0cy5kZXZbaV0pLmRldkltZ0luZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvciA9IGRldkNvbG9yTGliLnNpbmdsZVtkZXZEcmF3SW5mb01hcC5nZXQoaGl0ZWRCdHMuZGV2W2ldKS5kZXZJbWdJbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChidHNJbmZvTWFwLmdldChoaXRlZEJ0cy5idHNJZCkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBtYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbG5nbGF0OiBbYnRzSW5mb01hcC5nZXQoaGl0ZWRCdHMuYnRzSWQpLmxuZywgYnRzSW5mb01hcC5nZXQoaGl0ZWRCdHMuYnRzSWQpLmxhdF0sXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsXHJcbiAgICAgICAgICAgICAgICBzcGVlZDogMSxcclxuICAgICAgICAgICAgICAgIG1heDogODAsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiDph43mlrDnu5jliLZjYW52YXPlubbmm7TmlrDlrprml7blmagqL1xyXG4gICAgICAgIGZsYXNoTWFya2VySW50ZXJ2YWwgPSB0aGlzLmJ0c0hpdFN0eWxlQ29uc3RydWN0b3IobWFwLCBtYXJrZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiDojrflj5bln7rnq5nlkb3kuK3mlYjmnpznu5jliLbpopzoibIqL1xyXG4gICAgc3RhdGljIGdldEVmZmFjdGlvbkNvbG9yKGhpdGVkQnRzKSB7XHJcbiAgICAgICAgLyoqZWRpdCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgbGV0IGNvbG9yID0gJ3JnYigxNTMsMTUzLDE1MyknO1xyXG4gICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICBpZihoaXRlZEJ0cyAmJiBudWxsICE9IGhpdGVkQnRzKSB7XHJcbiAgICAgICAgXHRmb3IgKGxldCBpID0gMDsgaSA8IGhpdGVkQnRzLmRldi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIFx0XHRpZiAoY3VycmVudFZpZXdEZXZDb2RlID09IGhpdGVkQnRzLmRldltpXSAmJiBkZXZEcmF3SW5mb01hcC5nZXQoaGl0ZWRCdHMuZGV2W2ldKS5pc0NvcnJlbnRWaWV3KSB7XHJcbiAgICAgICAgXHRcdFx0c3dpdGNoIChkZXZEcmF3SW5mb01hcC5nZXQoaGl0ZWRCdHMuZGV2W2ldKS5kZXZUeXBlKSB7XHJcbiAgICAgICAgXHRcdFx0Y2FzZSAxOlxyXG4gICAgICAgIFx0XHRcdFx0Y29sb3IgPSBkZXZDb2xvckxpYi5jYXJbZGV2RHJhd0luZm9NYXAuZ2V0KGhpdGVkQnRzLmRldltpXSkuZGV2SW1nSW5kZXhdO1xyXG4gICAgICAgIFx0XHRcdFx0YnJlYWs7XHJcbiAgICAgICAgXHRcdFx0Y2FzZSAyOlxyXG4gICAgICAgIFx0XHRcdFx0Y29sb3IgPSBkZXZDb2xvckxpYi5zaW5nbGVbZGV2RHJhd0luZm9NYXAuZ2V0KGhpdGVkQnRzLmRldltpXSkuZGV2SW1nSW5kZXhdO1xyXG4gICAgICAgIFx0XHRcdFx0YnJlYWs7XHJcbiAgICAgICAgXHRcdFx0ZGVmYXVsdDpcclxuICAgICAgICBcdFx0XHRcdGJyZWFrO1xyXG4gICAgICAgIFx0XHRcdH1cclxuICAgICAgICBcdFx0fVxyXG4gICAgICAgIFx0fVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgLyog5Z+656uZ5ZG95Lit5pWI5p6c5p6E6YCg5pa55rOVKi9cclxuICAgIHN0YXRpYyBidHNIaXRTdHlsZUNvbnN0cnVjdG9yKF9fX19tYXAsIF9fX19tYXJrZXJzKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ2FudmFzTGF5ZXIob3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgICAgICB0aGlzLnBhbmVOYW1lID0gdGhpcy5vcHRpb25zLnBhbmVOYW1lIHx8ICdsYWJlbFBhbmUnO1xyXG4gICAgICAgICAgICB0aGlzLnpJbmRleCA9IHRoaXMub3B0aW9ucy56SW5kZXggfHwgMDtcclxuICAgICAgICAgICAgdGhpcy5fbWFwID0gb3B0aW9ucy5tYXA7XHJcbiAgICAgICAgICAgIHRoaXMuX2xhc3REcmF3VGltZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQ2FudmFzTGF5ZXIucHJvdG90eXBlID0gbmV3IEJNYXAuT3ZlcmxheSgpO1xyXG5cclxuICAgICAgICBDYW52YXNMYXllci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChtYXApIHtcclxuICAgICAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xyXG4gICAgICAgICAgICBsZXQgY2FudmFzID0gdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgbGV0IGN0eCA9IHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgY2FudmFzLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246YWJzb2x1dGU7JyArICdsZWZ0OjA7JyArICd0b3A6MDsnICsgJ3otaW5kZXg6JyArIHRoaXMuekluZGV4ICsgJzsnO1xyXG4gICAgICAgICAgICBjYW52YXMuc3R5bGUuekluZGV4ID0gJy05OTk5JztcclxuICAgICAgICAgICAgY2FudmFzLmNsYXNzTmFtZSA9ICdidHMtaGl0LWNhbnZhcyc7XHJcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0U2l6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmFkanVzdFJhdGlvKGN0eCk7XHJcbiAgICAgICAgICAgIG1hcC5nZXRQYW5lcygpW3RoaXMucGFuZU5hbWVdLmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgICAgICAgICAgbWFwLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuYWRqdXN0U2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhhdC5fZHJhdygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENhbnZhc0xheWVyLnByb3RvdHlwZS5hZGp1c3RTaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgc2l6ZSA9IHRoaXMuX21hcC5nZXRTaXplKCk7XHJcbiAgICAgICAgICAgIGxldCBjYW52YXMgPSB0aGlzLmNhbnZhcztcclxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gc2l6ZS53aWR0aDtcclxuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHNpemUuaGVpZ2h0O1xyXG4gICAgICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBjYW52YXMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gY2FudmFzLmhlaWdodCArICdweCc7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2FudmFzTGF5ZXIucHJvdG90eXBlLmFkanVzdFJhdGlvID0gZnVuY3Rpb24gKGN0eCkge1xyXG4gICAgICAgICAgICBsZXQgYmFja2luZ1N0b3JlID0gY3R4LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4Lm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCBjdHgub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMTtcclxuICAgICAgICAgICAgbGV0IHBpeGVsUmF0aW8gPSAod2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkgLyBiYWNraW5nU3RvcmU7XHJcbiAgICAgICAgICAgIGxldCBjYW52YXNXaWR0aCA9IGN0eC5jYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgIGxldCBjYW52YXNIZWlnaHQgPSBjdHguY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgY3R4LmNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoICogcGl4ZWxSYXRpbztcclxuICAgICAgICAgICAgY3R4LmNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQgKiBwaXhlbFJhdGlvO1xyXG4gICAgICAgICAgICBjdHguY2FudmFzLnN0eWxlLndpZHRoID0gY2FudmFzV2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICBjdHguY2FudmFzLnN0eWxlLmhlaWdodCA9IGNhbnZhc0hlaWdodCArICdweCc7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGN0eC5jYW52YXMuaGVpZ2h0LCBjYW52YXNIZWlnaHQpO1xyXG4gICAgICAgICAgICBjdHguc2NhbGUocGl4ZWxSYXRpbywgcGl4ZWxSYXRpbyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2FudmFzTGF5ZXIucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgbGV0IGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0SUQpO1xyXG4gICAgICAgICAgICBzZWxmLnRpbWVvdXRJRCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5fZHJhdygpO1xyXG4gICAgICAgICAgICB9LCAxNSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2FudmFzTGF5ZXIucHJvdG90eXBlLl9kcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgbWFwID0gdGhpcy5fbWFwO1xyXG4gICAgICAgICAgICBsZXQgc2l6ZSA9IG1hcC5nZXRTaXplKCk7XHJcbiAgICAgICAgICAgIGxldCBjZW50ZXIgPSBtYXAuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgICAgIGlmIChjZW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwaXhlbCA9IG1hcC5wb2ludFRvT3ZlcmxheVBpeGVsKGNlbnRlcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS5sZWZ0ID0gcGl4ZWwueCAtIHNpemUud2lkdGggLyAyICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLnRvcCA9IHBpeGVsLnkgLSBzaXplLmhlaWdodCAvIDIgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdkcmF3Jyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudXBkYXRlICYmIHRoaXMub3B0aW9ucy51cGRhdGUuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENhbnZhc0xheWVyLnByb3RvdHlwZS5nZXRDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbnZhcztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDYW52YXNMYXllci5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwLmFkZE92ZXJsYXkodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2FudmFzTGF5ZXIucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIC8vdGhpcy5fbWFwLnJlbW92ZU92ZXJsYXkodGhpcyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2FudmFzTGF5ZXIucHJvdG90eXBlLnNldFpJbmRleCA9IGZ1bmN0aW9uICh6SW5kZXgpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuekluZGV4ID0gekluZGV4O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENhbnZhc0xheWVyLnByb3RvdHlwZS5nZXRaSW5kZXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnpJbmRleDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgZ2xvYmFsID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyB7fSA6IHdpbmRvdztcclxuXHJcbiAgICAgICAgbGV0IHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZ2xvYmFsLm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBnbG9iYWwud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGdsb2JhbC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbC5zZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNTApO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIE1hcmtlcihvcHRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2l0eSA9IG9wdHMubmFtZTtcclxuICAgICAgICAgICAgdGhpcy5sb2NhdGlvbiA9IG5ldyBCTWFwLlBvaW50KG9wdHMubG5nbGF0WzBdLCBvcHRzLmxuZ2xhdFsxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29sb3IgPSBvcHRzLmNvbG9yO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnR5cGUgPSBvcHRzLnR5cGUgfHwgJ2NpcmNsZSc7XHJcbiAgICAgICAgICAgIHRoaXMuc3BlZWQgPSBvcHRzLnNwZWVkIHx8IDAuMTU7XHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMubWF4ID0gb3B0cy5tYXggfHwgMjA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBNYXJrZXIucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgdGhpcy5fZHJhd0NpcmNsZShjb250ZXh0KTtcclxuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNpemUgKz0gMTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2l6ZSA+IDgwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpemUgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgTWFya2VyLnByb3RvdHlwZS5fZHJhd0NpcmNsZSA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIGxldCBwaXhlbCA9IHRoaXMucGl4ZWwgfHwgbWFwLnBvaW50VG9QaXhlbCh0aGlzLmxvY2F0aW9uKTtcclxuICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHBpeGVsLnggKyBwaXhlbC5zaXplLCBwaXhlbC55KTtcclxuICAgICAgICAgICAgY29udGV4dC5hcmMocGl4ZWwueCwgcGl4ZWwueSwgdGhpcy5zaXplLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gRmxhc2hNYXJrZXIobWFwLCBkYXRhU2V0KSB7XHJcbiAgICAgICAgICAgIGxldCBhbmltYXRpb25MYXllciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IG1hcC5nZXRTaXplKCkud2lkdGgsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBtYXAuZ2V0U2l6ZSgpLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkZsYWcgPSB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWFya2VycyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgbGV0IGFkZE1hcmtlciA9IGZ1bmN0aW9uIGFkZE1hcmtlcigpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtYXJrZXJzLmxlbmd0aCA+IDApIHJldHVybjtcclxuICAgICAgICAgICAgICAgIG1hcmtlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YVNldC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnMucHVzaChuZXcgTWFya2VyKGRhdGFTZXRbaV0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8v5LiK5bGCY2FudmFz5riy5p+T77yM5Yqo55S75pWI5p6cXHJcbiAgICAgICAgICAgIGxldCByZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYW5pbWF0aW9uQ3R4ID0gYW5pbWF0aW9uTGF5ZXIuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbkN0eCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbkZsYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25DdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBhZGRNYXJrZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25DdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMC45KSc7XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJldiA9IGFuaW1hdGlvbkN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb247XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25DdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLWluJztcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkN0eC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBwcmV2O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFya2Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXJrZXIgPSBtYXJrZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlci5kcmF3KGFuaW1hdGlvbkN0eCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL+WIneWni+WMllxyXG4gICAgICAgICAgICBsZXQgaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkxheWVyID0gbmV3IENhbnZhc0xheWVyKHtcclxuICAgICAgICAgICAgICAgICAgICBtYXA6IG1hcCxcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6IHJlbmRlclxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbW91c2VJbnRlcmFjdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMDAgLyA1MCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGludGVydmFsO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy/pvKDmoIfkuovku7ZcclxuICAgICAgICAgICAgbGV0IG1vdXNlSW50ZXJhY3QgPSBmdW5jdGlvbiBtb3VzZUludGVyYWN0KCkge1xyXG4gICAgICAgICAgICAgICAgbWFwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdmVzdGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25GbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBtYXAuYWRkRXZlbnRMaXN0ZW5lcignbW92ZWVuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25GbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJzID0gW107IC8v6Kej5Yaz5ouW5Yqo5ZCO5aSa5L2Z55qE5bCP5ZyG54K5YnVn77yM5rKh5oOz5piO55m977yM5pqC5pe26L+Z5qC3XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBtYXAuYWRkRXZlbnRMaXN0ZW5lcignem9vbXN0YXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIG1hcC5hZGRFdmVudExpc3RlbmVyKCd6b29tZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGluaXQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBGbGFzaE1hcmtlcihfX19fbWFwLCBfX19fbWFya2Vycyk7XHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3TXVsdGlCdHNFY2hhcnRzLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("let myDis;\r\n\r\nclass BaiduMapDistance {\r\n\r\n    static initDistanceTools(map) {\r\n\r\n        /* 初始化测距工具*/\r\n        myDis = new BMapLib.DistanceTool(map);\r\n        /* 按钮点击事件*/\r\n        $('#distance-measurement').click(function () {\r\n            if ($(this).attr('data-is-open') == 1) {\r\n                // 关闭测距工具\r\n                myDis.close();\r\n                /**add by gaochao start */\r\n                // $(this).addClass('gray-cover');\r\n                $(this).css('background','url(img/icon/rule.png)');\r\n                /**add by gaochao end */\r\n                $(this).attr('data-is-open', '0');\r\n                $('#drawing-remove').removeClass('gray-cover');\r\n            } else {\r\n                // 开启测距工具\r\n                myDis.open();\r\n                /**add by gaochao start */\r\n                // $(this).removeClass('gray-cover');\r\n                $(this).css('background','url(img/icon/rule_active.png)');\r\n                /**add by gaochao end */\r\n                $(this).attr('data-is-open', '1');\r\n                $('#drawing-remove').addClass('gray-cover');\r\n            }\r\n        });\r\n        /* 监听事件*/\r\n        myDis.addEventListener(\"drawend\", function (e) {\r\n            /**add by gaochao start */\r\n            // $('#distance-measurement').addClass('gray-cover');\r\n            $('#distance-measurement').css('background','url(img/icon/rule.png)');\r\n            /**add by gaochao end */\r\n            $('#distance-measurement').attr('data-is-open', '0');\r\n            $('#drawing-remove').removeClass('gray-cover');\r\n        });\r\n        /*\r\n        myDis.addEventListener(\"addpoint\", function (e) {\r\n            console.log(\"addpoint\");\r\n        });\r\n        myDis.addEventListener(\"removepolyline\", function (e) {\r\n            console.log(\"removepolyline\");\r\n            console.log(e);        \r\n        });*/\r\n\r\n    }\r\n\r\n    static getDistanceToolInstance() {\r\n        return myDis;\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = BaiduMapDistance;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRTovQ0JDUC93b3Jrc3BhY2UvQ0JDUC9zcmMvbWFpbi93ZWJhcHAvanMvc3JjL2FwcC9jb21tb24vYmFpZHVNYXAvRGlzdGFuY2UuQmFpZHVNYXAuanM/ZTM1YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFTzs7QUFFUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDJCO0FBQ0EsU0FBUyxFQUFFOztBQUVYOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxDIiwiZmlsZSI6IjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgbXlEaXM7XHJcblxyXG5leHBvcnQgY2xhc3MgQmFpZHVNYXBEaXN0YW5jZSB7XHJcblxyXG4gICAgc3RhdGljIGluaXREaXN0YW5jZVRvb2xzKG1hcCkge1xyXG5cclxuICAgICAgICAvKiDliJ3lp4vljJbmtYvot53lt6XlhbcqL1xyXG4gICAgICAgIG15RGlzID0gbmV3IEJNYXBMaWIuRGlzdGFuY2VUb29sKG1hcCk7XHJcbiAgICAgICAgLyog5oyJ6ZKu54K55Ye75LqL5Lu2Ki9cclxuICAgICAgICAkKCcjZGlzdGFuY2UtbWVhc3VyZW1lbnQnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ2RhdGEtaXMtb3BlbicpID09IDEpIHtcclxuICAgICAgICAgICAgICAgIC8vIOWFs+mXrea1i+i3neW3peWFt1xyXG4gICAgICAgICAgICAgICAgbXlEaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAvLyAkKHRoaXMpLmFkZENsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcygnYmFja2dyb3VuZCcsJ3VybChpbWcvaWNvbi9ydWxlLnBuZyknKTtcclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWlzLW9wZW4nLCAnMCcpO1xyXG4gICAgICAgICAgICAgICAgJCgnI2RyYXdpbmctcmVtb3ZlJykucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIOW8gOWQr+a1i+i3neW3peWFt1xyXG4gICAgICAgICAgICAgICAgbXlEaXMub3BlbigpO1xyXG4gICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgIC8vICQodGhpcykucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kJywndXJsKGltZy9pY29uL3J1bGVfYWN0aXZlLnBuZyknKTtcclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWlzLW9wZW4nLCAnMScpO1xyXG4gICAgICAgICAgICAgICAgJCgnI2RyYXdpbmctcmVtb3ZlJykuYWRkQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qIOebkeWQrOS6i+S7tiovXHJcbiAgICAgICAgbXlEaXMuYWRkRXZlbnRMaXN0ZW5lcihcImRyYXdlbmRcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgLy8gJCgnI2Rpc3RhbmNlLW1lYXN1cmVtZW50JykuYWRkQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAgICAgJCgnI2Rpc3RhbmNlLW1lYXN1cmVtZW50JykuY3NzKCdiYWNrZ3JvdW5kJywndXJsKGltZy9pY29uL3J1bGUucG5nKScpO1xyXG4gICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgJCgnI2Rpc3RhbmNlLW1lYXN1cmVtZW50JykuYXR0cignZGF0YS1pcy1vcGVuJywgJzAnKTtcclxuICAgICAgICAgICAgJCgnI2RyYXdpbmctcmVtb3ZlJykucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIG15RGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGRwb2ludFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImFkZHBvaW50XCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG15RGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJyZW1vdmVwb2x5bGluZVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlbW92ZXBvbHlsaW5lXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsgICAgICAgIFxyXG4gICAgICAgIH0pOyovXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXREaXN0YW5jZVRvb2xJbnN0YW5jZSgpIHtcclxuICAgICAgICByZXR1cm4gbXlEaXM7XHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gRTovQ0JDUC93b3Jrc3BhY2UvQ0JDUC9zcmMvbWFpbi93ZWJhcHAvanMvc3JjL2FwcC9jb21tb24vYmFpZHVNYXAvRGlzdGFuY2UuQmFpZHVNYXAuanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class MyCookie {\r\n\r\n    static setCookie(cname, cvalue, exdays) {\r\n        let d = new Date();\r\n        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\r\n        let expires = 'expires=' + d.toGMTString();\r\n        document.cookie = cname + '=' + cvalue + '; ' + expires + '; path=/';\r\n    }\r\n\r\n    static getCookie(cname) {\r\n        let name = cname + '=';\r\n        let ca = document.cookie.split(';');\r\n        for (let i = 0; i < ca.length; i++) {\r\n            let c = ca[i].trim();\r\n            if (c.indexOf(name) == 0) {\r\n                return c.substring(name.length, c.length);\r\n            }\r\n        }\r\n        return '';\r\n    }\r\n\r\n    static deleteCookie(cname) {\r\n        let d = new Date(0);\r\n        let expires = 'expires=' + d.toGMTString();\r\n        document.cookie = cname + '=; ' + expires + '; path=/';\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = MyCookie;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRTovQ0JDUC93b3Jrc3BhY2UvQ0JDUC9zcmMvbWFpbi93ZWJhcHAvanMvc3JjL2FwcC9jb21tb24vY29va2llL015Q29va2llLmpzPzI5YTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsaUJBQWlCO0FBQ3BFOztBQUVBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMsdUJBQXVCLGVBQWU7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGlCQUFpQjtBQUN0RDs7QUFFQSxDIiwiZmlsZSI6IjEwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIE15Q29va2llIHtcclxuXHJcbiAgICBzdGF0aWMgc2V0Q29va2llKGNuYW1lLCBjdmFsdWUsIGV4ZGF5cykge1xyXG4gICAgICAgIGxldCBkID0gbmV3IERhdGUoKTtcclxuICAgICAgICBkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyAoZXhkYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCkpO1xyXG4gICAgICAgIGxldCBleHBpcmVzID0gJ2V4cGlyZXM9JyArIGQudG9HTVRTdHJpbmcoKTtcclxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjbmFtZSArICc9JyArIGN2YWx1ZSArICc7ICcgKyBleHBpcmVzICsgJzsgcGF0aD0vJztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0Q29va2llKGNuYW1lKSB7XHJcbiAgICAgICAgbGV0IG5hbWUgPSBjbmFtZSArICc9JztcclxuICAgICAgICBsZXQgY2EgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBjID0gY2FbaV0udHJpbSgpO1xyXG4gICAgICAgICAgICBpZiAoYy5pbmRleE9mKG5hbWUpID09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjLnN1YnN0cmluZyhuYW1lLmxlbmd0aCwgYy5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZGVsZXRlQ29va2llKGNuYW1lKSB7XHJcbiAgICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgwKTtcclxuICAgICAgICBsZXQgZXhwaXJlcyA9ICdleHBpcmVzPScgKyBkLnRvR01UU3RyaW5nKCk7XHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gY25hbWUgKyAnPTsgJyArIGV4cGlyZXMgKyAnOyBwYXRoPS8nO1xyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIEU6L0NCQ1Avd29ya3NwYWNlL0NCQ1Avc3JjL21haW4vd2ViYXBwL2pzL3NyYy9hcHAvY29tbW9uL2Nvb2tpZS9NeUNvb2tpZS5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class CommonUtil {\r\n\r\n    static getServerDate() {\r\n        return new Date($.ajax({ async: false }).getResponseHeader(\"Date\"));\r\n    }\r\n\r\n    // static getServerDate() {\r\n    //     var xhr = null;\r\n    //     if (window.XMLHttpRequest) {\r\n    //         xhr = new window.XMLHttpRequest();\r\n    //     } else { // ie\r\n    //         xhr = new ActiveObject(\"Microsoft\")\r\n    //     }\r\n    //     xhr.open(\"GET\", \"/\", false)//false不可变\r\n    //     xhr.send(null);\r\n    //     var date = xhr.getResponseHeader(\"Date\");\r\n    //     return new Date(date);\r\n    // }\r\n\r\n    // static getServerDate(){\r\n    //     var xhr = null;\r\n    //     if(window.XMLHttpRequest){\r\n    //       xhr = new window.XMLHttpRequest();\r\n    //     }else{ // ie\r\n    //       xhr = new ActiveObject(\"Microsoft\")\r\n    //     }\r\n\r\n    //     xhr.open(\"GET\",\"/\",true);\r\n    //     xhr.send(null);\r\n    //     xhr.onreadystatechange=function(){\r\n    //         var time,date;\r\n    //         if(xhr.readyState == 2){\r\n    //             time = xhr.getResponseHeader(\"Date\");\r\n    //             date = new Date(time);\r\n    //             console.log(date);\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = CommonUtil;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRTovQ0JDUC93b3Jrc3BhY2UvQ0JDUC9zcmMvbWFpbi93ZWJhcHAvanMvc3JjL2FwcC9jb21tb24vdXRpbC9Db21tb25VdGlsLmpzP2UxNjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQU87O0FBRVA7QUFDQSxnQ0FBZ0MsZUFBZTtBQUMvQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksS0FBSztBQUNqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQyIsImZpbGUiOiIxMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDb21tb25VdGlsIHtcclxuXHJcbiAgICBzdGF0aWMgZ2V0U2VydmVyRGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoJC5hamF4KHsgYXN5bmM6IGZhbHNlIH0pLmdldFJlc3BvbnNlSGVhZGVyKFwiRGF0ZVwiKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc3RhdGljIGdldFNlcnZlckRhdGUoKSB7XHJcbiAgICAvLyAgICAgdmFyIHhociA9IG51bGw7XHJcbiAgICAvLyAgICAgaWYgKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkge1xyXG4gICAgLy8gICAgICAgICB4aHIgPSBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAvLyAgICAgfSBlbHNlIHsgLy8gaWVcclxuICAgIC8vICAgICAgICAgeGhyID0gbmV3IEFjdGl2ZU9iamVjdChcIk1pY3Jvc29mdFwiKVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICB4aHIub3BlbihcIkdFVFwiLCBcIi9cIiwgZmFsc2UpLy9mYWxzZeS4jeWPr+WPmFxyXG4gICAgLy8gICAgIHhoci5zZW5kKG51bGwpO1xyXG4gICAgLy8gICAgIHZhciBkYXRlID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKFwiRGF0ZVwiKTtcclxuICAgIC8vICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gc3RhdGljIGdldFNlcnZlckRhdGUoKXtcclxuICAgIC8vICAgICB2YXIgeGhyID0gbnVsbDtcclxuICAgIC8vICAgICBpZih3aW5kb3cuWE1MSHR0cFJlcXVlc3Qpe1xyXG4gICAgLy8gICAgICAgeGhyID0gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgLy8gICAgIH1lbHNleyAvLyBpZVxyXG4gICAgLy8gICAgICAgeGhyID0gbmV3IEFjdGl2ZU9iamVjdChcIk1pY3Jvc29mdFwiKVxyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgeGhyLm9wZW4oXCJHRVRcIixcIi9cIix0cnVlKTtcclxuICAgIC8vICAgICB4aHIuc2VuZChudWxsKTtcclxuICAgIC8vICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgICAgIHZhciB0aW1lLGRhdGU7XHJcbiAgICAvLyAgICAgICAgIGlmKHhoci5yZWFkeVN0YXRlID09IDIpe1xyXG4gICAgLy8gICAgICAgICAgICAgdGltZSA9IHhoci5nZXRSZXNwb25zZUhlYWRlcihcIkRhdGVcIik7XHJcbiAgICAvLyAgICAgICAgICAgICBkYXRlID0gbmV3IERhdGUodGltZSk7XHJcbiAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRlKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBFOi9DQkNQL3dvcmtzcGFjZS9DQkNQL3NyYy9tYWluL3dlYmFwcC9qcy9zcmMvYXBwL2NvbW1vbi91dGlsL0NvbW1vblV0aWwuanNcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__realTimeCombat_overlay_DrawBtsOverlay_js__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__realTimeCombat_parsing_ParsingDevInfo_js__ = __webpack_require__(38);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__realTimeCombat_overlay_DrawBtsEcharts_js__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__realTimeCombat_overlay_DrawMultiBtsEcharts_js__ = __webpack_require__(8);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ParsingDevInfoCR {\r\n\r\n    static parsingDevInfo(devBaseInfo, isPlayEngAudio) {\r\n        let hitedBts = { btsId: null, dev: [] };\r\n        /* 基站命中次数*/\r\n        /**edti by gaochao start */\r\n        // if (devBaseInfo.engInfo != null && devBaseInfo.engInfo.btsId != '0-0-0-0') {\r\n        if (devBaseInfo.engInfo != null && devBaseInfo.engInfo.btsId != '0-0-0-0' && devBaseInfo.engInfo.isShow == 1) {\r\n            /**edit by gaochao end */\r\n            if (multiBtsInfoMap.get(devBaseInfo.engInfo.btsId) != null && multiBtsInfoMap.get(devBaseInfo.engInfo.btsId).type == 1) {\r\n                if (btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes == null) {\r\n                    btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes = 0;\r\n                }\r\n                btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes = btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes + 1; // 更新map中的命中次数\r\n                $(`.bts-img-${devBaseInfo.engInfo.btsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                $(`.bts-click-${devBaseInfo.engInfo.btsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                $(`.bts-img-${devBaseInfo.engInfo.btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                $(`.bts-click-${devBaseInfo.engInfo.btsId}`).css('z-index', 6000); // z轴置顶\r\n                if (targetCellInfosCache.get(devBaseInfo.engInfo.btsId) == null) {\r\n                    $(`.bts-img-${devBaseInfo.engInfo.btsId}`).attr('src', `img/btsicon/btsiconhit-${btsInfoMap.get(devBaseInfo.engInfo.btsId).mode}.png`);\r\n                    /**add by gaochao start */\r\n                    if (eval(`btsHitTimer['${devBaseInfo.engInfo.btsId}'] == null`)) {\r\n                        btsHitTimer[`${devBaseInfo.engInfo.btsId}`] = window.setInterval(function () {\r\n                            if ((replayCurrentTime - btsInfoMap.get(devBaseInfo.engInfo.btsId).reportTime) > 360000) {\r\n                                $(`.bts-img-${devBaseInfo.engInfo.btsId}`).attr('src', `img/btsicon/btslasthit-${btsInfoMap.get(devBaseInfo.engInfo.btsId).mode}.png`);\r\n                            }\r\n                        }, 10000);\r\n                    }\r\n                    else {\r\n                        clearInterval(btsHitTimer[`${devBaseInfo.engInfo.btsId}`]);\r\n                        btsHitTimer[`${devBaseInfo.engInfo.btsId}`] = window.setInterval(function () {\r\n                            if ((replayCurrentTime - btsInfoMap.get(devBaseInfo.engInfo.btsId).reportTime) > 360000) {\r\n                                $(`.bts-img-${devBaseInfo.engInfo.btsId}`).attr('src', `img/btsicon/btslasthit-${btsInfoMap.get(devBaseInfo.engInfo.btsId).mode}.png`);\r\n                            }\r\n                        }, 10000);\r\n\r\n                    }\r\n                    /**add by gaochao end*/\r\n                }\r\n                // $(`.bts-hit-count-${devBaseInfo.engInfo.btsId}`).html(btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes);\r\n                $(`.bts-hit-count-${devBaseInfo.engInfo.btsId}`).html((btsInfoMap.get(devBaseInfo.engInfo.btsId).dlHitTimes == undefined || btsInfoMap.get(devBaseInfo.engInfo.btsId).dlHitTimes == null) ? btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes + \"/0\" : btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes + \"/\" + btsInfoMap.get(devBaseInfo.engInfo.btsId).dlHitTimes);\r\n                /**add by gaochao start */\r\n                if (btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes != 0) {\r\n                    $(`.bts-hit-count-shadow-${devBaseInfo.engInfo.btsId}`).css('display', 'block');\r\n                }\r\n                /**add by gaochao end*/\r\n                if (hitedBtsCache.btsId != devBaseInfo.engInfo.btsId) {\r\n                    hitedBts.btsId = devBaseInfo.engInfo.btsId;\r\n                    hitedBts.dev.push(devBaseInfo.devCode);\r\n                    hitedBtsCache = hitedBts;\r\n                }\r\n            } else if (multiBtsInfoMap.get(devBaseInfo.engInfo.btsId) != null && multiBtsInfoMap.get(devBaseInfo.engInfo.btsId).type == 2) {\r\n                if (btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes == null) {\r\n                    btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes = 0;\r\n                }\r\n                btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes = btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes + 1; // 更新map中的命中次数\r\n                //复合基站\r\n                $(`.multi-bts-img-${devBaseInfo.engInfo.btsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                $(`.multi-bts-click-${devBaseInfo.engInfo.btsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                $(`.multi-bts-img-${devBaseInfo.engInfo.btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                $(`.multi-bts-click-${devBaseInfo.engInfo.btsId}`).css('z-index', 6000); // z轴置顶\r\n                // $(`.multi-bts-hit-count-${key}`).html(btsHitInfo.hitTimes+\"/\"+btsHitInfo.dlHitTimes);\r\n                $(`.multi-bts-img-${devBaseInfo.engInfo.btsId}`).attr('src', `img/multibtsicon/btsiconhit-${btsInfoMap.get(devBaseInfo.engInfo.btsId).mode}.png`);\r\n                //子图标添加样式\r\n                $(`.bts-img-${devBaseInfo.engInfo.btsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                $(`.multi-sub-bts-click-${devBaseInfo.engInfo.btsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                $(`.bts-img-${devBaseInfo.engInfo.btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                $(`.multi-sub-bts-click-${devBaseInfo.engInfo.btsId}`).css('z-index', 6000); // z轴置顶\r\n                $(`.multi-sub-bts-hit-count-${devBaseInfo.engInfo.btsId}`).html((btsInfoMap.get(devBaseInfo.engInfo.btsId).dlHitTimes == undefined || btsInfoMap.get(devBaseInfo.engInfo.btsId).dlHitTimes == null) ? btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes + \"/0\" : btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes + \"/\" + btsInfoMap.get(devBaseInfo.engInfo.btsId).dlHitTimes);\r\n                $(`.multi-sub-bts-hit-count-shadow-${devBaseInfo.engInfo.btsId}`).css('display', 'block');\r\n                $(`.bts-img-${devBaseInfo.engInfo.btsId}`).attr('src', `img/btsicon/btsiconhit-${btsInfoMap.get(devBaseInfo.engInfo.btsId).mode}.png`);\r\n                /**add by gaochao end*/\r\n                if (hitedBtsCache.btsId != devBaseInfo.engInfo.btsId) {\r\n                    hitedBts.btsId = devBaseInfo.engInfo.btsId;\r\n                    hitedBts.dev.push(devBaseInfo.devCode);\r\n                    hitedBtsCache = hitedBts;\r\n                }\r\n            } else if (multiBtsInfoMap.get(devBaseInfo.engInfo.btsId) == null && btsInfoMap.get(devBaseInfo.engInfo.btsId) != undefined) {\r\n                if (btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes == null) {\r\n                    btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes = 0;\r\n                }\r\n                btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes = btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes + 1; // 更新map中的命中次数\r\n                let parentBtsId = btsInfoMap.get(devBaseInfo.engInfo.btsId).parentBtsId;\r\n                $(`.multi-bts-img-${parentBtsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                $(`.multi-bts-click-${parentBtsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                $(`.multi-bts-img-${parentBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                $(`.multi-bts-click-${parentBtsId}`).css('z-index', 6000); // z轴置顶\r\n                // $(`.multi-bts-hit-count-${parentBtsId}`).html(btsHitInfo.hitTimes+\"/\"+btsHitInfo.dlHitTimes);\r\n                $(`.multi-bts-img-${parentBtsId}`).attr('src', `img/multibtsicon/btsiconhit-${btsInfoMap.get(devBaseInfo.engInfo.btsId).mode}.png`);\r\n                //子图标添加样式\r\n                $(`.bts-img-${devBaseInfo.engInfo.btsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                $(`.multi-sub-bts-click-${devBaseInfo.engInfo.btsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                $(`.bts-img-${devBaseInfo.engInfo.btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                $(`.multi-sub-bts-click-${devBaseInfo.engInfo.btsId}`).css('z-index', 6000); // z轴置顶\r\n                $(`.multi-sub-bts-hit-count-${devBaseInfo.engInfo.btsId}`).html((btsInfoMap.get(devBaseInfo.engInfo.btsId).dlHitTimes == undefined || btsInfoMap.get(devBaseInfo.engInfo.btsId).dlHitTimes == null) ? btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes + \"/0\" : btsInfoMap.get(devBaseInfo.engInfo.btsId).hitTimes + \"/\" + btsInfoMap.get(devBaseInfo.engInfo.btsId).dlHitTimes);\r\n                $(`.multi-sub-bts-hit-count-shadow-${devBaseInfo.engInfo.btsId}`).css('display', 'block');\r\n                $(`.bts-img-${devBaseInfo.engInfo.btsId}`).attr('src', `img/btsicon/btsiconhit-${btsInfoMap.get(devBaseInfo.engInfo.btsId).mode}.png`);\r\n                /**add by gaochao end*/\r\n                if (hitedBtsCache.btsId != devBaseInfo.engInfo.btsId) {\r\n                    hitedBts.btsId = devBaseInfo.engInfo.btsId;\r\n                    hitedBts.dev.push(devBaseInfo.devCode);\r\n                    hitedBtsCache = hitedBts;\r\n                }\r\n            }\r\n\r\n        }\r\n        /**add by gaochao start */\r\n        if (devBaseInfo.dlBtsId != undefined && devBaseInfo.dlBtsId != '0-0-0-0' && devBaseInfo.dlBtsId != '') {\r\n            if (multiBtsInfoMap.get(devBaseInfo.dlBtsId) != null && multiBtsInfoMap.get(devBaseInfo.dlBtsId).type == 1) {\r\n                if (btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes == null) {\r\n                    btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes = 0;\r\n                }\r\n                btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes = btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes + 1; // 更新map中的命中次数\r\n                $(`.bts-img-${devBaseInfo.dlBtsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                $(`.bts-click-${devBaseInfo.dlBtsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                $(`.bts-img-${devBaseInfo.dlBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                $(`.bts-click-${devBaseInfo.dlBtsId}`).css('z-index', 6000); // z轴置顶\r\n                if (targetCellInfosCache.get(devBaseInfo.dlBtsId) == null) {\r\n                    $(`.bts-img-${devBaseInfo.dlBtsId}`).attr('src', `img/btsicon/btsiconhit-${btsInfoMap.get(devBaseInfo.dlBtsId).mode}.png`);\r\n                    /**add by gaochao start */\r\n                    if (eval(`btsHitTimer['${devBaseInfo.dlBtsId}'] == null`)) {\r\n                        btsHitTimer[`${devBaseInfo.dlBtsId}`] = window.setInterval(function () {\r\n                            if ((replayCurrentTime - btsInfoMap.get(devBaseInfo.dlBtsId).reportTime) > 360000) {\r\n                                $(`.bts-img-${devBaseInfo.dlBtsId}`).attr('src', `img/btsicon/btslasthit-${btsInfoMap.get(devBaseInfo.dlBtsId).mode}.png`);\r\n                            }\r\n                        }, 10000);\r\n                    }\r\n                    else {\r\n                        clearInterval(btsHitTimer[`${devBaseInfo.dlBtsId}`]);\r\n                        btsHitTimer[`${devBaseInfo.dlBtsId}`] = window.setInterval(function () {\r\n                            if ((replayCurrentTime - btsInfoMap.get(devBaseInfo.dlBtsId).reportTime) > 360000) {\r\n                                $(`.bts-img-${devBaseInfo.dlBtsId}`).attr('src', `img/btsicon/btslasthit-${btsInfoMap.get(devBaseInfo.dlBtsId).mode}.png`);\r\n                            }\r\n                        }, 10000);\r\n\r\n                    }\r\n                    /**add by gaochao end*/\r\n                }\r\n                // $(`.bts-hit-count-${devBaseInfo.dlBtsId}`).html(btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes);\r\n                $(`.bts-hit-count-${devBaseInfo.dlBtsId}`).html((btsInfoMap.get(devBaseInfo.dlBtsId).hitTimes == undefined || btsInfoMap.get(devBaseInfo.dlBtsId).hitTimes == null) ? \"/0\" + btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes : btsInfoMap.get(devBaseInfo.dlBtsId).hitTimes + \"/\" + btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes);\r\n\r\n                /**add by gaochao start */\r\n                if (btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes != 0) {\r\n                    $(`.bts-hit-count-shadow-${devBaseInfo.dlBtsId}`).css('display', 'block');\r\n                }\r\n                /**add by gaochao end*/\r\n                if (hitedBtsCache.btsId != devBaseInfo.dlBtsId) {\r\n                    hitedBts.btsId = devBaseInfo.dlBtsId;\r\n                    hitedBts.dev.push(devBaseInfo.devCode);\r\n                    hitedBtsCache = hitedBts;\r\n                }\r\n            } else if (multiBtsInfoMap.get(devBaseInfo.dlBtsId) != null && multiBtsInfoMap.get(devBaseInfo.dlBtsId).type == 2) {\r\n                if (btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes == null) {\r\n                    btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes = 0;\r\n                }\r\n                btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes = btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes + 1; // 更新map中的命中次数\r\n                //复合基站\r\n                $(`.multi-bts-img-${devBaseInfo.dlBtsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                $(`.multi-bts-click-${devBaseInfo.dlBtsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                $(`.multi-bts-img-${devBaseInfo.dlBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                $(`.multi-bts-click-${devBaseInfo.dlBtsId}`).css('z-index', 6000); // z轴置顶\r\n                // $(`.multi-bts-hit-count-${key}`).html(btsHitInfo.hitTimes+\"/\"+btsHitInfo.dlHitTimes);\r\n                $(`.multi-bts-img-${devBaseInfo.dlBtsId}`).attr('src', `img/multibtsicon/btsiconhit-${btsInfoMap.get(devBaseInfo.dlBtsId).mode}.png`);\r\n                //子图标添加样式\r\n                $(`.bts-img-${devBaseInfo.dlBtsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                $(`.multi-sub-bts-click-${devBaseInfo.dlBtsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                $(`.bts-img-${devBaseInfo.dlBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                $(`.multi-sub-bts-click-${devBaseInfo.dlBtsId}`).css('z-index', 6000); // z轴置顶\r\n                $(`.multi-sub-bts-hit-count-${devBaseInfo.dlBtsId}`).html((btsInfoMap.get(devBaseInfo.dlBtsId).hitTimes == undefined || btsInfoMap.get(devBaseInfo.dlBtsId).hitTimes == null) ? \"/0\" + btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes : btsInfoMap.get(devBaseInfo.dlBtsId).hitTimes + \"/\" + btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes);\r\n                $(`.multi-sub-bts-hit-count-shadow-${devBaseInfo.dlBtsId}`).css('display', 'block');\r\n                $(`.bts-img-${devBaseInfo.dlBtsId}`).attr('src', `img/btsicon/btsiconhit-${btsInfoMap.get(devBaseInfo.dlBtsId).mode}.png`);\r\n                if (hitedBtsCache.btsId != devBaseInfo.dlBtsId) {\r\n                    hitedBts.btsId = devBaseInfo.dlBtsId;\r\n                    hitedBts.dev.push(devBaseInfo.devCode);\r\n                    hitedBtsCache = hitedBts;\r\n                }\r\n            } else if (multiBtsInfoMap.get(devBaseInfo.dlBtsId) == null && btsInfoMap.get(devBaseInfo.dlBtsId) != undefined) {\r\n                if (btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes == null) {\r\n                    btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes = 0;\r\n                }\r\n                btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes = btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes + 1; // 更新map中的命中次数\r\n                let parentBtsId = btsInfoMap.get(devBaseInfo.dlBtsId).parentBtsId;\r\n                $(`.multi-bts-img-${parentBtsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                $(`.multi-bts-click-${parentBtsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                $(`.multi-bts-img-${parentBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                $(`.multi-bts-click-${parentBtsId}`).css('z-index', 6000); // z轴置顶\r\n                // $(`.multi-bts-hit-count-${parentBtsId}`).html(btsHitInfo.hitTimes+\"/\"+btsHitInfo.dlHitTimes);\r\n                $(`.multi-bts-img-${parentBtsId}`).attr('src', `img/multibtsicon/btsiconhit-${btsInfoMap.get(devBaseInfo.dlBtsId).mode}.png`);\r\n                //子图标添加样式\r\n                $(`.bts-img-${devBaseInfo.dlBtsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                $(`.multi-sub-bts-click-${devBaseInfo.dlBtsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                $(`.bts-img-${devBaseInfo.dlBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                $(`.multi-sub-bts-click-${devBaseInfo.dlBtsId}`).css('z-index', 6000); // z轴置顶\r\n                $(`.multi-sub-bts-hit-count-${devBaseInfo.dlBtsId}`).html((btsInfoMap.get(devBaseInfo.dlBtsId).hitTimes == undefined || btsInfoMap.get(devBaseInfo.dlBtsId).hitTimes == null) ? \"/0\" + btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes : btsInfoMap.get(devBaseInfo.dlBtsId).hitTimes + \"/\" + btsInfoMap.get(devBaseInfo.dlBtsId).dlHitTimes);\r\n                $(`.multi-sub-bts-hit-count-shadow-${devBaseInfo.dlBtsId}`).css('display', 'block');\r\n                $(`.bts-img-${devBaseInfo.dlBtsId}`).attr('src', `img/btsicon/btsiconhit-${btsInfoMap.get(devBaseInfo.dlBtsId).mode}.png`);\r\n                if (hitedBtsCache.btsId != devBaseInfo.dlBtsId) {\r\n                    hitedBts.btsId = devBaseInfo.dlBtsId;\r\n                    hitedBts.dev.push(devBaseInfo.devCode);\r\n                    hitedBtsCache = hitedBts;\r\n                }\r\n            }\r\n        }\r\n        /**add by gaochao end*/\r\n\r\n        /**edit by sunbing start*/\r\n        if (hitedBts.btsId != null && hitedBts.btsId != \"\" && isBtsOpen) {\r\n            /**edit by sunbing end*/\r\n            __WEBPACK_IMPORTED_MODULE_4__realTimeCombat_overlay_DrawMultiBtsEcharts_js__[\"a\" /* DrawMultiBtsEcharts */].showBtsStyleCSS(hitedBts);\r\n        }\r\n        /* 调用实时作战方法*/\r\n        __WEBPACK_IMPORTED_MODULE_2__realTimeCombat_parsing_ParsingDevInfo_js__[\"a\" /* ParsingDevInfo */].parsingDevInfo([devBaseInfo], isPlayEngAudio);\r\n    }\r\n\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = ParsingDevInfoCR;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYXJzaW5nL1BhcnNpbmdEZXZJbmZvQ1IuanM/NWNlNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXVGOztBQUVQO0FBQ0E7QUFDQTtBQUNVOztBQUVuRjs7QUFFUDtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0SEFBNEg7QUFDNUgsOEJBQThCLDBCQUEwQixnQ0FBZ0M7QUFDeEYsZ0NBQWdDLDBCQUEwQixrQ0FBa0M7QUFDNUYsOEJBQThCLDBCQUEwQiw2QkFBNkI7QUFDckYsZ0NBQWdDLDBCQUEwQix3QkFBd0I7QUFDbEY7QUFDQSxrQ0FBa0MsMEJBQTBCLHlDQUF5QywrQ0FBK0M7QUFDcEo7QUFDQSw2Q0FBNkMsMEJBQTBCO0FBQ3ZFLHVDQUF1QywwQkFBMEI7QUFDakU7QUFDQSw4Q0FBOEMsMEJBQTBCLHlDQUF5QywrQ0FBK0M7QUFDaEs7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLHFEQUFxRCwwQkFBMEI7QUFDL0UsdUNBQXVDLDBCQUEwQjtBQUNqRTtBQUNBLDhDQUE4QywwQkFBMEIseUNBQXlDLCtDQUErQztBQUNoSztBQUNBLHlCQUF5Qjs7QUFFekI7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDBCQUEwQjtBQUNqRSxvQ0FBb0MsMEJBQTBCO0FBQzlEO0FBQ0E7QUFDQSwrQ0FBK0MsMEJBQTBCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLDRIQUE0SDtBQUM1SDtBQUNBLG9DQUFvQywwQkFBMEIsZ0NBQWdDO0FBQzlGLHNDQUFzQywwQkFBMEIsa0NBQWtDO0FBQ2xHLG9DQUFvQywwQkFBMEIsNkJBQTZCO0FBQzNGLHNDQUFzQywwQkFBMEIsd0JBQXdCO0FBQ3hGLDZDQUE2QyxJQUFJO0FBQ2pELG9DQUFvQywwQkFBMEIsOENBQThDLCtDQUErQztBQUMzSjtBQUNBLDhCQUE4QiwwQkFBMEIsZ0NBQWdDO0FBQ3hGLDBDQUEwQywwQkFBMEIsa0NBQWtDO0FBQ3RHLDhCQUE4QiwwQkFBMEIsNkJBQTZCO0FBQ3JGLDBDQUEwQywwQkFBMEIsd0JBQXdCO0FBQzVGLDhDQUE4QywwQkFBMEI7QUFDeEUscURBQXFELDBCQUEwQjtBQUMvRSw4QkFBOEIsMEJBQTBCLHlDQUF5QywrQ0FBK0M7QUFDaEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLDRIQUE0SDtBQUM1SDtBQUNBLG9DQUFvQyxZQUFZLGdDQUFnQztBQUNoRixzQ0FBc0MsWUFBWSxrQ0FBa0M7QUFDcEYsb0NBQW9DLFlBQVksNkJBQTZCO0FBQzdFLHNDQUFzQyxZQUFZLHdCQUF3QjtBQUMxRSw2Q0FBNkMsWUFBWTtBQUN6RCxvQ0FBb0MsWUFBWSw4Q0FBOEMsK0NBQStDO0FBQzdJO0FBQ0EsOEJBQThCLDBCQUEwQixnQ0FBZ0M7QUFDeEYsMENBQTBDLDBCQUEwQixrQ0FBa0M7QUFDdEcsOEJBQThCLDBCQUEwQiw2QkFBNkI7QUFDckYsMENBQTBDLDBCQUEwQix3QkFBd0I7QUFDNUYsOENBQThDLDBCQUEwQjtBQUN4RSxxREFBcUQsMEJBQTBCO0FBQy9FLDhCQUE4QiwwQkFBMEIseUNBQXlDLCtDQUErQztBQUNoSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9IQUFvSDtBQUNwSCw4QkFBOEIsb0JBQW9CLGdDQUFnQztBQUNsRixnQ0FBZ0Msb0JBQW9CLGtDQUFrQztBQUN0Riw4QkFBOEIsb0JBQW9CLDZCQUE2QjtBQUMvRSxnQ0FBZ0Msb0JBQW9CLHdCQUF3QjtBQUM1RTtBQUNBLGtDQUFrQyxvQkFBb0IseUNBQXlDLHlDQUF5QztBQUN4STtBQUNBLDZDQUE2QyxvQkFBb0I7QUFDakUsdUNBQXVDLG9CQUFvQjtBQUMzRDtBQUNBLDhDQUE4QyxvQkFBb0IseUNBQXlDLHlDQUF5QztBQUNwSjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EscURBQXFELG9CQUFvQjtBQUN6RSx1Q0FBdUMsb0JBQW9CO0FBQzNEO0FBQ0EsOENBQThDLG9CQUFvQix5Q0FBeUMseUNBQXlDO0FBQ3BKO0FBQ0EseUJBQXlCOztBQUV6QjtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsb0JBQW9CO0FBQzNELG9DQUFvQyxvQkFBb0I7O0FBRXhEO0FBQ0E7QUFDQSwrQ0FBK0Msb0JBQW9CO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLG9IQUFvSDtBQUNwSDtBQUNBLG9DQUFvQyxvQkFBb0IsZ0NBQWdDO0FBQ3hGLHNDQUFzQyxvQkFBb0Isa0NBQWtDO0FBQzVGLG9DQUFvQyxvQkFBb0IsNkJBQTZCO0FBQ3JGLHNDQUFzQyxvQkFBb0Isd0JBQXdCO0FBQ2xGLDZDQUE2QyxJQUFJO0FBQ2pELG9DQUFvQyxvQkFBb0IsOENBQThDLHlDQUF5QztBQUMvSTtBQUNBLDhCQUE4QixvQkFBb0IsZ0NBQWdDO0FBQ2xGLDBDQUEwQyxvQkFBb0Isa0NBQWtDO0FBQ2hHLDhCQUE4QixvQkFBb0IsNkJBQTZCO0FBQy9FLDBDQUEwQyxvQkFBb0Isd0JBQXdCO0FBQ3RGLDhDQUE4QyxvQkFBb0I7QUFDbEUscURBQXFELG9CQUFvQjtBQUN6RSw4QkFBOEIsb0JBQW9CLHlDQUF5Qyx5Q0FBeUM7QUFDcEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxvSEFBb0g7QUFDcEg7QUFDQSxvQ0FBb0MsWUFBWSxnQ0FBZ0M7QUFDaEYsc0NBQXNDLFlBQVksa0NBQWtDO0FBQ3BGLG9DQUFvQyxZQUFZLDZCQUE2QjtBQUM3RSxzQ0FBc0MsWUFBWSx3QkFBd0I7QUFDMUUsNkNBQTZDLFlBQVk7QUFDekQsb0NBQW9DLFlBQVksOENBQThDLHlDQUF5QztBQUN2STtBQUNBLDhCQUE4QixvQkFBb0IsZ0NBQWdDO0FBQ2xGLDBDQUEwQyxvQkFBb0Isa0NBQWtDO0FBQ2hHLDhCQUE4QixvQkFBb0IsNkJBQTZCO0FBQy9FLDBDQUEwQyxvQkFBb0Isd0JBQXdCO0FBQ3RGLDhDQUE4QyxvQkFBb0I7QUFDbEUscURBQXFELG9CQUFvQjtBQUN6RSw4QkFBOEIsb0JBQW9CLHlDQUF5Qyx5Q0FBeUM7QUFDcEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJHQUFtQjtBQUMvQjtBQUNBO0FBQ0EsUUFBUSxpR0FBYztBQUN0Qjs7O0FBR0EsQyIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdQU1RvQmFpZHVQb2ludCB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9iYWlkdU1hcC9HUFNUb0JhaWR1UG9pbnQuQmFpZHVNYXAuanMnO1xyXG5cclxuaW1wb3J0IHsgRHJhd0J0c092ZXJsYXkgfSBmcm9tICcuLi8uLi9yZWFsVGltZUNvbWJhdC9vdmVybGF5L0RyYXdCdHNPdmVybGF5LmpzJztcclxuaW1wb3J0IHsgUGFyc2luZ0RldkluZm8gfSBmcm9tICcuLi8uLi9yZWFsVGltZUNvbWJhdC9wYXJzaW5nL1BhcnNpbmdEZXZJbmZvLmpzJztcclxuaW1wb3J0IHsgRHJhd0J0c0VjaGFydHMgfSBmcm9tICcuLi8uLi9yZWFsVGltZUNvbWJhdC9vdmVybGF5L0RyYXdCdHNFY2hhcnRzLmpzJztcclxuaW1wb3J0IHsgRHJhd011bHRpQnRzRWNoYXJ0cyB9IGZyb20gJy4uLy4uL3JlYWxUaW1lQ29tYmF0L292ZXJsYXkvRHJhd011bHRpQnRzRWNoYXJ0cy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUGFyc2luZ0RldkluZm9DUiB7XHJcblxyXG4gICAgc3RhdGljIHBhcnNpbmdEZXZJbmZvKGRldkJhc2VJbmZvLCBpc1BsYXlFbmdBdWRpbykge1xyXG4gICAgICAgIGxldCBoaXRlZEJ0cyA9IHsgYnRzSWQ6IG51bGwsIGRldjogW10gfTtcclxuICAgICAgICAvKiDln7rnq5nlkb3kuK3mrKHmlbAqL1xyXG4gICAgICAgIC8qKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgIC8vIGlmIChkZXZCYXNlSW5mby5lbmdJbmZvICE9IG51bGwgJiYgZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCAhPSAnMC0wLTAtMCcpIHtcclxuICAgICAgICBpZiAoZGV2QmFzZUluZm8uZW5nSW5mbyAhPSBudWxsICYmIGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQgIT0gJzAtMC0wLTAnICYmIGRldkJhc2VJbmZvLmVuZ0luZm8uaXNTaG93ID09IDEpIHtcclxuICAgICAgICAgICAgLyoqZWRpdCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICBpZiAobXVsdGlCdHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkKSAhPSBudWxsICYmIG11bHRpQnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkudHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkuaGl0VGltZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLmhpdFRpbWVzID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLmhpdFRpbWVzID0gYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkuaGl0VGltZXMgKyAxOyAvLyDmm7TmlrBtYXDkuK3nmoTlkb3kuK3mrKHmlbBcclxuICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZH1gKS5yZW1vdmVDbGFzcygnYnRzLWltZy11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICQoYC5idHMtY2xpY2stJHtkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkfWApLnJlbW92ZUNsYXNzKCdidHMtY2xpY2stdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAkKGAuYnRzLWNsaWNrLSR7ZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZH1gKS5jc3MoJ3otaW5kZXgnLCA2MDAwKTsgLy8geui9tOe9rumhtlxyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldENlbGxJbmZvc0NhY2hlLmdldChkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNpY29uaGl0LSR7YnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZhbChgYnRzSGl0VGltZXJbJyR7ZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZH0nXSA9PSBudWxsYCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRzSGl0VGltZXJbYCR7ZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZH1gXSA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHJlcGxheUN1cnJlbnRUaW1lIC0gYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkucmVwb3J0VGltZSkgPiAzNjAwMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2xhc3RoaXQtJHtidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkKS5tb2RlfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChidHNIaXRUaW1lcltgJHtkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkfWBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRzSGl0VGltZXJbYCR7ZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZH1gXSA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHJlcGxheUN1cnJlbnRUaW1lIC0gYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkucmVwb3J0VGltZSkgPiAzNjAwMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2xhc3RoaXQtJHtidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkKS5tb2RlfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICQoYC5idHMtaGl0LWNvdW50LSR7ZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZH1gKS5odG1sKGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLmhpdFRpbWVzKTtcclxuICAgICAgICAgICAgICAgICQoYC5idHMtaGl0LWNvdW50LSR7ZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZH1gKS5odG1sKChidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkKS5kbEhpdFRpbWVzID09IHVuZGVmaW5lZCB8fCBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkKS5kbEhpdFRpbWVzID09IG51bGwpID8gYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkuaGl0VGltZXMgKyBcIi8wXCIgOiBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkKS5oaXRUaW1lcyArIFwiL1wiICsgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkuZGxIaXRUaW1lcyk7XHJcbiAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLmhpdFRpbWVzICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWhpdC1jb3VudC1zaGFkb3ctJHtkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAgICAgICAgIGlmIChoaXRlZEJ0c0NhY2hlLmJ0c0lkICE9IGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXRlZEJ0cy5idHNJZCA9IGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHMuZGV2LnB1c2goZGV2QmFzZUluZm8uZGV2Q29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHNDYWNoZSA9IGhpdGVkQnRzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG11bHRpQnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkgIT0gbnVsbCAmJiBtdWx0aUJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLnR5cGUgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLmhpdFRpbWVzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkKS5oaXRUaW1lcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkKS5oaXRUaW1lcyA9IGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLmhpdFRpbWVzICsgMTsgLy8g5pu05pawbWFw5Lit55qE5ZG95Lit5qyh5pWwXHJcbiAgICAgICAgICAgICAgICAvL+WkjeWQiOWfuuermVxyXG4gICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkfWApLnJlbW92ZUNsYXNzKCdidHMtaW1nLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1jbGljay0ke2RldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1jbGljay11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7ZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtY2xpY2stJHtkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkfWApLmNzcygnei1pbmRleCcsIDYwMDApOyAvLyB66L20572u6aG2XHJcbiAgICAgICAgICAgICAgICAvLyAkKGAubXVsdGktYnRzLWhpdC1jb3VudC0ke2tleX1gKS5odG1sKGJ0c0hpdEluZm8uaGl0VGltZXMrXCIvXCIrYnRzSGl0SW5mby5kbEhpdFRpbWVzKTtcclxuICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7ZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZH1gKS5hdHRyKCdzcmMnLCBgaW1nL211bHRpYnRzaWNvbi9idHNpY29uaGl0LSR7YnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAvL+WtkOWbvuagh+a3u+WKoOagt+W8j1xyXG4gICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkfWApLnJlbW92ZUNsYXNzKCdidHMtaW1nLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtY2xpY2stJHtkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkfWApLnJlbW92ZUNsYXNzKCdidHMtY2xpY2stdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAkKGAubXVsdGktc3ViLWJ0cy1jbGljay0ke2RldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWR9YCkuY3NzKCd6LWluZGV4JywgNjAwMCk7IC8vIHrovbTnva7pobZcclxuICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWhpdC1jb3VudC0ke2RldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWR9YCkuaHRtbCgoYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkuZGxIaXRUaW1lcyA9PSB1bmRlZmluZWQgfHwgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkuZGxIaXRUaW1lcyA9PSBudWxsKSA/IGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLmhpdFRpbWVzICsgXCIvMFwiIDogYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkuaGl0VGltZXMgKyBcIi9cIiArIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLmRsSGl0VGltZXMpO1xyXG4gICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtaGl0LWNvdW50LXNoYWRvdy0ke2RldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWR9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2ljb25oaXQtJHtidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkKS5tb2RlfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICAgICAgICAgICAgICBpZiAoaGl0ZWRCdHNDYWNoZS5idHNJZCAhPSBkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHMuYnRzSWQgPSBkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpdGVkQnRzLmRldi5wdXNoKGRldkJhc2VJbmZvLmRldkNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpdGVkQnRzQ2FjaGUgPSBoaXRlZEJ0cztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtdWx0aUJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpID09IG51bGwgJiYgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkuaGl0VGltZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLmhpdFRpbWVzID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLmhpdFRpbWVzID0gYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkuaGl0VGltZXMgKyAxOyAvLyDmm7TmlrBtYXDkuK3nmoTlkb3kuK3mrKHmlbBcclxuICAgICAgICAgICAgICAgIGxldCBwYXJlbnRCdHNJZCA9IGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLnBhcmVudEJ0c0lkO1xyXG4gICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtwYXJlbnRCdHNJZH1gKS5yZW1vdmVDbGFzcygnYnRzLWltZy11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtY2xpY2stJHtwYXJlbnRCdHNJZH1gKS5yZW1vdmVDbGFzcygnYnRzLWNsaWNrLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtwYXJlbnRCdHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtY2xpY2stJHtwYXJlbnRCdHNJZH1gKS5jc3MoJ3otaW5kZXgnLCA2MDAwKTsgLy8geui9tOe9rumhtlxyXG4gICAgICAgICAgICAgICAgLy8gJChgLm11bHRpLWJ0cy1oaXQtY291bnQtJHtwYXJlbnRCdHNJZH1gKS5odG1sKGJ0c0hpdEluZm8uaGl0VGltZXMrXCIvXCIrYnRzSGl0SW5mby5kbEhpdFRpbWVzKTtcclxuICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7cGFyZW50QnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9tdWx0aWJ0c2ljb24vYnRzaWNvbmhpdC0ke2J0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgLy/lrZDlm77moIfmt7vliqDmoLflvI9cclxuICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZH1gKS5yZW1vdmVDbGFzcygnYnRzLWltZy11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWNsaWNrLSR7ZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZH1gKS5yZW1vdmVDbGFzcygnYnRzLWNsaWNrLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkfWApLnJlbW92ZUNsYXNzKCdncmF5LWNvdmVyJyk7IC8vIOWOu+mZpOeBsOiJsua7pOmVnFxyXG4gICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtY2xpY2stJHtkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkfWApLmNzcygnei1pbmRleCcsIDYwMDApOyAvLyB66L20572u6aG2XHJcbiAgICAgICAgICAgICAgICAkKGAubXVsdGktc3ViLWJ0cy1oaXQtY291bnQtJHtkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkfWApLmh0bWwoKGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLmRsSGl0VGltZXMgPT0gdW5kZWZpbmVkIHx8IGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLmRsSGl0VGltZXMgPT0gbnVsbCkgPyBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkKS5oaXRUaW1lcyArIFwiLzBcIiA6IGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmVuZ0luZm8uYnRzSWQpLmhpdFRpbWVzICsgXCIvXCIgKyBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkKS5kbEhpdFRpbWVzKTtcclxuICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWhpdC1jb3VudC1zaGFkb3ctJHtkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtkZXZCYXNlSW5mby5lbmdJbmZvLmJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNpY29uaGl0LSR7YnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQqL1xyXG4gICAgICAgICAgICAgICAgaWYgKGhpdGVkQnRzQ2FjaGUuYnRzSWQgIT0gZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhpdGVkQnRzLmJ0c0lkID0gZGV2QmFzZUluZm8uZW5nSW5mby5idHNJZDtcclxuICAgICAgICAgICAgICAgICAgICBoaXRlZEJ0cy5kZXYucHVzaChkZXZCYXNlSW5mby5kZXZDb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICBoaXRlZEJ0c0NhY2hlID0gaGl0ZWRCdHM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgaWYgKGRldkJhc2VJbmZvLmRsQnRzSWQgIT0gdW5kZWZpbmVkICYmIGRldkJhc2VJbmZvLmRsQnRzSWQgIT0gJzAtMC0wLTAnICYmIGRldkJhc2VJbmZvLmRsQnRzSWQgIT0gJycpIHtcclxuICAgICAgICAgICAgaWYgKG11bHRpQnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGxCdHNJZCkgIT0gbnVsbCAmJiBtdWx0aUJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRsQnRzSWQpLnR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRsQnRzSWQpLmRsSGl0VGltZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRsQnRzSWQpLmRsSGl0VGltZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGxCdHNJZCkuZGxIaXRUaW1lcyA9IGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRsQnRzSWQpLmRsSGl0VGltZXMgKyAxOyAvLyDmm7TmlrBtYXDkuK3nmoTlkb3kuK3mrKHmlbBcclxuICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZGV2QmFzZUluZm8uZGxCdHNJZH1gKS5yZW1vdmVDbGFzcygnYnRzLWltZy11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICQoYC5idHMtY2xpY2stJHtkZXZCYXNlSW5mby5kbEJ0c0lkfWApLnJlbW92ZUNsYXNzKCdidHMtY2xpY2stdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvLmRsQnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAkKGAuYnRzLWNsaWNrLSR7ZGV2QmFzZUluZm8uZGxCdHNJZH1gKS5jc3MoJ3otaW5kZXgnLCA2MDAwKTsgLy8geui9tOe9rumhtlxyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldENlbGxJbmZvc0NhY2hlLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtkZXZCYXNlSW5mby5kbEJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNpY29uaGl0LSR7YnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGxCdHNJZCkubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZhbChgYnRzSGl0VGltZXJbJyR7ZGV2QmFzZUluZm8uZGxCdHNJZH0nXSA9PSBudWxsYCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRzSGl0VGltZXJbYCR7ZGV2QmFzZUluZm8uZGxCdHNJZH1gXSA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHJlcGxheUN1cnJlbnRUaW1lIC0gYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGxCdHNJZCkucmVwb3J0VGltZSkgPiAzNjAwMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvLmRsQnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2xhc3RoaXQtJHtidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5tb2RlfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChidHNIaXRUaW1lcltgJHtkZXZCYXNlSW5mby5kbEJ0c0lkfWBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRzSGl0VGltZXJbYCR7ZGV2QmFzZUluZm8uZGxCdHNJZH1gXSA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHJlcGxheUN1cnJlbnRUaW1lIC0gYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGxCdHNJZCkucmVwb3J0VGltZSkgPiAzNjAwMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvLmRsQnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2xhc3RoaXQtJHtidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5tb2RlfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICQoYC5idHMtaGl0LWNvdW50LSR7ZGV2QmFzZUluZm8uZGxCdHNJZH1gKS5odG1sKGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRsQnRzSWQpLmRsSGl0VGltZXMpO1xyXG4gICAgICAgICAgICAgICAgJChgLmJ0cy1oaXQtY291bnQtJHtkZXZCYXNlSW5mby5kbEJ0c0lkfWApLmh0bWwoKGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRsQnRzSWQpLmhpdFRpbWVzID09IHVuZGVmaW5lZCB8fCBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5oaXRUaW1lcyA9PSBudWxsKSA/IFwiLzBcIiArIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRsQnRzSWQpLmRsSGl0VGltZXMgOiBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5oaXRUaW1lcyArIFwiL1wiICsgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGxCdHNJZCkuZGxIaXRUaW1lcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgIGlmIChidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5kbEhpdFRpbWVzICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWhpdC1jb3VudC1zaGFkb3ctJHtkZXZCYXNlSW5mby5kbEJ0c0lkfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAgICAgICAgIGlmIChoaXRlZEJ0c0NhY2hlLmJ0c0lkICE9IGRldkJhc2VJbmZvLmRsQnRzSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXRlZEJ0cy5idHNJZCA9IGRldkJhc2VJbmZvLmRsQnRzSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHMuZGV2LnB1c2goZGV2QmFzZUluZm8uZGV2Q29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHNDYWNoZSA9IGhpdGVkQnRzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG11bHRpQnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGxCdHNJZCkgIT0gbnVsbCAmJiBtdWx0aUJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRsQnRzSWQpLnR5cGUgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRsQnRzSWQpLmRsSGl0VGltZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRsQnRzSWQpLmRsSGl0VGltZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGxCdHNJZCkuZGxIaXRUaW1lcyA9IGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRsQnRzSWQpLmRsSGl0VGltZXMgKyAxOyAvLyDmm7TmlrBtYXDkuK3nmoTlkb3kuK3mrKHmlbBcclxuICAgICAgICAgICAgICAgIC8v5aSN5ZCI5Z+656uZXHJcbiAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWltZy0ke2RldkJhc2VJbmZvLmRsQnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1pbWctdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWNsaWNrLSR7ZGV2QmFzZUluZm8uZGxCdHNJZH1gKS5yZW1vdmVDbGFzcygnYnRzLWNsaWNrLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtkZXZCYXNlSW5mby5kbEJ0c0lkfWApLnJlbW92ZUNsYXNzKCdncmF5LWNvdmVyJyk7IC8vIOWOu+mZpOeBsOiJsua7pOmVnFxyXG4gICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1jbGljay0ke2RldkJhc2VJbmZvLmRsQnRzSWR9YCkuY3NzKCd6LWluZGV4JywgNjAwMCk7IC8vIHrovbTnva7pobZcclxuICAgICAgICAgICAgICAgIC8vICQoYC5tdWx0aS1idHMtaGl0LWNvdW50LSR7a2V5fWApLmh0bWwoYnRzSGl0SW5mby5oaXRUaW1lcytcIi9cIitidHNIaXRJbmZvLmRsSGl0VGltZXMpO1xyXG4gICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtkZXZCYXNlSW5mby5kbEJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvbXVsdGlidHNpY29uL2J0c2ljb25oaXQtJHtidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5tb2RlfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgIC8v5a2Q5Zu+5qCH5re75Yqg5qC35byPXHJcbiAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvLmRsQnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1pbWctdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAkKGAubXVsdGktc3ViLWJ0cy1jbGljay0ke2RldkJhc2VJbmZvLmRsQnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1jbGljay11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZGV2QmFzZUluZm8uZGxCdHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWNsaWNrLSR7ZGV2QmFzZUluZm8uZGxCdHNJZH1gKS5jc3MoJ3otaW5kZXgnLCA2MDAwKTsgLy8geui9tOe9rumhtlxyXG4gICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtaGl0LWNvdW50LSR7ZGV2QmFzZUluZm8uZGxCdHNJZH1gKS5odG1sKChidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5oaXRUaW1lcyA9PSB1bmRlZmluZWQgfHwgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGxCdHNJZCkuaGl0VGltZXMgPT0gbnVsbCkgPyBcIi8wXCIgKyBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5kbEhpdFRpbWVzIDogYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGxCdHNJZCkuaGl0VGltZXMgKyBcIi9cIiArIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRsQnRzSWQpLmRsSGl0VGltZXMpO1xyXG4gICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtaGl0LWNvdW50LXNoYWRvdy0ke2RldkJhc2VJbmZvLmRsQnRzSWR9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvLmRsQnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2ljb25oaXQtJHtidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5tb2RlfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgIGlmIChoaXRlZEJ0c0NhY2hlLmJ0c0lkICE9IGRldkJhc2VJbmZvLmRsQnRzSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXRlZEJ0cy5idHNJZCA9IGRldkJhc2VJbmZvLmRsQnRzSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHMuZGV2LnB1c2goZGV2QmFzZUluZm8uZGV2Q29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHNDYWNoZSA9IGhpdGVkQnRzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG11bHRpQnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGxCdHNJZCkgPT0gbnVsbCAmJiBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5kbEhpdFRpbWVzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5kbEhpdFRpbWVzID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRsQnRzSWQpLmRsSGl0VGltZXMgPSBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5kbEhpdFRpbWVzICsgMTsgLy8g5pu05pawbWFw5Lit55qE5ZG95Lit5qyh5pWwXHJcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50QnRzSWQgPSBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5wYXJlbnRCdHNJZDtcclxuICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7cGFyZW50QnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1pbWctdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWNsaWNrLSR7cGFyZW50QnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1jbGljay11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7cGFyZW50QnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWNsaWNrLSR7cGFyZW50QnRzSWR9YCkuY3NzKCd6LWluZGV4JywgNjAwMCk7IC8vIHrovbTnva7pobZcclxuICAgICAgICAgICAgICAgIC8vICQoYC5tdWx0aS1idHMtaGl0LWNvdW50LSR7cGFyZW50QnRzSWR9YCkuaHRtbChidHNIaXRJbmZvLmhpdFRpbWVzK1wiL1wiK2J0c0hpdEluZm8uZGxIaXRUaW1lcyk7XHJcbiAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWltZy0ke3BhcmVudEJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvbXVsdGlidHNpY29uL2J0c2ljb25oaXQtJHtidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5tb2RlfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgIC8v5a2Q5Zu+5qCH5re75Yqg5qC35byPXHJcbiAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvLmRsQnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1pbWctdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAkKGAubXVsdGktc3ViLWJ0cy1jbGljay0ke2RldkJhc2VJbmZvLmRsQnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1jbGljay11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZGV2QmFzZUluZm8uZGxCdHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWNsaWNrLSR7ZGV2QmFzZUluZm8uZGxCdHNJZH1gKS5jc3MoJ3otaW5kZXgnLCA2MDAwKTsgLy8geui9tOe9rumhtlxyXG4gICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtaGl0LWNvdW50LSR7ZGV2QmFzZUluZm8uZGxCdHNJZH1gKS5odG1sKChidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5oaXRUaW1lcyA9PSB1bmRlZmluZWQgfHwgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGxCdHNJZCkuaGl0VGltZXMgPT0gbnVsbCkgPyBcIi8wXCIgKyBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5kbEhpdFRpbWVzIDogYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGxCdHNJZCkuaGl0VGltZXMgKyBcIi9cIiArIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRsQnRzSWQpLmRsSGl0VGltZXMpO1xyXG4gICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtaGl0LWNvdW50LXNoYWRvdy0ke2RldkJhc2VJbmZvLmRsQnRzSWR9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvLmRsQnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2ljb25oaXQtJHtidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kbEJ0c0lkKS5tb2RlfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgIGlmIChoaXRlZEJ0c0NhY2hlLmJ0c0lkICE9IGRldkJhc2VJbmZvLmRsQnRzSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXRlZEJ0cy5idHNJZCA9IGRldkJhc2VJbmZvLmRsQnRzSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHMuZGV2LnB1c2goZGV2QmFzZUluZm8uZGV2Q29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHNDYWNoZSA9IGhpdGVkQnRzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcblxyXG4gICAgICAgIC8qKmVkaXQgYnkgc3VuYmluZyBzdGFydCovXHJcbiAgICAgICAgaWYgKGhpdGVkQnRzLmJ0c0lkICE9IG51bGwgJiYgaGl0ZWRCdHMuYnRzSWQgIT0gXCJcIiAmJiBpc0J0c09wZW4pIHtcclxuICAgICAgICAgICAgLyoqZWRpdCBieSBzdW5iaW5nIGVuZCovXHJcbiAgICAgICAgICAgIERyYXdNdWx0aUJ0c0VjaGFydHMuc2hvd0J0c1N0eWxlQ1NTKGhpdGVkQnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyog6LCD55So5a6e5pe25L2c5oiY5pa55rOVKi9cclxuICAgICAgICBQYXJzaW5nRGV2SW5mby5wYXJzaW5nRGV2SW5mbyhbZGV2QmFzZUluZm9dLCBpc1BsYXlFbmdBdWRpbyk7XHJcbiAgICB9XHJcblxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vcGFyc2luZy9QYXJzaW5nRGV2SW5mb0NSLmpzXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_Init_BaiduMap_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__ = __webpack_require__(3);\n\r\n\r\n\r\n\r\nclass BtsDivOverlayConstructor {\r\n\r\n    constructor(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId, hitTimes, dlHitTimes, credibility) {\r\n        return this.draw(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId, hitTimes, dlHitTimes, credibility);\r\n    }\r\n\r\n    draw(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId, hitTimes, dlHitTimes, credibility) {\r\n        /* 定义自定义覆盖物的构造函数 */\r\n        function BtsDivOverlay(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId, hitTimes, dlHitTimes, credibility) {\r\n            this._point = point;\r\n            this._mcc = mcc;\r\n            this._mnc = mnc;\r\n            this._mode = mode;\r\n            this._sid = sid;\r\n            this._nid = nid;\r\n            this._bid = bid;\r\n            this._lacTac = lacTac;\r\n            this._radius = radius;\r\n            this._cellId = cellId;\r\n            this._btsId = btsId;\r\n            this._hitTimes = hitTimes;\r\n            this._dlHitTimes = dlHitTimes;\r\n            this._credibility = credibility;\r\n        }\r\n        /* 继承API的BMap.Overlay */\r\n        BtsDivOverlay.prototype = new BMap.Overlay();\r\n        /* 实现初始化方法 */\r\n        BtsDivOverlay.prototype.initialize = function (map) {\r\n            /* 保存map对象实例 */\r\n            this._map = map;\r\n            /* 创建div元素，作为自定义覆盖物的容器 */\r\n            let div = this._div = document.createElement('div');\r\n            /**add by gaochao start */\r\n            let btsCredibilityColor = \"#666666\";\r\n            if (this._credibility == 1) {\r\n                //省厅准确基站表\r\n                btsCredibilityColor = \"#36B21D\";\r\n            } else if (this._credibility == 2) {\r\n                //enodeb表\r\n                btsCredibilityColor = \"#FFD800\";\r\n            } else if (this._credibility == 3) {\r\n                //手动上报的基站表\r\n                btsCredibilityColor = \"#2588B4\";\r\n            } else if (this._credibility == 4) {\r\n                //TA上报的基站表\r\n                btsCredibilityColor = \"#648DA0\";\r\n            } else if (this._credibility == 5) {\r\n                //计算后的基站表\r\n                btsCredibilityColor = \"#CC25E0\";\r\n            }\r\n            /**add by gaochao end*/\r\n            div.style.position = 'absolute';\r\n            div.style.zIndex = 5000;\r\n            $(div).attr('class', `bts-click-unhit bts-click-${this._btsId}`);\r\n            $(div).attr('data-open-status', 'close');\r\n            div.style.display = 'inline-block';\r\n            let btsImg = '';\r\n            let btsHitStatus = '';\r\n            let btsHitGray = '';\r\n            let hitTimesValue = '';\r\n            if (this._hitTimes == 0 || this._hitTimes == null) {\r\n                btsImg = 'btsicon'; // 默认图片为蓝色\r\n                btsHitStatus = 'bts-img-unhit';\r\n                btsHitGray = 'gray-cover'\r\n            } else {\r\n                btsImg = 'btsiconhit'; // 命中后图片为红色\r\n                hitTimesValue = this._hitTimes;\r\n            }\r\n            /**add by gaochao start */\r\n            let dlHitTimesValue = '';\r\n            if (this._dlHitTimes == 0 || this._dlHitTimes == null) {\r\n            } else {\r\n                btsImg = 'btsiconhit'; // 命中后图片为红色\r\n                dlHitTimesValue = this._dlHitTimes;\r\n            }\r\n            /**add by gaochao end*/\r\n\r\n            /**edti by gaochao start */\r\n            div.innerHTML = `\r\n                <!--基站图片-->\r\n                <img class=\"bts-img bts-img-${this._btsId} ${btsHitStatus} ${btsHitGray}\" data-bts-mode=\"${this._mode}\" data-bts-id=\"${this._btsId}\" src=\"img/btsicon/${btsImg}-${this._mode}.png\">\r\n                <div class=\"bts-hit-count bts-hit-count-${this._btsId}\" data-bts-id=\"${this._btsId}\">${(hitTimesValue == '' && dlHitTimesValue == \"\") ? \"\" : (hitTimesValue == \"\" ? 0 : hitTimesValue) + \"/\" + (dlHitTimesValue == \"\" ? 0 : dlHitTimesValue)}</div>\r\n                <div class=\"bts-hit-count-shadow bts-hit-count-shadow-${this._btsId}\"></div>\r\n                <div class=\"bts-credibility\" style=\"background:${btsCredibilityColor}\"></div>\r\n                <!--选中框-->\r\n                <div class=\"bts-selectedCircle bts-selectedCircle-${this._btsId}\" style=\"display:none;\"></div>\r\n                <!--基站获取数值-->\r\n                <div style=\"z-index:8000;\" class=\"bts-value bts-value-${this._btsId}\" style=\"display:none;\">${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsTag(this._mode, this._mcc, this._mnc, this._lacTac, this._sid, this._nid, this._bid, this._cellId)}</div>\r\n                <!--基站信息框-->\r\n                <div style=\"z-index:8000;\" class=\"bts-info-panel bts-info-panel-${this._btsId}\" style=\"display:none;\">\r\n                    <div class=\"bts-info-panel-close bts-info-panel-close-${this._btsId}\" data-bts-id=\"${this._btsId}\">\r\n                        <span class=\"glyphicon iconfont icon-close\"></span>\r\n                    </div>\r\n                    <div class=\"bts-info-panel-decoration\"></div>\r\n                    <img class=\"bts-name-icon\" src=\"img/${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsNameIcon(this._mnc)}.png\">\r\n                    <span class=\"bts-name\">${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsName(this._mnc)}&nbsp;${this._mode.toUpperCase()}</span>\r\n                    <span class=\"bts-identifier\">基站标识：${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsTag(this._mode, this._mcc, this._mnc, this._lacTac, this._sid, this._nid, this._bid, this._cellId)}</span>\r\n                    <span class=\"bts-range\">覆盖范围：${this._radius}m</span>\r\n                    <button class=\"myCosButton-inner show-range-button show-range-button-${this._btsId}\" data-bts-id=\"${this._btsId}\" data-open-status=\"close\">显示半径</button>\r\n                </div>\r\n            `;\r\n            /**edit by gaochao end */\r\n            /* 将div添加到覆盖物容器中 */\r\n            map.getPanes().labelPane.appendChild(div);\r\n            /* 保存div实例 */\r\n            this._div = div;\r\n            /* 需要将div元素作为方法的返回值 */\r\n            return div;\r\n        }\r\n        /* 绘制覆盖物,实现绘制方法 */\r\n        BtsDivOverlay.prototype.draw = function () {\r\n            /* 根据地理坐标转换为像素坐标，并设置给容器 */\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n\r\n        return new BtsDivOverlay(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId, hitTimes, dlHitTimes, credibility);\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = BtsDivOverlayConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9CdHNEaXZPdmVybGF5Q29uc3RydWN0b3IuanM/NTI4NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQXlFOztBQUUzQjs7QUFFdkM7O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxZQUFZO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsWUFBWSxHQUFHLGFBQWEsR0FBRyxXQUFXLG1CQUFtQixXQUFXLGlCQUFpQixZQUFZLHFCQUFxQixPQUFPLEdBQUcsV0FBVztBQUM3TCwwREFBMEQsWUFBWSxpQkFBaUIsWUFBWSxJQUFJLHNKQUFzSjtBQUM3UCx3RUFBd0UsWUFBWTtBQUNwRixpRUFBaUUsb0JBQW9CO0FBQ3JGO0FBQ0Esb0VBQW9FLFlBQVksc0JBQXNCO0FBQ3RHO0FBQ0EseUNBQXlDLCtCQUErQixZQUFZLHNCQUFzQixJQUFJLGtFQUFRLHVHQUF1RztBQUM3TjtBQUNBLHlDQUF5Qyx5Q0FBeUMsWUFBWSxzQkFBc0I7QUFDcEgsNEVBQTRFLFlBQVksaUJBQWlCLFlBQVk7QUFDckg7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGtFQUFRLHdCQUF3QjtBQUMxRiw2Q0FBNkMsa0VBQVEsb0JBQW9CLE1BQU0sRUFBRSx5QkFBeUI7QUFDMUcsd0RBQXdELGtFQUFRLHVHQUF1RztBQUN2SyxtREFBbUQsYUFBYTtBQUNoRSwyRkFBMkYsWUFBWSxpQkFBaUIsWUFBWTtBQUNwSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLEMiLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYWlkdU1hcEluaXQgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vYmFpZHVNYXAvSW5pdC5CYWlkdU1hcC5qcyc7XHJcblxyXG5pbXBvcnQgeyBCdHNWYWx1ZSB9IGZyb20gJy4uL2J0cy9CdHNWYWx1ZS5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQnRzRGl2T3ZlcmxheUNvbnN0cnVjdG9yIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwb2ludCwgbWNjLCBtbmMsIG1vZGUsIHNpZCwgbmlkLCBiaWQsIGxhY1RhYywgcmFkaXVzLCBjZWxsSWQsIGJ0c0lkLCBoaXRUaW1lcywgZGxIaXRUaW1lcywgY3JlZGliaWxpdHkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kcmF3KHBvaW50LCBtY2MsIG1uYywgbW9kZSwgc2lkLCBuaWQsIGJpZCwgbGFjVGFjLCByYWRpdXMsIGNlbGxJZCwgYnRzSWQsIGhpdFRpbWVzLCBkbEhpdFRpbWVzLCBjcmVkaWJpbGl0eSk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhwb2ludCwgbWNjLCBtbmMsIG1vZGUsIHNpZCwgbmlkLCBiaWQsIGxhY1RhYywgcmFkaXVzLCBjZWxsSWQsIGJ0c0lkLCBoaXRUaW1lcywgZGxIaXRUaW1lcywgY3JlZGliaWxpdHkpIHtcclxuICAgICAgICAvKiDlrprkuYnoh6rlrprkuYnopobnm5bniannmoTmnoTpgKDlh73mlbAgKi9cclxuICAgICAgICBmdW5jdGlvbiBCdHNEaXZPdmVybGF5KHBvaW50LCBtY2MsIG1uYywgbW9kZSwgc2lkLCBuaWQsIGJpZCwgbGFjVGFjLCByYWRpdXMsIGNlbGxJZCwgYnRzSWQsIGhpdFRpbWVzLCBkbEhpdFRpbWVzLCBjcmVkaWJpbGl0eSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wb2ludCA9IHBvaW50O1xyXG4gICAgICAgICAgICB0aGlzLl9tY2MgPSBtY2M7XHJcbiAgICAgICAgICAgIHRoaXMuX21uYyA9IG1uYztcclxuICAgICAgICAgICAgdGhpcy5fbW9kZSA9IG1vZGU7XHJcbiAgICAgICAgICAgIHRoaXMuX3NpZCA9IHNpZDtcclxuICAgICAgICAgICAgdGhpcy5fbmlkID0gbmlkO1xyXG4gICAgICAgICAgICB0aGlzLl9iaWQgPSBiaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2xhY1RhYyA9IGxhY1RhYztcclxuICAgICAgICAgICAgdGhpcy5fcmFkaXVzID0gcmFkaXVzO1xyXG4gICAgICAgICAgICB0aGlzLl9jZWxsSWQgPSBjZWxsSWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2J0c0lkID0gYnRzSWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpdFRpbWVzID0gaGl0VGltZXM7XHJcbiAgICAgICAgICAgIHRoaXMuX2RsSGl0VGltZXMgPSBkbEhpdFRpbWVzO1xyXG4gICAgICAgICAgICB0aGlzLl9jcmVkaWJpbGl0eSA9IGNyZWRpYmlsaXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiDnu6fmib9BUEnnmoRCTWFwLk92ZXJsYXkgKi9cclxuICAgICAgICBCdHNEaXZPdmVybGF5LnByb3RvdHlwZSA9IG5ldyBCTWFwLk92ZXJsYXkoKTtcclxuICAgICAgICAvKiDlrp7njrDliJ3lp4vljJbmlrnms5UgKi9cclxuICAgICAgICBCdHNEaXZPdmVybGF5LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKG1hcCkge1xyXG4gICAgICAgICAgICAvKiDkv53lrZhtYXDlr7nosaHlrp7kvosgKi9cclxuICAgICAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xyXG4gICAgICAgICAgICAvKiDliJvlu7pkaXblhYPntKDvvIzkvZzkuLroh6rlrprkuYnopobnm5bniannmoTlrrnlmaggKi9cclxuICAgICAgICAgICAgbGV0IGRpdiA9IHRoaXMuX2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICBsZXQgYnRzQ3JlZGliaWxpdHlDb2xvciA9IFwiIzY2NjY2NlwiO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fY3JlZGliaWxpdHkgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy/nnIHljoXlh4bnoa7ln7rnq5nooahcclxuICAgICAgICAgICAgICAgIGJ0c0NyZWRpYmlsaXR5Q29sb3IgPSBcIiMzNkIyMURcIjtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9jcmVkaWJpbGl0eSA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAvL2Vub2RlYuihqFxyXG4gICAgICAgICAgICAgICAgYnRzQ3JlZGliaWxpdHlDb2xvciA9IFwiI0ZGRDgwMFwiO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2NyZWRpYmlsaXR5ID09IDMpIHtcclxuICAgICAgICAgICAgICAgIC8v5omL5Yqo5LiK5oql55qE5Z+656uZ6KGoXHJcbiAgICAgICAgICAgICAgICBidHNDcmVkaWJpbGl0eUNvbG9yID0gXCIjMjU4OEI0XCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fY3JlZGliaWxpdHkgPT0gNCkge1xyXG4gICAgICAgICAgICAgICAgLy9UQeS4iuaKpeeahOWfuuermeihqFxyXG4gICAgICAgICAgICAgICAgYnRzQ3JlZGliaWxpdHlDb2xvciA9IFwiIzY0OERBMFwiO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2NyZWRpYmlsaXR5ID09IDUpIHtcclxuICAgICAgICAgICAgICAgIC8v6K6h566X5ZCO55qE5Z+656uZ6KGoXHJcbiAgICAgICAgICAgICAgICBidHNDcmVkaWJpbGl0eUNvbG9yID0gXCIjQ0MyNUUwXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IDUwMDA7XHJcbiAgICAgICAgICAgICQoZGl2KS5hdHRyKCdjbGFzcycsIGBidHMtY2xpY2stdW5oaXQgYnRzLWNsaWNrLSR7dGhpcy5fYnRzSWR9YCk7XHJcbiAgICAgICAgICAgICQoZGl2KS5hdHRyKCdkYXRhLW9wZW4tc3RhdHVzJywgJ2Nsb3NlJyk7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XHJcbiAgICAgICAgICAgIGxldCBidHNJbWcgPSAnJztcclxuICAgICAgICAgICAgbGV0IGJ0c0hpdFN0YXR1cyA9ICcnO1xyXG4gICAgICAgICAgICBsZXQgYnRzSGl0R3JheSA9ICcnO1xyXG4gICAgICAgICAgICBsZXQgaGl0VGltZXNWYWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faGl0VGltZXMgPT0gMCB8fCB0aGlzLl9oaXRUaW1lcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBidHNJbWcgPSAnYnRzaWNvbic7IC8vIOm7mOiupOWbvueJh+S4uuiTneiJslxyXG4gICAgICAgICAgICAgICAgYnRzSGl0U3RhdHVzID0gJ2J0cy1pbWctdW5oaXQnO1xyXG4gICAgICAgICAgICAgICAgYnRzSGl0R3JheSA9ICdncmF5LWNvdmVyJ1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnRzSW1nID0gJ2J0c2ljb25oaXQnOyAvLyDlkb3kuK3lkI7lm77niYfkuLrnuqLoibJcclxuICAgICAgICAgICAgICAgIGhpdFRpbWVzVmFsdWUgPSB0aGlzLl9oaXRUaW1lcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICBsZXQgZGxIaXRUaW1lc1ZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9kbEhpdFRpbWVzID09IDAgfHwgdGhpcy5fZGxIaXRUaW1lcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBidHNJbWcgPSAnYnRzaWNvbmhpdCc7IC8vIOWRveS4reWQjuWbvueJh+S4uue6ouiJslxyXG4gICAgICAgICAgICAgICAgZGxIaXRUaW1lc1ZhbHVlID0gdGhpcy5fZGxIaXRUaW1lcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQqL1xyXG5cclxuICAgICAgICAgICAgLyoqZWR0aSBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgICAgICA8IS0t5Z+656uZ5Zu+54mHLS0+XHJcbiAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiYnRzLWltZyBidHMtaW1nLSR7dGhpcy5fYnRzSWR9ICR7YnRzSGl0U3RhdHVzfSAke2J0c0hpdEdyYXl9XCIgZGF0YS1idHMtbW9kZT1cIiR7dGhpcy5fbW9kZX1cIiBkYXRhLWJ0cy1pZD1cIiR7dGhpcy5fYnRzSWR9XCIgc3JjPVwiaW1nL2J0c2ljb24vJHtidHNJbWd9LSR7dGhpcy5fbW9kZX0ucG5nXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRzLWhpdC1jb3VudCBidHMtaGl0LWNvdW50LSR7dGhpcy5fYnRzSWR9XCIgZGF0YS1idHMtaWQ9XCIke3RoaXMuX2J0c0lkfVwiPiR7KGhpdFRpbWVzVmFsdWUgPT0gJycgJiYgZGxIaXRUaW1lc1ZhbHVlID09IFwiXCIpID8gXCJcIiA6IChoaXRUaW1lc1ZhbHVlID09IFwiXCIgPyAwIDogaGl0VGltZXNWYWx1ZSkgKyBcIi9cIiArIChkbEhpdFRpbWVzVmFsdWUgPT0gXCJcIiA/IDAgOiBkbEhpdFRpbWVzVmFsdWUpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0cy1oaXQtY291bnQtc2hhZG93IGJ0cy1oaXQtY291bnQtc2hhZG93LSR7dGhpcy5fYnRzSWR9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRzLWNyZWRpYmlsaXR5XCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiR7YnRzQ3JlZGliaWxpdHlDb2xvcn1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwhLS3pgInkuK3moYYtLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidHMtc2VsZWN0ZWRDaXJjbGUgYnRzLXNlbGVjdGVkQ2lyY2xlLSR7dGhpcy5fYnRzSWR9XCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8IS0t5Z+656uZ6I635Y+W5pWw5YC8LS0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiei1pbmRleDo4MDAwO1wiIGNsYXNzPVwiYnRzLXZhbHVlIGJ0cy12YWx1ZS0ke3RoaXMuX2J0c0lkfVwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPiR7QnRzVmFsdWUuYnRzVGFnKHRoaXMuX21vZGUsIHRoaXMuX21jYywgdGhpcy5fbW5jLCB0aGlzLl9sYWNUYWMsIHRoaXMuX3NpZCwgdGhpcy5fbmlkLCB0aGlzLl9iaWQsIHRoaXMuX2NlbGxJZCl9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8IS0t5Z+656uZ5L+h5oGv5qGGLS0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiei1pbmRleDo4MDAwO1wiIGNsYXNzPVwiYnRzLWluZm8tcGFuZWwgYnRzLWluZm8tcGFuZWwtJHt0aGlzLl9idHNJZH1cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRzLWluZm8tcGFuZWwtY2xvc2UgYnRzLWluZm8tcGFuZWwtY2xvc2UtJHt0aGlzLl9idHNJZH1cIiBkYXRhLWJ0cy1pZD1cIiR7dGhpcy5fYnRzSWR9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGljb25mb250IGljb24tY2xvc2VcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0cy1pbmZvLXBhbmVsLWRlY29yYXRpb25cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiYnRzLW5hbWUtaWNvblwiIHNyYz1cImltZy8ke0J0c1ZhbHVlLmJ0c05hbWVJY29uKHRoaXMuX21uYyl9LnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnRzLW5hbWVcIj4ke0J0c1ZhbHVlLmJ0c05hbWUodGhpcy5fbW5jKX0mbmJzcDske3RoaXMuX21vZGUudG9VcHBlckNhc2UoKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJidHMtaWRlbnRpZmllclwiPuWfuuermeagh+ivhu+8miR7QnRzVmFsdWUuYnRzVGFnKHRoaXMuX21vZGUsIHRoaXMuX21jYywgdGhpcy5fbW5jLCB0aGlzLl9sYWNUYWMsIHRoaXMuX3NpZCwgdGhpcy5fbmlkLCB0aGlzLl9iaWQsIHRoaXMuX2NlbGxJZCl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnRzLXJhbmdlXCI+6KaG55uW6IyD5Zu077yaJHt0aGlzLl9yYWRpdXN9bTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibXlDb3NCdXR0b24taW5uZXIgc2hvdy1yYW5nZS1idXR0b24gc2hvdy1yYW5nZS1idXR0b24tJHt0aGlzLl9idHNJZH1cIiBkYXRhLWJ0cy1pZD1cIiR7dGhpcy5fYnRzSWR9XCIgZGF0YS1vcGVuLXN0YXR1cz1cImNsb3NlXCI+5pi+56S65Y2K5b6EPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgLyoqZWRpdCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICAvKiDlsIZkaXbmt7vliqDliLDopobnm5bnianlrrnlmajkuK0gKi9cclxuICAgICAgICAgICAgbWFwLmdldFBhbmVzKCkubGFiZWxQYW5lLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICAgIC8qIOS/neWtmGRpduWunuS+iyAqL1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYgPSBkaXY7XHJcbiAgICAgICAgICAgIC8qIOmcgOimgeWwhmRpduWFg+e0oOS9nOS4uuaWueazleeahOi/lOWbnuWAvCAqL1xyXG4gICAgICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiDnu5jliLbopobnm5bniaks5a6e546w57uY5Yi25pa55rOVICovXHJcbiAgICAgICAgQnRzRGl2T3ZlcmxheS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLyog5qC55o2u5Zyw55CG5Z2Q5qCH6L2s5o2i5Li65YOP57Sg5Z2Q5qCH77yM5bm26K6+572u57uZ5a655ZmoICovXHJcbiAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IHRoaXMuX21hcC5wb2ludFRvT3ZlcmxheVBpeGVsKHRoaXMuX3BvaW50KTtcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLmxlZnQgPSBwb3NpdGlvbi54ICsgJ3B4JztcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLnRvcCA9IHBvc2l0aW9uLnkgKyAncHgnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBCdHNEaXZPdmVybGF5KHBvaW50LCBtY2MsIG1uYywgbW9kZSwgc2lkLCBuaWQsIGJpZCwgbGFjVGFjLCByYWRpdXMsIGNlbGxJZCwgYnRzSWQsIGhpdFRpbWVzLCBkbEhpdFRpbWVzLCBjcmVkaWJpbGl0eSk7XHJcblxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L292ZXJsYXkvQnRzRGl2T3ZlcmxheUNvbnN0cnVjdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class BtsHitEffectionOverlayConstructor {\r\n\r\n    constructor(point, color) {\r\n        return this.draw(point, color);\r\n    }\r\n\r\n    draw(point, color) {\r\n\r\n        function btsHitEffectionOverlay(point, color) {\r\n            this._point = point;\r\n            this._color = color;\r\n        }\r\n        btsHitEffectionOverlay.prototype = new BMap.Overlay();\r\n        btsHitEffectionOverlay.prototype.initialize = function (map) {\r\n            this._map = map;\r\n            let div = this._div = document.createElement('div');\r\n            div.style.position = 'absolute';\r\n            $(div).addClass('bts-hit-effection');\r\n            $(div).css('background-color', this._color);\r\n            map.getPanes().labelPane.appendChild(div);\r\n            this._div = div;\r\n            return div;\r\n        }\r\n        btsHitEffectionOverlay.prototype.draw = function () {\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = (position.y - 26) + 'px';\r\n        }\r\n\r\n        return new btsHitEffectionOverlay(point, color);\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = BtsHitEffectionOverlayConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9CdHNIaXRFZmZlY3Rpb25PdmVybGF5Q29uc3RydWN0b3IuanM/OWZkZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxDIiwiZmlsZSI6IjE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEJ0c0hpdEVmZmVjdGlvbk92ZXJsYXlDb25zdHJ1Y3RvciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocG9pbnQsIGNvbG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhdyhwb2ludCwgY29sb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcocG9pbnQsIGNvbG9yKSB7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGJ0c0hpdEVmZmVjdGlvbk92ZXJsYXkocG9pbnQsIGNvbG9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvaW50ID0gcG9pbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yID0gY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJ0c0hpdEVmZmVjdGlvbk92ZXJsYXkucHJvdG90eXBlID0gbmV3IEJNYXAuT3ZlcmxheSgpO1xyXG4gICAgICAgIGJ0c0hpdEVmZmVjdGlvbk92ZXJsYXkucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAobWFwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21hcCA9IG1hcDtcclxuICAgICAgICAgICAgbGV0IGRpdiA9IHRoaXMuX2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICAkKGRpdikuYWRkQ2xhc3MoJ2J0cy1oaXQtZWZmZWN0aW9uJyk7XHJcbiAgICAgICAgICAgICQoZGl2KS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCB0aGlzLl9jb2xvcik7XHJcbiAgICAgICAgICAgIG1hcC5nZXRQYW5lcygpLmxhYmVsUGFuZS5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYgPSBkaXY7XHJcbiAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJ0c0hpdEVmZmVjdGlvbk92ZXJsYXkucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IHRoaXMuX21hcC5wb2ludFRvT3ZlcmxheVBpeGVsKHRoaXMuX3BvaW50KTtcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLmxlZnQgPSBwb3NpdGlvbi54ICsgJ3B4JztcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLnRvcCA9IChwb3NpdGlvbi55IC0gMjYpICsgJ3B4JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgYnRzSGl0RWZmZWN0aW9uT3ZlcmxheShwb2ludCwgY29sb3IpO1xyXG5cclxuICAgIH1cclxuXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9yZWFsVGltZUNvbWJhdC9vdmVybGF5L0J0c0hpdEVmZmVjdGlvbk92ZXJsYXlDb25zdHJ1Y3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sound_EnergySound_js__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__CarDivOverlayConstructor_js__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__SingleDivOverlayConstructor_js__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__SingleOutSideOverlayConstructor_js__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__CarEngOrientationConstructor_js__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__SingleEngOrientationConstructor_js__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__PassiveActiveMarkerOverlayConstructor_js__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__table_EngPanel_js__ = __webpack_require__(20);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass DrawDevOverlay {\r\n\r\n    static drawDev(devInfo) {\r\n        /* 缓存 */\r\n        let devDivCacheMap = new Map();\r\n        /* 绘制所有设备 */\r\n        devInfo.forEach((eachDevInfo) => {\r\n            /* 获取设备设备编号 */\r\n            let devCode = eachDevInfo.devCode;\r\n            /* 移除上一次的当前设备 */\r\n            if (devDivMap.get(devCode) != null) {\r\n                map.removeOverlay(devDivMap.get(devCode).devCover);\r\n            }\r\n            /* 获取设备坐标 */\r\n            let lng = eachDevInfo.baiduGpsInfo.lng; // 114\r\n            let lat = eachDevInfo.baiduGpsInfo.lat; // 30\r\n            let baiduPoint = new BMap.Point(lng, lat); // 百度地图坐标\r\n            /* 获取设备是否工作 */\r\n            let status = eachDevInfo.status;\r\n            /* 在地图上显示设备 */\r\n            let lineColor;\r\n            let nextLineColor;\r\n            let energyArray = [];\r\n            let eng;\r\n            let cover;\r\n            let devClass;\r\n            switch (eachDevInfo.devType) {\r\n                case 1:\r\n                    devClass = 'car';\r\n                    if (eachDevInfo.engInfo.isHit) {\r\n                        /* 能量有上报*/\r\n                        eng = eachDevInfo.engInfo.eng;\r\n                        let energyArr = eng.split(\"-\");\r\n                        energyArray = [Number(energyArr[0]), Number(energyArr[1]), Number(energyArr[2]), Number(energyArr[3])];\r\n                        /* 绘制车载设备*/\r\n                        cover = new __WEBPACK_IMPORTED_MODULE_2__CarDivOverlayConstructor_js__[\"a\" /* CarDivOverlayConstructor */](baiduPoint, energyArray, devCode, eachDevInfo.gpsInfo.northAngle, true);\r\n                        map.addOverlay(cover);\r\n                        /* 有能量时才绘制能量指示*/\r\n                        if (energyArray[0] == 0 && energyArray[1] == 0 && energyArray[2] == 0 && energyArray[3] == 0) {\r\n\r\n                        } else {\r\n                            /* 缓存时间轴能量*/\r\n                            if (__WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__[\"a\" /* Energy */].getEnergyMaxValue(energyArray) > devDrawInfoMap.get(devCode).maxEng.value) {\r\n                                devDrawInfoMap.get(devCode).maxEng.value = __WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__[\"a\" /* Energy */].getEnergyMaxValue(energyArray);\r\n                                devDrawInfoMap.get(devCode).maxEng.position.lng = baiduPoint.lng;\r\n                                devDrawInfoMap.get(devCode).maxEng.position.lat = baiduPoint.lat;\r\n                                devDrawInfoMap.get(devCode).maxEng.position.northAngle = eachDevInfo.gpsInfo.northAngle;\r\n                                devDrawInfoMap.get(devCode).maxEng.detail = energyArray;\r\n                            }\r\n                            /* 绘制能量指示*/\r\n                            let carEngOriRedraw = true;\r\n                            for (let i = 0; i < carEngOrientationArray.overlay.length; i++) {\r\n                                /* 去掉重复（在当前坐标的5米范围内，只保留最大一次的能量值指示）*/\r\n                                let lastCarEngOriPoint = new BMap.Point(carEngOrientationArray.overlay[i].gps.lng, carEngOrientationArray.overlay[i].gps.lat);\r\n                                let currentCarEngOriPoint = new BMap.Point(eachDevInfo.gpsInfo.lng, eachDevInfo.gpsInfo.lat);\r\n                                if (map.getDistance(lastCarEngOriPoint, currentCarEngOriPoint) <= 5) {\r\n                                    carEngOriRedraw = false;\r\n                                    if (carEngOrientationArray.overlay[i].value < __WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__[\"a\" /* Energy */].getEnergyMaxValue(energyArray)) {\r\n                                        map.removeOverlay(carEngOrientationArray.overlay[i].overlay);\r\n                                        carEngOrientationArray.overlay.splice(i, 1);\r\n                                        carEngOriRedraw = true;\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (carEngOriRedraw) {\r\n                                /* 在地图上绘制指示*/\r\n                                let carEngOrientation = new __WEBPACK_IMPORTED_MODULE_5__CarEngOrientationConstructor_js__[\"a\" /* CarEngOrientationConstructor */](baiduPoint, energyArray, eachDevInfo.gpsInfo.northAngle, devCode, eachDevInfo.reportTime); // 执行百度地图API方法\r\n                                map.addOverlay(carEngOrientation);\r\n                                carEngOrientationArray.overlay.push({\r\n                                    gps: {\r\n                                        lng: eachDevInfo.gpsInfo.lng,\r\n                                        lat: eachDevInfo.gpsInfo.lat\r\n                                    },\r\n                                    overlay: carEngOrientation,\r\n                                    value: __WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__[\"a\" /* Energy */].getEnergyMaxValue(energyArray)\r\n                                });\r\n                                if (!carEngOrientationArray.isShow) {\r\n                                    carEngOrientation.hide();\r\n                                }\r\n                            }\r\n                            /* 右部面板显示能量信息*/\r\n                            __WEBPACK_IMPORTED_MODULE_9__table_EngPanel_js__[\"a\" /* EngPanel */].showCarEng(devCode, energyArray, eachDevInfo.reportTime);\r\n                        }\r\n                    } else {\r\n                        /* 能量没有上报，获取上一次能量信息 */\r\n                        eng = eachDevInfo.lastEngInfo.eng;\r\n                        let energyArr = eng.split(\"-\");\r\n                        energyArray = [energyArr[0], energyArr[1], energyArr[2], energyArr[3]];\r\n                        /* 绘制车载设备*/\r\n                        cover = new __WEBPACK_IMPORTED_MODULE_2__CarDivOverlayConstructor_js__[\"a\" /* CarDivOverlayConstructor */](baiduPoint, energyArray, devCode, false);\r\n                        map.addOverlay(cover);\r\n                    }\r\n                    break;\r\n                case 2:\r\n                    devClass = 'single';\r\n                    if (eachDevInfo.engInfo.isHit) {\r\n                        /* 能量有上报*/\r\n                        eng = eachDevInfo.engInfo.eng;\r\n                        /* 绘制单兵设备*/\r\n                        cover = new __WEBPACK_IMPORTED_MODULE_3__SingleDivOverlayConstructor_js__[\"a\" /* SingleDivOverlayConstructor */](baiduPoint, eng, devCode, true);\r\n                        map.addOverlay(cover);\r\n                        /* 有能量时才绘制能量指示*/\r\n                        if (eng > 0) {\r\n                            /* 缓存时间轴能量*/\r\n                            if (eng > devDrawInfoMap.get(devCode).maxEng.value) {\r\n                                devDrawInfoMap.get(devCode).maxEng.value = eng;\r\n                                devDrawInfoMap.get(devCode).maxEng.position.lng = baiduPoint.lng;\r\n                                devDrawInfoMap.get(devCode).maxEng.position.lat = baiduPoint.lat;\r\n                                devDrawInfoMap.get(devCode).maxEng.position.northAngle = eachDevInfo.gpsInfo.northAngle;;\r\n                                devDrawInfoMap.get(devCode).maxEng.detail = eng;\r\n                            }\r\n                            /* 绘制能量指示*/\r\n                            let singleEngOriRedraw = true;\r\n                            for (let i = 0; i < singleEngOrientationArray.overlay.length; i++) {\r\n                                /* 去掉重复（在当前坐标的5米范围内，只保留最大一次的能量值指示）*/\r\n                                let lastSingleEngOriPoint = new BMap.Point(singleEngOrientationArray.overlay[i].gps.lng, singleEngOrientationArray.overlay[i].gps.lat);\r\n                                let currentSingleEngOriPoint = new BMap.Point(eachDevInfo.gpsInfo.lng, eachDevInfo.gpsInfo.lat);\r\n                                if (map.getDistance(lastSingleEngOriPoint, currentSingleEngOriPoint) <= 5) {\r\n                                    singleEngOriRedraw = false;\r\n                                    if (singleEngOrientationArray.overlay[i].value < eng) {\r\n                                        map.removeOverlay(singleEngOrientationArray.overlay[i].overlay);\r\n                                        singleEngOrientationArray.overlay.splice(i, 1);\r\n                                        singleEngOriRedraw = true;\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (singleEngOriRedraw) {\r\n                                /* 在地图上绘制指示*/\r\n                                let singleEngOrientation = new __WEBPACK_IMPORTED_MODULE_6__SingleEngOrientationConstructor_js__[\"a\" /* SingleEngOrientationConstructor */](baiduPoint, eng, eachDevInfo.gpsInfo.northAngle, devCode, eachDevInfo.reportTime);\r\n                                map.addOverlay(singleEngOrientation);\r\n                                singleEngOrientationArray.overlay.push({\r\n                                    gps: {\r\n                                        lng: eachDevInfo.gpsInfo.lng,\r\n                                        lat: eachDevInfo.gpsInfo.lat\r\n                                    },\r\n                                    overlay: singleEngOrientation,\r\n                                    value: eng\r\n                                });\r\n                                if (!singleEngOrientationArray.isShow) {\r\n                                    singleEngOrientation.hide();\r\n                                }\r\n                            }\r\n                            /* 右部面板显示能量信息*/\r\n                            __WEBPACK_IMPORTED_MODULE_9__table_EngPanel_js__[\"a\" /* EngPanel */].showSingleEng(devCode, eng, eachDevInfo.reportTime);\r\n                        }\r\n                    } else {\r\n                        eng = eachDevInfo.lastEngInfo.eng;\r\n                        cover = new __WEBPACK_IMPORTED_MODULE_3__SingleDivOverlayConstructor_js__[\"a\" /* SingleDivOverlayConstructor */](baiduPoint, eng, devCode, false);\r\n                        map.addOverlay(cover);\r\n                    }\r\n                    break;\r\n                /**add by gaochao start */\r\n                case 3:\r\n                    devClass = 'single';\r\n                    eng = eachDevInfo.lastEngInfo.eng;\r\n                    cover = new __WEBPACK_IMPORTED_MODULE_4__SingleOutSideOverlayConstructor_js__[\"a\" /* SingleOutSideOverlayConstructor */](baiduPoint, eng, devCode, false);\r\n                    map.addOverlay(cover);\r\n                    break;\r\n                /**add by gaochao end*/\r\n                default:\r\n                    devClass = 'null';\r\n                    break;\r\n            }\r\n            /* 获取设备的角度朝向 */\r\n            let deg = eachDevInfo.gpsInfo.northAngle - 90;\r\n            /* 设置设备角度 */\r\n            $('.' + devClass + '-img-' + devCode).css('transform', 'rotate(' + deg + 'deg)');\r\n            /**add by gaochao start */\r\n            $('.' + devClass + '-photo-' + devCode).css('transform', 'rotate(' + (0 - deg) + 'deg)');\r\n            /**add by gaochao end*/\r\n            /* 上一次为工作状态不为0且本次工作状态为1*/\r\n            if (status != 0 && eachDevInfo.lastStatus == 1) {\r\n                /* 中心点坐标*/\r\n                let cpGps = devInfoMap.get(centerPointDevCode).gpsInfo;\r\n                let cpGpsBd = __WEBPACK_IMPORTED_MODULE_8__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([\r\n                    [cpGps.lng, cpGps.lat]\r\n                ])[0]\r\n                /* 根据中心点判断是否绘制路径线*/\r\n                let canDrawLine = false;\r\n                if (eachDevInfo.devType == 1) {\r\n                    /* 如果是车载设备，直接绘制路径线*/\r\n                    canDrawLine = true;\r\n                    /**edti by gaochao start */\r\n                } else if (eachDevInfo.devType == 2) {\r\n                    // } else if (eachDevInfo.devType == 2 ||eachDevInfo.devType == 3) {\r\n                    /**edit by gaochao end */\r\n                    /* 如果是单兵设备，根据中心点绘制路径线*/\r\n                    let setCanDrawLine = function (val) {\r\n                        if (devInfoMap.get(centerPointDevCode).devType == 1) {\r\n                            /* 单兵以车载为中心*/\r\n                            if (map.getDistance(new BMap.Point(cpGpsBd.lng, cpGpsBd.lat), baiduPoint) > val) {\r\n                                canDrawLine = true;\r\n                            }\r\n                            /**edti by gaochao start */\r\n                        } else if (devInfoMap.get(centerPointDevCode).devType == 2) {\r\n                            // } else if (devInfoMap.get(centerPointDevCode).devType == 2||devInfoMap.get(centerPointDevCode).devType == 3) {\r\n                            /**edit by gaochao end */\r\n                            /* 单兵以单兵为中心*/\r\n                            if (centerPointDevCode != eachDevInfo.devCode) { // 自己不是中心\r\n                                if (map.getDistance(new BMap.Point(cpGpsBd.lng, cpGpsBd.lat), baiduPoint) > val) {\r\n                                    canDrawLine = true;\r\n                                }\r\n                            } else { // 自己是中心 \r\n                                canDrawLine = true;\r\n                            }\r\n                        }\r\n                    }\r\n                    switch (eachDevInfo.gpsInfo.separateFlag) {\r\n                        case 0:\r\n                            setCanDrawLine(50);\r\n                            break;\r\n                        case 1:\r\n                            canDrawLine = false;\r\n                            setCanDrawLine(100);\r\n                            break;\r\n                        case 2:\r\n                            canDrawLine = true;\r\n                            break;\r\n                        default:\r\n                            setCanDrawLine(50);\r\n                            break;\r\n                    }\r\n                }\r\n                /* 点飘动大于50米，不绘制；精度大于10，不绘制*/\r\n                // && (eachDevInfo.devType == 2 && eachDevInfo.gpsInfo.accuracy <= 10)\r\n\r\n                let divide = 0;\r\n                if (eachDevInfo.devType == 1) {\r\n                    divide = 70;\r\n                } else {\r\n                    divide = 35;\r\n                }\r\n                let mergeLine = function () {\r\n                    let lineColor;\r\n                    if (devDrawInfoMap.get(devCode).isCorrentView) {\r\n                        lineColor = '#008030';\r\n                    } else {\r\n                        lineColor = devDrawInfoMap.get(devCode).routeLineColor;\r\n                    }\r\n                    let lintArrTemp = [];\r\n                    let devLine = lineOverlayMap.line.get(devCode).dataCache;\r\n                    /* 将缓存中的坐标合并*/\r\n                    for (let i = 0; i < devLine.length; i++) {\r\n                        if (lintArrTemp.length == 0) {\r\n                            lintArrTemp.push(devLine[i][0]);\r\n                            lintArrTemp.push(devLine[i][1]);\r\n                        } else {\r\n                            lintArrTemp.push(devLine[i][1]);\r\n                        }\r\n                    }\r\n                    /* 移除线段*/\r\n                    for (let i = 0; i < lineOverlayMap.line.get(devCode).tempLine.length; i++) {\r\n                        map.removeOverlay(lineOverlayMap.line.get(devCode).tempLine[i]);\r\n                    }\r\n                    /* 重新绘制整合的线段*/\r\n                    let mergedLine = new BMap.Polyline(lintArrTemp, {\r\n                        strokeColor: lineColor,\r\n                        strokeWeight: 5,\r\n                        strokeOpacity: 0.3\r\n                    });\r\n                    lineOverlayMap.line.get(devCode).line.push(mergedLine);\r\n                    map.addOverlay(mergedLine);\r\n                    if (!lineOverlayMap.isShow) {\r\n                        mergedLine.hide();\r\n                    }\r\n                    /* 次数归零*/\r\n                    lineOverlayCountCache.set(devCode, 0);\r\n                    /* 对应缓存清空*/\r\n                    lineOverlayMap.line.get(devCode).tempLine = [];\r\n                    lineOverlayMap.line.get(devCode).dataCache = [];\r\n                }\r\n                if (map.getDistance(new BMap.Point(eachDevInfo.baiduGpsInfo.lng, eachDevInfo.baiduGpsInfo.lat), new BMap.Point(eachDevInfo.lastBaiduGpsInfo.lng, eachDevInfo.lastBaiduGpsInfo.lat)) <= divide) {\r\n                    /* 车载路径线全绘制，单兵只绘制下车后路径*/\r\n                    //if (eachDevInfo.devType == 1 || eachDevInfo.devType == 2 && eachDevInfo.separateFlag == 1) {\r\n                    if (canDrawLine) {\r\n                        /* 绘制设备路径线*/\r\n                        let lineColor;\r\n                        /* 路径线颜色*/\r\n                        if (devDrawInfoMap.get(devCode).isCorrentView) {\r\n                            lineColor = '#008030'; // 当前视角为绿色\r\n                        } else {\r\n                            lineColor = devDrawInfoMap.get(devCode).routeLineColor; // 非当前视角为灰色\r\n                        }\r\n                        /* 调用API绘制线的参数*/\r\n                        let devRouteLine = new BMap.Polyline([\r\n                            new BMap.Point(eachDevInfo.lastBaiduGpsInfo.lng, eachDevInfo.lastBaiduGpsInfo.lat),\r\n                            new BMap.Point(eachDevInfo.baiduGpsInfo.lng, eachDevInfo.baiduGpsInfo.lat),\r\n                        ], {\r\n                                strokeColor: lineColor,\r\n                                strokeWeight: 5,\r\n                                strokeOpacity: 0.3\r\n                            });\r\n                        /* 用于合并的线段缓存*/\r\n                        lineOverlayMap.line.get(eachDevInfo.devCode).tempLine.push(devRouteLine);\r\n                        /* 用于合并的点数据缓存*/\r\n                        lineOverlayMap.line.get(eachDevInfo.devCode).dataCache.push([new BMap.Point(eachDevInfo.lastBaiduGpsInfo.lng, eachDevInfo.lastBaiduGpsInfo.lat), new BMap.Point(eachDevInfo.baiduGpsInfo.lng, eachDevInfo.baiduGpsInfo.lat)]);\r\n                        /* 将线段添加至地图容器*/\r\n                        map.addOverlay(devRouteLine);\r\n                        /* 是否显示路径线图层*/\r\n                        if (!lineOverlayMap.isShow) {\r\n                            devRouteLine.hide();\r\n                        }\r\n                        /* 统计次数*/\r\n                        if (lineOverlayCountCache.get(devCode) == null) {\r\n                            lineOverlayCountCache.set(devCode, 0);\r\n                        }\r\n                        let lastCount = lineOverlayCountCache.get(devCode);\r\n                        lastCount = lastCount + 1;\r\n                        lineOverlayCountCache.set(devCode, lastCount);\r\n                        /* 点数量大于50个进行合并*/\r\n                        if (lastCount >= 50) {\r\n                            mergeLine();\r\n                        }\r\n                        /* 绘制主动式轨迹*/\r\n                        let drawPassiveLine = function () {\r\n                            let passiveActiveLine = new BMap.Polyline([\r\n                                new BMap.Point(eachDevInfo.lastBaiduGpsInfo.lng, eachDevInfo.lastBaiduGpsInfo.lat),\r\n                                new BMap.Point(eachDevInfo.baiduGpsInfo.lng, eachDevInfo.baiduGpsInfo.lat),\r\n                            ], {\r\n                                    strokeColor: 'red',\r\n                                    strokeWeight: 5,\r\n                                    strokeOpacity: 0.5\r\n                                });\r\n                            linePassive.line.push(passiveActiveLine);\r\n                            map.addOverlay(passiveActiveLine);\r\n                            if (!linePassive.isShow) {\r\n                                passiveActiveLine.hide();\r\n                            }\r\n                        }\r\n                        if (eachDevInfo.activeHit == 1 && eachDevInfo.lastActiveHit == 1 || eachDevInfo.activeHit != 1 && eachDevInfo.lastActiveHit == 1) {\r\n                            if (eachDevInfo.gpsInfo.lng != eachDevInfo.lastGpsInfo.lng && eachDevInfo.gpsInfo.lat != eachDevInfo.lastGpsInfo.lat) {\r\n                                drawPassiveLine();\r\n                            } else {\r\n                                if (eachDevInfo.activeHit == 1 && eachDevInfo.lastActiveHit != 1) {\r\n                                    drawPassiveLine();\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        /* 点断开，合并路径线*/\r\n                        mergeLine();\r\n                    }\r\n                } else {\r\n                    /* 点断开，合并路径线*/\r\n                    mergeLine();\r\n                }\r\n            }\r\n\r\n            try {\r\n                /* 目标小区*/\r\n                if (eachDevInfo.devType == 1 && targetCellInfosCache.size != 0) {\r\n                    if (targetCellLineCache != null) {\r\n                        map.removeOverlay(targetCellLineCache);\r\n                        targetCellLineCache = null;\r\n                    }\r\n                    let targetCellPoint;\r\n                    let lngAll = 0;\r\n                    let latAll = 0;\r\n                    targetCellInfosCache.forEach((eachTargetBts) => {\r\n                        lngAll = lngAll + Number(eachTargetBts.lng);\r\n                        latAll = latAll + Number(eachTargetBts.lat);\r\n                    });\r\n                    targetCellPoint = {\r\n                        lng: lngAll / targetCellInfosCache.size,\r\n                        lat: latAll / targetCellInfosCache.size\r\n                    };\r\n                    if (map.getDistance(new BMap.Point(eachDevInfo.baiduGpsInfo.lng, eachDevInfo.baiduGpsInfo.lat), new BMap.Point(targetCellPoint.lng, targetCellPoint.lat)) > 500) {\r\n                        let targetCellLine = new BMap.Polyline([\r\n                            new BMap.Point(targetCellPoint.lng, targetCellPoint.lat),\r\n                            new BMap.Point(eachDevInfo.baiduGpsInfo.lng, eachDevInfo.baiduGpsInfo.lat),\r\n                        ], {\r\n                                strokeColor: 'red',\r\n                                strokeWeight: 1,\r\n                                strokeOpacity: 1\r\n                            });\r\n                        targetCellLineCache = targetCellLine;\r\n                        map.addOverlay(targetCellLine);\r\n                    }\r\n                }\r\n            } catch (error) {\r\n\r\n            }\r\n\r\n            // try {\r\n            //     if (devPreLockCellLineCache != null) {\r\n            //         map.removeOverlay(devPreLockCellLineCache);\r\n            //         devPreLockCellLineCache = null;\r\n            //     }\r\n            //     /* 预锁基站*/\r\n            //     if (eachDevInfo.devType == 1 && devPreLockCellInfosCache.size != 0) {\r\n\r\n            //         let preLockCellPoint;\r\n            //         let lngAll = 0;\r\n            //         let latAll = 0;\r\n            //         devPreLockCellInfosCache.forEach((eachTargetBts) => {\r\n            //             lngAll = lngAll + Number(eachTargetBts.lng);\r\n            //             latAll = latAll + Number(eachTargetBts.lat);\r\n            //         });\r\n            //         preLockCellPoint = {\r\n            //             lng: lngAll / devPreLockCellInfosCache.size,\r\n            //             lat: latAll / devPreLockCellInfosCache.size\r\n            //         };\r\n            //         if (map.getDistance(new BMap.Point(eachDevInfo.baiduGpsInfo.lng, eachDevInfo.baiduGpsInfo.lat), new BMap.Point(preLockCellPoint.lng, preLockCellPoint.lat)) > 500) {\r\n            //             let preLockCellLine = new BMap.Polyline([\r\n            //                 new BMap.Point(preLockCellPoint.lng, preLockCellPoint.lat),\r\n            //                 new BMap.Point(eachDevInfo.baiduGpsInfo.lng, eachDevInfo.baiduGpsInfo.lat),\r\n            //             ], {\r\n            //                     strokeColor: 'red',\r\n            //                     strokeWeight: 1,\r\n            //                     strokeOpacity: 1\r\n            //                 });\r\n            //             devPreLockCellLineCache = preLockCellLine;\r\n            //             map.addOverlay(preLockCellLine);\r\n            //         }\r\n            //     }\r\n            // } catch (error) {\r\n\r\n            // }\r\n\r\n            /* 主动式命中脱网标记覆盖物*/\r\n            let isDrawPassiveActiveMarkerOverlay = 0;\r\n            if (eachDevInfo.activeHit == 1 && eachDevInfo.lastActiveHit != 1) {\r\n                isDrawPassiveActiveMarkerOverlay = 1; // 主动式命中\r\n            } else if (eachDevInfo.activeHit != 1 && eachDevInfo.lastActiveHit == 1) {\r\n                isDrawPassiveActiveMarkerOverlay = 2; // 主动式脱网\r\n            }\r\n            if (isDrawPassiveActiveMarkerOverlay != 0) {\r\n                let passiveActiveMarkerOverlay = new __WEBPACK_IMPORTED_MODULE_7__PassiveActiveMarkerOverlayConstructor_js__[\"a\" /* PassiveActiveMarkerOverlayConstructor */](baiduPoint, isDrawPassiveActiveMarkerOverlay);\r\n                linePassive.overlay.push(passiveActiveMarkerOverlay);\r\n                map.addOverlay(passiveActiveMarkerOverlay);\r\n                if (!linePassive.isShow) {\r\n                    passiveActiveMarkerOverlay.hide();\r\n                }\r\n            }\r\n\r\n            /* 如果当前视角设备超出可见范围，重设地图中心*/\r\n            if (devDrawInfoMap.get(eachDevInfo.devCode).isCorrentView) {\r\n                let rightTopPosition = map.pointToOverlayPixel(map.getBounds().getNorthEast()); // 右上角坐标\r\n                let leftBottomPosition = map.pointToOverlayPixel(map.getBounds().getSouthWest()); // 左下角坐标\r\n                let devPosition = map.pointToOverlayPixel(baiduPoint); // 设备坐标\r\n                // 设备坐标距离顶部130px，距离底部180px，距离左边100px，距离右边260px，则重设中心点\r\n                if (devPosition.y - rightTopPosition.y < 130 || devPosition.y - leftBottomPosition.y > -180 || devPosition.x - leftBottomPosition.x < 100 || devPosition.x - rightTopPosition.x > -260) {\r\n                    /**edit by gaochao start */\r\n                    if (mapFollowFlag) {\r\n                        map.setCenter(baiduPoint);\r\n                    }\r\n                    /**edit by gaochao end */\r\n                }\r\n            }\r\n\r\n            /* 如果为当前视角且为车载，显示车速*/\r\n            /**del by gaochao start */\r\n            if (devDrawInfoMap.get(eachDevInfo.devCode).isCorrentView && eachDevInfo.devType == 1) {\r\n                $('.car-speed-value').html(eachDevInfo.gpsInfo.speed);\r\n            }\r\n            /**del by gaochao end */\r\n\r\n            /* 设置设备详细信息面板是否开启 */\r\n            if (eachDevInfo.isInfoPanelOpen) {\r\n                $('.dev-selecter-circle-' + devCode).css('display', 'block');\r\n                $('.dev-info-panel-' + devCode).css('display', 'block');\r\n            } else {\r\n                $('.dev-selecter-circle-' + devCode).css('display', 'none');\r\n                $('.dev-info-panel-' + devCode).css('display', 'none');\r\n            }\r\n\r\n            /* 打开/关闭详细信息框 */\r\n            $('.' + devClass + '-img-' + devCode).click(() => {\r\n                if (!devInfoMap.get(eachDevInfo.devCode).isInfoPanelOpen) {\r\n                    $('.dev-selecter-circle-' + devCode).css('display', 'block');\r\n                    $('.dev-info-panel-' + devCode).css('display', 'block');\r\n                    devInfoMap.get(eachDevInfo.devCode).isInfoPanelOpen = true;\r\n                } else {\r\n                    $('.dev-selecter-circle-' + devCode).css('display', 'none');\r\n                    $('.dev-info-panel-' + devCode).css('display', 'none');\r\n                    devInfoMap.get(eachDevInfo.devCode).isInfoPanelOpen = false;\r\n                }\r\n            });\r\n            $('.dev-info-panel-close-' + devCode).click(() => {\r\n                $('.dev-selecter-circle-' + devCode).css('display', 'none');\r\n                $('.dev-info-panel-' + devCode).css('display', 'none');\r\n                devInfoMap.get(eachDevInfo.devCode).isInfoPanelOpen = false;\r\n            });\r\n\r\n            /* 设备编号hover*/\r\n            $('.' + devClass + '-img-' + devCode).hover(function () {\r\n                $('.dev-team-info-' + devCode).css('display', 'block');\r\n            }, function () {\r\n                $('.dev-team-info-' + devCode).css('display', 'none');\r\n            });\r\n\r\n            /* 判断小车是否正在工作 */\r\n            if (status == 0) {\r\n                $('.' + devClass + '-img-' + devCode).css('filter', 'grayscale(100%)');\r\n                $('.energy-word-0-' + devCode).css('display', 'none');\r\n                $('.energy-word-1-' + devCode).css('display', 'none');\r\n                $('.energy-word-2-' + devCode).css('display', 'none');\r\n                $('.energy-word-3-' + devCode).css('display', 'none');\r\n                $('.dev-team-info-' + devCode).css('top', '30px');\r\n            }\r\n            /* 判断能量是否命中*/\r\n            if (!eachDevInfo.engInfo.isHit) {\r\n                $('.dev-team-info-' + devCode).css('top', '30px');\r\n            }\r\n\r\n            /* 更新上一次的能量值(有能量才更新)*/\r\n            devInfoMap.get(devCode).lastEngInfo = eachDevInfo.engInfo;\r\n            /* 更新上一次工作状态*/\r\n            devInfoMap.get(devCode).lastStatus = eachDevInfo.status;\r\n            /* 更新上一次的GPS信息*/\r\n            devInfoMap.get(devCode).lastGpsInfo = eachDevInfo.gpsInfo;\r\n            /* 更新上一次的百度GPS信息 */\r\n            devInfoMap.get(devCode).lastBaiduGpsInfo = eachDevInfo.baiduGpsInfo;\r\n            /* 更新上一次主动式命中信息 */\r\n            devInfoMap.get(devCode).lastActiveHit = eachDevInfo.activeHit;\r\n\r\n            /* 在map集合中保存覆盖物及图标实例 */\r\n            let devDiv = class DevDiv {\r\n                constructor() {\r\n                    this.devCover;\r\n                }\r\n            }\r\n            devDiv.devCover = cover;\r\n            devDivMap.set(devCode, devDiv);\r\n        });\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = DrawDevOverlay;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3RGV2T3ZlcmxheS5qcz9kN2ZiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRTZCO0FBR0k7O0FBSU07QUFHRztBQUdJO0FBR0g7QUFHRztBQUdNO0FBR1U7QUFHaEM7O0FBRXZCOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRCxtREFBbUQ7QUFDbkQsc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw4RkFBd0I7QUFDNUQ7QUFDQTtBQUNBOztBQUVBLHlCQUF5QjtBQUN6QjtBQUNBLGdDQUFnQyxpRUFBTTtBQUN0QywyRUFBMkUsaUVBQU07QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsMkNBQTJDO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsaUVBQU07QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxzR0FBNEIsMkZBQTJGO0FBQ25MO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQSwyQ0FBMkMsaUVBQU07QUFDakQsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsb0VBQVE7QUFDcEM7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw4RkFBd0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG9HQUEyQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyw4Q0FBOEM7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCw0R0FBK0I7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsb0VBQVE7QUFDcEM7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxvQ0FBb0Msb0dBQTJCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDRHQUErQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIscUdBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQix3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLGdDQUFnQztBQUNoQztBQUNBO0FBQ0EsNEVBQTRFO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixPQUFPO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxvQkFBb0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHNEQUFzRDtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRCx5QkFBeUI7QUFDekIsbUZBQW1GO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjs7QUFFaEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JELGFBQWE7QUFDYixxREFBcUQ7QUFDckQ7QUFDQTtBQUNBLHFEQUFxRCx3SEFBcUM7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrRkFBK0Y7QUFDL0YsaUdBQWlHO0FBQ2pHLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQSxDIiwiZmlsZSI6IjE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIEVuZXJneVxyXG59IGZyb20gJy4uL2VuZXJneS9FbmVyZ3kuanMnO1xyXG5pbXBvcnQge1xyXG4gICAgRW5lcmd5U291bmRcclxufSBmcm9tICcuLi9zb3VuZC9FbmVyZ3lTb3VuZC5qcyc7XHJcblxyXG5pbXBvcnQge1xyXG4gICAgQ2FyRGl2T3ZlcmxheUNvbnN0cnVjdG9yXHJcbn0gZnJvbSAnLi9DYXJEaXZPdmVybGF5Q29uc3RydWN0b3IuanMnO1xyXG5pbXBvcnQge1xyXG4gICAgU2luZ2xlRGl2T3ZlcmxheUNvbnN0cnVjdG9yXHJcbn0gZnJvbSAnLi9TaW5nbGVEaXZPdmVybGF5Q29uc3RydWN0b3IuanMnO1xyXG5pbXBvcnQge1xyXG4gICAgU2luZ2xlT3V0U2lkZU92ZXJsYXlDb25zdHJ1Y3RvclxyXG59IGZyb20gJy4vU2luZ2xlT3V0U2lkZU92ZXJsYXlDb25zdHJ1Y3Rvci5qcyc7XHJcbmltcG9ydCB7XHJcbiAgICBDYXJFbmdPcmllbnRhdGlvbkNvbnN0cnVjdG9yXHJcbn0gZnJvbSAnLi9DYXJFbmdPcmllbnRhdGlvbkNvbnN0cnVjdG9yLmpzJztcclxuaW1wb3J0IHtcclxuICAgIFNpbmdsZUVuZ09yaWVudGF0aW9uQ29uc3RydWN0b3JcclxufSBmcm9tICcuL1NpbmdsZUVuZ09yaWVudGF0aW9uQ29uc3RydWN0b3IuanMnO1xyXG5pbXBvcnQge1xyXG4gICAgUGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXlDb25zdHJ1Y3RvclxyXG59IGZyb20gJy4vUGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXlDb25zdHJ1Y3Rvci5qcyc7XHJcbmltcG9ydCB7XHJcbiAgICBHUFNUb0JhaWR1UG9pbnRcclxufSBmcm9tICcuLi8uLi8uLi9jb21tb24vYmFpZHVNYXAvR1BTVG9CYWlkdVBvaW50LkJhaWR1TWFwLmpzJztcclxuaW1wb3J0IHtcclxuICAgIEVuZ1BhbmVsXHJcbn0gZnJvbSAnLi4vdGFibGUvRW5nUGFuZWwuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIERyYXdEZXZPdmVybGF5IHtcclxuXHJcbiAgICBzdGF0aWMgZHJhd0RldihkZXZJbmZvKSB7XHJcbiAgICAgICAgLyog57yT5a2YICovXHJcbiAgICAgICAgbGV0IGRldkRpdkNhY2hlTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8qIOe7mOWItuaJgOacieiuvuWkhyAqL1xyXG4gICAgICAgIGRldkluZm8uZm9yRWFjaCgoZWFjaERldkluZm8pID0+IHtcclxuICAgICAgICAgICAgLyog6I635Y+W6K6+5aSH6K6+5aSH57yW5Y+3ICovXHJcbiAgICAgICAgICAgIGxldCBkZXZDb2RlID0gZWFjaERldkluZm8uZGV2Q29kZTtcclxuICAgICAgICAgICAgLyog56e76Zmk5LiK5LiA5qyh55qE5b2T5YmN6K6+5aSHICovXHJcbiAgICAgICAgICAgIGlmIChkZXZEaXZNYXAuZ2V0KGRldkNvZGUpICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIG1hcC5yZW1vdmVPdmVybGF5KGRldkRpdk1hcC5nZXQoZGV2Q29kZSkuZGV2Q292ZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIOiOt+WPluiuvuWkh+WdkOaghyAqL1xyXG4gICAgICAgICAgICBsZXQgbG5nID0gZWFjaERldkluZm8uYmFpZHVHcHNJbmZvLmxuZzsgLy8gMTE0XHJcbiAgICAgICAgICAgIGxldCBsYXQgPSBlYWNoRGV2SW5mby5iYWlkdUdwc0luZm8ubGF0OyAvLyAzMFxyXG4gICAgICAgICAgICBsZXQgYmFpZHVQb2ludCA9IG5ldyBCTWFwLlBvaW50KGxuZywgbGF0KTsgLy8g55m+5bqm5Zyw5Zu+5Z2Q5qCHXHJcbiAgICAgICAgICAgIC8qIOiOt+WPluiuvuWkh+aYr+WQpuW3peS9nCAqL1xyXG4gICAgICAgICAgICBsZXQgc3RhdHVzID0gZWFjaERldkluZm8uc3RhdHVzO1xyXG4gICAgICAgICAgICAvKiDlnKjlnLDlm77kuIrmmL7npLrorr7lpIcgKi9cclxuICAgICAgICAgICAgbGV0IGxpbmVDb2xvcjtcclxuICAgICAgICAgICAgbGV0IG5leHRMaW5lQ29sb3I7XHJcbiAgICAgICAgICAgIGxldCBlbmVyZ3lBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgZW5nO1xyXG4gICAgICAgICAgICBsZXQgY292ZXI7XHJcbiAgICAgICAgICAgIGxldCBkZXZDbGFzcztcclxuICAgICAgICAgICAgc3dpdGNoIChlYWNoRGV2SW5mby5kZXZUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2Q2xhc3MgPSAnY2FyJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWFjaERldkluZm8uZW5nSW5mby5pc0hpdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiDog73ph4/mnInkuIrmiqUqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmcgPSBlYWNoRGV2SW5mby5lbmdJbmZvLmVuZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVuZXJneUFyciA9IGVuZy5zcGxpdChcIi1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZXJneUFycmF5ID0gW051bWJlcihlbmVyZ3lBcnJbMF0pLCBOdW1iZXIoZW5lcmd5QXJyWzFdKSwgTnVtYmVyKGVuZXJneUFyclsyXSksIE51bWJlcihlbmVyZ3lBcnJbM10pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyog57uY5Yi26L2m6L296K6+5aSHKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXIgPSBuZXcgQ2FyRGl2T3ZlcmxheUNvbnN0cnVjdG9yKGJhaWR1UG9pbnQsIGVuZXJneUFycmF5LCBkZXZDb2RlLCBlYWNoRGV2SW5mby5ncHNJbmZvLm5vcnRoQW5nbGUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuYWRkT3ZlcmxheShjb3Zlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIOacieiDvemHj+aXtuaJjee7mOWItuiDvemHj+aMh+ekuiovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmVyZ3lBcnJheVswXSA9PSAwICYmIGVuZXJneUFycmF5WzFdID09IDAgJiYgZW5lcmd5QXJyYXlbMl0gPT0gMCAmJiBlbmVyZ3lBcnJheVszXSA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyog57yT5a2Y5pe26Ze06L206IO96YePKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChFbmVyZ3kuZ2V0RW5lcmd5TWF4VmFsdWUoZW5lcmd5QXJyYXkpID4gZGV2RHJhd0luZm9NYXAuZ2V0KGRldkNvZGUpLm1heEVuZy52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldkRyYXdJbmZvTWFwLmdldChkZXZDb2RlKS5tYXhFbmcudmFsdWUgPSBFbmVyZ3kuZ2V0RW5lcmd5TWF4VmFsdWUoZW5lcmd5QXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldkRyYXdJbmZvTWFwLmdldChkZXZDb2RlKS5tYXhFbmcucG9zaXRpb24ubG5nID0gYmFpZHVQb2ludC5sbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZ2V0KGRldkNvZGUpLm1heEVuZy5wb3NpdGlvbi5sYXQgPSBiYWlkdVBvaW50LmxhdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZEcmF3SW5mb01hcC5nZXQoZGV2Q29kZSkubWF4RW5nLnBvc2l0aW9uLm5vcnRoQW5nbGUgPSBlYWNoRGV2SW5mby5ncHNJbmZvLm5vcnRoQW5nbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZ2V0KGRldkNvZGUpLm1heEVuZy5kZXRhaWwgPSBlbmVyZ3lBcnJheTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIOe7mOWItuiDvemHj+aMh+ekuiovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FyRW5nT3JpUmVkcmF3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FyRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyog5Y675o6J6YeN5aSN77yI5Zyo5b2T5YmN5Z2Q5qCH55qENeexs+iMg+WbtOWGhe+8jOWPquS/neeVmeacgOWkp+S4gOasoeeahOiDvemHj+WAvOaMh+ekuu+8iSovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3RDYXJFbmdPcmlQb2ludCA9IG5ldyBCTWFwLlBvaW50KGNhckVuZ09yaWVudGF0aW9uQXJyYXkub3ZlcmxheVtpXS5ncHMubG5nLCBjYXJFbmdPcmllbnRhdGlvbkFycmF5Lm92ZXJsYXlbaV0uZ3BzLmxhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRDYXJFbmdPcmlQb2ludCA9IG5ldyBCTWFwLlBvaW50KGVhY2hEZXZJbmZvLmdwc0luZm8ubG5nLCBlYWNoRGV2SW5mby5ncHNJbmZvLmxhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcC5nZXREaXN0YW5jZShsYXN0Q2FyRW5nT3JpUG9pbnQsIGN1cnJlbnRDYXJFbmdPcmlQb2ludCkgPD0gNSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJFbmdPcmlSZWRyYXcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhckVuZ09yaWVudGF0aW9uQXJyYXkub3ZlcmxheVtpXS52YWx1ZSA8IEVuZXJneS5nZXRFbmVyZ3lNYXhWYWx1ZShlbmVyZ3lBcnJheSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5yZW1vdmVPdmVybGF5KGNhckVuZ09yaWVudGF0aW9uQXJyYXkub3ZlcmxheVtpXS5vdmVybGF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhckVuZ09yaWVudGF0aW9uQXJyYXkub3ZlcmxheS5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJFbmdPcmlSZWRyYXcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhckVuZ09yaVJlZHJhdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIOWcqOWcsOWbvuS4iue7mOWItuaMh+ekuiovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhckVuZ09yaWVudGF0aW9uID0gbmV3IENhckVuZ09yaWVudGF0aW9uQ29uc3RydWN0b3IoYmFpZHVQb2ludCwgZW5lcmd5QXJyYXksIGVhY2hEZXZJbmZvLmdwc0luZm8ubm9ydGhBbmdsZSwgZGV2Q29kZSwgZWFjaERldkluZm8ucmVwb3J0VGltZSk7IC8vIOaJp+ihjOeZvuW6puWcsOWbvkFQSeaWueazlVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5hZGRPdmVybGF5KGNhckVuZ09yaWVudGF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJFbmdPcmllbnRhdGlvbkFycmF5Lm92ZXJsYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdwczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBlYWNoRGV2SW5mby5ncHNJbmZvLmxuZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogZWFjaERldkluZm8uZ3BzSW5mby5sYXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheTogY2FyRW5nT3JpZW50YXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBFbmVyZ3kuZ2V0RW5lcmd5TWF4VmFsdWUoZW5lcmd5QXJyYXkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYXJFbmdPcmllbnRhdGlvbkFycmF5LmlzU2hvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJFbmdPcmllbnRhdGlvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyog5Y+z6YOo6Z2i5p2/5pi+56S66IO96YeP5L+h5oGvKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZ1BhbmVsLnNob3dDYXJFbmcoZGV2Q29kZSwgZW5lcmd5QXJyYXksIGVhY2hEZXZJbmZvLnJlcG9ydFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyog6IO96YeP5rKh5pyJ5LiK5oql77yM6I635Y+W5LiK5LiA5qyh6IO96YeP5L+h5oGvICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZyA9IGVhY2hEZXZJbmZvLmxhc3RFbmdJbmZvLmVuZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVuZXJneUFyciA9IGVuZy5zcGxpdChcIi1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZXJneUFycmF5ID0gW2VuZXJneUFyclswXSwgZW5lcmd5QXJyWzFdLCBlbmVyZ3lBcnJbMl0sIGVuZXJneUFyclszXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIOe7mOWItui9pui9veiuvuWkhyovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyID0gbmV3IENhckRpdk92ZXJsYXlDb25zdHJ1Y3RvcihiYWlkdVBvaW50LCBlbmVyZ3lBcnJheSwgZGV2Q29kZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuYWRkT3ZlcmxheShjb3Zlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIGRldkNsYXNzID0gJ3NpbmdsZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVhY2hEZXZJbmZvLmVuZ0luZm8uaXNIaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyog6IO96YeP5pyJ5LiK5oqlKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5nID0gZWFjaERldkluZm8uZW5nSW5mby5lbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIOe7mOWItuWNleWFteiuvuWkhyovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyID0gbmV3IFNpbmdsZURpdk92ZXJsYXlDb25zdHJ1Y3RvcihiYWlkdVBvaW50LCBlbmcsIGRldkNvZGUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuYWRkT3ZlcmxheShjb3Zlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIOacieiDvemHj+aXtuaJjee7mOWItuiDvemHj+aMh+ekuiovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmcgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiDnvJPlrZjml7bpl7TovbTog73ph48qL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZyA+IGRldkRyYXdJbmZvTWFwLmdldChkZXZDb2RlKS5tYXhFbmcudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZEcmF3SW5mb01hcC5nZXQoZGV2Q29kZSkubWF4RW5nLnZhbHVlID0gZW5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldkRyYXdJbmZvTWFwLmdldChkZXZDb2RlKS5tYXhFbmcucG9zaXRpb24ubG5nID0gYmFpZHVQb2ludC5sbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZ2V0KGRldkNvZGUpLm1heEVuZy5wb3NpdGlvbi5sYXQgPSBiYWlkdVBvaW50LmxhdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZEcmF3SW5mb01hcC5nZXQoZGV2Q29kZSkubWF4RW5nLnBvc2l0aW9uLm5vcnRoQW5nbGUgPSBlYWNoRGV2SW5mby5ncHNJbmZvLm5vcnRoQW5nbGU7O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldkRyYXdJbmZvTWFwLmdldChkZXZDb2RlKS5tYXhFbmcuZGV0YWlsID0gZW5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyog57uY5Yi26IO96YeP5oyH56S6Ki9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzaW5nbGVFbmdPcmlSZWRyYXcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaW5nbGVFbmdPcmllbnRhdGlvbkFycmF5Lm92ZXJsYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiDljrvmjonph43lpI3vvIjlnKjlvZPliY3lnZDmoIfnmoQ157Gz6IyD5Zu05YaF77yM5Y+q5L+d55WZ5pyA5aSn5LiA5qyh55qE6IO96YeP5YC85oyH56S677yJKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdFNpbmdsZUVuZ09yaVBvaW50ID0gbmV3IEJNYXAuUG9pbnQoc2luZ2xlRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5W2ldLmdwcy5sbmcsIHNpbmdsZUVuZ09yaWVudGF0aW9uQXJyYXkub3ZlcmxheVtpXS5ncHMubGF0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudFNpbmdsZUVuZ09yaVBvaW50ID0gbmV3IEJNYXAuUG9pbnQoZWFjaERldkluZm8uZ3BzSW5mby5sbmcsIGVhY2hEZXZJbmZvLmdwc0luZm8ubGF0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFwLmdldERpc3RhbmNlKGxhc3RTaW5nbGVFbmdPcmlQb2ludCwgY3VycmVudFNpbmdsZUVuZ09yaVBvaW50KSA8PSA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZUVuZ09yaVJlZHJhdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2luZ2xlRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5W2ldLnZhbHVlIDwgZW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAucmVtb3ZlT3ZlcmxheShzaW5nbGVFbmdPcmllbnRhdGlvbkFycmF5Lm92ZXJsYXlbaV0ub3ZlcmxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVFbmdPcmllbnRhdGlvbkFycmF5Lm92ZXJsYXkuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlRW5nT3JpUmVkcmF3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaW5nbGVFbmdPcmlSZWRyYXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiDlnKjlnLDlm77kuIrnu5jliLbmjIfnpLoqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzaW5nbGVFbmdPcmllbnRhdGlvbiA9IG5ldyBTaW5nbGVFbmdPcmllbnRhdGlvbkNvbnN0cnVjdG9yKGJhaWR1UG9pbnQsIGVuZywgZWFjaERldkluZm8uZ3BzSW5mby5ub3J0aEFuZ2xlLCBkZXZDb2RlLCBlYWNoRGV2SW5mby5yZXBvcnRUaW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuYWRkT3ZlcmxheShzaW5nbGVFbmdPcmllbnRhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogZWFjaERldkluZm8uZ3BzSW5mby5sbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IGVhY2hEZXZJbmZvLmdwc0luZm8ubGF0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXk6IHNpbmdsZUVuZ09yaWVudGF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaW5nbGVFbmdPcmllbnRhdGlvbkFycmF5LmlzU2hvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVFbmdPcmllbnRhdGlvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyog5Y+z6YOo6Z2i5p2/5pi+56S66IO96YeP5L+h5oGvKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZ1BhbmVsLnNob3dTaW5nbGVFbmcoZGV2Q29kZSwgZW5nLCBlYWNoRGV2SW5mby5yZXBvcnRUaW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZyA9IGVhY2hEZXZJbmZvLmxhc3RFbmdJbmZvLmVuZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXIgPSBuZXcgU2luZ2xlRGl2T3ZlcmxheUNvbnN0cnVjdG9yKGJhaWR1UG9pbnQsIGVuZywgZGV2Q29kZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuYWRkT3ZlcmxheShjb3Zlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBkZXZDbGFzcyA9ICdzaW5nbGUnO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZyA9IGVhY2hEZXZJbmZvLmxhc3RFbmdJbmZvLmVuZztcclxuICAgICAgICAgICAgICAgICAgICBjb3ZlciA9IG5ldyBTaW5nbGVPdXRTaWRlT3ZlcmxheUNvbnN0cnVjdG9yKGJhaWR1UG9pbnQsIGVuZywgZGV2Q29kZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5hZGRPdmVybGF5KGNvdmVyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGRldkNsYXNzID0gJ251bGwnO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIOiOt+WPluiuvuWkh+eahOinkuW6puacneWQkSAqL1xyXG4gICAgICAgICAgICBsZXQgZGVnID0gZWFjaERldkluZm8uZ3BzSW5mby5ub3J0aEFuZ2xlIC0gOTA7XHJcbiAgICAgICAgICAgIC8qIOiuvue9ruiuvuWkh+inkuW6piAqL1xyXG4gICAgICAgICAgICAkKCcuJyArIGRldkNsYXNzICsgJy1pbWctJyArIGRldkNvZGUpLmNzcygndHJhbnNmb3JtJywgJ3JvdGF0ZSgnICsgZGVnICsgJ2RlZyknKTtcclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgJCgnLicgKyBkZXZDbGFzcyArICctcGhvdG8tJyArIGRldkNvZGUpLmNzcygndHJhbnNmb3JtJywgJ3JvdGF0ZSgnICsgKDAgLSBkZWcpICsgJ2RlZyknKTtcclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAgICAgLyog5LiK5LiA5qyh5Li65bel5L2c54q25oCB5LiN5Li6MOS4lOacrOasoeW3peS9nOeKtuaAgeS4ujEqL1xyXG4gICAgICAgICAgICBpZiAoc3RhdHVzICE9IDAgJiYgZWFjaERldkluZm8ubGFzdFN0YXR1cyA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAvKiDkuK3lv4PngrnlnZDmoIcqL1xyXG4gICAgICAgICAgICAgICAgbGV0IGNwR3BzID0gZGV2SW5mb01hcC5nZXQoY2VudGVyUG9pbnREZXZDb2RlKS5ncHNJbmZvO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNwR3BzQmQgPSBHUFNUb0JhaWR1UG9pbnQuZ2V0QmFpZHVQb2ludExvY2F0aW9uKFtcclxuICAgICAgICAgICAgICAgICAgICBbY3BHcHMubG5nLCBjcEdwcy5sYXRdXHJcbiAgICAgICAgICAgICAgICBdKVswXVxyXG4gICAgICAgICAgICAgICAgLyog5qC55o2u5Lit5b+D54K55Yik5pat5piv5ZCm57uY5Yi26Lev5b6E57q/Ki9cclxuICAgICAgICAgICAgICAgIGxldCBjYW5EcmF3TGluZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVhY2hEZXZJbmZvLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIOWmguaenOaYr+i9pui9veiuvuWkh++8jOebtOaOpee7mOWItui3r+W+hOe6vyovXHJcbiAgICAgICAgICAgICAgICAgICAgY2FuRHJhd0xpbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlYWNoRGV2SW5mby5kZXZUeXBlID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYgKGVhY2hEZXZJbmZvLmRldlR5cGUgPT0gMiB8fGVhY2hEZXZJbmZvLmRldlR5cGUgPT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgICAgICAvKiDlpoLmnpzmmK/ljZXlhbXorr7lpIfvvIzmoLnmja7kuK3lv4Pngrnnu5jliLbot6/lvoTnur8qL1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzZXRDYW5EcmF3TGluZSA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldkluZm9NYXAuZ2V0KGNlbnRlclBvaW50RGV2Q29kZSkuZGV2VHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiDljZXlhbXku6Xovabovb3kuLrkuK3lv4MqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcC5nZXREaXN0YW5jZShuZXcgQk1hcC5Qb2ludChjcEdwc0JkLmxuZywgY3BHcHNCZC5sYXQpLCBiYWlkdVBvaW50KSA+IHZhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkRyYXdMaW5lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRldkluZm9NYXAuZ2V0KGNlbnRlclBvaW50RGV2Q29kZSkuZGV2VHlwZSA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYgKGRldkluZm9NYXAuZ2V0KGNlbnRlclBvaW50RGV2Q29kZSkuZGV2VHlwZSA9PSAyfHxkZXZJbmZvTWFwLmdldChjZW50ZXJQb2ludERldkNvZGUpLmRldlR5cGUgPT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqZWRpdCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyog5Y2V5YW15Lul5Y2V5YW15Li65Lit5b+DKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXJQb2ludERldkNvZGUgIT0gZWFjaERldkluZm8uZGV2Q29kZSkgeyAvLyDoh6rlt7HkuI3mmK/kuK3lv4NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFwLmdldERpc3RhbmNlKG5ldyBCTWFwLlBvaW50KGNwR3BzQmQubG5nLCBjcEdwc0JkLmxhdCksIGJhaWR1UG9pbnQpID4gdmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkRyYXdMaW5lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyDoh6rlt7HmmK/kuK3lv4MgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuRHJhd0xpbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZWFjaERldkluZm8uZ3BzSW5mby5zZXBhcmF0ZUZsYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FuRHJhd0xpbmUoNTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkRyYXdMaW5lID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYW5EcmF3TGluZSgxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkRyYXdMaW5lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FuRHJhd0xpbmUoNTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyog54K56aOY5Yqo5aSn5LqONTDnsbPvvIzkuI3nu5jliLbvvJvnsr7luqblpKfkuo4xMO+8jOS4jee7mOWItiovXHJcbiAgICAgICAgICAgICAgICAvLyAmJiAoZWFjaERldkluZm8uZGV2VHlwZSA9PSAyICYmIGVhY2hEZXZJbmZvLmdwc0luZm8uYWNjdXJhY3kgPD0gMTApXHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGRpdmlkZSA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWFjaERldkluZm8uZGV2VHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGl2aWRlID0gNzA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdmlkZSA9IDM1O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IG1lcmdlTGluZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGluZUNvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXZEcmF3SW5mb01hcC5nZXQoZGV2Q29kZSkuaXNDb3JyZW50Vmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lQ29sb3IgPSAnIzAwODAzMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZUNvbG9yID0gZGV2RHJhd0luZm9NYXAuZ2V0KGRldkNvZGUpLnJvdXRlTGluZUNvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGludEFyclRlbXAgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGV2TGluZSA9IGxpbmVPdmVybGF5TWFwLmxpbmUuZ2V0KGRldkNvZGUpLmRhdGFDYWNoZTtcclxuICAgICAgICAgICAgICAgICAgICAvKiDlsIbnvJPlrZjkuK3nmoTlnZDmoIflkIjlubYqL1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGV2TGluZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGludEFyclRlbXAubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbnRBcnJUZW1wLnB1c2goZGV2TGluZVtpXVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW50QXJyVGVtcC5wdXNoKGRldkxpbmVbaV1bMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGludEFyclRlbXAucHVzaChkZXZMaW5lW2ldWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvKiDnp7vpmaTnur/mrrUqL1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZU92ZXJsYXlNYXAubGluZS5nZXQoZGV2Q29kZSkudGVtcExpbmUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkobGluZU92ZXJsYXlNYXAubGluZS5nZXQoZGV2Q29kZSkudGVtcExpbmVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvKiDph43mlrDnu5jliLbmlbTlkIjnmoTnur/mrrUqL1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtZXJnZWRMaW5lID0gbmV3IEJNYXAuUG9seWxpbmUobGludEFyclRlbXAsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6IGxpbmVDb2xvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2VpZ2h0OiA1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjNcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lT3ZlcmxheU1hcC5saW5lLmdldChkZXZDb2RlKS5saW5lLnB1c2gobWVyZ2VkTGluZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmFkZE92ZXJsYXkobWVyZ2VkTGluZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsaW5lT3ZlcmxheU1hcC5pc1Nob3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VkTGluZS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qIOasoeaVsOW9kumbtiovXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZU92ZXJsYXlDb3VudENhY2hlLnNldChkZXZDb2RlLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiDlr7nlupTnvJPlrZjmuIXnqboqL1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVPdmVybGF5TWFwLmxpbmUuZ2V0KGRldkNvZGUpLnRlbXBMaW5lID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZU92ZXJsYXlNYXAubGluZS5nZXQoZGV2Q29kZSkuZGF0YUNhY2hlID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobWFwLmdldERpc3RhbmNlKG5ldyBCTWFwLlBvaW50KGVhY2hEZXZJbmZvLmJhaWR1R3BzSW5mby5sbmcsIGVhY2hEZXZJbmZvLmJhaWR1R3BzSW5mby5sYXQpLCBuZXcgQk1hcC5Qb2ludChlYWNoRGV2SW5mby5sYXN0QmFpZHVHcHNJbmZvLmxuZywgZWFjaERldkluZm8ubGFzdEJhaWR1R3BzSW5mby5sYXQpKSA8PSBkaXZpZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiDovabovb3ot6/lvoTnur/lhajnu5jliLbvvIzljZXlhbXlj6rnu5jliLbkuIvovablkI7ot6/lvoQqL1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKGVhY2hEZXZJbmZvLmRldlR5cGUgPT0gMSB8fCBlYWNoRGV2SW5mby5kZXZUeXBlID09IDIgJiYgZWFjaERldkluZm8uc2VwYXJhdGVGbGFnID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuRHJhd0xpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyog57uY5Yi26K6+5aSH6Lev5b6E57q/Ki9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpbmVDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyog6Lev5b6E57q/6aKc6ImyKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldkRyYXdJbmZvTWFwLmdldChkZXZDb2RlKS5pc0NvcnJlbnRWaWV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lQ29sb3IgPSAnIzAwODAzMCc7IC8vIOW9k+WJjeinhuinkuS4uue7v+iJslxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUNvbG9yID0gZGV2RHJhd0luZm9NYXAuZ2V0KGRldkNvZGUpLnJvdXRlTGluZUNvbG9yOyAvLyDpnZ7lvZPliY3op4bop5LkuLrngbDoibJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiDosIPnlKhBUEnnu5jliLbnur/nmoTlj4LmlbAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGV2Um91dGVMaW5lID0gbmV3IEJNYXAuUG9seWxpbmUoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJNYXAuUG9pbnQoZWFjaERldkluZm8ubGFzdEJhaWR1R3BzSW5mby5sbmcsIGVhY2hEZXZJbmZvLmxhc3RCYWlkdUdwc0luZm8ubGF0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCTWFwLlBvaW50KGVhY2hEZXZJbmZvLmJhaWR1R3BzSW5mby5sbmcsIGVhY2hEZXZJbmZvLmJhaWR1R3BzSW5mby5sYXQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6IGxpbmVDb2xvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXZWlnaHQ6IDUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMC4zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyog55So5LqO5ZCI5bm255qE57q/5q6157yT5a2YKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZU92ZXJsYXlNYXAubGluZS5nZXQoZWFjaERldkluZm8uZGV2Q29kZSkudGVtcExpbmUucHVzaChkZXZSb3V0ZUxpbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiDnlKjkuo7lkIjlubbnmoTngrnmlbDmja7nvJPlrZgqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lT3ZlcmxheU1hcC5saW5lLmdldChlYWNoRGV2SW5mby5kZXZDb2RlKS5kYXRhQ2FjaGUucHVzaChbbmV3IEJNYXAuUG9pbnQoZWFjaERldkluZm8ubGFzdEJhaWR1R3BzSW5mby5sbmcsIGVhY2hEZXZJbmZvLmxhc3RCYWlkdUdwc0luZm8ubGF0KSwgbmV3IEJNYXAuUG9pbnQoZWFjaERldkluZm8uYmFpZHVHcHNJbmZvLmxuZywgZWFjaERldkluZm8uYmFpZHVHcHNJbmZvLmxhdCldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyog5bCG57q/5q615re75Yqg6Iez5Zyw5Zu+5a655ZmoKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLmFkZE92ZXJsYXkoZGV2Um91dGVMaW5lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyog5piv5ZCm5pi+56S66Lev5b6E57q/5Zu+5bGCKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsaW5lT3ZlcmxheU1hcC5pc1Nob3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldlJvdXRlTGluZS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLyog57uf6K6h5qyh5pWwKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVPdmVybGF5Q291bnRDYWNoZS5nZXQoZGV2Q29kZSkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZU92ZXJsYXlDb3VudENhY2hlLnNldChkZXZDb2RlLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdENvdW50ID0gbGluZU92ZXJsYXlDb3VudENhY2hlLmdldChkZXZDb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENvdW50ID0gbGFzdENvdW50ICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZU92ZXJsYXlDb3VudENhY2hlLnNldChkZXZDb2RlLCBsYXN0Q291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiDngrnmlbDph4/lpKfkuo41MOS4qui/m+ihjOWQiOW5tiovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0Q291bnQgPj0gNTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlTGluZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIOe7mOWItuS4u+WKqOW8j+i9qOi/uSovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkcmF3UGFzc2l2ZUxpbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFzc2l2ZUFjdGl2ZUxpbmUgPSBuZXcgQk1hcC5Qb2x5bGluZShbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJNYXAuUG9pbnQoZWFjaERldkluZm8ubGFzdEJhaWR1R3BzSW5mby5sbmcsIGVhY2hEZXZJbmZvLmxhc3RCYWlkdUdwc0luZm8ubGF0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQk1hcC5Qb2ludChlYWNoRGV2SW5mby5iYWlkdUdwc0luZm8ubG5nLCBlYWNoRGV2SW5mby5iYWlkdUdwc0luZm8ubGF0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICdyZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXZWlnaHQ6IDUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDAuNVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVBhc3NpdmUubGluZS5wdXNoKHBhc3NpdmVBY3RpdmVMaW5lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5hZGRPdmVybGF5KHBhc3NpdmVBY3RpdmVMaW5lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGluZVBhc3NpdmUuaXNTaG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2l2ZUFjdGl2ZUxpbmUuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlYWNoRGV2SW5mby5hY3RpdmVIaXQgPT0gMSAmJiBlYWNoRGV2SW5mby5sYXN0QWN0aXZlSGl0ID09IDEgfHwgZWFjaERldkluZm8uYWN0aXZlSGl0ICE9IDEgJiYgZWFjaERldkluZm8ubGFzdEFjdGl2ZUhpdCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWFjaERldkluZm8uZ3BzSW5mby5sbmcgIT0gZWFjaERldkluZm8ubGFzdEdwc0luZm8ubG5nICYmIGVhY2hEZXZJbmZvLmdwc0luZm8ubGF0ICE9IGVhY2hEZXZJbmZvLmxhc3RHcHNJbmZvLmxhdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdQYXNzaXZlTGluZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWFjaERldkluZm8uYWN0aXZlSGl0ID09IDEgJiYgZWFjaERldkluZm8ubGFzdEFjdGl2ZUhpdCAhPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdQYXNzaXZlTGluZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIOeCueaWreW8gO+8jOWQiOW5tui3r+W+hOe6vyovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlTGluZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyog54K55pat5byA77yM5ZCI5bm26Lev5b6E57q/Ki9cclxuICAgICAgICAgICAgICAgICAgICBtZXJnZUxpbmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIC8qIOebruagh+Wwj+WMuiovXHJcbiAgICAgICAgICAgICAgICBpZiAoZWFjaERldkluZm8uZGV2VHlwZSA9PSAxICYmIHRhcmdldENlbGxJbmZvc0NhY2hlLnNpemUgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRDZWxsTGluZUNhY2hlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkodGFyZ2V0Q2VsbExpbmVDYWNoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldENlbGxMaW5lQ2FjaGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0Q2VsbFBvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsbmdBbGwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXRBbGwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldENlbGxJbmZvc0NhY2hlLmZvckVhY2goKGVhY2hUYXJnZXRCdHMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG5nQWxsID0gbG5nQWxsICsgTnVtYmVyKGVhY2hUYXJnZXRCdHMubG5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0QWxsID0gbGF0QWxsICsgTnVtYmVyKGVhY2hUYXJnZXRCdHMubGF0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRDZWxsUG9pbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogbG5nQWxsIC8gdGFyZ2V0Q2VsbEluZm9zQ2FjaGUuc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBsYXRBbGwgLyB0YXJnZXRDZWxsSW5mb3NDYWNoZS5zaXplXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWFwLmdldERpc3RhbmNlKG5ldyBCTWFwLlBvaW50KGVhY2hEZXZJbmZvLmJhaWR1R3BzSW5mby5sbmcsIGVhY2hEZXZJbmZvLmJhaWR1R3BzSW5mby5sYXQpLCBuZXcgQk1hcC5Qb2ludCh0YXJnZXRDZWxsUG9pbnQubG5nLCB0YXJnZXRDZWxsUG9pbnQubGF0KSkgPiA1MDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldENlbGxMaW5lID0gbmV3IEJNYXAuUG9seWxpbmUoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJNYXAuUG9pbnQodGFyZ2V0Q2VsbFBvaW50LmxuZywgdGFyZ2V0Q2VsbFBvaW50LmxhdCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQk1hcC5Qb2ludChlYWNoRGV2SW5mby5iYWlkdUdwc0luZm8ubG5nLCBlYWNoRGV2SW5mby5iYWlkdUdwc0luZm8ubGF0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZUNvbG9yOiAncmVkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXZWlnaHQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldENlbGxMaW5lQ2FjaGUgPSB0YXJnZXRDZWxsTGluZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLmFkZE92ZXJsYXkodGFyZ2V0Q2VsbExpbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHRyeSB7XHJcbiAgICAgICAgICAgIC8vICAgICBpZiAoZGV2UHJlTG9ja0NlbGxMaW5lQ2FjaGUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIG1hcC5yZW1vdmVPdmVybGF5KGRldlByZUxvY2tDZWxsTGluZUNhY2hlKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICBkZXZQcmVMb2NrQ2VsbExpbmVDYWNoZSA9IG51bGw7XHJcbiAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICAvKiDpooTplIHln7rnq5kqL1xyXG4gICAgICAgICAgICAvLyAgICAgaWYgKGVhY2hEZXZJbmZvLmRldlR5cGUgPT0gMSAmJiBkZXZQcmVMb2NrQ2VsbEluZm9zQ2FjaGUuc2l6ZSAhPSAwKSB7XHJcblxyXG4gICAgICAgICAgICAvLyAgICAgICAgIGxldCBwcmVMb2NrQ2VsbFBvaW50O1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGxldCBsbmdBbGwgPSAwO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGxldCBsYXRBbGwgPSAwO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGRldlByZUxvY2tDZWxsSW5mb3NDYWNoZS5mb3JFYWNoKChlYWNoVGFyZ2V0QnRzKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGxuZ0FsbCA9IGxuZ0FsbCArIE51bWJlcihlYWNoVGFyZ2V0QnRzLmxuZyk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGxhdEFsbCA9IGxhdEFsbCArIE51bWJlcihlYWNoVGFyZ2V0QnRzLmxhdCk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgcHJlTG9ja0NlbGxQb2ludCA9IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgbG5nOiBsbmdBbGwgLyBkZXZQcmVMb2NrQ2VsbEluZm9zQ2FjaGUuc2l6ZSxcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgbGF0OiBsYXRBbGwgLyBkZXZQcmVMb2NrQ2VsbEluZm9zQ2FjaGUuc2l6ZVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgaWYgKG1hcC5nZXREaXN0YW5jZShuZXcgQk1hcC5Qb2ludChlYWNoRGV2SW5mby5iYWlkdUdwc0luZm8ubG5nLCBlYWNoRGV2SW5mby5iYWlkdUdwc0luZm8ubGF0KSwgbmV3IEJNYXAuUG9pbnQocHJlTG9ja0NlbGxQb2ludC5sbmcsIHByZUxvY2tDZWxsUG9pbnQubGF0KSkgPiA1MDApIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgbGV0IHByZUxvY2tDZWxsTGluZSA9IG5ldyBCTWFwLlBvbHlsaW5lKFtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIG5ldyBCTWFwLlBvaW50KHByZUxvY2tDZWxsUG9pbnQubG5nLCBwcmVMb2NrQ2VsbFBvaW50LmxhdCksXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBuZXcgQk1hcC5Qb2ludChlYWNoRGV2SW5mby5iYWlkdUdwc0luZm8ubG5nLCBlYWNoRGV2SW5mby5iYWlkdUdwc0luZm8ubGF0KSxcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXSwge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHN0cm9rZUNvbG9yOiAncmVkJyxcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBzdHJva2VXZWlnaHQ6IDEsXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMVxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGRldlByZUxvY2tDZWxsTGluZUNhY2hlID0gcHJlTG9ja0NlbGxMaW5lO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBtYXAuYWRkT3ZlcmxheShwcmVMb2NrQ2VsbExpbmUpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gfSBjYXRjaCAoZXJyb3IpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgIC8qIOS4u+WKqOW8j+WRveS4reiEsee9keagh+iusOimhueblueJqSovXHJcbiAgICAgICAgICAgIGxldCBpc0RyYXdQYXNzaXZlQWN0aXZlTWFya2VyT3ZlcmxheSA9IDA7XHJcbiAgICAgICAgICAgIGlmIChlYWNoRGV2SW5mby5hY3RpdmVIaXQgPT0gMSAmJiBlYWNoRGV2SW5mby5sYXN0QWN0aXZlSGl0ICE9IDEpIHtcclxuICAgICAgICAgICAgICAgIGlzRHJhd1Bhc3NpdmVBY3RpdmVNYXJrZXJPdmVybGF5ID0gMTsgLy8g5Li75Yqo5byP5ZG95LitXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWFjaERldkluZm8uYWN0aXZlSGl0ICE9IDEgJiYgZWFjaERldkluZm8ubGFzdEFjdGl2ZUhpdCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpc0RyYXdQYXNzaXZlQWN0aXZlTWFya2VyT3ZlcmxheSA9IDI7IC8vIOS4u+WKqOW8j+iEsee9kVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0RyYXdQYXNzaXZlQWN0aXZlTWFya2VyT3ZlcmxheSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXkgPSBuZXcgUGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXlDb25zdHJ1Y3RvcihiYWlkdVBvaW50LCBpc0RyYXdQYXNzaXZlQWN0aXZlTWFya2VyT3ZlcmxheSk7XHJcbiAgICAgICAgICAgICAgICBsaW5lUGFzc2l2ZS5vdmVybGF5LnB1c2gocGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXkpO1xyXG4gICAgICAgICAgICAgICAgbWFwLmFkZE92ZXJsYXkocGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFsaW5lUGFzc2l2ZS5pc1Nob3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXNzaXZlQWN0aXZlTWFya2VyT3ZlcmxheS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qIOWmguaenOW9k+WJjeinhuinkuiuvuWkh+i2heWHuuWPr+ingeiMg+WbtO+8jOmHjeiuvuWcsOWbvuS4reW/gyovXHJcbiAgICAgICAgICAgIGlmIChkZXZEcmF3SW5mb01hcC5nZXQoZWFjaERldkluZm8uZGV2Q29kZSkuaXNDb3JyZW50Vmlldykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJpZ2h0VG9wUG9zaXRpb24gPSBtYXAucG9pbnRUb092ZXJsYXlQaXhlbChtYXAuZ2V0Qm91bmRzKCkuZ2V0Tm9ydGhFYXN0KCkpOyAvLyDlj7PkuIrop5LlnZDmoIdcclxuICAgICAgICAgICAgICAgIGxldCBsZWZ0Qm90dG9tUG9zaXRpb24gPSBtYXAucG9pbnRUb092ZXJsYXlQaXhlbChtYXAuZ2V0Qm91bmRzKCkuZ2V0U291dGhXZXN0KCkpOyAvLyDlt6bkuIvop5LlnZDmoIdcclxuICAgICAgICAgICAgICAgIGxldCBkZXZQb3NpdGlvbiA9IG1hcC5wb2ludFRvT3ZlcmxheVBpeGVsKGJhaWR1UG9pbnQpOyAvLyDorr7lpIflnZDmoIdcclxuICAgICAgICAgICAgICAgIC8vIOiuvuWkh+WdkOagh+i3neemu+mhtumDqDEzMHB477yM6Led56a75bqV6YOoMTgwcHjvvIzot53nprvlt6bovrkxMDBweO+8jOi3neemu+WPs+i+uTI2MHB477yM5YiZ6YeN6K6+5Lit5b+D54K5XHJcbiAgICAgICAgICAgICAgICBpZiAoZGV2UG9zaXRpb24ueSAtIHJpZ2h0VG9wUG9zaXRpb24ueSA8IDEzMCB8fCBkZXZQb3NpdGlvbi55IC0gbGVmdEJvdHRvbVBvc2l0aW9uLnkgPiAtMTgwIHx8IGRldlBvc2l0aW9uLnggLSBsZWZ0Qm90dG9tUG9zaXRpb24ueCA8IDEwMCB8fCBkZXZQb3NpdGlvbi54IC0gcmlnaHRUb3BQb3NpdGlvbi54ID4gLTI2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXBGb2xsb3dGbGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5zZXRDZW50ZXIoYmFpZHVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyog5aaC5p6c5Li65b2T5YmN6KeG6KeS5LiU5Li66L2m6L2977yM5pi+56S66L2m6YCfKi9cclxuICAgICAgICAgICAgLyoqZGVsIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgaWYgKGRldkRyYXdJbmZvTWFwLmdldChlYWNoRGV2SW5mby5kZXZDb2RlKS5pc0NvcnJlbnRWaWV3ICYmIGVhY2hEZXZJbmZvLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgJCgnLmNhci1zcGVlZC12YWx1ZScpLmh0bWwoZWFjaERldkluZm8uZ3BzSW5mby5zcGVlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyoqZGVsIGJ5IGdhb2NoYW8gZW5kICovXHJcblxyXG4gICAgICAgICAgICAvKiDorr7nva7orr7lpIfor6bnu4bkv6Hmga/pnaLmnb/mmK/lkKblvIDlkK8gKi9cclxuICAgICAgICAgICAgaWYgKGVhY2hEZXZJbmZvLmlzSW5mb1BhbmVsT3Blbikge1xyXG4gICAgICAgICAgICAgICAgJCgnLmRldi1zZWxlY3Rlci1jaXJjbGUtJyArIGRldkNvZGUpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmRldi1pbmZvLXBhbmVsLScgKyBkZXZDb2RlKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJy5kZXYtc2VsZWN0ZXItY2lyY2xlLScgKyBkZXZDb2RlKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmRldi1pbmZvLXBhbmVsLScgKyBkZXZDb2RlKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKiDmiZPlvIAv5YWz6Zet6K+m57uG5L+h5oGv5qGGICovXHJcbiAgICAgICAgICAgICQoJy4nICsgZGV2Q2xhc3MgKyAnLWltZy0nICsgZGV2Q29kZSkuY2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFkZXZJbmZvTWFwLmdldChlYWNoRGV2SW5mby5kZXZDb2RlKS5pc0luZm9QYW5lbE9wZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuZGV2LXNlbGVjdGVyLWNpcmNsZS0nICsgZGV2Q29kZSkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmRldi1pbmZvLXBhbmVsLScgKyBkZXZDb2RlKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICAgICBkZXZJbmZvTWFwLmdldChlYWNoRGV2SW5mby5kZXZDb2RlKS5pc0luZm9QYW5lbE9wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuZGV2LXNlbGVjdGVyLWNpcmNsZS0nICsgZGV2Q29kZSkuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuZGV2LWluZm8tcGFuZWwtJyArIGRldkNvZGUpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2SW5mb01hcC5nZXQoZWFjaERldkluZm8uZGV2Q29kZSkuaXNJbmZvUGFuZWxPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkKCcuZGV2LWluZm8tcGFuZWwtY2xvc2UtJyArIGRldkNvZGUpLmNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICQoJy5kZXYtc2VsZWN0ZXItY2lyY2xlLScgKyBkZXZDb2RlKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmRldi1pbmZvLXBhbmVsLScgKyBkZXZDb2RlKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgZGV2SW5mb01hcC5nZXQoZWFjaERldkluZm8uZGV2Q29kZSkuaXNJbmZvUGFuZWxPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLyog6K6+5aSH57yW5Y+3aG92ZXIqL1xyXG4gICAgICAgICAgICAkKCcuJyArIGRldkNsYXNzICsgJy1pbWctJyArIGRldkNvZGUpLmhvdmVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQoJy5kZXYtdGVhbS1pbmZvLScgKyBkZXZDb2RlKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCgnLmRldi10ZWFtLWluZm8tJyArIGRldkNvZGUpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLyog5Yik5pat5bCP6L2m5piv5ZCm5q2j5Zyo5bel5L2cICovXHJcbiAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgJCgnLicgKyBkZXZDbGFzcyArICctaW1nLScgKyBkZXZDb2RlKS5jc3MoJ2ZpbHRlcicsICdncmF5c2NhbGUoMTAwJSknKTtcclxuICAgICAgICAgICAgICAgICQoJy5lbmVyZ3ktd29yZC0wLScgKyBkZXZDb2RlKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmVuZXJneS13b3JkLTEtJyArIGRldkNvZGUpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuZW5lcmd5LXdvcmQtMi0nICsgZGV2Q29kZSkuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgICQoJy5lbmVyZ3ktd29yZC0zLScgKyBkZXZDb2RlKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmRldi10ZWFtLWluZm8tJyArIGRldkNvZGUpLmNzcygndG9wJywgJzMwcHgnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiDliKTmlq3og73ph4/mmK/lkKblkb3kuK0qL1xyXG4gICAgICAgICAgICBpZiAoIWVhY2hEZXZJbmZvLmVuZ0luZm8uaXNIaXQpIHtcclxuICAgICAgICAgICAgICAgICQoJy5kZXYtdGVhbS1pbmZvLScgKyBkZXZDb2RlKS5jc3MoJ3RvcCcsICczMHB4Jyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qIOabtOaWsOS4iuS4gOasoeeahOiDvemHj+WAvCjmnInog73ph4/miY3mm7TmlrApKi9cclxuICAgICAgICAgICAgZGV2SW5mb01hcC5nZXQoZGV2Q29kZSkubGFzdEVuZ0luZm8gPSBlYWNoRGV2SW5mby5lbmdJbmZvO1xyXG4gICAgICAgICAgICAvKiDmm7TmlrDkuIrkuIDmrKHlt6XkvZznirbmgIEqL1xyXG4gICAgICAgICAgICBkZXZJbmZvTWFwLmdldChkZXZDb2RlKS5sYXN0U3RhdHVzID0gZWFjaERldkluZm8uc3RhdHVzO1xyXG4gICAgICAgICAgICAvKiDmm7TmlrDkuIrkuIDmrKHnmoRHUFPkv6Hmga8qL1xyXG4gICAgICAgICAgICBkZXZJbmZvTWFwLmdldChkZXZDb2RlKS5sYXN0R3BzSW5mbyA9IGVhY2hEZXZJbmZvLmdwc0luZm87XHJcbiAgICAgICAgICAgIC8qIOabtOaWsOS4iuS4gOasoeeahOeZvuW6pkdQU+S/oeaBryAqL1xyXG4gICAgICAgICAgICBkZXZJbmZvTWFwLmdldChkZXZDb2RlKS5sYXN0QmFpZHVHcHNJbmZvID0gZWFjaERldkluZm8uYmFpZHVHcHNJbmZvO1xyXG4gICAgICAgICAgICAvKiDmm7TmlrDkuIrkuIDmrKHkuLvliqjlvI/lkb3kuK3kv6Hmga8gKi9cclxuICAgICAgICAgICAgZGV2SW5mb01hcC5nZXQoZGV2Q29kZSkubGFzdEFjdGl2ZUhpdCA9IGVhY2hEZXZJbmZvLmFjdGl2ZUhpdDtcclxuXHJcbiAgICAgICAgICAgIC8qIOWcqG1hcOmbhuWQiOS4reS/neWtmOimhueblueJqeWPiuWbvuagh+WunuS+iyAqL1xyXG4gICAgICAgICAgICBsZXQgZGV2RGl2ID0gY2xhc3MgRGV2RGl2IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGV2Q292ZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGV2RGl2LmRldkNvdmVyID0gY292ZXI7XHJcbiAgICAgICAgICAgIGRldkRpdk1hcC5zZXQoZGV2Q29kZSwgZGV2RGl2KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9yZWFsVGltZUNvbWJhdC9vdmVybGF5L0RyYXdEZXZPdmVybGF5LmpzXG4vLyBtb2R1bGUgaWQgPSAxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_Init_BaiduMap_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__energy_Energy_js__ = __webpack_require__(1);\n\r\n\r\n\r\nclass SingleDivOverlayConstructor {\r\n\r\n    constructor(point, energy, devCode, isHit) {\r\n        return this.draw(point, energy, devCode, isHit);\r\n    }\r\n\r\n    /**\r\n     * 使用百度地图API官方写法，不做任何更改\r\n     */\r\n    draw(point, energy, devCode, isHit) {\r\n\r\n        /* 定义自定义覆盖物的构造函数 */\r\n        function singleDivOverlay(point, energy, devCode, isHit) {\r\n            this._point = point; // 设备坐标\r\n            this._energy = energy; // 设备能量信息\r\n            this._devCode = devCode; // 索引（鉴别号）\r\n            this._isHit = isHit; // 是否命中\r\n        }\r\n\r\n        /* 继承API的BMap.Overlay */\r\n        singleDivOverlay.prototype = new BMap.Overlay();\r\n\r\n        /* 实现初始化方法 */\r\n        singleDivOverlay.prototype.initialize = function (map) {\r\n            /* 保存map对象实例 */\r\n            this._map = map;\r\n            /* 创建div元素，作为自定义覆盖物的容器 */\r\n            var div = this._div = document.createElement('div');\r\n            div.className = 'each-device each-device-' + this._devCode;\r\n            div.style.position = 'absolute';\r\n            div.style.zIndex = 8000;\r\n            div.style.display = 'inline-block';\r\n            /* 自定义覆盖物div中的html代码 */\r\n            /**edti by gaochao start */\r\n            div.innerHTML = `\r\n                <!--设备选中框-->\r\n                <div class=\"dev-selecter-circle dev-selecter-circle-${this._devCode}\"></div>\r\n                <!--单兵图片-->\r\n                <div class=\"single-img single-img-${this._devCode}\">\r\n                    <img class=\"single-img-src-${this._devCode}\" src=\"img/single_${devDrawInfoMap.get(this._devCode).devImgIndex}.png\" style=\"width:46px;height:37px;position:absolute;left:4px;top:4px;\">\r\n                    <div class=\"single-photo single-photo-${this._devCode}\" style=\"width:22px;height:22px;left:11px;top:9px;${(devDrawInfoMap.get(this._devCode).headAddr == null || devDrawInfoMap.get(this._devCode).headAddr == \"\") ? \"\" : `background:url(${devDrawInfoMap.get(this._devCode).headAddr});background-size:cover`}\"></div>\r\n                </div>\r\n                <!--单兵组队信息-->\r\n                <div class=\"dev-team-info dev-team-info-${this._devCode}\" style=\"top:30px; z-index:9000;\">\r\n                    <span style=\"color: rgb(0, 255, 255)\">${this._devCode}</span>\r\n                </div>\r\n                <!--单兵信息面板-->\r\n                <div class=\"dev-info-panel dev-info-panel-${this._devCode}\">\r\n                    <div class=\"dev-info-panel-close dev-info-panel-close-${this._devCode}\">\r\n                        <span class=\"glyphicon iconfont icon-close\"></span>\r\n                    </div>\r\n                    <span class=\"car-name-value\">设备名称：${this._devCode}</span><br>\r\n                    <!--<span class=\"car-group-value\">所在组：</span><br>-->\r\n                    <!--<span class=\"car-leader-value\">负责人：</span><br>-->\r\n                    <!--<span class=\"car-phone-value\">手机号：</span><br>-->\r\n                    <!--<button class=\"myCosButton-inner show-energy-panel-button show-energy-panel-button-${this._devCode}\">查看能量历史信息</button>-->\r\n                    <div class=\"dev-info-panel-bot-decoration\"></div>\r\n                </div>\r\n                <!--单兵能量-->\r\n                <div id=\"energy-value-${this._devCode}\" style=\"display:${__WEBPACK_IMPORTED_MODULE_1__energy_Energy_js__[\"a\" /* Energy */].getEnergyDisplay(this._isHit)}\">\r\n                    <div class=\"energy-word-single energy-word-0-${this._devCode}\" style=\"left:-18px;top:-52px;background:` + __WEBPACK_IMPORTED_MODULE_1__energy_Energy_js__[\"a\" /* Energy */].getEnergyColor(this._energy, this._isHit) + `\">` + this._energy + `</div><!--前方-->\r\n                <div>\r\n            `;\r\n            /**edit by gaochao end */\r\n            /* 将div添加到覆盖物容器中 */\r\n            map.getPanes().labelPane.appendChild(div);\r\n            /* 保存div实例 */\r\n            this._div = div;\r\n            /* 需要将div元素作为方法的返回值 */\r\n            return div;\r\n        }\r\n\r\n        /* 绘制覆盖物,实现绘制方法 */\r\n        singleDivOverlay.prototype.draw = function () {\r\n            /* 根据地理坐标转换为像素坐标，并设置给容器 */\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n\r\n        return new singleDivOverlay(point, energy, devCode, isHit);\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = SingleDivOverlayConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9TaW5nbGVEaXZPdmVybGF5Q29uc3RydWN0b3IuanM/ZGZjZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQXlFO0FBQzVCOztBQUV0Qzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdDQUFnQztBQUNoQyxrQ0FBa0M7QUFDbEMsb0NBQW9DO0FBQ3BDLGdDQUFnQztBQUNoQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsY0FBYztBQUNwRjtBQUNBLG9EQUFvRCxjQUFjO0FBQ2xFLGlEQUFpRCxjQUFjLG9CQUFvQiw4Q0FBOEMsd0JBQXdCLFlBQVksa0JBQWtCLFNBQVMsUUFBUTtBQUN4TSw0REFBNEQsY0FBYyxvQkFBb0IsWUFBWSxVQUFVLFFBQVEsRUFBRSxrSUFBa0ksMkNBQTJDLEVBQUUsdUJBQXVCO0FBQ3BVO0FBQ0E7QUFDQSwwREFBMEQsY0FBYyxrQkFBa0IsY0FBYztBQUN4Ryw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0EsNERBQTRELGNBQWM7QUFDMUUsNEVBQTRFLGNBQWM7QUFDMUY7QUFDQTtBQUNBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLDZHQUE2RyxjQUFjO0FBQzNIO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxjQUFjLG1CQUFtQixpRUFBTSwrQkFBK0I7QUFDOUcsbUVBQW1FLGNBQWMsb0JBQW9CLFVBQVUsZUFBZSxpRUFBTTtBQUNwSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxDIiwiZmlsZSI6IjE2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFpZHVNYXBJbml0IH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2JhaWR1TWFwL0luaXQuQmFpZHVNYXAuanMnO1xyXG5pbXBvcnQgeyBFbmVyZ3kgfSBmcm9tICcuLi9lbmVyZ3kvRW5lcmd5LmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTaW5nbGVEaXZPdmVybGF5Q29uc3RydWN0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBvaW50LCBlbmVyZ3ksIGRldkNvZGUsIGlzSGl0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhdyhwb2ludCwgZW5lcmd5LCBkZXZDb2RlLCBpc0hpdCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkvb/nlKjnmb7luqblnLDlm75BUEnlrpjmlrnlhpnms5XvvIzkuI3lgZrku7vkvZXmm7TmlLlcclxuICAgICAqL1xyXG4gICAgZHJhdyhwb2ludCwgZW5lcmd5LCBkZXZDb2RlLCBpc0hpdCkge1xyXG5cclxuICAgICAgICAvKiDlrprkuYnoh6rlrprkuYnopobnm5bniannmoTmnoTpgKDlh73mlbAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzaW5nbGVEaXZPdmVybGF5KHBvaW50LCBlbmVyZ3ksIGRldkNvZGUsIGlzSGl0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvaW50ID0gcG9pbnQ7IC8vIOiuvuWkh+WdkOagh1xyXG4gICAgICAgICAgICB0aGlzLl9lbmVyZ3kgPSBlbmVyZ3k7IC8vIOiuvuWkh+iDvemHj+S/oeaBr1xyXG4gICAgICAgICAgICB0aGlzLl9kZXZDb2RlID0gZGV2Q29kZTsgLy8g57Si5byV77yI6Ym05Yir5Y+377yJXHJcbiAgICAgICAgICAgIHRoaXMuX2lzSGl0ID0gaXNIaXQ7IC8vIOaYr+WQpuWRveS4rVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyog57un5om/QVBJ55qEQk1hcC5PdmVybGF5ICovXHJcbiAgICAgICAgc2luZ2xlRGl2T3ZlcmxheS5wcm90b3R5cGUgPSBuZXcgQk1hcC5PdmVybGF5KCk7XHJcblxyXG4gICAgICAgIC8qIOWunueOsOWIneWni+WMluaWueazlSAqL1xyXG4gICAgICAgIHNpbmdsZURpdk92ZXJsYXkucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAobWFwKSB7XHJcbiAgICAgICAgICAgIC8qIOS/neWtmG1hcOWvueixoeWunuS+iyAqL1xyXG4gICAgICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XHJcbiAgICAgICAgICAgIC8qIOWIm+W7umRpduWFg+e0oO+8jOS9nOS4uuiHquWumuS5ieimhueblueJqeeahOWuueWZqCAqL1xyXG4gICAgICAgICAgICB2YXIgZGl2ID0gdGhpcy5fZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSAnZWFjaC1kZXZpY2UgZWFjaC1kZXZpY2UtJyArIHRoaXMuX2RldkNvZGU7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSA4MDAwO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG4gICAgICAgICAgICAvKiDoh6rlrprkuYnopobnm5bnialkaXbkuK3nmoRodG1s5Luj56CBICovXHJcbiAgICAgICAgICAgIC8qKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICAgICAgPCEtLeiuvuWkh+mAieS4reahhi0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldi1zZWxlY3Rlci1jaXJjbGUgZGV2LXNlbGVjdGVyLWNpcmNsZS0ke3RoaXMuX2RldkNvZGV9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8IS0t5Y2V5YW15Zu+54mHLS0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2luZ2xlLWltZyBzaW5nbGUtaW1nLSR7dGhpcy5fZGV2Q29kZX1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwic2luZ2xlLWltZy1zcmMtJHt0aGlzLl9kZXZDb2RlfVwiIHNyYz1cImltZy9zaW5nbGVfJHtkZXZEcmF3SW5mb01hcC5nZXQodGhpcy5fZGV2Q29kZSkuZGV2SW1nSW5kZXh9LnBuZ1wiIHN0eWxlPVwid2lkdGg6NDZweDtoZWlnaHQ6MzdweDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjRweDt0b3A6NHB4O1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaW5nbGUtcGhvdG8gc2luZ2xlLXBob3RvLSR7dGhpcy5fZGV2Q29kZX1cIiBzdHlsZT1cIndpZHRoOjIycHg7aGVpZ2h0OjIycHg7bGVmdDoxMXB4O3RvcDo5cHg7JHsoZGV2RHJhd0luZm9NYXAuZ2V0KHRoaXMuX2RldkNvZGUpLmhlYWRBZGRyID09IG51bGwgfHwgZGV2RHJhd0luZm9NYXAuZ2V0KHRoaXMuX2RldkNvZGUpLmhlYWRBZGRyID09IFwiXCIpID8gXCJcIiA6IGBiYWNrZ3JvdW5kOnVybCgke2RldkRyYXdJbmZvTWFwLmdldCh0aGlzLl9kZXZDb2RlKS5oZWFkQWRkcn0pO2JhY2tncm91bmQtc2l6ZTpjb3ZlcmB9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwhLS3ljZXlhbXnu4TpmJ/kv6Hmga8tLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXYtdGVhbS1pbmZvIGRldi10ZWFtLWluZm8tJHt0aGlzLl9kZXZDb2RlfVwiIHN0eWxlPVwidG9wOjMwcHg7IHotaW5kZXg6OTAwMDtcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiByZ2IoMCwgMjU1LCAyNTUpXCI+JHt0aGlzLl9kZXZDb2RlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPCEtLeWNleWFteS/oeaBr+mdouadvy0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldi1pbmZvLXBhbmVsIGRldi1pbmZvLXBhbmVsLSR7dGhpcy5fZGV2Q29kZX1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2LWluZm8tcGFuZWwtY2xvc2UgZGV2LWluZm8tcGFuZWwtY2xvc2UtJHt0aGlzLl9kZXZDb2RlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBpY29uZm9udCBpY29uLWNsb3NlXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2FyLW5hbWUtdmFsdWVcIj7orr7lpIflkI3np7DvvJoke3RoaXMuX2RldkNvZGV9PC9zcGFuPjxicj5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tPHNwYW4gY2xhc3M9XCJjYXItZ3JvdXAtdmFsdWVcIj7miYDlnKjnu4TvvJo8L3NwYW4+PGJyPi0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS08c3BhbiBjbGFzcz1cImNhci1sZWFkZXItdmFsdWVcIj7otJ/otKPkurrvvJo8L3NwYW4+PGJyPi0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS08c3BhbiBjbGFzcz1cImNhci1waG9uZS12YWx1ZVwiPuaJi+acuuWPt++8mjwvc3Bhbj48YnI+LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLTxidXR0b24gY2xhc3M9XCJteUNvc0J1dHRvbi1pbm5lciBzaG93LWVuZXJneS1wYW5lbC1idXR0b24gc2hvdy1lbmVyZ3ktcGFuZWwtYnV0dG9uLSR7dGhpcy5fZGV2Q29kZX1cIj7mn6XnnIvog73ph4/ljoblj7Lkv6Hmga88L2J1dHRvbj4tLT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2LWluZm8tcGFuZWwtYm90LWRlY29yYXRpb25cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPCEtLeWNleWFteiDvemHjy0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cImVuZXJneS12YWx1ZS0ke3RoaXMuX2RldkNvZGV9XCIgc3R5bGU9XCJkaXNwbGF5OiR7RW5lcmd5LmdldEVuZXJneURpc3BsYXkodGhpcy5faXNIaXQpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbmVyZ3ktd29yZC1zaW5nbGUgZW5lcmd5LXdvcmQtMC0ke3RoaXMuX2RldkNvZGV9XCIgc3R5bGU9XCJsZWZ0Oi0xOHB4O3RvcDotNTJweDtiYWNrZ3JvdW5kOmAgKyBFbmVyZ3kuZ2V0RW5lcmd5Q29sb3IodGhpcy5fZW5lcmd5LCB0aGlzLl9pc0hpdCkgKyBgXCI+YCArIHRoaXMuX2VuZXJneSArIGA8L2Rpdj48IS0t5YmN5pa5LS0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgIC8qIOWwhmRpdua3u+WKoOWIsOimhueblueJqeWuueWZqOS4rSAqL1xyXG4gICAgICAgICAgICBtYXAuZ2V0UGFuZXMoKS5sYWJlbFBhbmUuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICAgICAgLyog5L+d5a2YZGl25a6e5L6LICovXHJcbiAgICAgICAgICAgIHRoaXMuX2RpdiA9IGRpdjtcclxuICAgICAgICAgICAgLyog6ZyA6KaB5bCGZGl25YWD57Sg5L2c5Li65pa55rOV55qE6L+U5Zue5YC8ICovXHJcbiAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiDnu5jliLbopobnm5bniaks5a6e546w57uY5Yi25pa55rOVICovXHJcbiAgICAgICAgc2luZ2xlRGl2T3ZlcmxheS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLyog5qC55o2u5Zyw55CG5Z2Q5qCH6L2s5o2i5Li65YOP57Sg5Z2Q5qCH77yM5bm26K6+572u57uZ5a655ZmoICovXHJcbiAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IHRoaXMuX21hcC5wb2ludFRvT3ZlcmxheVBpeGVsKHRoaXMuX3BvaW50KTtcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLmxlZnQgPSBwb3NpdGlvbi54ICsgJ3B4JztcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLnRvcCA9IHBvc2l0aW9uLnkgKyAncHgnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBzaW5nbGVEaXZPdmVybGF5KHBvaW50LCBlbmVyZ3ksIGRldkNvZGUsIGlzSGl0KTtcclxuXHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9TaW5nbGVEaXZPdmVybGF5Q29uc3RydWN0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__ = __webpack_require__(1);\n\r\n\r\nclass CarEngOrientationConstructor {\r\n\r\n    constructor(point, energy, northAng, devCode, reportTime) {\r\n        return this.draw(point, energy, northAng, devCode, reportTime);\r\n    }\r\n\r\n    draw(point, energy, northAng, devCode, reportTime) {\r\n        function outputMaxPrice(array) {\r\n        \tlet item1 = Math.max.apply(Math, array);\r\n        \tlet item2 = Math.min.apply(Math, array);\r\n        \treturn item1 - item2;\r\n        }\r\n        function carEngOrientationOverlay(point, energy, northAng, devCode, reportTime) {\r\n            this._point = point;\r\n            this._energy = energy;\r\n            this._northAng = northAng;\r\n            this._devCode = devCode;\r\n            this._reportTime = reportTime;\r\n        }\r\n        carEngOrientationOverlay.prototype = new BMap.Overlay();\r\n        carEngOrientationOverlay.prototype.initialize = function (map) {\r\n            this._map = map;\r\n            let div = document.createElement('div');\r\n            div.style.position = 'absolute';\r\n            /* 能量指示图片*/\r\n            let engImgHtml = '';\r\n            /*edit by guo shuai start 2019/3/19*/\r\n            if (this._energy[0] <= 10) {\r\n                engImgHtml = `\r\n                    <img src=\"img/car-eng-1.png\" class=\"energy-arrow-value-0 energy-arrow-hover\">\r\n                `;\r\n            } else {\r\n                /**edti by gaochao start */\r\n                if(outputMaxPrice(this._energy) <= 10){\r\n                    engImgHtml = `\r\n                        <img src=\"img/${__WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__[\"a\" /* Energy */].getEnergyBlockImg(this._energy)}\" class=\"energy-arrow-value-0 energy-arrow-hover\">\r\n                    `;\r\n                }\r\n                else{\r\n                    let engDeg = __WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__[\"a\" /* Energy */].getEnergyOrientation(this._energy, this._northAng);\r\n                    engImgHtml = `\r\n                        <img src=\"img/${__WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__[\"a\" /* Energy */].getEnergyImg(this._energy)}\" class=\"energy-arrow energy-arrow-hover\" style=\"transform:rotate(${engDeg}deg)\">\r\n                    `;\r\n                }\r\n            }\r\n            /**edit by gaochao end */\r\n            /*edit by guo shuai end 2019/3/19*/\r\n            $(div).append(engImgHtml);\r\n            /* 鼠标悬浮显示能量hover*/\r\n            let engDetailsDivHtml = '';\r\n            /*edit by guo shuai start 2019/3/19*/\r\n            if (this._energy[0] <= 10) {\r\n                engDetailsDivHtml = `\r\n                    <div style=\"display:none; position:absolute; z-index:9000\">\r\n                        <div class=\"single-energy-details\">1</div>\r\n                    </div>\r\n                `;\r\n            /*edit by guo shuai end 2019/3/19*/\r\n            } else {\r\n                let energyDiv = '';\r\n                let maxEngVal = this._energy[0]; // 设定一个默认初始值\r\n                let maxEngIndex = 0;\r\n                /* 获取最大值*/\r\n                for (let i = 0; i < 4; i++) {\r\n                    if (maxEngVal < this._energy[i]) {\r\n                        maxEngVal = this._energy[i];\r\n                        maxEngIndex = i;\r\n                    }\r\n                }\r\n                /* 最大值可能有多个，存储数组索引*/\r\n                let maxEngArr = [];\r\n                for (let i = 0; i < 4; i++) {\r\n                    if (maxEngVal == this._energy[i]) {\r\n                        maxEngArr.push(i);\r\n                    }\r\n                }\r\n                for (let i = 0; i < 4; i++) {\r\n                    let textColor;\r\n                    let rightInfoPanelColor = ' style=\"color: #555\"';\r\n                    for (let j = 0; j < maxEngArr.length; j++) {\r\n                        if (i == maxEngArr[j]) {\r\n                            textColor = 'color:rgb(0, 255, 0)';\r\n                            rightInfoPanelColor = ' style=\"color: #ff0000\"';\r\n                            break;\r\n                        }\r\n                    }\r\n                    energyDiv = energyDiv + `\r\n                        <div class=\"energy-word energy-word-${i}\" style=\"background:rgba(60, 60, 60, 0.5);${textColor}\"><div class=\"energy-value\" style=\"transform:rotate(-${this._northAng}deg)\">${this._energy[i]}</div></div><!--前方-->\r\n                    `;\r\n                }\r\n                engDetailsDivHtml = `\r\n                    <div style=\"display:none; position:absolute; z-index:9999\">\r\n                        <div class=\"energy-value-container\" style=\"transform:rotate(${this._northAng}deg);\">\r\n                            ${energyDiv}\r\n                        </div>\r\n                    </div>\r\n                `;\r\n            }\r\n            $(div).append(engDetailsDivHtml);\r\n            /* END*/\r\n            map.getPanes().labelPane.appendChild(div);\r\n            this._div = div;\r\n            return div;\r\n        }\r\n        carEngOrientationOverlay.prototype.draw = function () {\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n\r\n        return new carEngOrientationOverlay(point, energy, northAng, devCode, reportTime);\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = CarEngOrientationConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9DYXJFbmdPcmllbnRhdGlvbkNvbnN0cnVjdG9yLmpzP2JhMDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBNkM7O0FBRXRDOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsaUVBQU0saUNBQWlDO0FBQy9FO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxpRUFBTTtBQUN2QztBQUNBLHdDQUF3QyxpRUFBTSw0QkFBNEIsb0VBQW9FLE9BQU87QUFDcko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxtQkFBbUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBLCtCQUErQixPQUFPO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLE9BQU87QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsT0FBTztBQUN0QztBQUNBO0FBQ0EsbUNBQW1DLHNCQUFzQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxFQUFFLDBDQUEwQyxFQUFFLFVBQVUsdURBQXVELGVBQWUsUUFBUSxnQkFBZ0I7QUFDcE47QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLG1CQUFtQjtBQUNoRSxzRkFBc0YsZUFBZSxLQUFLO0FBQzFHLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsQyIsImZpbGUiOiIxNy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVuZXJneSB9IGZyb20gJy4uL2VuZXJneS9FbmVyZ3kuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhckVuZ09yaWVudGF0aW9uQ29uc3RydWN0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBvaW50LCBlbmVyZ3ksIG5vcnRoQW5nLCBkZXZDb2RlLCByZXBvcnRUaW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhdyhwb2ludCwgZW5lcmd5LCBub3J0aEFuZywgZGV2Q29kZSwgcmVwb3J0VGltZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhwb2ludCwgZW5lcmd5LCBub3J0aEFuZywgZGV2Q29kZSwgcmVwb3J0VGltZSkge1xyXG4gICAgICAgIGZ1bmN0aW9uIG91dHB1dE1heFByaWNlKGFycmF5KSB7XHJcbiAgICAgICAgXHRsZXQgaXRlbTEgPSBNYXRoLm1heC5hcHBseShNYXRoLCBhcnJheSk7XHJcbiAgICAgICAgXHRsZXQgaXRlbTIgPSBNYXRoLm1pbi5hcHBseShNYXRoLCBhcnJheSk7XHJcbiAgICAgICAgXHRyZXR1cm4gaXRlbTEgLSBpdGVtMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY2FyRW5nT3JpZW50YXRpb25PdmVybGF5KHBvaW50LCBlbmVyZ3ksIG5vcnRoQW5nLCBkZXZDb2RlLCByZXBvcnRUaW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvaW50ID0gcG9pbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2VuZXJneSA9IGVuZXJneTtcclxuICAgICAgICAgICAgdGhpcy5fbm9ydGhBbmcgPSBub3J0aEFuZztcclxuICAgICAgICAgICAgdGhpcy5fZGV2Q29kZSA9IGRldkNvZGU7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlcG9ydFRpbWUgPSByZXBvcnRUaW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXJFbmdPcmllbnRhdGlvbk92ZXJsYXkucHJvdG90eXBlID0gbmV3IEJNYXAuT3ZlcmxheSgpO1xyXG4gICAgICAgIGNhckVuZ09yaWVudGF0aW9uT3ZlcmxheS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChtYXApIHtcclxuICAgICAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xyXG4gICAgICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgICAgIC8qIOiDvemHj+aMh+ekuuWbvueJhyovXHJcbiAgICAgICAgICAgIGxldCBlbmdJbWdIdG1sID0gJyc7XHJcbiAgICAgICAgICAgIC8qZWRpdCBieSBndW8gc2h1YWkgc3RhcnQgMjAxOS8zLzE5Ki9cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuZXJneVswXSA8PSAxMCkge1xyXG4gICAgICAgICAgICAgICAgZW5nSW1nSHRtbCA9IGBcclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImltZy9jYXItZW5nLTEucG5nXCIgY2xhc3M9XCJlbmVyZ3ktYXJyb3ctdmFsdWUtMCBlbmVyZ3ktYXJyb3ctaG92ZXJcIj5cclxuICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvKiplZHRpIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgIGlmKG91dHB1dE1heFByaWNlKHRoaXMuX2VuZXJneSkgPD0gMTApe1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZ0ltZ0h0bWwgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiaW1nLyR7RW5lcmd5LmdldEVuZXJneUJsb2NrSW1nKHRoaXMuX2VuZXJneSl9XCIgY2xhc3M9XCJlbmVyZ3ktYXJyb3ctdmFsdWUtMCBlbmVyZ3ktYXJyb3ctaG92ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZW5nRGVnID0gRW5lcmd5LmdldEVuZXJneU9yaWVudGF0aW9uKHRoaXMuX2VuZXJneSwgdGhpcy5fbm9ydGhBbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZ0ltZ0h0bWwgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiaW1nLyR7RW5lcmd5LmdldEVuZXJneUltZyh0aGlzLl9lbmVyZ3kpfVwiIGNsYXNzPVwiZW5lcmd5LWFycm93IGVuZXJneS1hcnJvdy1ob3ZlclwiIHN0eWxlPVwidHJhbnNmb3JtOnJvdGF0ZSgke2VuZ0RlZ31kZWcpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgIC8qZWRpdCBieSBndW8gc2h1YWkgZW5kIDIwMTkvMy8xOSovXHJcbiAgICAgICAgICAgICQoZGl2KS5hcHBlbmQoZW5nSW1nSHRtbCk7XHJcbiAgICAgICAgICAgIC8qIOm8oOagh+aCrOa1ruaYvuekuuiDvemHj2hvdmVyKi9cclxuICAgICAgICAgICAgbGV0IGVuZ0RldGFpbHNEaXZIdG1sID0gJyc7XHJcbiAgICAgICAgICAgIC8qZWRpdCBieSBndW8gc2h1YWkgc3RhcnQgMjAxOS8zLzE5Ki9cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuZXJneVswXSA8PSAxMCkge1xyXG4gICAgICAgICAgICAgICAgZW5nRGV0YWlsc0Rpdkh0bWwgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6bm9uZTsgcG9zaXRpb246YWJzb2x1dGU7IHotaW5kZXg6OTAwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2luZ2xlLWVuZXJneS1kZXRhaWxzXCI+MTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgLyplZGl0IGJ5IGd1byBzaHVhaSBlbmQgMjAxOS8zLzE5Ki9cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBlbmVyZ3lEaXYgPSAnJztcclxuICAgICAgICAgICAgICAgIGxldCBtYXhFbmdWYWwgPSB0aGlzLl9lbmVyZ3lbMF07IC8vIOiuvuWumuS4gOS4qum7mOiupOWIneWni+WAvFxyXG4gICAgICAgICAgICAgICAgbGV0IG1heEVuZ0luZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIC8qIOiOt+WPluacgOWkp+WAvCovXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXhFbmdWYWwgPCB0aGlzLl9lbmVyZ3lbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4RW5nVmFsID0gdGhpcy5fZW5lcmd5W2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhFbmdJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyog5pyA5aSn5YC85Y+v6IO95pyJ5aSa5Liq77yM5a2Y5YKo5pWw57uE57Si5byVKi9cclxuICAgICAgICAgICAgICAgIGxldCBtYXhFbmdBcnIgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heEVuZ1ZhbCA9PSB0aGlzLl9lbmVyZ3lbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4RW5nQXJyLnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByaWdodEluZm9QYW5lbENvbG9yID0gJyBzdHlsZT1cImNvbG9yOiAjNTU1XCInO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbWF4RW5nQXJyLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09IG1heEVuZ0FycltqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yID0gJ2NvbG9yOnJnYigwLCAyNTUsIDApJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0SW5mb1BhbmVsQ29sb3IgPSAnIHN0eWxlPVwiY29sb3I6ICNmZjAwMDBcIic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbmVyZ3lEaXYgPSBlbmVyZ3lEaXYgKyBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbmVyZ3ktd29yZCBlbmVyZ3ktd29yZC0ke2l9XCIgc3R5bGU9XCJiYWNrZ3JvdW5kOnJnYmEoNjAsIDYwLCA2MCwgMC41KTske3RleHRDb2xvcn1cIj48ZGl2IGNsYXNzPVwiZW5lcmd5LXZhbHVlXCIgc3R5bGU9XCJ0cmFuc2Zvcm06cm90YXRlKC0ke3RoaXMuX25vcnRoQW5nfWRlZylcIj4ke3RoaXMuX2VuZXJneVtpXX08L2Rpdj48L2Rpdj48IS0t5YmN5pa5LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVuZ0RldGFpbHNEaXZIdG1sID0gYFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5Om5vbmU7IHBvc2l0aW9uOmFic29sdXRlOyB6LWluZGV4Ojk5OTlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVuZXJneS12YWx1ZS1jb250YWluZXJcIiBzdHlsZT1cInRyYW5zZm9ybTpyb3RhdGUoJHt0aGlzLl9ub3J0aEFuZ31kZWcpO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtlbmVyZ3lEaXZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkKGRpdikuYXBwZW5kKGVuZ0RldGFpbHNEaXZIdG1sKTtcclxuICAgICAgICAgICAgLyogRU5EKi9cclxuICAgICAgICAgICAgbWFwLmdldFBhbmVzKCkubGFiZWxQYW5lLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpdiA9IGRpdjtcclxuICAgICAgICAgICAgcmV0dXJuIGRpdjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FyRW5nT3JpZW50YXRpb25PdmVybGF5LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgcG9zaXRpb24gPSB0aGlzLl9tYXAucG9pbnRUb092ZXJsYXlQaXhlbCh0aGlzLl9wb2ludCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpdi5zdHlsZS5sZWZ0ID0gcG9zaXRpb24ueCArICdweCc7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpdi5zdHlsZS50b3AgPSBwb3NpdGlvbi55ICsgJ3B4JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgY2FyRW5nT3JpZW50YXRpb25PdmVybGF5KHBvaW50LCBlbmVyZ3ksIG5vcnRoQW5nLCBkZXZDb2RlLCByZXBvcnRUaW1lKTtcclxuXHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9DYXJFbmdPcmllbnRhdGlvbkNvbnN0cnVjdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_Init_BaiduMap_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sound_EnergySound_js__ = __webpack_require__(6);\n\r\n\r\n\r\nclass SingleEngOrientationConstructor {\r\n\r\n    constructor(point, energy, northAng, devCode, reportTime) {\r\n        return this.draw(point, energy, northAng, devCode, reportTime);\r\n    }\r\n\r\n    draw(point, energy, northAng, devCode, reportTime) {\r\n\r\n        function singleEngOrientationOverlay(point, energy, northAng, devCode, reportTime) {\r\n            this._point = point;\r\n            this._energy = Number(energy);\r\n            this._northAng = Number(northAng);\r\n            this._devCode = devCode;\r\n            this._reportTime = reportTime;\r\n        }\r\n        singleEngOrientationOverlay.prototype = new BMap.Overlay();\r\n        singleEngOrientationOverlay.prototype.initialize = function (map) {\r\n            this._map = map;\r\n            let div = this._div = document.createElement('div');\r\n            div.style.position = 'absolute';\r\n            /* 能量指示图片*/\r\n            let engImg = document.createElement('img');\r\n            engImg.className = 'energy-orientation-single energy-arrow-hover';\r\n            engImg.src = 'img/singleEng0.png';\r\n            engImg.style.opacity = this._energy / 255;\r\n            div.appendChild(engImg);\r\n            /* 鼠标悬浮显示能量hover*/\r\n            let engDetailsDiv = document.createElement('div');\r\n            engDetailsDiv.style.display = 'none';\r\n            engDetailsDiv.style.position = 'absolute';\r\n            engDetailsDiv.style.zIndex = 9000;\r\n            engDetailsDiv.innerHTML = `<div class=\"single-energy-details\">${this._energy}</div>`;\r\n            div.appendChild(engDetailsDiv);\r\n            /* END*/\r\n            map.getPanes().labelPane.appendChild(div);\r\n            this._div = div;\r\n            return div;\r\n        }\r\n        singleEngOrientationOverlay.prototype.draw = function () {\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n\r\n        return new singleEngOrientationOverlay(point, energy, northAng, devCode, reportTime);\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = SingleEngOrientationConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9TaW5nbGVFbmdPcmllbnRhdGlvbkNvbnN0cnVjdG9yLmpzP2U2MjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUF5RTtBQUNuQjs7QUFFL0M7O0FBRVA7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsYUFBYTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLEMiLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYWlkdU1hcEluaXQgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vYmFpZHVNYXAvSW5pdC5CYWlkdU1hcC5qcyc7XHJcbmltcG9ydCB7IEVuZXJneVNvdW5kIH0gZnJvbSAnLi4vc291bmQvRW5lcmd5U291bmQuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNpbmdsZUVuZ09yaWVudGF0aW9uQ29uc3RydWN0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBvaW50LCBlbmVyZ3ksIG5vcnRoQW5nLCBkZXZDb2RlLCByZXBvcnRUaW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhdyhwb2ludCwgZW5lcmd5LCBub3J0aEFuZywgZGV2Q29kZSwgcmVwb3J0VGltZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhwb2ludCwgZW5lcmd5LCBub3J0aEFuZywgZGV2Q29kZSwgcmVwb3J0VGltZSkge1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzaW5nbGVFbmdPcmllbnRhdGlvbk92ZXJsYXkocG9pbnQsIGVuZXJneSwgbm9ydGhBbmcsIGRldkNvZGUsIHJlcG9ydFRpbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcG9pbnQgPSBwb2ludDtcclxuICAgICAgICAgICAgdGhpcy5fZW5lcmd5ID0gTnVtYmVyKGVuZXJneSk7XHJcbiAgICAgICAgICAgIHRoaXMuX25vcnRoQW5nID0gTnVtYmVyKG5vcnRoQW5nKTtcclxuICAgICAgICAgICAgdGhpcy5fZGV2Q29kZSA9IGRldkNvZGU7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlcG9ydFRpbWUgPSByZXBvcnRUaW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzaW5nbGVFbmdPcmllbnRhdGlvbk92ZXJsYXkucHJvdG90eXBlID0gbmV3IEJNYXAuT3ZlcmxheSgpO1xyXG4gICAgICAgIHNpbmdsZUVuZ09yaWVudGF0aW9uT3ZlcmxheS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChtYXApIHtcclxuICAgICAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xyXG4gICAgICAgICAgICBsZXQgZGl2ID0gdGhpcy5fZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgICAgIC8qIOiDvemHj+aMh+ekuuWbvueJhyovXHJcbiAgICAgICAgICAgIGxldCBlbmdJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICAgICAgZW5nSW1nLmNsYXNzTmFtZSA9ICdlbmVyZ3ktb3JpZW50YXRpb24tc2luZ2xlIGVuZXJneS1hcnJvdy1ob3Zlcic7XHJcbiAgICAgICAgICAgIGVuZ0ltZy5zcmMgPSAnaW1nL3NpbmdsZUVuZzAucG5nJztcclxuICAgICAgICAgICAgZW5nSW1nLnN0eWxlLm9wYWNpdHkgPSB0aGlzLl9lbmVyZ3kgLyAyNTU7XHJcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChlbmdJbWcpO1xyXG4gICAgICAgICAgICAvKiDpvKDmoIfmgqzmta7mmL7npLrog73ph49ob3ZlciovXHJcbiAgICAgICAgICAgIGxldCBlbmdEZXRhaWxzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGVuZ0RldGFpbHNEaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgZW5nRGV0YWlsc0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgICAgIGVuZ0RldGFpbHNEaXYuc3R5bGUuekluZGV4ID0gOTAwMDtcclxuICAgICAgICAgICAgZW5nRGV0YWlsc0Rpdi5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cInNpbmdsZS1lbmVyZ3ktZGV0YWlsc1wiPiR7dGhpcy5fZW5lcmd5fTwvZGl2PmA7XHJcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChlbmdEZXRhaWxzRGl2KTtcclxuICAgICAgICAgICAgLyogRU5EKi9cclxuICAgICAgICAgICAgbWFwLmdldFBhbmVzKCkubGFiZWxQYW5lLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpdiA9IGRpdjtcclxuICAgICAgICAgICAgcmV0dXJuIGRpdjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2luZ2xlRW5nT3JpZW50YXRpb25PdmVybGF5LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgcG9zaXRpb24gPSB0aGlzLl9tYXAucG9pbnRUb092ZXJsYXlQaXhlbCh0aGlzLl9wb2ludCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpdi5zdHlsZS5sZWZ0ID0gcG9zaXRpb24ueCArICdweCc7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpdi5zdHlsZS50b3AgPSBwb3NpdGlvbi55ICsgJ3B4JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgc2luZ2xlRW5nT3JpZW50YXRpb25PdmVybGF5KHBvaW50LCBlbmVyZ3ksIG5vcnRoQW5nLCBkZXZDb2RlLCByZXBvcnRUaW1lKTtcclxuXHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9TaW5nbGVFbmdPcmllbnRhdGlvbkNvbnN0cnVjdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class PassiveActiveMarkerOverlayConstructor {\r\n\r\n    constructor(point, flag) {\r\n        return this.draw(point, flag);\r\n    }\r\n\r\n    /**\r\n     * 使用百度地图API官方写法，不做任何更改\r\n     */\r\n    draw(point, flag) {\r\n\r\n        /* 定义自定义覆盖物的构造函数 */\r\n        function passiveActiveMarkerOverlay(point, flag) {\r\n            this._point = point; // 坐标\r\n            this._flag = flag; // 标记\r\n        }\r\n\r\n        /* 继承API的BMap.Overlay */\r\n        passiveActiveMarkerOverlay.prototype = new BMap.Overlay();\r\n\r\n        /* 实现初始化方法 */\r\n        passiveActiveMarkerOverlay.prototype.initialize = function(map) {\r\n            /* 保存map对象实例 */\r\n            this._map = map;\r\n            /* 创建div元素，作为自定义覆盖物的容器 */\r\n            var div = this._div = document.createElement('div');\r\n            div.style.position = 'absolute';\r\n            /* 自定义覆盖物div中的html代码 */\r\n            div.innerHTML = `\r\n                <img class=\"passive-active-marker\" src=\"img/passive-active-marker-${this._flag}.png\">\r\n            `;\r\n            /* 将div添加到覆盖物容器中 */\r\n            map.getPanes().labelPane.appendChild(div);\r\n            /* 保存div实例 */\r\n            this._div = div;\r\n            /* 需要将div元素作为方法的返回值 */\r\n            return div;\r\n        }\r\n\r\n        /* 绘制覆盖物,实现绘制方法 */\r\n        passiveActiveMarkerOverlay.prototype.draw = function() {\r\n            /* 根据地理坐标转换为像素坐标，并设置给容器 */\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n\r\n        return new passiveActiveMarkerOverlay(point, flag);\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = PassiveActiveMarkerOverlayConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9QYXNzaXZlQWN0aXZlTWFya2VyT3ZlcmxheUNvbnN0cnVjdG9yLmpzP2E3NzgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEMsOEJBQThCO0FBQzlCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLFdBQVc7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxDIiwiZmlsZSI6IjE5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFBhc3NpdmVBY3RpdmVNYXJrZXJPdmVybGF5Q29uc3RydWN0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBvaW50LCBmbGFnKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhdyhwb2ludCwgZmxhZyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkvb/nlKjnmb7luqblnLDlm75BUEnlrpjmlrnlhpnms5XvvIzkuI3lgZrku7vkvZXmm7TmlLlcclxuICAgICAqL1xyXG4gICAgZHJhdyhwb2ludCwgZmxhZykge1xyXG5cclxuICAgICAgICAvKiDlrprkuYnoh6rlrprkuYnopobnm5bniannmoTmnoTpgKDlh73mlbAgKi9cclxuICAgICAgICBmdW5jdGlvbiBwYXNzaXZlQWN0aXZlTWFya2VyT3ZlcmxheShwb2ludCwgZmxhZykge1xyXG4gICAgICAgICAgICB0aGlzLl9wb2ludCA9IHBvaW50OyAvLyDlnZDmoIdcclxuICAgICAgICAgICAgdGhpcy5fZmxhZyA9IGZsYWc7IC8vIOagh+iusFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyog57un5om/QVBJ55qEQk1hcC5PdmVybGF5ICovXHJcbiAgICAgICAgcGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXkucHJvdG90eXBlID0gbmV3IEJNYXAuT3ZlcmxheSgpO1xyXG5cclxuICAgICAgICAvKiDlrp7njrDliJ3lp4vljJbmlrnms5UgKi9cclxuICAgICAgICBwYXNzaXZlQWN0aXZlTWFya2VyT3ZlcmxheS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKG1hcCkge1xyXG4gICAgICAgICAgICAvKiDkv53lrZhtYXDlr7nosaHlrp7kvosgKi9cclxuICAgICAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xyXG4gICAgICAgICAgICAvKiDliJvlu7pkaXblhYPntKDvvIzkvZzkuLroh6rlrprkuYnopobnm5bniannmoTlrrnlmaggKi9cclxuICAgICAgICAgICAgdmFyIGRpdiA9IHRoaXMuX2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICAvKiDoh6rlrprkuYnopobnm5bnialkaXbkuK3nmoRodG1s5Luj56CBICovXHJcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwicGFzc2l2ZS1hY3RpdmUtbWFya2VyXCIgc3JjPVwiaW1nL3Bhc3NpdmUtYWN0aXZlLW1hcmtlci0ke3RoaXMuX2ZsYWd9LnBuZ1wiPlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAvKiDlsIZkaXbmt7vliqDliLDopobnm5bnianlrrnlmajkuK0gKi9cclxuICAgICAgICAgICAgbWFwLmdldFBhbmVzKCkubGFiZWxQYW5lLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICAgIC8qIOS/neWtmGRpduWunuS+iyAqL1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYgPSBkaXY7XHJcbiAgICAgICAgICAgIC8qIOmcgOimgeWwhmRpduWFg+e0oOS9nOS4uuaWueazleeahOi/lOWbnuWAvCAqL1xyXG4gICAgICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyog57uY5Yi26KaG55uW54mpLOWunueOsOe7mOWItuaWueazlSAqL1xyXG4gICAgICAgIHBhc3NpdmVBY3RpdmVNYXJrZXJPdmVybGF5LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8qIOagueaNruWcsOeQhuWdkOagh+i9rOaNouS4uuWDj+e0oOWdkOagh++8jOW5tuiuvue9rue7meWuueWZqCAqL1xyXG4gICAgICAgICAgICBsZXQgcG9zaXRpb24gPSB0aGlzLl9tYXAucG9pbnRUb092ZXJsYXlQaXhlbCh0aGlzLl9wb2ludCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpdi5zdHlsZS5sZWZ0ID0gcG9zaXRpb24ueCArICdweCc7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpdi5zdHlsZS50b3AgPSBwb3NpdGlvbi55ICsgJ3B4JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgcGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXkocG9pbnQsIGZsYWcpO1xyXG5cclxuICAgIH1cclxuXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9yZWFsVGltZUNvbWJhdC9vdmVybGF5L1Bhc3NpdmVBY3RpdmVNYXJrZXJPdmVybGF5Q29uc3RydWN0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class EngPanel {\r\n\r\n    static showCarEng(devCode, energy, reportTime) {\r\n        if (energy[0] == 1 && energy[1] == 1 && energy[2] == 1 && energy[3] == 1) {\r\n            /* 四向能量为1的时候，绘制右部能量面板显示能量信息*/\r\n            for (let i = 0; i < 4; i++) {\r\n                /**edti by gaochao start */\r\n                $(`#eng-value-car-${i}-${devCode}`).html(`<span style=\"color: #666666;font-size:14px\">1</span>`);\r\n                /**edit by gaochao end */\r\n            }\r\n            $(`#eng-hit-time-car-${devCode}`).html(`${new Date(reportTime).Format('hh:mm:ss')}`); // 能量命中时间\r\n        } else {\r\n            let maxEngVal = energy[0]; // 设定一个默认初始值\r\n            let maxEngIndex = 0;\r\n            /* 获取最大值*/\r\n            for (let i = 0; i < 4; i++) {\r\n                if (maxEngVal < energy[i]) {\r\n                    maxEngVal = energy[i];\r\n                    maxEngIndex = i;\r\n                }\r\n            }\r\n            /* 最大值可能有多个，存储数组索引*/\r\n            let maxEngArr = [];\r\n            for (let i = 0; i < 4; i++) {\r\n                if (maxEngVal == energy[i]) {\r\n                    maxEngArr.push(i);\r\n                }\r\n            }\r\n            for (let i = 0; i < 4; i++) {\r\n                /**edti by gaochao start */\r\n                let rightInfoPanelColor = ' style=\"color: #666666;font-size:14px\"';\r\n                /**edit by gaochao end */\r\n                for (let j = 0; j < maxEngArr.length; j++) {\r\n                    if (i == maxEngArr[j]) {\r\n                        /**edti by gaochao start */\r\n                        rightInfoPanelColor = ' style=\"color: #E82020;font-size:18px\"';\r\n                        /**edit by gaochao end */\r\n                        break;\r\n                    }\r\n                }\r\n                /* 绘制右部能量面板显示能量信息*/\r\n                $(`#eng-value-car-${i}-${devCode}`).html(`<span${rightInfoPanelColor}>${energy[i]}</span>`);\r\n            }\r\n            $(`#eng-hit-time-car-${devCode}`).html(`${new Date(reportTime).Format('hh:mm:ss')}`); // 能量命中时间\r\n        }\r\n    }\r\n\r\n    static showSingleEng(devCode, energy, reportTime) {\r\n        /**edti by gaochao start */\r\n        $(`#eng-value-single-${devCode}`).html(`<span style=\"color: #E82020\">${energy}</span>`);\r\n        /**edit by gaochao end */\r\n        $(`#eng-hit-time-single-${devCode}`).html(`${new Date(reportTime).Format('hh:mm:ss')}`);\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = EngPanel;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvdGFibGUvRW5nUGFuZWwuanM/NGEwMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsT0FBTztBQUNsQztBQUNBLG9DQUFvQyxFQUFFLEdBQUcsUUFBUSxxQ0FBcUM7QUFDdEY7QUFDQTtBQUNBLG1DQUFtQyxRQUFRLFdBQVcsd0NBQXdDLEdBQUc7QUFDakcsU0FBUztBQUNULHNDQUFzQztBQUN0QztBQUNBO0FBQ0EsMkJBQTJCLE9BQU87QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsT0FBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixPQUFPO0FBQ2xDO0FBQ0Esa0VBQWtFO0FBQ2xFO0FBQ0EsK0JBQStCLHNCQUFzQjtBQUNyRDtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsRUFBRSxHQUFHLFFBQVEsZ0JBQWdCLG9CQUFvQixHQUFHLFVBQVU7QUFDbEc7QUFDQSxtQ0FBbUMsUUFBUSxXQUFXLHdDQUF3QyxHQUFHO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtCQUErQixRQUFRLHdDQUF3QyxPQUFPO0FBQ3RGO0FBQ0Esa0NBQWtDLFFBQVEsV0FBVyx3Q0FBd0M7QUFDN0Y7O0FBRUEsQyIsImZpbGUiOiIyMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBFbmdQYW5lbCB7XHJcblxyXG4gICAgc3RhdGljIHNob3dDYXJFbmcoZGV2Q29kZSwgZW5lcmd5LCByZXBvcnRUaW1lKSB7XHJcbiAgICAgICAgaWYgKGVuZXJneVswXSA9PSAxICYmIGVuZXJneVsxXSA9PSAxICYmIGVuZXJneVsyXSA9PSAxICYmIGVuZXJneVszXSA9PSAxKSB7XHJcbiAgICAgICAgICAgIC8qIOWbm+WQkeiDvemHj+S4ujHnmoTml7blgJnvvIznu5jliLblj7Ppg6jog73ph4/pnaLmnb/mmL7npLrog73ph4/kv6Hmga8qL1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLyoqZWR0aSBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAkKGAjZW5nLXZhbHVlLWNhci0ke2l9LSR7ZGV2Q29kZX1gKS5odG1sKGA8c3BhbiBzdHlsZT1cImNvbG9yOiAjNjY2NjY2O2ZvbnQtc2l6ZToxNHB4XCI+MTwvc3Bhbj5gKTtcclxuICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkKGAjZW5nLWhpdC10aW1lLWNhci0ke2RldkNvZGV9YCkuaHRtbChgJHtuZXcgRGF0ZShyZXBvcnRUaW1lKS5Gb3JtYXQoJ2hoOm1tOnNzJyl9YCk7IC8vIOiDvemHj+WRveS4reaXtumXtFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBtYXhFbmdWYWwgPSBlbmVyZ3lbMF07IC8vIOiuvuWumuS4gOS4qum7mOiupOWIneWni+WAvFxyXG4gICAgICAgICAgICBsZXQgbWF4RW5nSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAvKiDojrflj5bmnIDlpKflgLwqL1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1heEVuZ1ZhbCA8IGVuZXJneVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heEVuZ1ZhbCA9IGVuZXJneVtpXTtcclxuICAgICAgICAgICAgICAgICAgICBtYXhFbmdJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyog5pyA5aSn5YC85Y+v6IO95pyJ5aSa5Liq77yM5a2Y5YKo5pWw57uE57Si5byVKi9cclxuICAgICAgICAgICAgbGV0IG1heEVuZ0FyciA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1heEVuZ1ZhbCA9PSBlbmVyZ3lbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXhFbmdBcnIucHVzaChpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLyoqZWR0aSBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICBsZXQgcmlnaHRJbmZvUGFuZWxDb2xvciA9ICcgc3R5bGU9XCJjb2xvcjogIzY2NjY2Njtmb250LXNpemU6MTRweFwiJztcclxuICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbWF4RW5nQXJyLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gbWF4RW5nQXJyW2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodEluZm9QYW5lbENvbG9yID0gJyBzdHlsZT1cImNvbG9yOiAjRTgyMDIwO2ZvbnQtc2l6ZToxOHB4XCInO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIOe7mOWItuWPs+mDqOiDvemHj+mdouadv+aYvuekuuiDvemHj+S/oeaBryovXHJcbiAgICAgICAgICAgICAgICAkKGAjZW5nLXZhbHVlLWNhci0ke2l9LSR7ZGV2Q29kZX1gKS5odG1sKGA8c3BhbiR7cmlnaHRJbmZvUGFuZWxDb2xvcn0+JHtlbmVyZ3lbaV19PC9zcGFuPmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQoYCNlbmctaGl0LXRpbWUtY2FyLSR7ZGV2Q29kZX1gKS5odG1sKGAke25ldyBEYXRlKHJlcG9ydFRpbWUpLkZvcm1hdCgnaGg6bW06c3MnKX1gKTsgLy8g6IO96YeP5ZG95Lit5pe26Ze0XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzaG93U2luZ2xlRW5nKGRldkNvZGUsIGVuZXJneSwgcmVwb3J0VGltZSkge1xyXG4gICAgICAgIC8qKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICQoYCNlbmctdmFsdWUtc2luZ2xlLSR7ZGV2Q29kZX1gKS5odG1sKGA8c3BhbiBzdHlsZT1cImNvbG9yOiAjRTgyMDIwXCI+JHtlbmVyZ3l9PC9zcGFuPmApO1xyXG4gICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAkKGAjZW5nLWhpdC10aW1lLXNpbmdsZS0ke2RldkNvZGV9YCkuaHRtbChgJHtuZXcgRGF0ZShyZXBvcnRUaW1lKS5Gb3JtYXQoJ2hoOm1tOnNzJyl9YCk7XHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcmVhbFRpbWVDb21iYXQvdGFibGUvRW5nUGFuZWwuanNcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///20\n");

/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__realTimeCombat_parsing_PrasingBtsInfo_js__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__realTimeCombat_overlay_DrawBtsOverlay_js__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__realTimeCombat_overlay_DrawBtsAnalysis_js__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__realTimeCombat_parsing_ParsingMultiBtsInfo_js__ = __webpack_require__(5);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass PrasingBtsInfoCR {\r\n\r\n    static prasingBtsInfo(btsBaseInfo) {\r\n          /* 只绘制新增的基站*/\r\n          if (btsInfoMap.get(btsBaseInfo.btsId) == null) {\r\n            if (btsBaseInfo.lng != null && btsBaseInfo.lat != null) {\r\n                let point = __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[btsBaseInfo.lng, btsBaseInfo.lat]])[0];\r\n                btsBaseInfo.lng = point.lng;\r\n                btsBaseInfo.lat = point.lat;\r\n                btsBaseInfo.isInfoPanelOpen = false;\r\n                btsBaseInfo.isRadiusOpen = false;\r\n                btsBaseInfo.needDraw = true;\r\n                btsInfoMap.set(btsBaseInfo.btsId, btsBaseInfo);\r\n                __WEBPACK_IMPORTED_MODULE_2__realTimeCombat_overlay_DrawBtsOverlay_js__[\"a\" /* DrawBtsOverlay */].drawBts([{ btsInfo: btsBaseInfo }]); // 调用实时作战的方法\r\n            }\r\n        }\r\n    }\r\n\r\n    static prasingStatusInfo(devStateInfo) {\r\n        let reportTimeCache = devStateInfo.reportTime;\r\n        delete devStateInfo.reportTime;\r\n        devStateInfoMapCache = devStateInfo;\r\n        /* 触发信息*/\r\n        for (let key in devStateInfo) {\r\n            if (devStateInfo[key].triggerInfo != null && devDrawInfoMap.get(key).devType == 1) {\r\n                let triggerInfo = JSON.parse(devStateInfo[key].triggerInfo);\r\n                /**add by gaochao start */\r\n                $('.sms-info-icon').css('background',`url(img/icon/sms_${triggerInfo.triggerStatus}.png)`);\r\n                /**add by gaochao end*/\r\n                $('#sms-send-value').html(triggerInfo.sendTimes);\r\n                $('#sms-finish-value').html(triggerInfo.completeTimes);\r\n                $('#sms-receipt-value').html(triggerInfo.receiptTimes);\r\n            }\r\n        }\r\n        // PrasingBtsInfo.cellAnalysis(devStateInfo);\r\n        __WEBPACK_IMPORTED_MODULE_4__realTimeCombat_parsing_ParsingMultiBtsInfo_js__[\"a\" /* ParsingMultiBtsInfo */].cellAnalysis(devStateInfo);\r\n        devStateInfo.reportTime = reportTimeCache;\r\n    }\r\n\r\n    static showTargetCell() {\r\n        __WEBPACK_IMPORTED_MODULE_1__realTimeCombat_parsing_PrasingBtsInfo_js__[\"a\" /* PrasingBtsInfo */].showTargetCell();\r\n    }\r\n    static showPreLockCell() {\r\n        __WEBPACK_IMPORTED_MODULE_4__realTimeCombat_parsing_ParsingMultiBtsInfo_js__[\"a\" /* ParsingMultiBtsInfo */].showPreLockCell();\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = PrasingBtsInfoCR;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYXJzaW5nL1ByYXNpbmdCdHNJbmZvQ1IuanM/Y2IzYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXVGOztBQUVQOztBQUVBO0FBQ0U7QUFDUTs7QUFFbkY7O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUdBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlHQUFjLFdBQVcsdUJBQXVCLEdBQUc7QUFDbkU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSwwQkFBMEI7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDJHQUFtQjtBQUMzQjtBQUNBOztBQUVBO0FBQ0EsUUFBUSxpR0FBYztBQUN0QjtBQUNBO0FBQ0EsUUFBUSwyR0FBbUI7QUFDM0I7O0FBRUEsQyIsImZpbGUiOiIyMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdQU1RvQmFpZHVQb2ludCB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9iYWlkdU1hcC9HUFNUb0JhaWR1UG9pbnQuQmFpZHVNYXAuanMnO1xyXG5cclxuaW1wb3J0IHsgUHJhc2luZ0J0c0luZm8gfSBmcm9tICcuLi8uLi9yZWFsVGltZUNvbWJhdC9wYXJzaW5nL1ByYXNpbmdCdHNJbmZvLmpzJztcclxuXHJcbmltcG9ydCB7IERyYXdCdHNPdmVybGF5IH0gZnJvbSAnLi4vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3QnRzT3ZlcmxheS5qcyc7XHJcbmltcG9ydCB7IERyYXdCdHNBbmFseXNpcyB9IGZyb20gJy4uLy4uL3JlYWxUaW1lQ29tYmF0L292ZXJsYXkvRHJhd0J0c0FuYWx5c2lzLmpzJztcclxuaW1wb3J0IHsgUGFyc2luZ011bHRpQnRzSW5mbyB9IGZyb20gJy4uLy4uL3JlYWxUaW1lQ29tYmF0L3BhcnNpbmcvUGFyc2luZ011bHRpQnRzSW5mby5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJhc2luZ0J0c0luZm9DUiB7XHJcblxyXG4gICAgc3RhdGljIHByYXNpbmdCdHNJbmZvKGJ0c0Jhc2VJbmZvKSB7XHJcbiAgICAgICAgICAvKiDlj6rnu5jliLbmlrDlop7nmoTln7rnq5kqL1xyXG4gICAgICAgICAgaWYgKGJ0c0luZm9NYXAuZ2V0KGJ0c0Jhc2VJbmZvLmJ0c0lkKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChidHNCYXNlSW5mby5sbmcgIT0gbnVsbCAmJiBidHNCYXNlSW5mby5sYXQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBvaW50ID0gR1BTVG9CYWlkdVBvaW50LmdldEJhaWR1UG9pbnRMb2NhdGlvbihbW2J0c0Jhc2VJbmZvLmxuZywgYnRzQmFzZUluZm8ubGF0XV0pWzBdO1xyXG4gICAgICAgICAgICAgICAgYnRzQmFzZUluZm8ubG5nID0gcG9pbnQubG5nO1xyXG4gICAgICAgICAgICAgICAgYnRzQmFzZUluZm8ubGF0ID0gcG9pbnQubGF0O1xyXG4gICAgICAgICAgICAgICAgYnRzQmFzZUluZm8uaXNJbmZvUGFuZWxPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBidHNCYXNlSW5mby5pc1JhZGl1c09wZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJ0c0Jhc2VJbmZvLm5lZWREcmF3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJ0c0luZm9NYXAuc2V0KGJ0c0Jhc2VJbmZvLmJ0c0lkLCBidHNCYXNlSW5mbyk7XHJcbiAgICAgICAgICAgICAgICBEcmF3QnRzT3ZlcmxheS5kcmF3QnRzKFt7IGJ0c0luZm86IGJ0c0Jhc2VJbmZvIH1dKTsgLy8g6LCD55So5a6e5pe25L2c5oiY55qE5pa55rOVXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHByYXNpbmdTdGF0dXNJbmZvKGRldlN0YXRlSW5mbykge1xyXG4gICAgICAgIGxldCByZXBvcnRUaW1lQ2FjaGUgPSBkZXZTdGF0ZUluZm8ucmVwb3J0VGltZTtcclxuICAgICAgICBkZWxldGUgZGV2U3RhdGVJbmZvLnJlcG9ydFRpbWU7XHJcbiAgICAgICAgZGV2U3RhdGVJbmZvTWFwQ2FjaGUgPSBkZXZTdGF0ZUluZm87XHJcbiAgICAgICAgLyog6Kem5Y+R5L+h5oGvKi9cclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gZGV2U3RhdGVJbmZvKSB7XHJcbiAgICAgICAgICAgIGlmIChkZXZTdGF0ZUluZm9ba2V5XS50cmlnZ2VySW5mbyAhPSBudWxsICYmIGRldkRyYXdJbmZvTWFwLmdldChrZXkpLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRyaWdnZXJJbmZvID0gSlNPTi5wYXJzZShkZXZTdGF0ZUluZm9ba2V5XS50cmlnZ2VySW5mbyk7XHJcbiAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgJCgnLnNtcy1pbmZvLWljb24nKS5jc3MoJ2JhY2tncm91bmQnLGB1cmwoaW1nL2ljb24vc21zXyR7dHJpZ2dlckluZm8udHJpZ2dlclN0YXR1c30ucG5nKWApO1xyXG4gICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAgICAgICAgICQoJyNzbXMtc2VuZC12YWx1ZScpLmh0bWwodHJpZ2dlckluZm8uc2VuZFRpbWVzKTtcclxuICAgICAgICAgICAgICAgICQoJyNzbXMtZmluaXNoLXZhbHVlJykuaHRtbCh0cmlnZ2VySW5mby5jb21wbGV0ZVRpbWVzKTtcclxuICAgICAgICAgICAgICAgICQoJyNzbXMtcmVjZWlwdC12YWx1ZScpLmh0bWwodHJpZ2dlckluZm8ucmVjZWlwdFRpbWVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBQcmFzaW5nQnRzSW5mby5jZWxsQW5hbHlzaXMoZGV2U3RhdGVJbmZvKTtcclxuICAgICAgICBQYXJzaW5nTXVsdGlCdHNJbmZvLmNlbGxBbmFseXNpcyhkZXZTdGF0ZUluZm8pO1xyXG4gICAgICAgIGRldlN0YXRlSW5mby5yZXBvcnRUaW1lID0gcmVwb3J0VGltZUNhY2hlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzaG93VGFyZ2V0Q2VsbCgpIHtcclxuICAgICAgICBQcmFzaW5nQnRzSW5mby5zaG93VGFyZ2V0Q2VsbCgpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIHNob3dQcmVMb2NrQ2VsbCgpIHtcclxuICAgICAgICBQYXJzaW5nTXVsdGlCdHNJbmZvLnNob3dQcmVMb2NrQ2VsbCgpO1xyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vcGFyc2luZy9QcmFzaW5nQnRzSW5mb0NSLmpzXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///21\n");

/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__overlay_DrawBtsOverlay_js__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__overlay_DrawBtsAnalysis_js__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__overlay_DrawBtsTargetOverlay_js__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__overlay_DrawBtsPreLockOverlay_js__ = __webpack_require__(25);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass PrasingBtsInfo {\r\n\r\n    static prasingBtsInfo(recBtsInfoMap) {\r\n\r\n        let btsBaseInfo = [];\r\n        let hitTimesCacheMap = new Map();\r\n        let dlHitTimesCacheMap = new Map();\r\n        /* 格式化数据*/\r\n        for (let Key in recBtsInfoMap.btsInfos) {\r\n            btsBaseInfo.push({ btsId: Key, btsInfo: recBtsInfoMap.btsInfos[Key] });\r\n        }\r\n        // console.log(btsBaseInfo)\r\n        /* 刷新命中次数，绘制目标基站*/\r\n        for (let i = 0; i < btsBaseInfo.length; i++) {\r\n            let btsid = __WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsTag(btsBaseInfo[i].btsInfo.mode, btsBaseInfo[i].btsInfo.mcc, btsBaseInfo[i].btsInfo.mnc, btsBaseInfo[i].btsInfo.lacTac, btsBaseInfo[i].btsInfo.sid, btsBaseInfo[i].btsInfo.nid, btsBaseInfo[i].btsInfo.bid, btsBaseInfo[i].btsInfo.cellId);\r\n            btsBaseInfo[i].btsId = btsid;\r\n            if (btsBaseInfo[i].btsInfo.hitTimes > 0) {\r\n                // console.log(\"存在命中\")\r\n                if (btsInfoMap.get(btsBaseInfo[i].btsId) != null) {\r\n                    /**add by gaochao start */\r\n                    if (hitTimesCacheMap.get(btsBaseInfo[i].btsId) != btsBaseInfo[i].btsInfo.hitTimes) {\r\n                        hitTimesCacheMap.set(btsBaseInfo[i].btsId, btsBaseInfo[i].btsInfo.hitTimes);\r\n                        /**add by gaochao end*/\r\n                        btsInfoMap.get(btsBaseInfo[i].btsId).hitTimes = btsBaseInfo[i].btsInfo.hitTimes; // 更新map中的命中次数(用于重绘红色基站)\r\n                        $(`.bts-img-${btsBaseInfo[i].btsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.bts-click-${btsBaseInfo[i].btsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.bts-img-${btsBaseInfo[i].btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.bts-click-${btsBaseInfo[i].btsId}`).css('z-index', 6000); // z轴置顶\r\n                        /**edti by gaochao start */\r\n                        let hitTimesHtml = $(`.bts-hit-count-${btsBaseInfo[i].btsId}`).html();\r\n                        let hitTimesLast = 0;\r\n                        let dlHitTimesLast = 0;\r\n                        if (hitTimesHtml != null && hitTimesHtml != \"\") {\r\n                            hitTimesLast = parseInt(hitTimesHtml.split(\"/\")[0]);\r\n                            dlHitTimesLast = parseInt(hitTimesHtml.split(\"/\")[1]);\r\n                        }\r\n                        $(`.bts-hit-count-${btsBaseInfo[i].btsId}`).html((hitTimesLast + btsBaseInfo[i].btsInfo.hitTimes) + \"/\" + dlHitTimesLast);\r\n                        /**edit by gaochao end */\r\n\r\n                        /**add by gaochao start */\r\n                        if (btsBaseInfo[i].btsInfo.hitTimes != 0) {\r\n                            $(`.bts-hit-count-shadow-${btsBaseInfo[i].btsId}`).css('display', 'block');\r\n                        }\r\n                        /**add by gaochao end*/\r\n                        if (targetCellInfosCache.get(btsBaseInfo[i].btsId) == null) {\r\n                            $(`.bts-img-${btsBaseInfo[i].btsId}`).attr('src', `img/btsicon/btsiconhit-${btsBaseInfo[i].btsInfo.mode}.png`);\r\n\r\n                            /**add by gaochao start */\r\n                            if (eval(`btsHitTimer['${btsBaseInfo[i].btsId}'] == null`)) {\r\n                                btsHitTimer[`${btsBaseInfo[i].btsId}`] = window.setInterval(function () {\r\n                                    $(`.bts-img-${btsBaseInfo[i].btsId}`).attr('src', `img/btsicon/btslasthit-${btsInfoMap.get(btsBaseInfo[i].btsId).mode}.png`);\r\n                                }, 300000);\r\n                            }\r\n                            else {\r\n                                clearInterval(btsHitTimer[`${btsBaseInfo[i].btsId}`]);\r\n                                btsHitTimer[`${btsBaseInfo[i].btsId}`] = window.setInterval(function () {\r\n                                    $(`.bts-img-${btsBaseInfo[i].btsId}`).attr('src', `img/btsicon/btslasthit-${btsInfoMap.get(btsBaseInfo[i].btsId).mode}.png`);\r\n                                }, 300000);\r\n                            }\r\n                            /**add by gaochao end*/\r\n                        }\r\n                    }\r\n                } else {\r\n                    // 地图上没有基站，取目标基站最近的\r\n                    if (ifNullHitedBts == null) {\r\n                        if (targetCellInfosCache.size != 0) {\r\n                            let targetBtsId;\r\n                            targetCellInfosCache.forEach((eachTargetBts) => {\r\n                                targetBtsId = eachTargetBts.btsId;\r\n                            });\r\n                            if (btsInfoMap.size != 0) {\r\n                                let disCache = 5000;\r\n                                btsInfoMap.forEach((eachBts) => {\r\n                                    if (eachBts.hitTimes == 0 || eachBts.hitTimes == null) {\r\n                                        if (ifNullHitedBts == null) {\r\n                                            ifNullHitedBts = eachBts.btsId;\r\n                                        } else {\r\n                                            if (eachBts.btsId != targetBtsId) {\r\n                                                let dis = map.getDistance(new BMap.Point(btsInfoMap.get(targetBtsId).lng, btsInfoMap.get(targetBtsId).lat), new BMap.Point(eachBts.lng, eachBts.lat));\r\n                                                if (dis < disCache) {\r\n                                                    disCache = dis;\r\n                                                    ifNullHitedBts = eachBts.btsId;\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                    if (ifNullHitedBts != null) {\r\n                        if (hitTimesCacheMap.get(ifNullHitedBts) != btsBaseInfo[i].btsInfo.hitTimes) {\r\n                            /**add by gaochao start */\r\n                            hitTimesCacheMap.set(ifNullHitedBts, btsBaseInfo[i].btsInfo.hitTimes);\r\n                            /**add by gaochao end*/\r\n                            let hitTimesHtml = $(`.bts-hit-count-${ifNullHitedBts}`).html();\r\n                            let hitTimesLast = 0;\r\n                            let dlHitTimesLast = 0;\r\n                            if (hitTimesHtml != null && hitTimesHtml != \"\") {\r\n                                hitTimesLast = parseInt(hitTimesHtml.split(\"/\")[0]);\r\n                                dlHitTimesLast = parseInt(hitTimesHtml.split(\"/\")[1]);\r\n                            }\r\n                            $(`.bts-hit-count-${ifNullHitedBts}`).html((hitTimesLast + btsBaseInfo[i].btsInfo.hitTimes) + \"/\" + dlHitTimesLast);\r\n                            /**add by gaochao start */\r\n                            if (btsBaseInfo[i].btsInfo.hitTimes != 0) {\r\n                                $(`.bts-hit-count-shadow-${ifNullHitedBts}`).css('display', 'block');\r\n                            }\r\n                            /**add by gaochao end*/\r\n                            $(`.bts-img-${ifNullHitedBts}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                            $(`.bts-click-${ifNullHitedBts}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                            $(`.bts-img-${ifNullHitedBts}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                            $(`.bts-img-${ifNullHitedBts}`).attr('src', `img/btsicon/btsiconhit-${btsBaseInfo[i].btsInfo.mode}.png`);\r\n                            /**add by gaochao start */\r\n                            if (eval(`btsHitTimer['${ifNullHitedBts}'] == null`)) {\r\n                                btsHitTimer[`${ifNullHitedBts}`] = window.setInterval(function () {\r\n                                    $(`.bts-img-${ifNullHitedBts}`).attr('src', `img/btsicon/btslasthit-${btsInfoMap.get(ifNullHitedBts).mode}.png`);\r\n                                }, 300000);\r\n                            }\r\n                            else {\r\n                                clearInterval(btsHitTimer[`${ifNullHitedBts}`]);\r\n                                btsHitTimer[`${ifNullHitedBts}`] = window.setInterval(function () {\r\n\r\n                                    $(`.bts-img-${ifNullHitedBts}`).attr('src', `img/btsicon/btslasthit-${btsInfoMap.get(ifNullHitedBts).mode}.png`);\r\n                                }, 300000);\r\n                            }\r\n                            /**add by gaochao end*/\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            /**add by gaochao start */\r\n            if (btsBaseInfo[i].btsInfo.dlHitTimes > 0) {\r\n                if (btsInfoMap.get(btsBaseInfo[i].btsId) != null) {\r\n                    if (dlHitTimesCacheMap.get(btsBaseInfo[i].btsId) != btsBaseInfo[i].btsInfo.dlHitTimes) {\r\n                        dlHitTimesCacheMap.set(btsBaseInfo[i].btsId, btsBaseInfo[i].btsInfo.dlHitTimes);\r\n                        btsInfoMap.get(btsBaseInfo[i].btsId).dlHitTimes = btsBaseInfo[i].btsInfo.dlHitTimes; // 更新map中的命中次数(用于重绘红色基站)\r\n                        $(`.bts-img-${btsBaseInfo[i].btsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.bts-click-${btsBaseInfo[i].btsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.bts-img-${btsBaseInfo[i].btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.bts-click-${btsBaseInfo[i].btsId}`).css('z-index', 6000); // z轴置顶\r\n                        let hitTimesHtml = $(`.bts-hit-count-${btsBaseInfo[i].btsId}`).html();\r\n                        let hitTimesLast = 0;\r\n                        let dlHitTimesLast = 0;\r\n                        if (hitTimesHtml != null && hitTimesHtml != \"\") {\r\n                            hitTimesLast = parseInt(hitTimesHtml.split(\"/\")[0]);\r\n                            dlHitTimesLast = parseInt(hitTimesHtml.split(\"/\")[1]);\r\n                        }\r\n                        $(`.bts-hit-count-${btsBaseInfo[i].btsId}`).html(hitTimesLast + \"/\" + (dlHitTimesLast + btsBaseInfo[i].btsInfo.dlHitTimes));\r\n                        if (btsBaseInfo[i].btsInfo.dlHitTimes != 0) {\r\n                            $(`.bts-hit-count-shadow-${btsBaseInfo[i].btsId}`).css('display', 'block');\r\n                        }\r\n                        $(`.bts-img-${btsBaseInfo[i].btsId}`).attr('src', `img/btsicon/btsiconhit-${btsBaseInfo[i].btsInfo.mode}.png`);\r\n                        if (targetCellInfosCache.get(btsBaseInfo[i].btsId) == null) {\r\n                            $(`.bts-img-${btsBaseInfo[i].btsId}`).attr('src', `img/btsicon/btsiconhit-${btsBaseInfo[i].btsInfo.mode}.png`);\r\n                            if (eval(`btsHitTimer['${btsBaseInfo[i].btsId}'] == null`)) {\r\n                                btsHitTimer[`${btsBaseInfo[i].btsId}`] = window.setInterval(function () {\r\n                                    $(`.bts-img-${btsBaseInfo[i].btsId}`).attr('src', `img/btsicon/btslasthit-${btsInfoMap.get(btsBaseInfo[i].btsId).mode}.png`);\r\n                                }, 300000);\r\n                            }\r\n                            else {\r\n                                clearInterval(btsHitTimer[`${btsBaseInfo[i].btsId}`]);\r\n                                btsHitTimer[`${btsBaseInfo[i].btsId}`] = window.setInterval(function () {\r\n                                    $(`.bts-img-${btsBaseInfo[i].btsId}`).attr('src', `img/btsicon/btslasthit-${btsInfoMap.get(btsBaseInfo[i].btsId).mode}.png`);\r\n                                }, 300000);\r\n                            }\r\n                            /**add by gaochao end*/\r\n                        }\r\n                    }\r\n                } else {\r\n                    // 地图上没有基站，取目标基站最近的\r\n                    if (ifNullHitedBts == null) {\r\n                        if (targetCellInfosCache.size != 0) {\r\n                            let targetBtsId;\r\n                            targetCellInfosCache.forEach((eachTargetBts) => {\r\n                                targetBtsId = eachTargetBts.btsId;\r\n                            });\r\n                            if (btsInfoMap.size != 0) {\r\n                                let disCache = 5000;\r\n                                btsInfoMap.forEach((eachBts) => {\r\n                                    if (eachBts.dlHitTimes == 0 || eachBts.dlHitTimes == null) {\r\n                                        if (ifNullHitedBts == null) {\r\n                                            ifNullHitedBts = eachBts.btsId;\r\n                                        } else {\r\n                                            if (eachBts.btsId != targetBtsId) {\r\n                                                let dis = map.getDistance(new BMap.Point(btsInfoMap.get(targetBtsId).lng, btsInfoMap.get(targetBtsId).lat), new BMap.Point(eachBts.lng, eachBts.lat));\r\n                                                if (dis < disCache) {\r\n                                                    disCache = dis;\r\n                                                    ifNullHitedBts = eachBts.btsId;\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                    if (ifNullHitedBts != null) {\r\n                        if (dlHitTimesCacheMap.get(ifNullHitedBts) != btsBaseInfo[i].btsInfo.dlHitTimes) {\r\n                            dlHitTimesCacheMap.set(ifNullHitedBts, btsBaseInfo[i].btsInfo.dlHitTimes);\r\n                            let hitTimesHtml = $(`.bts-hit-count-${ifNullHitedBts}`).html();\r\n                            let hitTimesLast = 0;\r\n                            let dlHitTimesLast = 0;\r\n                            if (hitTimesHtml != null && hitTimesHtml != \"\") {\r\n                                hitTimesLast = parseInt(hitTimesHtml.split(\"/\")[0]);\r\n                                dlHitTimesLast = parseInt(hitTimesHtml.split(\"/\")[1]);\r\n                            }\r\n                            $(`.bts-hit-count-${ifNullHitedBts}`).html(hitTimesLast + \"/\" + (dlHitTimesLast + btsBaseInfo[i].btsInfo.dlHitTimes));\r\n                            if (btsBaseInfo[i].btsInfo.dlHitTimes != 0) {\r\n                                $(`.bts-hit-count-shadow-${ifNullHitedBts}`).css('display', 'block');\r\n                            }\r\n                            $(`.bts-img-${ifNullHitedBts}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                            $(`.bts-click-${ifNullHitedBts}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                            $(`.bts-img-${ifNullHitedBts}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                            $(`.bts-img-${ifNullHitedBts}`).attr('src', `img/btsicon/btsiconhit-${btsBaseInfo[i].btsInfo.mode}.png`);\r\n                            if (eval(`btsHitTimer['${ifNullHitedBts}'] == null`)) {\r\n                                btsHitTimer[`${ifNullHitedBts}`] = window.setInterval(function () {\r\n\r\n                                    $(`.bts-img-${ifNullHitedBts}`).attr('src', `img/btsicon/btslasthit-${btsInfoMap.get(ifNullHitedBts).mode}.png`);\r\n                                }, 300000);\r\n                            }\r\n                            else {\r\n                                clearInterval(btsHitTimer[`${ifNullHitedBts}`]);\r\n                                btsHitTimer[`${ifNullHitedBts}`] = window.setInterval(function () {\r\n                                    $(`.bts-img-${ifNullHitedBts}`).attr('src', `img/btsicon/btslasthit-${btsInfoMap.get(ifNullHitedBts).mode}.png`);\r\n                                    // add by caihongyun start\r\n                                    // add by caihongyun end\r\n                                }, 300000);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            /**add by gaochao start */\r\n\r\n        }\r\n        /* 判断基站是否已经在地图上，只绘制新增的基站*/\r\n        let unexistBts = [];\r\n        for (let i = 0; i < btsBaseInfo.length; i++) {\r\n            let btsid = __WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsTag(btsBaseInfo[i].btsInfo.mode, btsBaseInfo[i].btsInfo.mcc, btsBaseInfo[i].btsInfo.mnc, btsBaseInfo[i].btsInfo.lacTac, btsBaseInfo[i].btsInfo.sid, btsBaseInfo[i].btsInfo.nid, btsBaseInfo[i].btsInfo.bid, btsBaseInfo[i].btsInfo.cellId);\r\n            if (btsInfoMap.get(btsid) == null) {\r\n                unexistBts.push(btsBaseInfo[i]);\r\n            }\r\n        }\r\n        // btsInfoMap.forEach((eachBts) => {\r\n        //     for (let i = 0; i < btsBaseInfo.length; i++) {\r\n        //         let btsid = BtsValue.btsTag(btsBaseInfo[i].btsInfo.mode, btsBaseInfo[i].btsInfo.mcc, btsBaseInfo[i].btsInfo.mnc, btsBaseInfo[i].btsInfo.lacTac, btsBaseInfo[i].btsInfo.sid, btsBaseInfo[i].btsInfo.nid, btsBaseInfo[i].btsInfo.bid, btsBaseInfo[i].btsInfo.cellId);\r\n        //         if (btsid == eachBts.btsId) {\r\n        //             btsBaseInfo.splice(i, 1);\r\n        //             break;\r\n        //         }\r\n        //     }\r\n        // });\r\n        /* 筛选信息中是否包含GPS坐标*/\r\n        let carBts = [];\r\n        for (let i = 0; i < unexistBts.length; i++) {\r\n            let lng = unexistBts[i].btsInfo.lng;\r\n            let lat = unexistBts[i].btsInfo.lat;\r\n            if (lng != null && lat != null) {\r\n                carBts.push(unexistBts[i]);\r\n            }\r\n        }\r\n        this.getBtsBaiduPoint(carBts);\r\n    }\r\n\r\n    static getBtsBaiduPoint(BtsInfo) {\r\n        if (BtsInfo.length > 0) {\r\n            let pointArray = [];\r\n            let pointArraySingle = [];\r\n            for (let i = 0, len = BtsInfo.length; i < len; i++) {\r\n                let lng = BtsInfo[i].btsInfo.lng;\r\n                let lat = BtsInfo[i].btsInfo.lat;\r\n                let point = [lng, lat];\r\n                pointArray.push(point);\r\n            }\r\n            let btsBdPoints = __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation(pointArray);\r\n\r\n            for (let i = 0; i < btsBdPoints.length; i++) {\r\n                BtsInfo[i].btsInfo.lng = btsBdPoints[i].lng;\r\n                BtsInfo[i].btsInfo.lat = btsBdPoints[i].lat;\r\n                /* 保存至map*/\r\n                BtsInfo[i].btsInfo.btsId = BtsInfo[i].btsId;\r\n                if (btsInfoMap.get(BtsInfo[i].btsId) == null) {\r\n                    btsInfoMap.set(BtsInfo[i].btsId, BtsInfo[i].btsInfo);\r\n                    __WEBPACK_IMPORTED_MODULE_2__overlay_DrawBtsOverlay_js__[\"a\" /* DrawBtsOverlay */].drawBts([BtsInfo[i]]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /* 目标小区*/\r\n    static showTargetCell() {\r\n        /* 设置颜色或绘制目标基站*/\r\n        targetCellInfosCache.forEach((eachTargetBts) => {\r\n            if (btsInfoMap.get(eachTargetBts.btsId) != null) {\r\n                $(`.bts-img-${eachTargetBts.btsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                $(`.bts-click-${eachTargetBts.btsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                $(`.bts-img-${eachTargetBts.btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                $(`.bts-click-${eachTargetBts.btsId}`).css('z-index', 6000); // z轴置顶\r\n                $(`.bts-img-${eachTargetBts.btsId}`).attr('src', `img/btsicon/btsicontarget-${eachTargetBts.mode}.png`);\r\n            } else {\r\n                eachTargetBts.isInfoPanelOpen = false;\r\n                eachTargetBts.isRadiusOpen = false;\r\n                eachTargetBts.needDraw = true;\r\n                btsInfoMap.set(eachTargetBts.btsId, eachTargetBts);\r\n                __WEBPACK_IMPORTED_MODULE_4__overlay_DrawBtsTargetOverlay_js__[\"a\" /* DrawBtsTargetOverlay */].drawBts(eachTargetBts);\r\n            }\r\n        });\r\n        /* 绘制红色路径*/\r\n        devInfoMap.forEach((eachDevInfo) => {\r\n            /* 目标小区*/\r\n            if (eachDevInfo.devType == 1 && targetCellInfosCache.size != 0) {\r\n                if (targetCellLineCache != null) {\r\n                    map.removeOverlay(targetCellLineCache);\r\n                    targetCellLineCache = null;\r\n                }\r\n                let targetCellPoint;\r\n                let lngAll = 0;\r\n                let latAll = 0;\r\n                targetCellInfosCache.forEach((eachTargetBts) => {\r\n                    lngAll = lngAll + Number(eachTargetBts.lng);\r\n                    latAll = latAll + Number(eachTargetBts.lat);\r\n                });\r\n                targetCellPoint = { lng: lngAll / targetCellInfosCache.size, lat: latAll / targetCellInfosCache.size };\r\n                let baiduGpsInfo = __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[eachDevInfo.gpsInfo.lng, eachDevInfo.gpsInfo.lat]])[0];\r\n                if (map.getDistance(new BMap.Point(baiduGpsInfo.lng, baiduGpsInfo.lat), new BMap.Point(targetCellPoint.lng, targetCellPoint.lat)) > 500) {\r\n                    let targetCellLine = new BMap.Polyline([\r\n                        new BMap.Point(targetCellPoint.lng, targetCellPoint.lat),\r\n                        new BMap.Point(baiduGpsInfo.lng, baiduGpsInfo.lat),\r\n                    ], { strokeColor: 'red', strokeWeight: 1, strokeOpacity: 1 });\r\n                    targetCellLineCache = targetCellLine;\r\n                    map.addOverlay(targetCellLine);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /**add by gaochao start */\r\n    //预锁基站\r\n    static showPreLockCell() {\r\n\r\n        if (Object.getOwnPropertyNames(devPreLockCellClearInfosCache).length != 0) {\r\n            for (let key in devPreLockCellClearInfosCache) {\r\n                if (btsInfoMap.get(key) != null) {\r\n                    if ($(`.bts-img-${key}`).hasClass('bts-img-unhit')) {\r\n                        $(`.bts-img-${key}`).attr('src', `img/btsicon/btsicon-${devPreLockCellClearInfosCache[key]}.png`);\r\n                    } else {\r\n                        $(`.bts-img-${key}`).attr('src', `img/btsicon/btsiconhit-${devPreLockCellClearInfosCache[key]}.png`);\r\n                    }\r\n                } else {\r\n                    map.removeOverlay(devPreLockCellClearInfosCache[key]);\r\n                }\r\n            }\r\n            devPreLockCellClearInfosCache = {};\r\n        }\r\n        /* 设置颜色或绘制目标基站*/\r\n        devPreLockCellInfosCache.forEach((eachPreLockBts) => {\r\n            if (btsInfoMap.get(eachPreLockBts.btsId) != null) {\r\n                if ($(`.bts-img-${eachPreLockBts.btsId}`).hasClass('bts-img-unhit')) {\r\n                    // $(`.bts-img-${eachPreLockBts.btsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                    // $(`.bts-click-${eachPreLockBts.btsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                    $(`.bts-img-${eachPreLockBts.btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                    $(`.bts-click-${eachPreLockBts.btsId}`).css('z-index', 6000); // z轴置顶\r\n                    $(`.bts-img-${eachPreLockBts.btsId}`).attr('src', `img/btsicon/btsicontarget-${eachPreLockBts.mode}.png`);\r\n                    devPreLockCellClearInfosCache[eachPreLockBts.btsId] = eachPreLockBts.mode;\r\n                }\r\n            } else {\r\n                eachPreLockBts.isInfoPanelOpen = false;\r\n                eachPreLockBts.isRadiusOpen = false;\r\n                eachPreLockBts.needDraw = true;\r\n                // btsInfoMap.set(eachPreLockBts.btsId, eachPreLockBts);\r\n                __WEBPACK_IMPORTED_MODULE_5__overlay_DrawBtsPreLockOverlay_js__[\"a\" /* DrawBtsPreLockOverlay */].drawBts(eachPreLockBts);\r\n            }\r\n        });\r\n\r\n        if (devPreLockCellLineCache != null) {\r\n            map.removeOverlay(devPreLockCellLineCache);\r\n            devPreLockCellLineCache = null;\r\n        }\r\n        /* 绘制红色路径*/\r\n        devInfoMap.forEach((eachDevInfo) => {\r\n            /* 目标小区*/\r\n            if (eachDevInfo.devType == 1 && devPreLockCellInfosCache.size != 0) {\r\n                let preLockCellPoint;\r\n                let lngAll = 0;\r\n                let latAll = 0;\r\n                devPreLockCellInfosCache.forEach((eachPreLockBts) => {\r\n                    lngAll = lngAll + Number(eachPreLockBts.lng);\r\n                    latAll = latAll + Number(eachPreLockBts.lat);\r\n                });\r\n                preLockCellPoint = { lng: lngAll / devPreLockCellInfosCache.size, lat: latAll / devPreLockCellInfosCache.size };\r\n                let baiduGpsInfo = __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[eachDevInfo.gpsInfo.lng, eachDevInfo.gpsInfo.lat]])[0];\r\n                if (map.getDistance(new BMap.Point(baiduGpsInfo.lng, baiduGpsInfo.lat), new BMap.Point(preLockCellPoint.lng, preLockCellPoint.lat)) > 500) {\r\n                    let devPreLockCellLine = new BMap.Polyline([\r\n                        new BMap.Point(preLockCellPoint.lng, preLockCellPoint.lat),\r\n                        new BMap.Point(baiduGpsInfo.lng, baiduGpsInfo.lat),\r\n                    ], { strokeColor: 'red', strokeWeight: 1, strokeOpacity: 1 });\r\n\r\n                    devPreLockCellLineCache = devPreLockCellLine;\r\n                    map.addOverlay(devPreLockCellLine);\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n    /**add by gaochao end*/\r\n\r\n    /* 基站解析进度*/\r\n    static cellAnalysis(devStateInfoMap) {\r\n        /* 高级面板显示通道信息*/\r\n        /**add by gaochao start */\r\n        let LteConEffective = 0;\r\n        let WcdmaConEffective = 0;\r\n        let CdmaConEffective = 0;\r\n        let GsmConEffective = 0;\r\n\r\n        let LteConEffectiveMap = new Map();\r\n        let WcdmaConEffectiveMap = new Map();\r\n        let CdmaConEffectiveMap = new Map();\r\n        let GsmConEffectiveMap = new Map();\r\n\r\n        let analysisInfoMapEach = new Map();\r\n        analysisInfoHitMap = new Map();\r\n        /**add by gaochao end*/\r\n        for (let dev in devStateInfoMap) {\r\n            let infoList = devStateInfoMap[dev].cellAnalysisInfoList;\r\n            let channelInfoHtml = '';\r\n            /**add by gaochao start */\r\n            let analysisInfoMapNow = new Map();\r\n            let advanceInfoHtmlLte = '';\r\n            let advanceInfoHtmlWcdma = '';\r\n            let advanceInfoHtmlCdma = '';\r\n            let advanceInfoHtmlGsm = '';\r\n            let advanceInfoHtmlLteCon = 0;\r\n            let advanceInfoHtmlWcdmaCon = 0;\r\n            let advanceInfoHtmlCdmaCon = 0;\r\n            let advanceInfoHtmlGsmCon = 0;\r\n            /**add by gaochao end*/\r\n            if (infoList != null) {\r\n                for (let i = 0; i < infoList.length; i++) {\r\n                    /**add by gaochao start */\r\n                    analysisInfoMapNow.set(infoList[i].btsId, 0);\r\n                    if (infoList[i].hitTimes != null && infoList[i].hitTimes != undefined && infoList[i].hitTimes != '') {\r\n                        analysisInfoMapNow.set(infoList[i].btsId, analysisInfoMapNow.get(infoList[i].btsId) + infoList[i].hitTimes);\r\n                    }\r\n                    /**add by gaochao end*/\r\n                    let btsIdArr = infoList[i].btsId.split('-');\r\n                    let perc;\r\n                    if (infoList[i].mode != 'cdma' && infoList[i].mode != 'wcdma') {\r\n                        perc = infoList[i].broadcastPercent + '%' + '-' + infoList[i].dedicatedPercent + '%';\r\n                    } else {\r\n                        perc = infoList[i].broadcastPercent + '%';\r\n                    }\r\n                    let panelHitTimes;\r\n                    if (btsInfoMap.get(infoList[i].btsId) == null || btsInfoMap.get(infoList[i].btsId).hitTimes == null) {\r\n                        panelHitTimes = 0;\r\n                    } else {\r\n                        panelHitTimes = btsInfoMap.get(infoList[i].btsId).hitTimes;\r\n                    }\r\n                    let areacode = infoList[i].mode == 'cdma' ? `${btsIdArr[btsIdArr.length - 3]}-${btsIdArr[btsIdArr.length - 2]}-${btsIdArr[btsIdArr.length - 1]}` : `${btsIdArr[btsIdArr.length - 2]}-${btsIdArr[btsIdArr.length - 1]}`;\r\n                    //${btsIdArr[btsIdArr.length - 2]}-${btsIdArr[btsIdArr.length - 1]}\r\n                    channelInfoHtml = channelInfoHtml + `\r\n                        <tr>\r\n                            <td style=\"width: 115px;\">${infoList[i].freqPci}</td>\r\n                            <td style=\"width: 135px;\">${areacode}</td>\r\n                            <td style=\"width: 86px; color: rgb(0, 125, 222)\">${perc}</td>\r\n                            <td style=\"width: 50px;\">${panelHitTimes}</td>\r\n                            <td style=\"width: 34px; color: #ff0000\">${infoList[i].dbm}</td>\r\n                            <td style=\"width: 34px;\"></td>\r\n                        </tr>\r\n                    `;\r\n                    /**add by gaochao start */\r\n                    if (infoList[i].mode == 'lte') {\r\n                        if (advanceInfoHtmlLteCon % 2 == 0) {\r\n                            advanceInfoHtmlLte = advanceInfoHtmlLte + `\r\n                        <div class=\"advance-info-content-odd\">\r\n                            <div class=\"advance-info-content-bts\">${infoList[i].freqPci}</div>\r\n                            <div class=\"advance-info-content-locationcode\">${areacode}</div>\r\n                            <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                            <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                            <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                        </div>\r\n                            `;\r\n                        } else {\r\n                            advanceInfoHtmlLte = advanceInfoHtmlLte + `\r\n                        <div class=\"advance-info-content-even\">\r\n                            <div class=\"advance-info-content-bts\">${infoList[i].freqPci}</div>\r\n                            <div class=\"advance-info-content-locationcode\">${areacode}</div>\r\n                            <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                            <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                            <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                        </div>\r\n                            `;\r\n                        }\r\n                        advanceInfoHtmlLteCon++;\r\n                        if (infoList[i].analysisFlag == 1) {\r\n                            LteConEffective++;\r\n                            if (LteConEffectiveMap.get(areacode) == undefined) {\r\n                                LteConEffectiveMap.set(areacode, 1);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (infoList[i].mode == 'wcdma') {\r\n                        if (advanceInfoHtmlWcdmaCon % 2 == 0) {\r\n                            advanceInfoHtmlWcdma = advanceInfoHtmlWcdma + `\r\n                        <div class=\"advance-info-content-odd\">\r\n                            <div class=\"advance-info-content-bts\">${infoList[i].freqPci}</div>\r\n                            <div class=\"advance-info-content-locationcode\">${areacode}</div>\r\n                            <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                            <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                            <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                        </div>\r\n                            `;\r\n                        } else {\r\n                            advanceInfoHtmlWcdma = advanceInfoHtmlWcdma + `\r\n                        <div class=\"advance-info-content-even\">\r\n                            <div class=\"advance-info-content-bts\">${infoList[i].freqPci}</div>\r\n                            <div class=\"advance-info-content-locationcode\">${areacode}</div>\r\n                            <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                            <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                            <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                        </div>\r\n                            `;\r\n                        }\r\n                        advanceInfoHtmlWcdmaCon++;\r\n                        if (infoList[i].analysisFlag == 1) {\r\n                            WcdmaConEffective++;\r\n                            if (WcdmaConEffectiveMap.get(areacode) == undefined) {\r\n                                WcdmaConEffectiveMap.set(areacode, 1);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (infoList[i].mode == 'cdma') {\r\n                        if (advanceInfoHtmlCdmaCon % 2 == 0) {\r\n                            advanceInfoHtmlCdma = advanceInfoHtmlCdma + `\r\n                        <div class=\"advance-info-content-odd\">\r\n                            <div class=\"advance-info-content-bts\">${infoList[i].freqPci}</div>\r\n                            <div class=\"advance-info-content-locationcode\">${areacode}</div>\r\n                            <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                            <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                            <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                        </div>\r\n                            `;\r\n                        } else {\r\n                            advanceInfoHtmlCdma = advanceInfoHtmlCdma + `\r\n                        <div class=\"advance-info-content-even\">\r\n                            <div class=\"advance-info-content-bts\">${infoList[i].freqPci}</div>\r\n                            <div class=\"advance-info-content-locationcode\">${areacode}</div>\r\n                            <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                            <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                            <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                        </div>\r\n                            `;\r\n                        }\r\n                        advanceInfoHtmlCdmaCon++;\r\n                        if (infoList[i].analysisFlag == 1) {\r\n                            CdmaConEffective++;\r\n                            if (CdmaConEffectiveMap.get(areacode) == undefined) {\r\n                                CdmaConEffectiveMap.set(areacode, 1);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (infoList[i].mode == 'gsm') {\r\n                        if (advanceInfoHtmlGsmCon % 2 == 0) {\r\n                            advanceInfoHtmlGsm = advanceInfoHtmlGsm + `\r\n                        <div class=\"advance-info-content-odd\">\r\n                            <div class=\"advance-info-content-bts\">${infoList[i].freqPci}</div>\r\n                            <div class=\"advance-info-content-locationcode\">${areacode}</div>\r\n                            <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                            <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                            <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                        </div>\r\n                            `;\r\n                        } else {\r\n                            advanceInfoHtmlGsm = advanceInfoHtmlGsm + `\r\n                        <div class=\"advance-info-content-even\">\r\n                            <div class=\"advance-info-content-bts\">${infoList[i].freqPci}</div>\r\n                            <div class=\"advance-info-content-locationcode\">${areacode}</div>\r\n                            <div class=\"advance-info-content-analysis\">${perc}</div>\r\n                            <div class=\"advance-info-content-bid\">${infoList[i].hitTimes != undefined ? infoList[i].hitTimes : 0}</div>\r\n                            <div class=\"advance-info-content-fieldstrength\">${infoList[i].dbm}</div>\r\n                        </div>\r\n                            `;\r\n                        }\r\n                        advanceInfoHtmlGsmCon++;\r\n                        if (infoList[i].analysisFlag == 1) {\r\n                            GsmConEffective++;\r\n                            if (GsmConEffectiveMap.get(areacode) == undefined) {\r\n                                GsmConEffectiveMap.set(areacode, 1);\r\n                            }\r\n                        }\r\n                    }\r\n                    /**add by gaochao end*/\r\n                }\r\n                $(`.channel-info-table-tbody-${dev}`).html(channelInfoHtml);\r\n                /**add by gaochao start */\r\n                $(`.advance-info-content-container-${dev}-lte`).html(advanceInfoHtmlLte);\r\n                $(`.advance-info-content-container-${dev}-wcdma`).html(advanceInfoHtmlWcdma);\r\n                $(`.advance-info-content-container-${dev}-cdma`).html(advanceInfoHtmlCdma);\r\n                $(`.advance-info-content-container-${dev}-gsm`).html(advanceInfoHtmlGsm);\r\n                /**add by gaochao end*/\r\n            }\r\n            analysisInfoMapEach.set(dev, analysisInfoMapNow);\r\n            /**add by gaochao start */\r\n            if (devStateInfoMap[dev].reportTime != \"\" && devStateInfoMap[dev].reportTime != undefined && devStateInfoMap[dev].reportTime != null) {\r\n                $(`.advance-info-time-${dev}`).html(new Date(devStateInfoMap[dev].reportTime).Format('hh:mm:ss'));\r\n            }\r\n            /**add by gaochao end*/\r\n        }\r\n        /**add by gaochao start */\r\n        // analysisInfoMap = analysisInfoMapEach;\r\n        // devDrawInfoMap.forEach((eachDev) => {\r\n        //     if (analysisInfoMap.get(eachDev.devCode) != undefined) {\r\n        //         for (let key of analysisInfoMap.get(eachDev.devCode).keys()) {\r\n        //             if (analysisInfoMap.get(eachDev.devCode).get(key) != 0) {\r\n        //                 analysisInfoHitMap.set(key, analysisInfoMap.get(eachDev.devCode).get(key) + (analysisInfoHitMap.get(key) != undefined ? analysisInfoHitMap.get(key) : 0));\r\n\r\n        //             }\r\n        //         }\r\n        //     }\r\n        // });\r\n        // console.log(analysisInfoHitMap);\r\n        // for (let key of analysisInfoHitMap.keys()) {\r\n        //     if (btsInfoMap.get(key) != null) {\r\n        //         $(`.bts-img-${key}`).attr('src', `img/btsicon/btsiconhit-${btsInfoMap.get(key).mode}.png`);\r\n        //         $(`.bts-hit-count-${key}`).html((btsInfoMap.get(key).hitTimes) + \"/\" + analysisInfoHitMap.get(key));\r\n        //     }\r\n        // }\r\n\r\n        $('#data-channel-gsm').html(GsmConEffectiveMap.size < 10 ? \"&nbsp&nbsp\" + GsmConEffectiveMap.size : GsmConEffectiveMap.size);\r\n        $('#data-channel-cdma').html(CdmaConEffectiveMap.sizefective < 10 ? \"&nbsp&nbsp\" + CdmaConEffectiveMap.size : CdmaConEffectiveMap.size);\r\n        $('#data-channel-wcdma').html(WcdmaConEffectiveMap.size < 10 ? \"&nbsp&nbsp\" + WcdmaConEffectiveMap.size : WcdmaConEffectiveMap.size);\r\n        $('#data-channel-lte').html(LteConEffectiveMap.size < 10 ? \"&nbsp&nbsp\" + LteConEffectiveMap.size : LteConEffectiveMap.size);\r\n        for (let key in devStateInfoMap) {\r\n            if (devStateInfoMap[key].energy != null && devStateInfoMap[key].energy != 0) {\r\n                $(`#team-each-dev-battery-value-${devStateInfoMap[key].devCode}`).css('display', 'block');\r\n                $(`#team-each-dev-battery-icon-${devStateInfoMap[key].devCode}`).css('display', 'block');\r\n                $(`#team-each-dev-battery-value-${devStateInfoMap[key].devCode}`).html(`${devStateInfoMap[key].energy}%`);\r\n            }\r\n            if (devStateInfoMap[key].temperature != null && devStateInfoMap[key].temperature != 0) {\r\n                $(`#team-each-dev-temperature-value-${devStateInfoMap[key].devCode}`).css('display', 'block');\r\n                $(`#team-each-dev-temperature-icon-${devStateInfoMap[key].devCode}`).css('display', 'block');\r\n                $(`#team-each-dev-temperature-value-${devStateInfoMap[key].devCode}`).html(`${devStateInfoMap[key].temperature}℃`);\r\n            }\r\n        }\r\n        /**add by gaochao end */\r\n        /* 显示上行增益*/\r\n        for (let key in devStateInfoMap) {\r\n            if (devStateInfoMap[key].upGainValue != null) {\r\n                $(`.uplink-gain-status-pot-${key}`).css('left', devStateInfoMap[key].upGainValue + '%');\r\n                $(`.uplink-gain-status-gray-cover-${key}`).css('width', (1 - devStateInfoMap[key].upGainValue / 100) * 100 + '%');\r\n                $(`.uplink-gain-status-value-${key}`).html(devStateInfoMap[key].upGainValue);\r\n            } else {\r\n                $(`.uplink-gain-status-pot-${key}`).css('left', '0%');\r\n                $(`.uplink-gain-status-gray-cover-${key}`).css('width', '100%');\r\n                $(`.uplink-gain-status-value-${key}`).html('0');\r\n            }\r\n        }\r\n        /* 显示触发信息*/\r\n        if (thisPageType == 'RTC') {\r\n            // if (devStateInfoMap != null && devStateInfoMap[currentViewDevCode] != null) {\r\n            //     let triggerInfoValue = devStateInfoMap[currentViewDevCode].triggerInfo;\r\n            //     if (triggerInfoValue != null) {\r\n            //         $('#sms-send-value').html(triggerInfoValue.sendTimes);\r\n            //         $('#sms-finish-value').html(triggerInfoValue.completeTimes);\r\n            //         $('#sms-receipt-value').html(triggerInfoValue.receiptTimes);\r\n            //     } else {\r\n            //         $('#sms-send-value').html(0);\r\n            //         $('#sms-finish-value').html(0);\r\n            //         $('#sms-receipt-value').html(0);\r\n            //     }\r\n            // }\r\n            if (devStateInfoMap != null) {\r\n                for (let key in devStateInfoMap) {\r\n                    if (devDrawInfoMap.get(key).devType == 1 && devStateInfoMap[key] != null) {\r\n                        let triggerInfoValue = devStateInfoMap[key].triggerInfo;\r\n                        if (triggerInfoValue != null) {\r\n                            /**add by gaochao start */\r\n                            $('.sms-info-icon').css('background', `url(img/icon/sms_${triggerInfoValue.triggerStatus}.png)`);\r\n                            /**add by gaochao end*/\r\n                            $('#sms-send-value').html(triggerInfoValue.sendTimes);\r\n                            $('#sms-finish-value').html(triggerInfoValue.completeTimes);\r\n                            $('#sms-receipt-value').html(triggerInfoValue.receiptTimes);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        for (let _key in devStateInfoMap) {\r\n            if (devStateInfoMap[_key].cellAnalysisInfoList != null) {\r\n                for (let key in devStateInfoMap) {\r\n                    /* 如果当前视角中包含重复的基站，则以当前视角的基站为主，清除与当前视角重复的基站*/\r\n                    if (key != currentViewDevCode) {\r\n                        if (devStateInfoMap[key].cellAnalysisInfoList != null) {\r\n                            for (let i = 0; i < devStateInfoMap[key].cellAnalysisInfoList.length; i++) {\r\n                                let isExist = false;\r\n                                if (devStateInfoMap[currentViewDevCode] != null && devStateInfoMap[currentViewDevCode].cellAnalysisInfoList != null) {\r\n                                    for (let j = 0; j < devStateInfoMap[currentViewDevCode].cellAnalysisInfoList.length; j++) {\r\n                                        if (devStateInfoMap[key].cellAnalysisInfoList[i].btsId == devStateInfoMap[currentViewDevCode].cellAnalysisInfoList[j].btsId) {\r\n                                            isExist = true;\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                if (isExist) {\r\n                                    devStateInfoMap[key].cellAnalysisInfoList.splice(i, 1);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                /* 绘制基站解析*/\r\n                __WEBPACK_IMPORTED_MODULE_3__overlay_DrawBtsAnalysis_js__[\"a\" /* DrawBtsAnalysis */].drawAnalysis(devStateInfoMap);\r\n            }\r\n        }\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = PrasingBtsInfo;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvcGFyc2luZy9QcmFzaW5nQnRzSW5mby5qcz8wZmNmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF1RjtBQUN6Qzs7QUFFZ0I7QUFDRTtBQUNVO0FBQ0U7QUFDckU7O0FBRVA7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixtREFBbUQ7QUFDakY7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHdCQUF3QjtBQUMvQyx3QkFBd0Isa0VBQVE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdHQUF3RztBQUN4RyxzQ0FBc0MscUJBQXFCLGdDQUFnQztBQUMzRix3Q0FBd0MscUJBQXFCLGtDQUFrQztBQUMvRixzQ0FBc0MscUJBQXFCLDZCQUE2QjtBQUN4Rix3Q0FBd0MscUJBQXFCLHdCQUF3QjtBQUNyRjtBQUNBLCtEQUErRCxxQkFBcUI7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHFCQUFxQjtBQUNqRTs7QUFFQTtBQUNBO0FBQ0EsdURBQXVELHFCQUFxQjtBQUM1RTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMscUJBQXFCLHlDQUF5Qyw0QkFBNEI7O0FBRXBJO0FBQ0EscURBQXFELHFCQUFxQjtBQUMxRSwrQ0FBK0MscUJBQXFCO0FBQ3BFLGtEQUFrRCxxQkFBcUIseUNBQXlDLDBDQUEwQztBQUMxSixpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLDZEQUE2RCxxQkFBcUI7QUFDbEYsK0NBQStDLHFCQUFxQjtBQUNwRSxrREFBa0QscUJBQXFCLHlDQUF5QywwQ0FBMEM7QUFDMUosaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsZUFBZTtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsZUFBZTtBQUMvRDtBQUNBO0FBQ0EsMkRBQTJELGVBQWU7QUFDMUU7QUFDQTtBQUNBLDBDQUEwQyxlQUFlLGdDQUFnQztBQUN6Riw0Q0FBNEMsZUFBZSxrQ0FBa0M7QUFDN0YsMENBQTBDLGVBQWUsNkJBQTZCO0FBQ3RGLDBDQUEwQyxlQUFlLHlDQUF5Qyw0QkFBNEI7QUFDOUg7QUFDQSxxREFBcUQsZUFBZTtBQUNwRSwrQ0FBK0MsZUFBZTtBQUM5RCxrREFBa0QsZUFBZSx5Q0FBeUMsb0NBQW9DO0FBQzlJLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsNkRBQTZELGVBQWU7QUFDNUUsK0NBQStDLGVBQWU7O0FBRTlELGtEQUFrRCxlQUFlLHlDQUF5QyxvQ0FBb0M7QUFDOUksaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEdBQTRHO0FBQzVHLHNDQUFzQyxxQkFBcUIsZ0NBQWdDO0FBQzNGLHdDQUF3QyxxQkFBcUIsa0NBQWtDO0FBQy9GLHNDQUFzQyxxQkFBcUIsNkJBQTZCO0FBQ3hGLHdDQUF3QyxxQkFBcUIsd0JBQXdCO0FBQ3JGLCtEQUErRCxxQkFBcUI7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHFCQUFxQjtBQUNqRTtBQUNBLHVEQUF1RCxxQkFBcUI7QUFDNUU7QUFDQSxzQ0FBc0MscUJBQXFCLHlDQUF5Qyw0QkFBNEI7QUFDaEk7QUFDQSwwQ0FBMEMscUJBQXFCLHlDQUF5Qyw0QkFBNEI7QUFDcEkscURBQXFELHFCQUFxQjtBQUMxRSwrQ0FBK0MscUJBQXFCO0FBQ3BFLGtEQUFrRCxxQkFBcUIseUNBQXlDLDBDQUEwQztBQUMxSixpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLDZEQUE2RCxxQkFBcUI7QUFDbEYsK0NBQStDLHFCQUFxQjtBQUNwRSxrREFBa0QscUJBQXFCLHlDQUF5QywwQ0FBMEM7QUFDMUosaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxlQUFlO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxlQUFlO0FBQy9EO0FBQ0EsMkRBQTJELGVBQWU7QUFDMUU7QUFDQSwwQ0FBMEMsZUFBZSxnQ0FBZ0M7QUFDekYsNENBQTRDLGVBQWUsa0NBQWtDO0FBQzdGLDBDQUEwQyxlQUFlLDZCQUE2QjtBQUN0RiwwQ0FBMEMsZUFBZSx5Q0FBeUMsNEJBQTRCO0FBQzlILHFEQUFxRCxlQUFlO0FBQ3BFLCtDQUErQyxlQUFlOztBQUU5RCxrREFBa0QsZUFBZSx5Q0FBeUMsb0NBQW9DO0FBQzlJLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsNkRBQTZELGVBQWU7QUFDNUUsK0NBQStDLGVBQWU7QUFDOUQsa0RBQWtELGVBQWUseUNBQXlDLG9DQUFvQztBQUM5STtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsd0JBQXdCO0FBQy9DLHdCQUF3QixrRUFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHdCQUF3QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLHVCQUF1Qix1QkFBdUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxTQUFTO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIscUdBQWU7O0FBRTdDLDJCQUEyQix3QkFBd0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtGQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsb0JBQW9CLGdDQUFnQztBQUNsRixnQ0FBZ0Msb0JBQW9CLGtDQUFrQztBQUN0Riw4QkFBOEIsb0JBQW9CLDZCQUE2QjtBQUMvRSxnQ0FBZ0Msb0JBQW9CLHdCQUF3QjtBQUM1RSw4QkFBOEIsb0JBQW9CLDRDQUE0QyxtQkFBbUI7QUFDakgsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhGQUFvQjtBQUNwQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLG1DQUFtQztBQUNuQyxtQ0FBbUMscUdBQWU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isd0RBQXdEO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxJQUFJO0FBQzFDLHNDQUFzQyxJQUFJLHNDQUFzQyxtQ0FBbUM7QUFDbkgscUJBQXFCO0FBQ3JCLHNDQUFzQyxJQUFJLHlDQUF5QyxtQ0FBbUM7QUFDdEg7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxxQkFBcUI7QUFDdkQscUNBQXFDLHFCQUFxQixnQ0FBZ0M7QUFDMUYsdUNBQXVDLHFCQUFxQixrQ0FBa0M7QUFDOUYsa0NBQWtDLHFCQUFxQiw2QkFBNkI7QUFDcEYsb0NBQW9DLHFCQUFxQix3QkFBd0I7QUFDakYsa0NBQWtDLHFCQUFxQiw0Q0FBNEMsb0JBQW9CO0FBQ3ZIO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0dBQXFCO0FBQ3JDO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLG9DQUFvQztBQUNwQyxtQ0FBbUMscUdBQWU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isd0RBQXdEOztBQUVoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxQkFBcUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsbUVBQW1FLDhCQUE4QixHQUFHLDhCQUE4QixHQUFHLDhCQUE4QixPQUFPLDhCQUE4QixHQUFHLDhCQUE4QjtBQUN6Tyx3QkFBd0IsOEJBQThCLEdBQUc7QUFDekQ7QUFDQTtBQUNBLG9EQUFvRCxJQUFJLG9CQUFvQjtBQUM1RSxvREFBb0QsSUFBSSxTQUFTO0FBQ2pFLG1EQUFtRCw0QkFBNEIsS0FBSztBQUNwRixtREFBbUQsSUFBSSxjQUFjO0FBQ3JFLG1EQUFtRCxtQkFBbUIsZ0JBQWdCO0FBQ3RGLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxvQkFBb0I7QUFDeEYsNkVBQTZFLFNBQVM7QUFDdEYseUVBQXlFLEtBQUs7QUFDOUUsb0VBQW9FLDZEQUE2RDtBQUNqSSw4RUFBOEUsZ0JBQWdCO0FBQzlGO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLG9FQUFvRSxvQkFBb0I7QUFDeEYsNkVBQTZFLFNBQVM7QUFDdEYseUVBQXlFLEtBQUs7QUFDOUUsb0VBQW9FLDZEQUE2RDtBQUNqSSw4RUFBOEUsZ0JBQWdCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxvQkFBb0I7QUFDeEYsNkVBQTZFLFNBQVM7QUFDdEYseUVBQXlFLEtBQUs7QUFDOUUsb0VBQW9FLDZEQUE2RDtBQUNqSSw4RUFBOEUsZ0JBQWdCO0FBQzlGO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLG9FQUFvRSxvQkFBb0I7QUFDeEYsNkVBQTZFLFNBQVM7QUFDdEYseUVBQXlFLEtBQUs7QUFDOUUsb0VBQW9FLDZEQUE2RDtBQUNqSSw4RUFBOEUsZ0JBQWdCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxvQkFBb0I7QUFDeEYsNkVBQTZFLFNBQVM7QUFDdEYseUVBQXlFLEtBQUs7QUFDOUUsb0VBQW9FLDZEQUE2RDtBQUNqSSw4RUFBOEUsZ0JBQWdCO0FBQzlGO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLG9FQUFvRSxvQkFBb0I7QUFDeEYsNkVBQTZFLFNBQVM7QUFDdEYseUVBQXlFLEtBQUs7QUFDOUUsb0VBQW9FLDZEQUE2RDtBQUNqSSw4RUFBOEUsZ0JBQWdCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxvQkFBb0I7QUFDeEYsNkVBQTZFLFNBQVM7QUFDdEYseUVBQXlFLEtBQUs7QUFDOUUsb0VBQW9FLDZEQUE2RDtBQUNqSSw4RUFBOEUsZ0JBQWdCO0FBQzlGO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLG9FQUFvRSxvQkFBb0I7QUFDeEYsNkVBQTZFLFNBQVM7QUFDdEYseUVBQXlFLEtBQUs7QUFDOUUsb0VBQW9FLDZEQUE2RDtBQUNqSSw4RUFBOEUsZ0JBQWdCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLElBQUk7QUFDbkQ7QUFDQSxxREFBcUQsSUFBSTtBQUN6RCxxREFBcUQsSUFBSTtBQUN6RCxxREFBcUQsSUFBSTtBQUN6RCxxREFBcUQsSUFBSTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLElBQUk7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxJQUFJLHlDQUF5Qyx5QkFBeUI7QUFDdkcsdUNBQXVDLElBQUk7QUFDM0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsNkJBQTZCO0FBQy9FLGlEQUFpRCw2QkFBNkI7QUFDOUUsa0RBQWtELDZCQUE2QixXQUFXLDRCQUE0QjtBQUN0SDtBQUNBO0FBQ0Esc0RBQXNELDZCQUE2QjtBQUNuRixxREFBcUQsNkJBQTZCO0FBQ2xGLHNEQUFzRCw2QkFBNkIsV0FBVyxpQ0FBaUM7QUFDL0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLElBQUk7QUFDakQsb0RBQW9ELElBQUk7QUFDeEQsK0NBQStDLElBQUk7QUFDbkQsYUFBYTtBQUNiLDZDQUE2QyxJQUFJO0FBQ2pELG9EQUFvRCxJQUFJO0FBQ3hELCtDQUErQyxJQUFJO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsK0JBQStCO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxzREFBc0Q7QUFDakc7QUFDQTtBQUNBLG1EQUFtRCxxRUFBcUU7QUFDeEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvRkFBZTtBQUMvQjtBQUNBO0FBQ0E7O0FBRUEsQyIsImZpbGUiOiIyMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdQU1RvQmFpZHVQb2ludCB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9iYWlkdU1hcC9HUFNUb0JhaWR1UG9pbnQuQmFpZHVNYXAuanMnO1xyXG5pbXBvcnQgeyBCdHNWYWx1ZSB9IGZyb20gJy4uL2J0cy9CdHNWYWx1ZS5qcyc7XHJcblxyXG5pbXBvcnQgeyBEcmF3QnRzT3ZlcmxheSB9IGZyb20gJy4uL292ZXJsYXkvRHJhd0J0c092ZXJsYXkuanMnO1xyXG5pbXBvcnQgeyBEcmF3QnRzQW5hbHlzaXMgfSBmcm9tICcuLi9vdmVybGF5L0RyYXdCdHNBbmFseXNpcy5qcyc7XHJcbmltcG9ydCB7IERyYXdCdHNUYXJnZXRPdmVybGF5IH0gZnJvbSAnLi4vb3ZlcmxheS9EcmF3QnRzVGFyZ2V0T3ZlcmxheS5qcyc7XHJcbmltcG9ydCB7IERyYXdCdHNQcmVMb2NrT3ZlcmxheSB9IGZyb20gJy4uL292ZXJsYXkvRHJhd0J0c1ByZUxvY2tPdmVybGF5LmpzJztcclxuZXhwb3J0IGNsYXNzIFByYXNpbmdCdHNJbmZvIHtcclxuXHJcbiAgICBzdGF0aWMgcHJhc2luZ0J0c0luZm8ocmVjQnRzSW5mb01hcCkge1xyXG5cclxuICAgICAgICBsZXQgYnRzQmFzZUluZm8gPSBbXTtcclxuICAgICAgICBsZXQgaGl0VGltZXNDYWNoZU1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICBsZXQgZGxIaXRUaW1lc0NhY2hlTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8qIOagvOW8j+WMluaVsOaNriovXHJcbiAgICAgICAgZm9yIChsZXQgS2V5IGluIHJlY0J0c0luZm9NYXAuYnRzSW5mb3MpIHtcclxuICAgICAgICAgICAgYnRzQmFzZUluZm8ucHVzaCh7IGJ0c0lkOiBLZXksIGJ0c0luZm86IHJlY0J0c0luZm9NYXAuYnRzSW5mb3NbS2V5XSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnRzQmFzZUluZm8pXHJcbiAgICAgICAgLyog5Yi35paw5ZG95Lit5qyh5pWw77yM57uY5Yi255uu5qCH5Z+656uZKi9cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ0c0Jhc2VJbmZvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBidHNpZCA9IEJ0c1ZhbHVlLmJ0c1RhZyhidHNCYXNlSW5mb1tpXS5idHNJbmZvLm1vZGUsIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8ubWNjLCBidHNCYXNlSW5mb1tpXS5idHNJbmZvLm1uYywgYnRzQmFzZUluZm9baV0uYnRzSW5mby5sYWNUYWMsIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uc2lkLCBidHNCYXNlSW5mb1tpXS5idHNJbmZvLm5pZCwgYnRzQmFzZUluZm9baV0uYnRzSW5mby5iaWQsIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uY2VsbElkKTtcclxuICAgICAgICAgICAgYnRzQmFzZUluZm9baV0uYnRzSWQgPSBidHNpZDtcclxuICAgICAgICAgICAgaWYgKGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uaGl0VGltZXMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuWtmOWcqOWRveS4rVwiKVxyXG4gICAgICAgICAgICAgICAgaWYgKGJ0c0luZm9NYXAuZ2V0KGJ0c0Jhc2VJbmZvW2ldLmJ0c0lkKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGl0VGltZXNDYWNoZU1hcC5nZXQoYnRzQmFzZUluZm9baV0uYnRzSWQpICE9IGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uaGl0VGltZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGltZXNDYWNoZU1hcC5zZXQoYnRzQmFzZUluZm9baV0uYnRzSWQsIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uaGl0VGltZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidHNJbmZvTWFwLmdldChidHNCYXNlSW5mb1tpXS5idHNJZCkuaGl0VGltZXMgPSBidHNCYXNlSW5mb1tpXS5idHNJbmZvLmhpdFRpbWVzOyAvLyDmm7TmlrBtYXDkuK3nmoTlkb3kuK3mrKHmlbAo55So5LqO6YeN57uY57qi6Imy5Z+656uZKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2J0c0Jhc2VJbmZvW2ldLmJ0c0lkfWApLnJlbW92ZUNsYXNzKCdidHMtaW1nLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWNsaWNrLSR7YnRzQmFzZUluZm9baV0uYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1jbGljay11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtidHNCYXNlSW5mb1tpXS5idHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1jbGljay0ke2J0c0Jhc2VJbmZvW2ldLmJ0c0lkfWApLmNzcygnei1pbmRleCcsIDYwMDApOyAvLyB66L20572u6aG2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGl0VGltZXNIdG1sID0gJChgLmJ0cy1oaXQtY291bnQtJHtidHNCYXNlSW5mb1tpXS5idHNJZH1gKS5odG1sKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRUaW1lc0xhc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGxIaXRUaW1lc0xhc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGl0VGltZXNIdG1sICE9IG51bGwgJiYgaGl0VGltZXNIdG1sICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdFRpbWVzTGFzdCA9IHBhcnNlSW50KGhpdFRpbWVzSHRtbC5zcGxpdChcIi9cIilbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGxIaXRUaW1lc0xhc3QgPSBwYXJzZUludChoaXRUaW1lc0h0bWwuc3BsaXQoXCIvXCIpWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWhpdC1jb3VudC0ke2J0c0Jhc2VJbmZvW2ldLmJ0c0lkfWApLmh0bWwoKGhpdFRpbWVzTGFzdCArIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uaGl0VGltZXMpICsgXCIvXCIgKyBkbEhpdFRpbWVzTGFzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidHNCYXNlSW5mb1tpXS5idHNJbmZvLmhpdFRpbWVzICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaGl0LWNvdW50LXNoYWRvdy0ke2J0c0Jhc2VJbmZvW2ldLmJ0c0lkfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRDZWxsSW5mb3NDYWNoZS5nZXQoYnRzQmFzZUluZm9baV0uYnRzSWQpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7YnRzQmFzZUluZm9baV0uYnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2ljb25oaXQtJHtidHNCYXNlSW5mb1tpXS5idHNJbmZvLm1vZGV9LnBuZ2ApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZhbChgYnRzSGl0VGltZXJbJyR7YnRzQmFzZUluZm9baV0uYnRzSWR9J10gPT0gbnVsbGApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRzSGl0VGltZXJbYCR7YnRzQmFzZUluZm9baV0uYnRzSWR9YF0gPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2J0c0Jhc2VJbmZvW2ldLmJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNsYXN0aGl0LSR7YnRzSW5mb01hcC5nZXQoYnRzQmFzZUluZm9baV0uYnRzSWQpLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMDAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGJ0c0hpdFRpbWVyW2Ake2J0c0Jhc2VJbmZvW2ldLmJ0c0lkfWBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidHNIaXRUaW1lcltgJHtidHNCYXNlSW5mb1tpXS5idHNJZH1gXSA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7YnRzQmFzZUluZm9baV0uYnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2xhc3RoaXQtJHtidHNJbmZvTWFwLmdldChidHNCYXNlSW5mb1tpXS5idHNJZCkubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWcsOWbvuS4iuayoeacieWfuuerme+8jOWPluebruagh+WfuuermeacgOi/keeahFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpZk51bGxIaXRlZEJ0cyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRDZWxsSW5mb3NDYWNoZS5zaXplICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRCdHNJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldENlbGxJbmZvc0NhY2hlLmZvckVhY2goKGVhY2hUYXJnZXRCdHMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCdHNJZCA9IGVhY2hUYXJnZXRCdHMuYnRzSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidHNJbmZvTWFwLnNpemUgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXNDYWNoZSA9IDUwMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRzSW5mb01hcC5mb3JFYWNoKChlYWNoQnRzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlYWNoQnRzLmhpdFRpbWVzID09IDAgfHwgZWFjaEJ0cy5oaXRUaW1lcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWZOdWxsSGl0ZWRCdHMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmTnVsbEhpdGVkQnRzID0gZWFjaEJ0cy5idHNJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVhY2hCdHMuYnRzSWQgIT0gdGFyZ2V0QnRzSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpcyA9IG1hcC5nZXREaXN0YW5jZShuZXcgQk1hcC5Qb2ludChidHNJbmZvTWFwLmdldCh0YXJnZXRCdHNJZCkubG5nLCBidHNJbmZvTWFwLmdldCh0YXJnZXRCdHNJZCkubGF0KSwgbmV3IEJNYXAuUG9pbnQoZWFjaEJ0cy5sbmcsIGVhY2hCdHMubGF0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXMgPCBkaXNDYWNoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzQ2FjaGUgPSBkaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZk51bGxIaXRlZEJ0cyA9IGVhY2hCdHMuYnRzSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaWZOdWxsSGl0ZWRCdHMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGl0VGltZXNDYWNoZU1hcC5nZXQoaWZOdWxsSGl0ZWRCdHMpICE9IGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uaGl0VGltZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRUaW1lc0NhY2hlTWFwLnNldChpZk51bGxIaXRlZEJ0cywgYnRzQmFzZUluZm9baV0uYnRzSW5mby5oaXRUaW1lcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdFRpbWVzSHRtbCA9ICQoYC5idHMtaGl0LWNvdW50LSR7aWZOdWxsSGl0ZWRCdHN9YCkuaHRtbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdFRpbWVzTGFzdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGxIaXRUaW1lc0xhc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhpdFRpbWVzSHRtbCAhPSBudWxsICYmIGhpdFRpbWVzSHRtbCAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGltZXNMYXN0ID0gcGFyc2VJbnQoaGl0VGltZXNIdG1sLnNwbGl0KFwiL1wiKVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGxIaXRUaW1lc0xhc3QgPSBwYXJzZUludChoaXRUaW1lc0h0bWwuc3BsaXQoXCIvXCIpWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaGl0LWNvdW50LSR7aWZOdWxsSGl0ZWRCdHN9YCkuaHRtbCgoaGl0VGltZXNMYXN0ICsgYnRzQmFzZUluZm9baV0uYnRzSW5mby5oaXRUaW1lcykgKyBcIi9cIiArIGRsSGl0VGltZXNMYXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnRzQmFzZUluZm9baV0uYnRzSW5mby5oaXRUaW1lcyAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1oaXQtY291bnQtc2hhZG93LSR7aWZOdWxsSGl0ZWRCdHN9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtpZk51bGxIaXRlZEJ0c31gKS5yZW1vdmVDbGFzcygnYnRzLWltZy11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtY2xpY2stJHtpZk51bGxIaXRlZEJ0c31gKS5yZW1vdmVDbGFzcygnYnRzLWNsaWNrLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtpZk51bGxIaXRlZEJ0c31gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7aWZOdWxsSGl0ZWRCdHN9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2ljb25oaXQtJHtidHNCYXNlSW5mb1tpXS5idHNJbmZvLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmFsKGBidHNIaXRUaW1lclsnJHtpZk51bGxIaXRlZEJ0c30nXSA9PSBudWxsYCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidHNIaXRUaW1lcltgJHtpZk51bGxIaXRlZEJ0c31gXSA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7aWZOdWxsSGl0ZWRCdHN9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2xhc3RoaXQtJHtidHNJbmZvTWFwLmdldChpZk51bGxIaXRlZEJ0cykubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoYnRzSGl0VGltZXJbYCR7aWZOdWxsSGl0ZWRCdHN9YF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0c0hpdFRpbWVyW2Ake2lmTnVsbEhpdGVkQnRzfWBdID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7aWZOdWxsSGl0ZWRCdHN9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2xhc3RoaXQtJHtidHNJbmZvTWFwLmdldChpZk51bGxIaXRlZEJ0cykubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgIGlmIChidHNCYXNlSW5mb1tpXS5idHNJbmZvLmRsSGl0VGltZXMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnRzSW5mb01hcC5nZXQoYnRzQmFzZUluZm9baV0uYnRzSWQpICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGxIaXRUaW1lc0NhY2hlTWFwLmdldChidHNCYXNlSW5mb1tpXS5idHNJZCkgIT0gYnRzQmFzZUluZm9baV0uYnRzSW5mby5kbEhpdFRpbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRsSGl0VGltZXNDYWNoZU1hcC5zZXQoYnRzQmFzZUluZm9baV0uYnRzSWQsIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uZGxIaXRUaW1lcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0c0luZm9NYXAuZ2V0KGJ0c0Jhc2VJbmZvW2ldLmJ0c0lkKS5kbEhpdFRpbWVzID0gYnRzQmFzZUluZm9baV0uYnRzSW5mby5kbEhpdFRpbWVzOyAvLyDmm7TmlrBtYXDkuK3nmoTlkb3kuK3mrKHmlbAo55So5LqO6YeN57uY57qi6Imy5Z+656uZKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2J0c0Jhc2VJbmZvW2ldLmJ0c0lkfWApLnJlbW92ZUNsYXNzKCdidHMtaW1nLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWNsaWNrLSR7YnRzQmFzZUluZm9baV0uYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1jbGljay11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtidHNCYXNlSW5mb1tpXS5idHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1jbGljay0ke2J0c0Jhc2VJbmZvW2ldLmJ0c0lkfWApLmNzcygnei1pbmRleCcsIDYwMDApOyAvLyB66L20572u6aG2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRUaW1lc0h0bWwgPSAkKGAuYnRzLWhpdC1jb3VudC0ke2J0c0Jhc2VJbmZvW2ldLmJ0c0lkfWApLmh0bWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdFRpbWVzTGFzdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkbEhpdFRpbWVzTGFzdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoaXRUaW1lc0h0bWwgIT0gbnVsbCAmJiBoaXRUaW1lc0h0bWwgIT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGltZXNMYXN0ID0gcGFyc2VJbnQoaGl0VGltZXNIdG1sLnNwbGl0KFwiL1wiKVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbEhpdFRpbWVzTGFzdCA9IHBhcnNlSW50KGhpdFRpbWVzSHRtbC5zcGxpdChcIi9cIilbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaGl0LWNvdW50LSR7YnRzQmFzZUluZm9baV0uYnRzSWR9YCkuaHRtbChoaXRUaW1lc0xhc3QgKyBcIi9cIiArIChkbEhpdFRpbWVzTGFzdCArIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uZGxIaXRUaW1lcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnRzQmFzZUluZm9baV0uYnRzSW5mby5kbEhpdFRpbWVzICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaGl0LWNvdW50LXNoYWRvdy0ke2J0c0Jhc2VJbmZvW2ldLmJ0c0lkfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7YnRzQmFzZUluZm9baV0uYnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2ljb25oaXQtJHtidHNCYXNlSW5mb1tpXS5idHNJbmZvLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Q2VsbEluZm9zQ2FjaGUuZ2V0KGJ0c0Jhc2VJbmZvW2ldLmJ0c0lkKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2J0c0Jhc2VJbmZvW2ldLmJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNpY29uaGl0LSR7YnRzQmFzZUluZm9baV0uYnRzSW5mby5tb2RlfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmFsKGBidHNIaXRUaW1lclsnJHtidHNCYXNlSW5mb1tpXS5idHNJZH0nXSA9PSBudWxsYCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidHNIaXRUaW1lcltgJHtidHNCYXNlSW5mb1tpXS5idHNJZH1gXSA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7YnRzQmFzZUluZm9baV0uYnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2xhc3RoaXQtJHtidHNJbmZvTWFwLmdldChidHNCYXNlSW5mb1tpXS5idHNJZCkubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoYnRzSGl0VGltZXJbYCR7YnRzQmFzZUluZm9baV0uYnRzSWR9YF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0c0hpdFRpbWVyW2Ake2J0c0Jhc2VJbmZvW2ldLmJ0c0lkfWBdID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtidHNCYXNlSW5mb1tpXS5idHNJZH1gKS5hdHRyKCdzcmMnLCBgaW1nL2J0c2ljb24vYnRzbGFzdGhpdC0ke2J0c0luZm9NYXAuZ2V0KGJ0c0Jhc2VJbmZvW2ldLmJ0c0lkKS5tb2RlfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5Zyw5Zu+5LiK5rKh5pyJ5Z+656uZ77yM5Y+W55uu5qCH5Z+656uZ5pyA6L+R55qEXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlmTnVsbEhpdGVkQnRzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldENlbGxJbmZvc0NhY2hlLnNpemUgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldEJ0c0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q2VsbEluZm9zQ2FjaGUuZm9yRWFjaCgoZWFjaFRhcmdldEJ0cykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJ0c0lkID0gZWFjaFRhcmdldEJ0cy5idHNJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ0c0luZm9NYXAuc2l6ZSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpc0NhY2hlID0gNTAwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidHNJbmZvTWFwLmZvckVhY2goKGVhY2hCdHMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVhY2hCdHMuZGxIaXRUaW1lcyA9PSAwIHx8IGVhY2hCdHMuZGxIaXRUaW1lcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWZOdWxsSGl0ZWRCdHMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmTnVsbEhpdGVkQnRzID0gZWFjaEJ0cy5idHNJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVhY2hCdHMuYnRzSWQgIT0gdGFyZ2V0QnRzSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpcyA9IG1hcC5nZXREaXN0YW5jZShuZXcgQk1hcC5Qb2ludChidHNJbmZvTWFwLmdldCh0YXJnZXRCdHNJZCkubG5nLCBidHNJbmZvTWFwLmdldCh0YXJnZXRCdHNJZCkubGF0KSwgbmV3IEJNYXAuUG9pbnQoZWFjaEJ0cy5sbmcsIGVhY2hCdHMubGF0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXMgPCBkaXNDYWNoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzQ2FjaGUgPSBkaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZk51bGxIaXRlZEJ0cyA9IGVhY2hCdHMuYnRzSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaWZOdWxsSGl0ZWRCdHMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGxIaXRUaW1lc0NhY2hlTWFwLmdldChpZk51bGxIaXRlZEJ0cykgIT0gYnRzQmFzZUluZm9baV0uYnRzSW5mby5kbEhpdFRpbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbEhpdFRpbWVzQ2FjaGVNYXAuc2V0KGlmTnVsbEhpdGVkQnRzLCBidHNCYXNlSW5mb1tpXS5idHNJbmZvLmRsSGl0VGltZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdFRpbWVzSHRtbCA9ICQoYC5idHMtaGl0LWNvdW50LSR7aWZOdWxsSGl0ZWRCdHN9YCkuaHRtbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdFRpbWVzTGFzdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGxIaXRUaW1lc0xhc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhpdFRpbWVzSHRtbCAhPSBudWxsICYmIGhpdFRpbWVzSHRtbCAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGltZXNMYXN0ID0gcGFyc2VJbnQoaGl0VGltZXNIdG1sLnNwbGl0KFwiL1wiKVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGxIaXRUaW1lc0xhc3QgPSBwYXJzZUludChoaXRUaW1lc0h0bWwuc3BsaXQoXCIvXCIpWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaGl0LWNvdW50LSR7aWZOdWxsSGl0ZWRCdHN9YCkuaHRtbChoaXRUaW1lc0xhc3QgKyBcIi9cIiArIChkbEhpdFRpbWVzTGFzdCArIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uZGxIaXRUaW1lcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uZGxIaXRUaW1lcyAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1oaXQtY291bnQtc2hhZG93LSR7aWZOdWxsSGl0ZWRCdHN9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2lmTnVsbEhpdGVkQnRzfWApLnJlbW92ZUNsYXNzKCdidHMtaW1nLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1jbGljay0ke2lmTnVsbEhpdGVkQnRzfWApLnJlbW92ZUNsYXNzKCdidHMtY2xpY2stdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2lmTnVsbEhpdGVkQnRzfWApLnJlbW92ZUNsYXNzKCdncmF5LWNvdmVyJyk7IC8vIOWOu+mZpOeBsOiJsua7pOmVnFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtpZk51bGxIaXRlZEJ0c31gKS5hdHRyKCdzcmMnLCBgaW1nL2J0c2ljb24vYnRzaWNvbmhpdC0ke2J0c0Jhc2VJbmZvW2ldLmJ0c0luZm8ubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZhbChgYnRzSGl0VGltZXJbJyR7aWZOdWxsSGl0ZWRCdHN9J10gPT0gbnVsbGApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRzSGl0VGltZXJbYCR7aWZOdWxsSGl0ZWRCdHN9YF0gPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtpZk51bGxIaXRlZEJ0c31gKS5hdHRyKCdzcmMnLCBgaW1nL2J0c2ljb24vYnRzbGFzdGhpdC0ke2J0c0luZm9NYXAuZ2V0KGlmTnVsbEhpdGVkQnRzKS5tb2RlfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChidHNIaXRUaW1lcltgJHtpZk51bGxIaXRlZEJ0c31gXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRzSGl0VGltZXJbYCR7aWZOdWxsSGl0ZWRCdHN9YF0gPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2lmTnVsbEhpdGVkQnRzfWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNsYXN0aGl0LSR7YnRzSW5mb01hcC5nZXQoaWZOdWxsSGl0ZWRCdHMpLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYnkgY2FpaG9uZ3l1biBzdGFydFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYnkgY2FpaG9uZ3l1biBlbmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICAvKiDliKTmlq3ln7rnq5nmmK/lkKblt7Lnu4/lnKjlnLDlm77kuIrvvIzlj6rnu5jliLbmlrDlop7nmoTln7rnq5kqL1xyXG4gICAgICAgIGxldCB1bmV4aXN0QnRzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidHNCYXNlSW5mby5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgYnRzaWQgPSBCdHNWYWx1ZS5idHNUYWcoYnRzQmFzZUluZm9baV0uYnRzSW5mby5tb2RlLCBidHNCYXNlSW5mb1tpXS5idHNJbmZvLm1jYywgYnRzQmFzZUluZm9baV0uYnRzSW5mby5tbmMsIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8ubGFjVGFjLCBidHNCYXNlSW5mb1tpXS5idHNJbmZvLnNpZCwgYnRzQmFzZUluZm9baV0uYnRzSW5mby5uaWQsIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8uYmlkLCBidHNCYXNlSW5mb1tpXS5idHNJbmZvLmNlbGxJZCk7XHJcbiAgICAgICAgICAgIGlmIChidHNJbmZvTWFwLmdldChidHNpZCkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdW5leGlzdEJ0cy5wdXNoKGJ0c0Jhc2VJbmZvW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBidHNJbmZvTWFwLmZvckVhY2goKGVhY2hCdHMpID0+IHtcclxuICAgICAgICAvLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidHNCYXNlSW5mby5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vICAgICAgICAgbGV0IGJ0c2lkID0gQnRzVmFsdWUuYnRzVGFnKGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8ubW9kZSwgYnRzQmFzZUluZm9baV0uYnRzSW5mby5tY2MsIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8ubW5jLCBidHNCYXNlSW5mb1tpXS5idHNJbmZvLmxhY1RhYywgYnRzQmFzZUluZm9baV0uYnRzSW5mby5zaWQsIGJ0c0Jhc2VJbmZvW2ldLmJ0c0luZm8ubmlkLCBidHNCYXNlSW5mb1tpXS5idHNJbmZvLmJpZCwgYnRzQmFzZUluZm9baV0uYnRzSW5mby5jZWxsSWQpO1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKGJ0c2lkID09IGVhY2hCdHMuYnRzSWQpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBidHNCYXNlSW5mby5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICAvKiDnrZvpgInkv6Hmga/kuK3mmK/lkKbljIXlkKtHUFPlnZDmoIcqL1xyXG4gICAgICAgIGxldCBjYXJCdHMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVuZXhpc3RCdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGxuZyA9IHVuZXhpc3RCdHNbaV0uYnRzSW5mby5sbmc7XHJcbiAgICAgICAgICAgIGxldCBsYXQgPSB1bmV4aXN0QnRzW2ldLmJ0c0luZm8ubGF0O1xyXG4gICAgICAgICAgICBpZiAobG5nICE9IG51bGwgJiYgbGF0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNhckJ0cy5wdXNoKHVuZXhpc3RCdHNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2V0QnRzQmFpZHVQb2ludChjYXJCdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRCdHNCYWlkdVBvaW50KEJ0c0luZm8pIHtcclxuICAgICAgICBpZiAoQnRzSW5mby5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBwb2ludEFycmF5ID0gW107XHJcbiAgICAgICAgICAgIGxldCBwb2ludEFycmF5U2luZ2xlID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBCdHNJbmZvLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbG5nID0gQnRzSW5mb1tpXS5idHNJbmZvLmxuZztcclxuICAgICAgICAgICAgICAgIGxldCBsYXQgPSBCdHNJbmZvW2ldLmJ0c0luZm8ubGF0O1xyXG4gICAgICAgICAgICAgICAgbGV0IHBvaW50ID0gW2xuZywgbGF0XTtcclxuICAgICAgICAgICAgICAgIHBvaW50QXJyYXkucHVzaChwb2ludCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGJ0c0JkUG9pbnRzID0gR1BTVG9CYWlkdVBvaW50LmdldEJhaWR1UG9pbnRMb2NhdGlvbihwb2ludEFycmF5KTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnRzQmRQb2ludHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIEJ0c0luZm9baV0uYnRzSW5mby5sbmcgPSBidHNCZFBvaW50c1tpXS5sbmc7XHJcbiAgICAgICAgICAgICAgICBCdHNJbmZvW2ldLmJ0c0luZm8ubGF0ID0gYnRzQmRQb2ludHNbaV0ubGF0O1xyXG4gICAgICAgICAgICAgICAgLyog5L+d5a2Y6IezbWFwKi9cclxuICAgICAgICAgICAgICAgIEJ0c0luZm9baV0uYnRzSW5mby5idHNJZCA9IEJ0c0luZm9baV0uYnRzSWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnRzSW5mb01hcC5nZXQoQnRzSW5mb1tpXS5idHNJZCkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0c0luZm9NYXAuc2V0KEJ0c0luZm9baV0uYnRzSWQsIEJ0c0luZm9baV0uYnRzSW5mbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgRHJhd0J0c092ZXJsYXkuZHJhd0J0cyhbQnRzSW5mb1tpXV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qIOebruagh+Wwj+WMuiovXHJcbiAgICBzdGF0aWMgc2hvd1RhcmdldENlbGwoKSB7XHJcbiAgICAgICAgLyog6K6+572u6aKc6Imy5oiW57uY5Yi255uu5qCH5Z+656uZKi9cclxuICAgICAgICB0YXJnZXRDZWxsSW5mb3NDYWNoZS5mb3JFYWNoKChlYWNoVGFyZ2V0QnRzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChidHNJbmZvTWFwLmdldChlYWNoVGFyZ2V0QnRzLmJ0c0lkKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2VhY2hUYXJnZXRCdHMuYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1pbWctdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAkKGAuYnRzLWNsaWNrLSR7ZWFjaFRhcmdldEJ0cy5idHNJZH1gKS5yZW1vdmVDbGFzcygnYnRzLWNsaWNrLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtlYWNoVGFyZ2V0QnRzLmJ0c0lkfWApLnJlbW92ZUNsYXNzKCdncmF5LWNvdmVyJyk7IC8vIOWOu+mZpOeBsOiJsua7pOmVnFxyXG4gICAgICAgICAgICAgICAgJChgLmJ0cy1jbGljay0ke2VhY2hUYXJnZXRCdHMuYnRzSWR9YCkuY3NzKCd6LWluZGV4JywgNjAwMCk7IC8vIHrovbTnva7pobZcclxuICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZWFjaFRhcmdldEJ0cy5idHNJZH1gKS5hdHRyKCdzcmMnLCBgaW1nL2J0c2ljb24vYnRzaWNvbnRhcmdldC0ke2VhY2hUYXJnZXRCdHMubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlYWNoVGFyZ2V0QnRzLmlzSW5mb1BhbmVsT3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZWFjaFRhcmdldEJ0cy5pc1JhZGl1c09wZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGVhY2hUYXJnZXRCdHMubmVlZERyYXcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnRzSW5mb01hcC5zZXQoZWFjaFRhcmdldEJ0cy5idHNJZCwgZWFjaFRhcmdldEJ0cyk7XHJcbiAgICAgICAgICAgICAgICBEcmF3QnRzVGFyZ2V0T3ZlcmxheS5kcmF3QnRzKGVhY2hUYXJnZXRCdHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyog57uY5Yi257qi6Imy6Lev5b6EKi9cclxuICAgICAgICBkZXZJbmZvTWFwLmZvckVhY2goKGVhY2hEZXZJbmZvKSA9PiB7XHJcbiAgICAgICAgICAgIC8qIOebruagh+Wwj+WMuiovXHJcbiAgICAgICAgICAgIGlmIChlYWNoRGV2SW5mby5kZXZUeXBlID09IDEgJiYgdGFyZ2V0Q2VsbEluZm9zQ2FjaGUuc2l6ZSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Q2VsbExpbmVDYWNoZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkodGFyZ2V0Q2VsbExpbmVDYWNoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q2VsbExpbmVDYWNoZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0Q2VsbFBvaW50O1xyXG4gICAgICAgICAgICAgICAgbGV0IGxuZ0FsbCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGF0QWxsID0gMDtcclxuICAgICAgICAgICAgICAgIHRhcmdldENlbGxJbmZvc0NhY2hlLmZvckVhY2goKGVhY2hUYXJnZXRCdHMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsbmdBbGwgPSBsbmdBbGwgKyBOdW1iZXIoZWFjaFRhcmdldEJ0cy5sbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhdEFsbCA9IGxhdEFsbCArIE51bWJlcihlYWNoVGFyZ2V0QnRzLmxhdCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRhcmdldENlbGxQb2ludCA9IHsgbG5nOiBsbmdBbGwgLyB0YXJnZXRDZWxsSW5mb3NDYWNoZS5zaXplLCBsYXQ6IGxhdEFsbCAvIHRhcmdldENlbGxJbmZvc0NhY2hlLnNpemUgfTtcclxuICAgICAgICAgICAgICAgIGxldCBiYWlkdUdwc0luZm8gPSBHUFNUb0JhaWR1UG9pbnQuZ2V0QmFpZHVQb2ludExvY2F0aW9uKFtbZWFjaERldkluZm8uZ3BzSW5mby5sbmcsIGVhY2hEZXZJbmZvLmdwc0luZm8ubGF0XV0pWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hcC5nZXREaXN0YW5jZShuZXcgQk1hcC5Qb2ludChiYWlkdUdwc0luZm8ubG5nLCBiYWlkdUdwc0luZm8ubGF0KSwgbmV3IEJNYXAuUG9pbnQodGFyZ2V0Q2VsbFBvaW50LmxuZywgdGFyZ2V0Q2VsbFBvaW50LmxhdCkpID4gNTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldENlbGxMaW5lID0gbmV3IEJNYXAuUG9seWxpbmUoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQk1hcC5Qb2ludCh0YXJnZXRDZWxsUG9pbnQubG5nLCB0YXJnZXRDZWxsUG9pbnQubGF0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJNYXAuUG9pbnQoYmFpZHVHcHNJbmZvLmxuZywgYmFpZHVHcHNJbmZvLmxhdCksXHJcbiAgICAgICAgICAgICAgICAgICAgXSwgeyBzdHJva2VDb2xvcjogJ3JlZCcsIHN0cm9rZVdlaWdodDogMSwgc3Ryb2tlT3BhY2l0eTogMSB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRDZWxsTGluZUNhY2hlID0gdGFyZ2V0Q2VsbExpbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmFkZE92ZXJsYXkodGFyZ2V0Q2VsbExpbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgLy/pooTplIHln7rnq5lcclxuICAgIHN0YXRpYyBzaG93UHJlTG9ja0NlbGwoKSB7XHJcblxyXG4gICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZXZQcmVMb2NrQ2VsbENsZWFySW5mb3NDYWNoZSkubGVuZ3RoICE9IDApIHtcclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGRldlByZUxvY2tDZWxsQ2xlYXJJbmZvc0NhY2hlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnRzSW5mb01hcC5nZXQoa2V5KSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQoYC5idHMtaW1nLSR7a2V5fWApLmhhc0NsYXNzKCdidHMtaW1nLXVuaGl0JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtrZXl9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2ljb24tJHtkZXZQcmVMb2NrQ2VsbENsZWFySW5mb3NDYWNoZVtrZXldfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2tleX1gKS5hdHRyKCdzcmMnLCBgaW1nL2J0c2ljb24vYnRzaWNvbmhpdC0ke2RldlByZUxvY2tDZWxsQ2xlYXJJbmZvc0NhY2hlW2tleV19LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkoZGV2UHJlTG9ja0NlbGxDbGVhckluZm9zQ2FjaGVba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGV2UHJlTG9ja0NlbGxDbGVhckluZm9zQ2FjaGUgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyog6K6+572u6aKc6Imy5oiW57uY5Yi255uu5qCH5Z+656uZKi9cclxuICAgICAgICBkZXZQcmVMb2NrQ2VsbEluZm9zQ2FjaGUuZm9yRWFjaCgoZWFjaFByZUxvY2tCdHMpID0+IHtcclxuICAgICAgICAgICAgaWYgKGJ0c0luZm9NYXAuZ2V0KGVhY2hQcmVMb2NrQnRzLmJ0c0lkKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJChgLmJ0cy1pbWctJHtlYWNoUHJlTG9ja0J0cy5idHNJZH1gKS5oYXNDbGFzcygnYnRzLWltZy11bmhpdCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gJChgLmJ0cy1pbWctJHtlYWNoUHJlTG9ja0J0cy5idHNJZH1gKS5yZW1vdmVDbGFzcygnYnRzLWltZy11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAvLyAkKGAuYnRzLWNsaWNrLSR7ZWFjaFByZUxvY2tCdHMuYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1jbGljay11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2VhY2hQcmVMb2NrQnRzLmJ0c0lkfWApLnJlbW92ZUNsYXNzKCdncmF5LWNvdmVyJyk7IC8vIOWOu+mZpOeBsOiJsua7pOmVnFxyXG4gICAgICAgICAgICAgICAgICAgICQoYC5idHMtY2xpY2stJHtlYWNoUHJlTG9ja0J0cy5idHNJZH1gKS5jc3MoJ3otaW5kZXgnLCA2MDAwKTsgLy8geui9tOe9rumhtlxyXG4gICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZWFjaFByZUxvY2tCdHMuYnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2ljb250YXJnZXQtJHtlYWNoUHJlTG9ja0J0cy5tb2RlfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgICAgICBkZXZQcmVMb2NrQ2VsbENsZWFySW5mb3NDYWNoZVtlYWNoUHJlTG9ja0J0cy5idHNJZF0gPSBlYWNoUHJlTG9ja0J0cy5tb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWFjaFByZUxvY2tCdHMuaXNJbmZvUGFuZWxPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBlYWNoUHJlTG9ja0J0cy5pc1JhZGl1c09wZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGVhY2hQcmVMb2NrQnRzLm5lZWREcmF3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIGJ0c0luZm9NYXAuc2V0KGVhY2hQcmVMb2NrQnRzLmJ0c0lkLCBlYWNoUHJlTG9ja0J0cyk7XHJcbiAgICAgICAgICAgICAgICBEcmF3QnRzUHJlTG9ja092ZXJsYXkuZHJhd0J0cyhlYWNoUHJlTG9ja0J0cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGRldlByZUxvY2tDZWxsTGluZUNhY2hlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkoZGV2UHJlTG9ja0NlbGxMaW5lQ2FjaGUpO1xyXG4gICAgICAgICAgICBkZXZQcmVMb2NrQ2VsbExpbmVDYWNoZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIOe7mOWItue6ouiJsui3r+W+hCovXHJcbiAgICAgICAgZGV2SW5mb01hcC5mb3JFYWNoKChlYWNoRGV2SW5mbykgPT4ge1xyXG4gICAgICAgICAgICAvKiDnm67moIflsI/ljLoqL1xyXG4gICAgICAgICAgICBpZiAoZWFjaERldkluZm8uZGV2VHlwZSA9PSAxICYmIGRldlByZUxvY2tDZWxsSW5mb3NDYWNoZS5zaXplICE9IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBwcmVMb2NrQ2VsbFBvaW50O1xyXG4gICAgICAgICAgICAgICAgbGV0IGxuZ0FsbCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGF0QWxsID0gMDtcclxuICAgICAgICAgICAgICAgIGRldlByZUxvY2tDZWxsSW5mb3NDYWNoZS5mb3JFYWNoKChlYWNoUHJlTG9ja0J0cykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxuZ0FsbCA9IGxuZ0FsbCArIE51bWJlcihlYWNoUHJlTG9ja0J0cy5sbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhdEFsbCA9IGxhdEFsbCArIE51bWJlcihlYWNoUHJlTG9ja0J0cy5sYXQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBwcmVMb2NrQ2VsbFBvaW50ID0geyBsbmc6IGxuZ0FsbCAvIGRldlByZUxvY2tDZWxsSW5mb3NDYWNoZS5zaXplLCBsYXQ6IGxhdEFsbCAvIGRldlByZUxvY2tDZWxsSW5mb3NDYWNoZS5zaXplIH07XHJcbiAgICAgICAgICAgICAgICBsZXQgYmFpZHVHcHNJbmZvID0gR1BTVG9CYWlkdVBvaW50LmdldEJhaWR1UG9pbnRMb2NhdGlvbihbW2VhY2hEZXZJbmZvLmdwc0luZm8ubG5nLCBlYWNoRGV2SW5mby5ncHNJbmZvLmxhdF1dKVswXTtcclxuICAgICAgICAgICAgICAgIGlmIChtYXAuZ2V0RGlzdGFuY2UobmV3IEJNYXAuUG9pbnQoYmFpZHVHcHNJbmZvLmxuZywgYmFpZHVHcHNJbmZvLmxhdCksIG5ldyBCTWFwLlBvaW50KHByZUxvY2tDZWxsUG9pbnQubG5nLCBwcmVMb2NrQ2VsbFBvaW50LmxhdCkpID4gNTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRldlByZUxvY2tDZWxsTGluZSA9IG5ldyBCTWFwLlBvbHlsaW5lKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJNYXAuUG9pbnQocHJlTG9ja0NlbGxQb2ludC5sbmcsIHByZUxvY2tDZWxsUG9pbnQubGF0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJNYXAuUG9pbnQoYmFpZHVHcHNJbmZvLmxuZywgYmFpZHVHcHNJbmZvLmxhdCksXHJcbiAgICAgICAgICAgICAgICAgICAgXSwgeyBzdHJva2VDb2xvcjogJ3JlZCcsIHN0cm9rZVdlaWdodDogMSwgc3Ryb2tlT3BhY2l0eTogMSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGV2UHJlTG9ja0NlbGxMaW5lQ2FjaGUgPSBkZXZQcmVMb2NrQ2VsbExpbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmFkZE92ZXJsYXkoZGV2UHJlTG9ja0NlbGxMaW5lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcblxyXG4gICAgLyog5Z+656uZ6Kej5p6Q6L+b5bqmKi9cclxuICAgIHN0YXRpYyBjZWxsQW5hbHlzaXMoZGV2U3RhdGVJbmZvTWFwKSB7XHJcbiAgICAgICAgLyog6auY57qn6Z2i5p2/5pi+56S66YCa6YGT5L+h5oGvKi9cclxuICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgIGxldCBMdGVDb25FZmZlY3RpdmUgPSAwO1xyXG4gICAgICAgIGxldCBXY2RtYUNvbkVmZmVjdGl2ZSA9IDA7XHJcbiAgICAgICAgbGV0IENkbWFDb25FZmZlY3RpdmUgPSAwO1xyXG4gICAgICAgIGxldCBHc21Db25FZmZlY3RpdmUgPSAwO1xyXG5cclxuICAgICAgICBsZXQgTHRlQ29uRWZmZWN0aXZlTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGxldCBXY2RtYUNvbkVmZmVjdGl2ZU1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICBsZXQgQ2RtYUNvbkVmZmVjdGl2ZU1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICBsZXQgR3NtQ29uRWZmZWN0aXZlTWFwID0gbmV3IE1hcCgpO1xyXG5cclxuICAgICAgICBsZXQgYW5hbHlzaXNJbmZvTWFwRWFjaCA9IG5ldyBNYXAoKTtcclxuICAgICAgICBhbmFseXNpc0luZm9IaXRNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICBmb3IgKGxldCBkZXYgaW4gZGV2U3RhdGVJbmZvTWFwKSB7XHJcbiAgICAgICAgICAgIGxldCBpbmZvTGlzdCA9IGRldlN0YXRlSW5mb01hcFtkZXZdLmNlbGxBbmFseXNpc0luZm9MaXN0O1xyXG4gICAgICAgICAgICBsZXQgY2hhbm5lbEluZm9IdG1sID0gJyc7XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgIGxldCBhbmFseXNpc0luZm9NYXBOb3cgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIGxldCBhZHZhbmNlSW5mb0h0bWxMdGUgPSAnJztcclxuICAgICAgICAgICAgbGV0IGFkdmFuY2VJbmZvSHRtbFdjZG1hID0gJyc7XHJcbiAgICAgICAgICAgIGxldCBhZHZhbmNlSW5mb0h0bWxDZG1hID0gJyc7XHJcbiAgICAgICAgICAgIGxldCBhZHZhbmNlSW5mb0h0bWxHc20gPSAnJztcclxuICAgICAgICAgICAgbGV0IGFkdmFuY2VJbmZvSHRtbEx0ZUNvbiA9IDA7XHJcbiAgICAgICAgICAgIGxldCBhZHZhbmNlSW5mb0h0bWxXY2RtYUNvbiA9IDA7XHJcbiAgICAgICAgICAgIGxldCBhZHZhbmNlSW5mb0h0bWxDZG1hQ29uID0gMDtcclxuICAgICAgICAgICAgbGV0IGFkdmFuY2VJbmZvSHRtbEdzbUNvbiA9IDA7XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICAgICAgICAgIGlmIChpbmZvTGlzdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZm9MaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICBhbmFseXNpc0luZm9NYXBOb3cuc2V0KGluZm9MaXN0W2ldLmJ0c0lkLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mb0xpc3RbaV0uaGl0VGltZXMgIT0gbnVsbCAmJiBpbmZvTGlzdFtpXS5oaXRUaW1lcyAhPSB1bmRlZmluZWQgJiYgaW5mb0xpc3RbaV0uaGl0VGltZXMgIT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5hbHlzaXNJbmZvTWFwTm93LnNldChpbmZvTGlzdFtpXS5idHNJZCwgYW5hbHlzaXNJbmZvTWFwTm93LmdldChpbmZvTGlzdFtpXS5idHNJZCkgKyBpbmZvTGlzdFtpXS5oaXRUaW1lcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJ0c0lkQXJyID0gaW5mb0xpc3RbaV0uYnRzSWQuc3BsaXQoJy0nKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGVyYztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mb0xpc3RbaV0ubW9kZSAhPSAnY2RtYScgJiYgaW5mb0xpc3RbaV0ubW9kZSAhPSAnd2NkbWEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmMgPSBpbmZvTGlzdFtpXS5icm9hZGNhc3RQZXJjZW50ICsgJyUnICsgJy0nICsgaW5mb0xpc3RbaV0uZGVkaWNhdGVkUGVyY2VudCArICclJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJjID0gaW5mb0xpc3RbaV0uYnJvYWRjYXN0UGVyY2VudCArICclJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhbmVsSGl0VGltZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ0c0luZm9NYXAuZ2V0KGluZm9MaXN0W2ldLmJ0c0lkKSA9PSBudWxsIHx8IGJ0c0luZm9NYXAuZ2V0KGluZm9MaXN0W2ldLmJ0c0lkKS5oaXRUaW1lcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsSGl0VGltZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsSGl0VGltZXMgPSBidHNJbmZvTWFwLmdldChpbmZvTGlzdFtpXS5idHNJZCkuaGl0VGltZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhcmVhY29kZSA9IGluZm9MaXN0W2ldLm1vZGUgPT0gJ2NkbWEnID8gYCR7YnRzSWRBcnJbYnRzSWRBcnIubGVuZ3RoIC0gM119LSR7YnRzSWRBcnJbYnRzSWRBcnIubGVuZ3RoIC0gMl19LSR7YnRzSWRBcnJbYnRzSWRBcnIubGVuZ3RoIC0gMV19YCA6IGAke2J0c0lkQXJyW2J0c0lkQXJyLmxlbmd0aCAtIDJdfS0ke2J0c0lkQXJyW2J0c0lkQXJyLmxlbmd0aCAtIDFdfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8ke2J0c0lkQXJyW2J0c0lkQXJyLmxlbmd0aCAtIDJdfS0ke2J0c0lkQXJyW2J0c0lkQXJyLmxlbmd0aCAtIDFdfVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbmZvSHRtbCA9IGNoYW5uZWxJbmZvSHRtbCArIGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPVwid2lkdGg6IDExNXB4O1wiPiR7aW5mb0xpc3RbaV0uZnJlcVBjaX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPVwid2lkdGg6IDEzNXB4O1wiPiR7YXJlYWNvZGV9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT1cIndpZHRoOiA4NnB4OyBjb2xvcjogcmdiKDAsIDEyNSwgMjIyKVwiPiR7cGVyY308L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPVwid2lkdGg6IDUwcHg7XCI+JHtwYW5lbEhpdFRpbWVzfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9XCJ3aWR0aDogMzRweDsgY29sb3I6ICNmZjAwMDBcIj4ke2luZm9MaXN0W2ldLmRibX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPVwid2lkdGg6IDM0cHg7XCI+PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZm9MaXN0W2ldLm1vZGUgPT0gJ2x0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkdmFuY2VJbmZvSHRtbEx0ZUNvbiAlIDIgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZUluZm9IdG1sTHRlID0gYWR2YW5jZUluZm9IdG1sTHRlICsgYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtb2RkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYnRzXCI+JHtpbmZvTGlzdFtpXS5mcmVxUGNpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWxvY2F0aW9uY29kZVwiPiR7YXJlYWNvZGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYW5hbHlzaXNcIj4ke3BlcmN9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYmlkXCI+JHtpbmZvTGlzdFtpXS5oaXRUaW1lcyAhPSB1bmRlZmluZWQgPyBpbmZvTGlzdFtpXS5oaXRUaW1lcyA6IDB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtZmllbGRzdHJlbmd0aFwiPiR7aW5mb0xpc3RbaV0uZGJtfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlSW5mb0h0bWxMdGUgPSBhZHZhbmNlSW5mb0h0bWxMdGUgKyBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1ldmVuXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYnRzXCI+JHtpbmZvTGlzdFtpXS5mcmVxUGNpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWxvY2F0aW9uY29kZVwiPiR7YXJlYWNvZGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYW5hbHlzaXNcIj4ke3BlcmN9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYmlkXCI+JHtpbmZvTGlzdFtpXS5oaXRUaW1lcyAhPSB1bmRlZmluZWQgPyBpbmZvTGlzdFtpXS5oaXRUaW1lcyA6IDB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtZmllbGRzdHJlbmd0aFwiPiR7aW5mb0xpc3RbaV0uZGJtfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZUluZm9IdG1sTHRlQ29uKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZvTGlzdFtpXS5hbmFseXNpc0ZsYWcgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTHRlQ29uRWZmZWN0aXZlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTHRlQ29uRWZmZWN0aXZlTWFwLmdldChhcmVhY29kZSkgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTHRlQ29uRWZmZWN0aXZlTWFwLnNldChhcmVhY29kZSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZm9MaXN0W2ldLm1vZGUgPT0gJ3djZG1hJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWR2YW5jZUluZm9IdG1sV2NkbWFDb24gJSAyID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2VJbmZvSHRtbFdjZG1hID0gYWR2YW5jZUluZm9IdG1sV2NkbWEgKyBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1vZGRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1idHNcIj4ke2luZm9MaXN0W2ldLmZyZXFQY2l9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtbG9jYXRpb25jb2RlXCI+JHthcmVhY29kZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1hbmFseXNpc1wiPiR7cGVyY308L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1iaWRcIj4ke2luZm9MaXN0W2ldLmhpdFRpbWVzICE9IHVuZGVmaW5lZCA/IGluZm9MaXN0W2ldLmhpdFRpbWVzIDogMH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1maWVsZHN0cmVuZ3RoXCI+JHtpbmZvTGlzdFtpXS5kYm19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2VJbmZvSHRtbFdjZG1hID0gYWR2YW5jZUluZm9IdG1sV2NkbWEgKyBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1ldmVuXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYnRzXCI+JHtpbmZvTGlzdFtpXS5mcmVxUGNpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWxvY2F0aW9uY29kZVwiPiR7YXJlYWNvZGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYW5hbHlzaXNcIj4ke3BlcmN9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYmlkXCI+JHtpbmZvTGlzdFtpXS5oaXRUaW1lcyAhPSB1bmRlZmluZWQgPyBpbmZvTGlzdFtpXS5oaXRUaW1lcyA6IDB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtZmllbGRzdHJlbmd0aFwiPiR7aW5mb0xpc3RbaV0uZGJtfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZUluZm9IdG1sV2NkbWFDb24rKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm9MaXN0W2ldLmFuYWx5c2lzRmxhZyA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXY2RtYUNvbkVmZmVjdGl2ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFdjZG1hQ29uRWZmZWN0aXZlTWFwLmdldChhcmVhY29kZSkgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV2NkbWFDb25FZmZlY3RpdmVNYXAuc2V0KGFyZWFjb2RlLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mb0xpc3RbaV0ubW9kZSA9PSAnY2RtYScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkdmFuY2VJbmZvSHRtbENkbWFDb24gJSAyID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2VJbmZvSHRtbENkbWEgPSBhZHZhbmNlSW5mb0h0bWxDZG1hICsgYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtb2RkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYnRzXCI+JHtpbmZvTGlzdFtpXS5mcmVxUGNpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWxvY2F0aW9uY29kZVwiPiR7YXJlYWNvZGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYW5hbHlzaXNcIj4ke3BlcmN9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYmlkXCI+JHtpbmZvTGlzdFtpXS5oaXRUaW1lcyAhPSB1bmRlZmluZWQgPyBpbmZvTGlzdFtpXS5oaXRUaW1lcyA6IDB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtZmllbGRzdHJlbmd0aFwiPiR7aW5mb0xpc3RbaV0uZGJtfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlSW5mb0h0bWxDZG1hID0gYWR2YW5jZUluZm9IdG1sQ2RtYSArIGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWV2ZW5cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1idHNcIj4ke2luZm9MaXN0W2ldLmZyZXFQY2l9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtbG9jYXRpb25jb2RlXCI+JHthcmVhY29kZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1hbmFseXNpc1wiPiR7cGVyY308L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1iaWRcIj4ke2luZm9MaXN0W2ldLmhpdFRpbWVzICE9IHVuZGVmaW5lZCA/IGluZm9MaXN0W2ldLmhpdFRpbWVzIDogMH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1maWVsZHN0cmVuZ3RoXCI+JHtpbmZvTGlzdFtpXS5kYm19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlSW5mb0h0bWxDZG1hQ29uKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZvTGlzdFtpXS5hbmFseXNpc0ZsYWcgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2RtYUNvbkVmZmVjdGl2ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENkbWFDb25FZmZlY3RpdmVNYXAuZ2V0KGFyZWFjb2RlKSA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDZG1hQ29uRWZmZWN0aXZlTWFwLnNldChhcmVhY29kZSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZm9MaXN0W2ldLm1vZGUgPT0gJ2dzbScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkdmFuY2VJbmZvSHRtbEdzbUNvbiAlIDIgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZUluZm9IdG1sR3NtID0gYWR2YW5jZUluZm9IdG1sR3NtICsgYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtb2RkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYnRzXCI+JHtpbmZvTGlzdFtpXS5mcmVxUGNpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWxvY2F0aW9uY29kZVwiPiR7YXJlYWNvZGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYW5hbHlzaXNcIj4ke3BlcmN9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYmlkXCI+JHtpbmZvTGlzdFtpXS5oaXRUaW1lcyAhPSB1bmRlZmluZWQgPyBpbmZvTGlzdFtpXS5oaXRUaW1lcyA6IDB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtZmllbGRzdHJlbmd0aFwiPiR7aW5mb0xpc3RbaV0uZGJtfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlSW5mb0h0bWxHc20gPSBhZHZhbmNlSW5mb0h0bWxHc20gKyBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1ldmVuXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYnRzXCI+JHtpbmZvTGlzdFtpXS5mcmVxUGNpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWxvY2F0aW9uY29kZVwiPiR7YXJlYWNvZGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYW5hbHlzaXNcIj4ke3BlcmN9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtYmlkXCI+JHtpbmZvTGlzdFtpXS5oaXRUaW1lcyAhPSB1bmRlZmluZWQgPyBpbmZvTGlzdFtpXS5oaXRUaW1lcyA6IDB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQtZmllbGRzdHJlbmd0aFwiPiR7aW5mb0xpc3RbaV0uZGJtfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZUluZm9IdG1sR3NtQ29uKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZvTGlzdFtpXS5hbmFseXNpc0ZsYWcgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgR3NtQ29uRWZmZWN0aXZlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoR3NtQ29uRWZmZWN0aXZlTWFwLmdldChhcmVhY29kZSkgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3NtQ29uRWZmZWN0aXZlTWFwLnNldChhcmVhY29kZSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICQoYC5jaGFubmVsLWluZm8tdGFibGUtdGJvZHktJHtkZXZ9YCkuaHRtbChjaGFubmVsSW5mb0h0bWwpO1xyXG4gICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICQoYC5hZHZhbmNlLWluZm8tY29udGVudC1jb250YWluZXItJHtkZXZ9LWx0ZWApLmh0bWwoYWR2YW5jZUluZm9IdG1sTHRlKTtcclxuICAgICAgICAgICAgICAgICQoYC5hZHZhbmNlLWluZm8tY29udGVudC1jb250YWluZXItJHtkZXZ9LXdjZG1hYCkuaHRtbChhZHZhbmNlSW5mb0h0bWxXY2RtYSk7XHJcbiAgICAgICAgICAgICAgICAkKGAuYWR2YW5jZS1pbmZvLWNvbnRlbnQtY29udGFpbmVyLSR7ZGV2fS1jZG1hYCkuaHRtbChhZHZhbmNlSW5mb0h0bWxDZG1hKTtcclxuICAgICAgICAgICAgICAgICQoYC5hZHZhbmNlLWluZm8tY29udGVudC1jb250YWluZXItJHtkZXZ9LWdzbWApLmh0bWwoYWR2YW5jZUluZm9IdG1sR3NtKTtcclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYW5hbHlzaXNJbmZvTWFwRWFjaC5zZXQoZGV2LCBhbmFseXNpc0luZm9NYXBOb3cpO1xyXG4gICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICBpZiAoZGV2U3RhdGVJbmZvTWFwW2Rldl0ucmVwb3J0VGltZSAhPSBcIlwiICYmIGRldlN0YXRlSW5mb01hcFtkZXZdLnJlcG9ydFRpbWUgIT0gdW5kZWZpbmVkICYmIGRldlN0YXRlSW5mb01hcFtkZXZdLnJlcG9ydFRpbWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgJChgLmFkdmFuY2UtaW5mby10aW1lLSR7ZGV2fWApLmh0bWwobmV3IERhdGUoZGV2U3RhdGVJbmZvTWFwW2Rldl0ucmVwb3J0VGltZSkuRm9ybWF0KCdoaDptbTpzcycpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQqL1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgIC8vIGFuYWx5c2lzSW5mb01hcCA9IGFuYWx5c2lzSW5mb01hcEVhY2g7XHJcbiAgICAgICAgLy8gZGV2RHJhd0luZm9NYXAuZm9yRWFjaCgoZWFjaERldikgPT4ge1xyXG4gICAgICAgIC8vICAgICBpZiAoYW5hbHlzaXNJbmZvTWFwLmdldChlYWNoRGV2LmRldkNvZGUpICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgZm9yIChsZXQga2V5IG9mIGFuYWx5c2lzSW5mb01hcC5nZXQoZWFjaERldi5kZXZDb2RlKS5rZXlzKCkpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBpZiAoYW5hbHlzaXNJbmZvTWFwLmdldChlYWNoRGV2LmRldkNvZGUpLmdldChrZXkpICE9IDApIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgYW5hbHlzaXNJbmZvSGl0TWFwLnNldChrZXksIGFuYWx5c2lzSW5mb01hcC5nZXQoZWFjaERldi5kZXZDb2RlKS5nZXQoa2V5KSArIChhbmFseXNpc0luZm9IaXRNYXAuZ2V0KGtleSkgIT0gdW5kZWZpbmVkID8gYW5hbHlzaXNJbmZvSGl0TWFwLmdldChrZXkpIDogMCkpO1xyXG5cclxuICAgICAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhhbmFseXNpc0luZm9IaXRNYXApO1xyXG4gICAgICAgIC8vIGZvciAobGV0IGtleSBvZiBhbmFseXNpc0luZm9IaXRNYXAua2V5cygpKSB7XHJcbiAgICAgICAgLy8gICAgIGlmIChidHNJbmZvTWFwLmdldChrZXkpICE9IG51bGwpIHtcclxuICAgICAgICAvLyAgICAgICAgICQoYC5idHMtaW1nLSR7a2V5fWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNpY29uaGl0LSR7YnRzSW5mb01hcC5nZXQoa2V5KS5tb2RlfS5wbmdgKTtcclxuICAgICAgICAvLyAgICAgICAgICQoYC5idHMtaGl0LWNvdW50LSR7a2V5fWApLmh0bWwoKGJ0c0luZm9NYXAuZ2V0KGtleSkuaGl0VGltZXMpICsgXCIvXCIgKyBhbmFseXNpc0luZm9IaXRNYXAuZ2V0KGtleSkpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAkKCcjZGF0YS1jaGFubmVsLWdzbScpLmh0bWwoR3NtQ29uRWZmZWN0aXZlTWFwLnNpemUgPCAxMCA/IFwiJm5ic3AmbmJzcFwiICsgR3NtQ29uRWZmZWN0aXZlTWFwLnNpemUgOiBHc21Db25FZmZlY3RpdmVNYXAuc2l6ZSk7XHJcbiAgICAgICAgJCgnI2RhdGEtY2hhbm5lbC1jZG1hJykuaHRtbChDZG1hQ29uRWZmZWN0aXZlTWFwLnNpemVmZWN0aXZlIDwgMTAgPyBcIiZuYnNwJm5ic3BcIiArIENkbWFDb25FZmZlY3RpdmVNYXAuc2l6ZSA6IENkbWFDb25FZmZlY3RpdmVNYXAuc2l6ZSk7XHJcbiAgICAgICAgJCgnI2RhdGEtY2hhbm5lbC13Y2RtYScpLmh0bWwoV2NkbWFDb25FZmZlY3RpdmVNYXAuc2l6ZSA8IDEwID8gXCImbmJzcCZuYnNwXCIgKyBXY2RtYUNvbkVmZmVjdGl2ZU1hcC5zaXplIDogV2NkbWFDb25FZmZlY3RpdmVNYXAuc2l6ZSk7XHJcbiAgICAgICAgJCgnI2RhdGEtY2hhbm5lbC1sdGUnKS5odG1sKEx0ZUNvbkVmZmVjdGl2ZU1hcC5zaXplIDwgMTAgPyBcIiZuYnNwJm5ic3BcIiArIEx0ZUNvbkVmZmVjdGl2ZU1hcC5zaXplIDogTHRlQ29uRWZmZWN0aXZlTWFwLnNpemUpO1xyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiBkZXZTdGF0ZUluZm9NYXApIHtcclxuICAgICAgICAgICAgaWYgKGRldlN0YXRlSW5mb01hcFtrZXldLmVuZXJneSAhPSBudWxsICYmIGRldlN0YXRlSW5mb01hcFtrZXldLmVuZXJneSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAkKGAjdGVhbS1lYWNoLWRldi1iYXR0ZXJ5LXZhbHVlLSR7ZGV2U3RhdGVJbmZvTWFwW2tleV0uZGV2Q29kZX1gKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICQoYCN0ZWFtLWVhY2gtZGV2LWJhdHRlcnktaWNvbi0ke2RldlN0YXRlSW5mb01hcFtrZXldLmRldkNvZGV9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAkKGAjdGVhbS1lYWNoLWRldi1iYXR0ZXJ5LXZhbHVlLSR7ZGV2U3RhdGVJbmZvTWFwW2tleV0uZGV2Q29kZX1gKS5odG1sKGAke2RldlN0YXRlSW5mb01hcFtrZXldLmVuZXJneX0lYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRldlN0YXRlSW5mb01hcFtrZXldLnRlbXBlcmF0dXJlICE9IG51bGwgJiYgZGV2U3RhdGVJbmZvTWFwW2tleV0udGVtcGVyYXR1cmUgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgJChgI3RlYW0tZWFjaC1kZXYtdGVtcGVyYXR1cmUtdmFsdWUtJHtkZXZTdGF0ZUluZm9NYXBba2V5XS5kZXZDb2RlfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgJChgI3RlYW0tZWFjaC1kZXYtdGVtcGVyYXR1cmUtaWNvbi0ke2RldlN0YXRlSW5mb01hcFtrZXldLmRldkNvZGV9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAkKGAjdGVhbS1lYWNoLWRldi10ZW1wZXJhdHVyZS12YWx1ZS0ke2RldlN0YXRlSW5mb01hcFtrZXldLmRldkNvZGV9YCkuaHRtbChgJHtkZXZTdGF0ZUluZm9NYXBba2V5XS50ZW1wZXJhdHVyZX3ihINgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAvKiDmmL7npLrkuIrooYzlop7nm4oqL1xyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiBkZXZTdGF0ZUluZm9NYXApIHtcclxuICAgICAgICAgICAgaWYgKGRldlN0YXRlSW5mb01hcFtrZXldLnVwR2FpblZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICQoYC51cGxpbmstZ2Fpbi1zdGF0dXMtcG90LSR7a2V5fWApLmNzcygnbGVmdCcsIGRldlN0YXRlSW5mb01hcFtrZXldLnVwR2FpblZhbHVlICsgJyUnKTtcclxuICAgICAgICAgICAgICAgICQoYC51cGxpbmstZ2Fpbi1zdGF0dXMtZ3JheS1jb3Zlci0ke2tleX1gKS5jc3MoJ3dpZHRoJywgKDEgLSBkZXZTdGF0ZUluZm9NYXBba2V5XS51cEdhaW5WYWx1ZSAvIDEwMCkgKiAxMDAgKyAnJScpO1xyXG4gICAgICAgICAgICAgICAgJChgLnVwbGluay1nYWluLXN0YXR1cy12YWx1ZS0ke2tleX1gKS5odG1sKGRldlN0YXRlSW5mb01hcFtrZXldLnVwR2FpblZhbHVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoYC51cGxpbmstZ2Fpbi1zdGF0dXMtcG90LSR7a2V5fWApLmNzcygnbGVmdCcsICcwJScpO1xyXG4gICAgICAgICAgICAgICAgJChgLnVwbGluay1nYWluLXN0YXR1cy1ncmF5LWNvdmVyLSR7a2V5fWApLmNzcygnd2lkdGgnLCAnMTAwJScpO1xyXG4gICAgICAgICAgICAgICAgJChgLnVwbGluay1nYWluLXN0YXR1cy12YWx1ZS0ke2tleX1gKS5odG1sKCcwJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyog5pi+56S66Kem5Y+R5L+h5oGvKi9cclxuICAgICAgICBpZiAodGhpc1BhZ2VUeXBlID09ICdSVEMnKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIChkZXZTdGF0ZUluZm9NYXAgIT0gbnVsbCAmJiBkZXZTdGF0ZUluZm9NYXBbY3VycmVudFZpZXdEZXZDb2RlXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBsZXQgdHJpZ2dlckluZm9WYWx1ZSA9IGRldlN0YXRlSW5mb01hcFtjdXJyZW50Vmlld0RldkNvZGVdLnRyaWdnZXJJbmZvO1xyXG4gICAgICAgICAgICAvLyAgICAgaWYgKHRyaWdnZXJJbmZvVmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICQoJyNzbXMtc2VuZC12YWx1ZScpLmh0bWwodHJpZ2dlckluZm9WYWx1ZS5zZW5kVGltZXMpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICQoJyNzbXMtZmluaXNoLXZhbHVlJykuaHRtbCh0cmlnZ2VySW5mb1ZhbHVlLmNvbXBsZXRlVGltZXMpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICQoJyNzbXMtcmVjZWlwdC12YWx1ZScpLmh0bWwodHJpZ2dlckluZm9WYWx1ZS5yZWNlaXB0VGltZXMpO1xyXG4gICAgICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAkKCcjc21zLXNlbmQtdmFsdWUnKS5odG1sKDApO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICQoJyNzbXMtZmluaXNoLXZhbHVlJykuaHRtbCgwKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAkKCcjc21zLXJlY2VpcHQtdmFsdWUnKS5odG1sKDApO1xyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIGlmIChkZXZTdGF0ZUluZm9NYXAgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGRldlN0YXRlSW5mb01hcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXZEcmF3SW5mb01hcC5nZXQoa2V5KS5kZXZUeXBlID09IDEgJiYgZGV2U3RhdGVJbmZvTWFwW2tleV0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHJpZ2dlckluZm9WYWx1ZSA9IGRldlN0YXRlSW5mb01hcFtrZXldLnRyaWdnZXJJbmZvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckluZm9WYWx1ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNtcy1pbmZvLWljb24nKS5jc3MoJ2JhY2tncm91bmQnLCBgdXJsKGltZy9pY29uL3Ntc18ke3RyaWdnZXJJbmZvVmFsdWUudHJpZ2dlclN0YXR1c30ucG5nKWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzbXMtc2VuZC12YWx1ZScpLmh0bWwodHJpZ2dlckluZm9WYWx1ZS5zZW5kVGltZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3Ntcy1maW5pc2gtdmFsdWUnKS5odG1sKHRyaWdnZXJJbmZvVmFsdWUuY29tcGxldGVUaW1lcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc21zLXJlY2VpcHQtdmFsdWUnKS5odG1sKHRyaWdnZXJJbmZvVmFsdWUucmVjZWlwdFRpbWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBfa2V5IGluIGRldlN0YXRlSW5mb01hcCkge1xyXG4gICAgICAgICAgICBpZiAoZGV2U3RhdGVJbmZvTWFwW19rZXldLmNlbGxBbmFseXNpc0luZm9MaXN0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBkZXZTdGF0ZUluZm9NYXApIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiDlpoLmnpzlvZPliY3op4bop5LkuK3ljIXlkKvph43lpI3nmoTln7rnq5nvvIzliJnku6XlvZPliY3op4bop5LnmoTln7rnq5nkuLrkuLvvvIzmuIXpmaTkuI7lvZPliY3op4bop5Lph43lpI3nmoTln7rnq5kqL1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gY3VycmVudFZpZXdEZXZDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZTdGF0ZUluZm9NYXBba2V5XS5jZWxsQW5hbHlzaXNJbmZvTGlzdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRldlN0YXRlSW5mb01hcFtrZXldLmNlbGxBbmFseXNpc0luZm9MaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzRXhpc3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV2U3RhdGVJbmZvTWFwW2N1cnJlbnRWaWV3RGV2Q29kZV0gIT0gbnVsbCAmJiBkZXZTdGF0ZUluZm9NYXBbY3VycmVudFZpZXdEZXZDb2RlXS5jZWxsQW5hbHlzaXNJbmZvTGlzdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZGV2U3RhdGVJbmZvTWFwW2N1cnJlbnRWaWV3RGV2Q29kZV0uY2VsbEFuYWx5c2lzSW5mb0xpc3QubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZTdGF0ZUluZm9NYXBba2V5XS5jZWxsQW5hbHlzaXNJbmZvTGlzdFtpXS5idHNJZCA9PSBkZXZTdGF0ZUluZm9NYXBbY3VycmVudFZpZXdEZXZDb2RlXS5jZWxsQW5hbHlzaXNJbmZvTGlzdFtqXS5idHNJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRXhpc3QgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0V4aXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldlN0YXRlSW5mb01hcFtrZXldLmNlbGxBbmFseXNpc0luZm9MaXN0LnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiDnu5jliLbln7rnq5nop6PmnpAqL1xyXG4gICAgICAgICAgICAgICAgRHJhd0J0c0FuYWx5c2lzLmRyYXdBbmFseXNpcyhkZXZTdGF0ZUluZm9NYXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L3BhcnNpbmcvUHJhc2luZ0J0c0luZm8uanNcbi8vIG1vZHVsZSBpZCA9IDIyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22\n");

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__overlay_BtsAnalysisOverlayConstructor_js__ = __webpack_require__(24);\n\r\n\r\nclass DrawBtsAnalysis {\r\n\r\n    static drawAnalysis(drawMap) {\r\n\r\n        /* 先移除所有解析进度*/\r\n        for (let i = 0; i < btsAnalysisOverlayCache.length; i++) {\r\n            map.removeOverlay(btsAnalysisOverlayCache[i]);\r\n        }\r\n        /* 置灰所有基站（排除红色和黄色基站）*/\r\n        $('.bts-img-unhit').addClass('gray-cover'); // 所有基站置灰\r\n        $('.bts-click-unhit').css('z-index', 5000); // z轴置底\r\n        btsAnalysisOverlayCache = [];\r\n        for (let key in drawMap) {\r\n            /* 是否置灰*/\r\n            let isGray;\r\n            if (devDrawInfoMap.get(key) != null) {\r\n                isGray = devDrawInfoMap.get(key).isCorrentView;\r\n            } else {\r\n                isGray = false;\r\n            }\r\n            /* 信息列表*/\r\n            let infoList = drawMap[key].cellAnalysisInfoList;\r\n            /* */\r\n            if (infoList != null) {\r\n                for (let i = 0; i < infoList.length; i++) {\r\n                    if (btsInfoMap.get(infoList[i].btsId) != null) {\r\n                        let lng = btsInfoMap.get(infoList[i].btsId).lng;\r\n                        let lat = btsInfoMap.get(infoList[i].btsId).lat;\r\n                        let mode = infoList[i].mode;\r\n                        let broadcastPercent = infoList[i].broadcastPercent;\r\n                        let dedicatedPercent;\r\n                        /* C网和W网只有一个，其余两个*/\r\n                        if (mode != 'cdma' && mode != 'wcdma') {\r\n                            dedicatedPercent = infoList[i].dedicatedPercent;\r\n                        }\r\n                        /* 如果命中次数==0，图片替换为蓝色，不替换目标基站的颜色*/\r\n                        if (targetCellInfosCache.get(infoList[i].btsId) == null) {\r\n                            if (btsInfoMap.get(infoList[i].btsId).hitTimes == 0 || btsInfoMap.get(infoList[i].btsId).hitTimes == null) {\r\n                                $(`.bts-img-${infoList[i].btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                                $(`.bts-click-${infoList[i].btsId}`).css('z-index', 5500); // z轴置中\r\n                            }\r\n                        }\r\n                        let overlay = new __WEBPACK_IMPORTED_MODULE_0__overlay_BtsAnalysisOverlayConstructor_js__[\"a\" /* BtsAnalysisOverlayConstructor */](new BMap.Point(lng, lat), broadcastPercent, dedicatedPercent, isGray);\r\n                        btsAnalysisOverlayCache.push(overlay);\r\n                        map.addOverlay(overlay);\r\n                        if (!isBtsOpen) {\r\n                            overlay.hide();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = DrawBtsAnalysis;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3QnRzQW5hbHlzaXMuanM/NjY5MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUE0Rjs7QUFFckY7O0FBRVA7O0FBRUE7QUFDQSx1QkFBdUIsb0NBQW9DO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRCxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxQkFBcUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsa0JBQWtCLDZCQUE2QjtBQUM3RixnREFBZ0Qsa0JBQWtCLHdCQUF3QjtBQUMxRjtBQUNBO0FBQ0EsMENBQTBDLGdIQUE2QjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDIiwiZmlsZSI6IjIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnRzQW5hbHlzaXNPdmVybGF5Q29uc3RydWN0b3IgfSBmcm9tICcuLi9vdmVybGF5L0J0c0FuYWx5c2lzT3ZlcmxheUNvbnN0cnVjdG9yLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBEcmF3QnRzQW5hbHlzaXMge1xyXG5cclxuICAgIHN0YXRpYyBkcmF3QW5hbHlzaXMoZHJhd01hcCkge1xyXG5cclxuICAgICAgICAvKiDlhYjnp7vpmaTmiYDmnInop6PmnpDov5vluqYqL1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnRzQW5hbHlzaXNPdmVybGF5Q2FjaGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkoYnRzQW5hbHlzaXNPdmVybGF5Q2FjaGVbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiDnva7ngbDmiYDmnInln7rnq5nvvIjmjpLpmaTnuqLoibLlkozpu4ToibLln7rnq5nvvIkqL1xyXG4gICAgICAgICQoJy5idHMtaW1nLXVuaGl0JykuYWRkQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5omA5pyJ5Z+656uZ572u54GwXHJcbiAgICAgICAgJCgnLmJ0cy1jbGljay11bmhpdCcpLmNzcygnei1pbmRleCcsIDUwMDApOyAvLyB66L20572u5bqVXHJcbiAgICAgICAgYnRzQW5hbHlzaXNPdmVybGF5Q2FjaGUgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gZHJhd01hcCkge1xyXG4gICAgICAgICAgICAvKiDmmK/lkKbnva7ngbAqL1xyXG4gICAgICAgICAgICBsZXQgaXNHcmF5O1xyXG4gICAgICAgICAgICBpZiAoZGV2RHJhd0luZm9NYXAuZ2V0KGtleSkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaXNHcmF5ID0gZGV2RHJhd0luZm9NYXAuZ2V0KGtleSkuaXNDb3JyZW50VmlldztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlzR3JheSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIOS/oeaBr+WIl+ihqCovXHJcbiAgICAgICAgICAgIGxldCBpbmZvTGlzdCA9IGRyYXdNYXBba2V5XS5jZWxsQW5hbHlzaXNJbmZvTGlzdDtcclxuICAgICAgICAgICAgLyogKi9cclxuICAgICAgICAgICAgaWYgKGluZm9MaXN0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5mb0xpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnRzSW5mb01hcC5nZXQoaW5mb0xpc3RbaV0uYnRzSWQpICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxuZyA9IGJ0c0luZm9NYXAuZ2V0KGluZm9MaXN0W2ldLmJ0c0lkKS5sbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsYXQgPSBidHNJbmZvTWFwLmdldChpbmZvTGlzdFtpXS5idHNJZCkubGF0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbW9kZSA9IGluZm9MaXN0W2ldLm1vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBicm9hZGNhc3RQZXJjZW50ID0gaW5mb0xpc3RbaV0uYnJvYWRjYXN0UGVyY2VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlZGljYXRlZFBlcmNlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIEPnvZHlkoxX572R5Y+q5pyJ5LiA5Liq77yM5YW25L2Z5Lik5LiqKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgIT0gJ2NkbWEnICYmIG1vZGUgIT0gJ3djZG1hJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVkaWNhdGVkUGVyY2VudCA9IGluZm9MaXN0W2ldLmRlZGljYXRlZFBlcmNlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLyog5aaC5p6c5ZG95Lit5qyh5pWwPT0w77yM5Zu+54mH5pu/5o2i5Li66JOd6Imy77yM5LiN5pu/5o2i55uu5qCH5Z+656uZ55qE6aKc6ImyKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldENlbGxJbmZvc0NhY2hlLmdldChpbmZvTGlzdFtpXS5idHNJZCkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ0c0luZm9NYXAuZ2V0KGluZm9MaXN0W2ldLmJ0c0lkKS5oaXRUaW1lcyA9PSAwIHx8IGJ0c0luZm9NYXAuZ2V0KGluZm9MaXN0W2ldLmJ0c0lkKS5oaXRUaW1lcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtpbmZvTGlzdFtpXS5idHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWNsaWNrLSR7aW5mb0xpc3RbaV0uYnRzSWR9YCkuY3NzKCd6LWluZGV4JywgNTUwMCk7IC8vIHrovbTnva7kuK1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3ZlcmxheSA9IG5ldyBCdHNBbmFseXNpc092ZXJsYXlDb25zdHJ1Y3RvcihuZXcgQk1hcC5Qb2ludChsbmcsIGxhdCksIGJyb2FkY2FzdFBlcmNlbnQsIGRlZGljYXRlZFBlcmNlbnQsIGlzR3JheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0c0FuYWx5c2lzT3ZlcmxheUNhY2hlLnB1c2gob3ZlcmxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5hZGRPdmVybGF5KG92ZXJsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQnRzT3Blbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3QnRzQW5hbHlzaXMuanNcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n");

/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class BtsAnalysisOverlayConstructor {\r\n\r\n    constructor(point, broadcastPercent, dedicatedPercent, isGray) {\r\n        return this.draw(point, broadcastPercent, dedicatedPercent, isGray);\r\n    }\r\n\r\n    /**\r\n    * 使用百度地图API官方写法，不做任何更改\r\n    */\r\n    draw(point, broadcastPercent, dedicatedPercent, isGray) {\r\n\r\n        /* 定义自定义覆盖物的构造函数 */\r\n        function btsAnalysisOverlay(point, broadcastPercent, dedicatedPercent, isGray) {\r\n            this._point = point;\r\n            this._broadcastPercent = broadcastPercent;\r\n            this._dedicatedPercent = dedicatedPercent;\r\n            this._isGray = isGray;\r\n        }\r\n\r\n        /* 继承API的BMap.Overlay */\r\n        btsAnalysisOverlay.prototype = new BMap.Overlay();\r\n\r\n        /* 实现初始化方法 */\r\n        btsAnalysisOverlay.prototype.initialize = function (map) {\r\n            /* 保存map对象实例 */\r\n            this._map = map;\r\n            /* 创建div元素，作为自定义覆盖物的容器 */\r\n            var div = this._div = document.createElement('div');\r\n            div.style.position = 'absolute';\r\n            /* 自定义覆盖物div中的html代码 */\r\n            let grayClass = '';\r\n            if (!this._isGray) {\r\n                grayClass = 'gray-cover';\r\n            }\r\n            /* C网和W网只有一个，其余两个*/\r\n            let imgName;\r\n            if (dedicatedPercent == null) {\r\n                let perc1 = parseInt(this._broadcastPercent / 10);\r\n                if (perc1 % 2 != 0) {\r\n                    perc1 = perc1 - 1;\r\n                }\r\n                imgName = `crc1-${perc1}.png`;\r\n            } else {\r\n                let perc1 = parseInt(this._broadcastPercent / 10);\r\n                let perc2 = parseInt(this._dedicatedPercent / 10);\r\n                if (perc1 % 2 != 0) {\r\n                    perc1 = perc1 - 1;\r\n                }\r\n                if (perc2 % 2 != 0) {\r\n                    perc2 = perc2 - 1;\r\n                }\r\n                imgName = `crc2_${perc1}-${perc2}.png`;\r\n            }\r\n            div.innerHTML = `\r\n                <img class=\"bts-analysis-img ${grayClass}\" src=\"img/crc/${imgName}\">\r\n            `;\r\n            /* 将div添加到覆盖物容器中 */\r\n            map.getPanes().labelPane.appendChild(div);\r\n            /* 保存div实例 */\r\n            this._div = div;\r\n            /* 需要将div元素作为方法的返回值 */\r\n            return div;\r\n        }\r\n\r\n        /* 绘制覆盖物,实现绘制方法 */\r\n        btsAnalysisOverlay.prototype.draw = function () {\r\n            /* 根据地理坐标转换为像素坐标，并设置给容器 */\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n\r\n        return new btsAnalysisOverlay(point, broadcastPercent, dedicatedPercent, isGray);\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = BtsAnalysisOverlayConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9CdHNBbmFseXNpc092ZXJsYXlDb25zdHJ1Y3Rvci5qcz84NjU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLE1BQU07QUFDeEMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsTUFBTSxHQUFHLE1BQU07QUFDakQ7QUFDQTtBQUNBLCtDQUErQyxVQUFVLGlCQUFpQixRQUFRO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsQyIsImZpbGUiOiIyNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBCdHNBbmFseXNpc092ZXJsYXlDb25zdHJ1Y3RvciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocG9pbnQsIGJyb2FkY2FzdFBlcmNlbnQsIGRlZGljYXRlZFBlcmNlbnQsIGlzR3JheSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRyYXcocG9pbnQsIGJyb2FkY2FzdFBlcmNlbnQsIGRlZGljYXRlZFBlcmNlbnQsIGlzR3JheSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOS9v+eUqOeZvuW6puWcsOWbvkFQSeWumOaWueWGmeazle+8jOS4jeWBmuS7u+S9leabtOaUuVxyXG4gICAgKi9cclxuICAgIGRyYXcocG9pbnQsIGJyb2FkY2FzdFBlcmNlbnQsIGRlZGljYXRlZFBlcmNlbnQsIGlzR3JheSkge1xyXG5cclxuICAgICAgICAvKiDlrprkuYnoh6rlrprkuYnopobnm5bniannmoTmnoTpgKDlh73mlbAgKi9cclxuICAgICAgICBmdW5jdGlvbiBidHNBbmFseXNpc092ZXJsYXkocG9pbnQsIGJyb2FkY2FzdFBlcmNlbnQsIGRlZGljYXRlZFBlcmNlbnQsIGlzR3JheSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wb2ludCA9IHBvaW50O1xyXG4gICAgICAgICAgICB0aGlzLl9icm9hZGNhc3RQZXJjZW50ID0gYnJvYWRjYXN0UGVyY2VudDtcclxuICAgICAgICAgICAgdGhpcy5fZGVkaWNhdGVkUGVyY2VudCA9IGRlZGljYXRlZFBlcmNlbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzR3JheSA9IGlzR3JheTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIOe7p+aJv0FQSeeahEJNYXAuT3ZlcmxheSAqL1xyXG4gICAgICAgIGJ0c0FuYWx5c2lzT3ZlcmxheS5wcm90b3R5cGUgPSBuZXcgQk1hcC5PdmVybGF5KCk7XHJcblxyXG4gICAgICAgIC8qIOWunueOsOWIneWni+WMluaWueazlSAqL1xyXG4gICAgICAgIGJ0c0FuYWx5c2lzT3ZlcmxheS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChtYXApIHtcclxuICAgICAgICAgICAgLyog5L+d5a2YbWFw5a+56LGh5a6e5L6LICovXHJcbiAgICAgICAgICAgIHRoaXMuX21hcCA9IG1hcDtcclxuICAgICAgICAgICAgLyog5Yib5bu6ZGl25YWD57Sg77yM5L2c5Li66Ieq5a6a5LmJ6KaG55uW54mp55qE5a655ZmoICovXHJcbiAgICAgICAgICAgIHZhciBkaXYgPSB0aGlzLl9kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgLyog6Ieq5a6a5LmJ6KaG55uW54mpZGl25Lit55qEaHRtbOS7o+eggSAqL1xyXG4gICAgICAgICAgICBsZXQgZ3JheUNsYXNzID0gJyc7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNHcmF5KSB7XHJcbiAgICAgICAgICAgICAgICBncmF5Q2xhc3MgPSAnZ3JheS1jb3Zlcic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogQ+e9keWSjFfnvZHlj6rmnInkuIDkuKrvvIzlhbbkvZnkuKTkuKoqL1xyXG4gICAgICAgICAgICBsZXQgaW1nTmFtZTtcclxuICAgICAgICAgICAgaWYgKGRlZGljYXRlZFBlcmNlbnQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBlcmMxID0gcGFyc2VJbnQodGhpcy5fYnJvYWRjYXN0UGVyY2VudCAvIDEwKTtcclxuICAgICAgICAgICAgICAgIGlmIChwZXJjMSAlIDIgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlcmMxID0gcGVyYzEgLSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW1nTmFtZSA9IGBjcmMxLSR7cGVyYzF9LnBuZ2A7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGVyYzEgPSBwYXJzZUludCh0aGlzLl9icm9hZGNhc3RQZXJjZW50IC8gMTApO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBlcmMyID0gcGFyc2VJbnQodGhpcy5fZGVkaWNhdGVkUGVyY2VudCAvIDEwKTtcclxuICAgICAgICAgICAgICAgIGlmIChwZXJjMSAlIDIgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlcmMxID0gcGVyYzEgLSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBlcmMyICUgMiAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVyYzIgPSBwZXJjMiAtIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbWdOYW1lID0gYGNyYzJfJHtwZXJjMX0tJHtwZXJjMn0ucG5nYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImJ0cy1hbmFseXNpcy1pbWcgJHtncmF5Q2xhc3N9XCIgc3JjPVwiaW1nL2NyYy8ke2ltZ05hbWV9XCI+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIC8qIOWwhmRpdua3u+WKoOWIsOimhueblueJqeWuueWZqOS4rSAqL1xyXG4gICAgICAgICAgICBtYXAuZ2V0UGFuZXMoKS5sYWJlbFBhbmUuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICAgICAgLyog5L+d5a2YZGl25a6e5L6LICovXHJcbiAgICAgICAgICAgIHRoaXMuX2RpdiA9IGRpdjtcclxuICAgICAgICAgICAgLyog6ZyA6KaB5bCGZGl25YWD57Sg5L2c5Li65pa55rOV55qE6L+U5Zue5YC8ICovXHJcbiAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiDnu5jliLbopobnm5bniaks5a6e546w57uY5Yi25pa55rOVICovXHJcbiAgICAgICAgYnRzQW5hbHlzaXNPdmVybGF5LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvKiDmoLnmja7lnLDnkIblnZDmoIfovazmjaLkuLrlg4/ntKDlnZDmoIfvvIzlubborr7nva7nu5nlrrnlmaggKi9cclxuICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gdGhpcy5fbWFwLnBvaW50VG9PdmVybGF5UGl4ZWwodGhpcy5fcG9pbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYuc3R5bGUubGVmdCA9IHBvc2l0aW9uLnggKyAncHgnO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYuc3R5bGUudG9wID0gcG9zaXRpb24ueSArICdweCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IGJ0c0FuYWx5c2lzT3ZlcmxheShwb2ludCwgYnJvYWRjYXN0UGVyY2VudCwgZGVkaWNhdGVkUGVyY2VudCwgaXNHcmF5KTtcclxuXHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9CdHNBbmFseXNpc092ZXJsYXlDb25zdHJ1Y3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gMjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///24\n");

/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__overlay_BtsPreLockOverlayConstructor_js__ = __webpack_require__(43);\n\r\n\r\nclass DrawBtsPreLockOverlay {\r\n\r\n    static drawBts(btsInfo) {\r\n        let btsId = btsInfo.btsId;\r\n        let baiduPoint = new BMap.Point(btsInfo.lng, btsInfo.lat); // 百度地图坐标 \r\n        /* 绘制基站 */\r\n        /**edti by gaochao start */\r\n        let cover = new __WEBPACK_IMPORTED_MODULE_0__overlay_BtsPreLockOverlayConstructor_js__[\"a\" /* BtsPreLockOverlayConstructor */](baiduPoint, btsInfo.btsId, btsInfo.mode, btsInfo.radius, btsInfo.credibility);\r\n        devPreLockCellClearInfosCache[btsInfo.btsId] = cover;\r\n        /**edit by gaochao end */\r\n        map.addOverlay(cover);\r\n        /* 是否显示基站 */\r\n        //if (isBtsOpen && map.getBounds().containsPoint(baiduPoint)) {\r\n        if (isBtsOpen) {\r\n            cover.show();\r\n        } else {\r\n            cover.hide();\r\n        }\r\n        $('.bts-value-' + btsId).css('display', 'none');\r\n\r\n        let btsDiv = function () {\r\n            this.btsCover;\r\n            this.btsRadius;\r\n        }\r\n        btsDiv.btsCover = cover;\r\n        // btsDiv.btsRadius = btsRangeCircle;\r\n        btsDivMap.set(btsId, btsDiv);\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = DrawBtsPreLockOverlay;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3QnRzUHJlTG9ja092ZXJsYXkuanM/ODIzNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUEwRjs7QUFFbkY7O0FBRVA7QUFDQTtBQUNBLGtFQUFrRTtBQUNsRTtBQUNBO0FBQ0Esd0JBQXdCLDhHQUE0QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDIiwiZmlsZSI6IjI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnRzUHJlTG9ja092ZXJsYXlDb25zdHJ1Y3RvciB9IGZyb20gJy4uL292ZXJsYXkvQnRzUHJlTG9ja092ZXJsYXlDb25zdHJ1Y3Rvci5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRHJhd0J0c1ByZUxvY2tPdmVybGF5IHtcclxuXHJcbiAgICBzdGF0aWMgZHJhd0J0cyhidHNJbmZvKSB7XHJcbiAgICAgICAgbGV0IGJ0c0lkID0gYnRzSW5mby5idHNJZDtcclxuICAgICAgICBsZXQgYmFpZHVQb2ludCA9IG5ldyBCTWFwLlBvaW50KGJ0c0luZm8ubG5nLCBidHNJbmZvLmxhdCk7IC8vIOeZvuW6puWcsOWbvuWdkOaghyBcclxuICAgICAgICAvKiDnu5jliLbln7rnq5kgKi9cclxuICAgICAgICAvKiplZHRpIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICBsZXQgY292ZXIgPSBuZXcgQnRzUHJlTG9ja092ZXJsYXlDb25zdHJ1Y3RvcihiYWlkdVBvaW50LCBidHNJbmZvLmJ0c0lkLCBidHNJbmZvLm1vZGUsIGJ0c0luZm8ucmFkaXVzLCBidHNJbmZvLmNyZWRpYmlsaXR5KTtcclxuICAgICAgICBkZXZQcmVMb2NrQ2VsbENsZWFySW5mb3NDYWNoZVtidHNJbmZvLmJ0c0lkXSA9IGNvdmVyO1xyXG4gICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICBtYXAuYWRkT3ZlcmxheShjb3Zlcik7XHJcbiAgICAgICAgLyog5piv5ZCm5pi+56S65Z+656uZICovXHJcbiAgICAgICAgLy9pZiAoaXNCdHNPcGVuICYmIG1hcC5nZXRCb3VuZHMoKS5jb250YWluc1BvaW50KGJhaWR1UG9pbnQpKSB7XHJcbiAgICAgICAgaWYgKGlzQnRzT3Blbikge1xyXG4gICAgICAgICAgICBjb3Zlci5zaG93KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY292ZXIuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKCcuYnRzLXZhbHVlLScgKyBidHNJZCkuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuXHJcbiAgICAgICAgbGV0IGJ0c0RpdiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5idHNDb3ZlcjtcclxuICAgICAgICAgICAgdGhpcy5idHNSYWRpdXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJ0c0Rpdi5idHNDb3ZlciA9IGNvdmVyO1xyXG4gICAgICAgIC8vIGJ0c0Rpdi5idHNSYWRpdXMgPSBidHNSYW5nZUNpcmNsZTtcclxuICAgICAgICBidHNEaXZNYXAuc2V0KGJ0c0lkLCBidHNEaXYpO1xyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L292ZXJsYXkvRHJhd0J0c1ByZUxvY2tPdmVybGF5LmpzXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///25\n");

/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__realTimeCombat_bts_BtsValue_js__ = __webpack_require__(3);\n\r\n\r\nclass ParsingData {\r\n\r\n    static FormatDevData(data) {\r\n        let devInfo = { createTime: null, devCode: null, devType: null, engInfo: null, gpsInfo: null, status: null };\r\n        let engInfo = { eng: null, type: null, freqInfo: null, btsId: null, syncMode: null, syncType: null, srcDevCode: null, lastReportTime: null };\r\n        let gpsInfo = { lng: null, lat: null, time: null, northAngle: null, speed: null, elevation: null, accuracy: null, type: null, separateFlag: null };\r\n        gpsInfo.lng = data.lng;\r\n        gpsInfo.lat = data.lat;\r\n        gpsInfo.time = data.gpsTime;\r\n        gpsInfo.northAngle = data.northAngle;\r\n        gpsInfo.speed = data.speed;\r\n        gpsInfo.elevation = data.elevation;\r\n        gpsInfo.accuracy = data.accuracy;\r\n        gpsInfo.type = data.gpsType;\r\n        gpsInfo.separateFlag = data.separateFlag;\r\n        /**edit by gaochao start */\r\n        if (data.eng == null || data.eng == \"\") {\r\n            /**edit by gaochao end */\r\n            engInfo = null;\r\n        } else {\r\n            engInfo.eng = data.eng;\r\n            engInfo.type = data.engType;\r\n            engInfo.freqInfo = data.freqInfo;\r\n            engInfo.btsId = data.btsId;\r\n            engInfo.syncMode = data.syncMode;\r\n            engInfo.syncType = data.syncType;\r\n            engInfo.srcDevCode = data.srcDevCode;\r\n            engInfo.isShow = data.isShow;\r\n            // engInfo.lastReportTime = data.lastReportTime;\r\n        }\r\n        devInfo.createTime = data.createTime;\r\n        devInfo.devCode = data.devCode;\r\n        devInfo.devType = data.devType;\r\n        devInfo.engInfo = engInfo;\r\n        devInfo.gpsInfo = gpsInfo;\r\n        devInfo.dlBtsId = data.dlBtsId;\r\n        devInfo.activeEnable = data.activeEnable;\r\n        devInfo.activeHit = data.activeHit;\r\n        devInfo.activeSupport = data.activeSupport;\r\n        devInfo.reportTime = data.reportTime;\r\n        devInfo.status = 1;\r\n        return devInfo;\r\n    }\r\n\r\n    static FormatBtsData(data) {\r\n        let btsInfo = { btsId: null, mcc: null, mnc: null, mode: null, lacTac: null, cellId: null, sid: null, nid: null, bid: null, lng: null, lat: null, radius: null,credibility: null, time: null, reportTime: null, createTime: null };\r\n        btsInfo.btsId = __WEBPACK_IMPORTED_MODULE_0__realTimeCombat_bts_BtsValue_js__[\"a\" /* BtsValue */].btsTag(data.mode, data.mcc, data.mnc, data.lacTac, data.sid, data.nid, data.bid, data.cellId);\r\n        btsInfo.mcc = data.mcc;\r\n        btsInfo.mnc = data.mnc;\r\n        btsInfo.mode = data.mode;\r\n        btsInfo.lacTac = data.lacTac;\r\n        btsInfo.cellId = data.cellId;\r\n        btsInfo.sid = data.sid;\r\n        btsInfo.nid = data.nid;\r\n        btsInfo.bid = data.bid;\r\n        btsInfo.lng = data.lng;\r\n        btsInfo.lat = data.lat;\r\n        btsInfo.radius = data.radius;\r\n        btsInfo.credibility = data.credibility;\r\n        btsInfo.reportTime = data.reportTime;\r\n        btsInfo.createTime = data.createTime;\r\n        btsInfo.hitTimes = 0;\r\n        btsInfo.dlHitTimes = 0;\r\n        return btsInfo;\r\n    }\r\n\r\n    static FormatStatusData(data) {\r\n        /**edit by gaochao start */\r\n        let statusInfo = { devCode: null, upGainValue: null, triggerInfo: null, cellAnalysisInfoList: [], reportTime: null, createTime: null, energy: null, temperature: null};\r\n        /**edit by gaochao end */\r\n        statusInfo.devCode = data.devCode;\r\n        statusInfo.upGainValue = data.upGainValue;\r\n        statusInfo.triggerInfo = data.triggerInfo;\r\n        statusInfo.cellAnalysisInfoList = JSON.parse(data.cellAnalysisInfo);\r\n        statusInfo.reportTime = data.reportTime;\r\n        statusInfo.createTime = data.createTime;\r\n        /**add by gaochao start */\r\n        statusInfo.energy = data.energy;\r\n        statusInfo.temperature = data.temperature;\r\n        /**add by gaochao end */\r\n        return statusInfo;\r\n    }\r\n    static RepetitionColor(data){\r\n        \r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = ParsingData;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYXJzaW5nL1BhcnNpbmdEYXRhLmpzPzI3MTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBZ0U7O0FBRXpEOztBQUVQO0FBQ0EsdUJBQXVCO0FBQ3ZCLHVCQUF1QjtBQUN2Qix1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QjtBQUN2Qix3QkFBd0IsaUZBQVE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxDIiwiZmlsZSI6IjI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnRzVmFsdWUgfSBmcm9tICcuLi8uLi9yZWFsVGltZUNvbWJhdC9idHMvQnRzVmFsdWUuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhcnNpbmdEYXRhIHtcclxuXHJcbiAgICBzdGF0aWMgRm9ybWF0RGV2RGF0YShkYXRhKSB7XHJcbiAgICAgICAgbGV0IGRldkluZm8gPSB7IGNyZWF0ZVRpbWU6IG51bGwsIGRldkNvZGU6IG51bGwsIGRldlR5cGU6IG51bGwsIGVuZ0luZm86IG51bGwsIGdwc0luZm86IG51bGwsIHN0YXR1czogbnVsbCB9O1xyXG4gICAgICAgIGxldCBlbmdJbmZvID0geyBlbmc6IG51bGwsIHR5cGU6IG51bGwsIGZyZXFJbmZvOiBudWxsLCBidHNJZDogbnVsbCwgc3luY01vZGU6IG51bGwsIHN5bmNUeXBlOiBudWxsLCBzcmNEZXZDb2RlOiBudWxsLCBsYXN0UmVwb3J0VGltZTogbnVsbCB9O1xyXG4gICAgICAgIGxldCBncHNJbmZvID0geyBsbmc6IG51bGwsIGxhdDogbnVsbCwgdGltZTogbnVsbCwgbm9ydGhBbmdsZTogbnVsbCwgc3BlZWQ6IG51bGwsIGVsZXZhdGlvbjogbnVsbCwgYWNjdXJhY3k6IG51bGwsIHR5cGU6IG51bGwsIHNlcGFyYXRlRmxhZzogbnVsbCB9O1xyXG4gICAgICAgIGdwc0luZm8ubG5nID0gZGF0YS5sbmc7XHJcbiAgICAgICAgZ3BzSW5mby5sYXQgPSBkYXRhLmxhdDtcclxuICAgICAgICBncHNJbmZvLnRpbWUgPSBkYXRhLmdwc1RpbWU7XHJcbiAgICAgICAgZ3BzSW5mby5ub3J0aEFuZ2xlID0gZGF0YS5ub3J0aEFuZ2xlO1xyXG4gICAgICAgIGdwc0luZm8uc3BlZWQgPSBkYXRhLnNwZWVkO1xyXG4gICAgICAgIGdwc0luZm8uZWxldmF0aW9uID0gZGF0YS5lbGV2YXRpb247XHJcbiAgICAgICAgZ3BzSW5mby5hY2N1cmFjeSA9IGRhdGEuYWNjdXJhY3k7XHJcbiAgICAgICAgZ3BzSW5mby50eXBlID0gZGF0YS5ncHNUeXBlO1xyXG4gICAgICAgIGdwc0luZm8uc2VwYXJhdGVGbGFnID0gZGF0YS5zZXBhcmF0ZUZsYWc7XHJcbiAgICAgICAgLyoqZWRpdCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgaWYgKGRhdGEuZW5nID09IG51bGwgfHwgZGF0YS5lbmcgPT0gXCJcIikge1xyXG4gICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgIGVuZ0luZm8gPSBudWxsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVuZ0luZm8uZW5nID0gZGF0YS5lbmc7XHJcbiAgICAgICAgICAgIGVuZ0luZm8udHlwZSA9IGRhdGEuZW5nVHlwZTtcclxuICAgICAgICAgICAgZW5nSW5mby5mcmVxSW5mbyA9IGRhdGEuZnJlcUluZm87XHJcbiAgICAgICAgICAgIGVuZ0luZm8uYnRzSWQgPSBkYXRhLmJ0c0lkO1xyXG4gICAgICAgICAgICBlbmdJbmZvLnN5bmNNb2RlID0gZGF0YS5zeW5jTW9kZTtcclxuICAgICAgICAgICAgZW5nSW5mby5zeW5jVHlwZSA9IGRhdGEuc3luY1R5cGU7XHJcbiAgICAgICAgICAgIGVuZ0luZm8uc3JjRGV2Q29kZSA9IGRhdGEuc3JjRGV2Q29kZTtcclxuICAgICAgICAgICAgZW5nSW5mby5pc1Nob3cgPSBkYXRhLmlzU2hvdztcclxuICAgICAgICAgICAgLy8gZW5nSW5mby5sYXN0UmVwb3J0VGltZSA9IGRhdGEubGFzdFJlcG9ydFRpbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRldkluZm8uY3JlYXRlVGltZSA9IGRhdGEuY3JlYXRlVGltZTtcclxuICAgICAgICBkZXZJbmZvLmRldkNvZGUgPSBkYXRhLmRldkNvZGU7XHJcbiAgICAgICAgZGV2SW5mby5kZXZUeXBlID0gZGF0YS5kZXZUeXBlO1xyXG4gICAgICAgIGRldkluZm8uZW5nSW5mbyA9IGVuZ0luZm87XHJcbiAgICAgICAgZGV2SW5mby5ncHNJbmZvID0gZ3BzSW5mbztcclxuICAgICAgICBkZXZJbmZvLmRsQnRzSWQgPSBkYXRhLmRsQnRzSWQ7XHJcbiAgICAgICAgZGV2SW5mby5hY3RpdmVFbmFibGUgPSBkYXRhLmFjdGl2ZUVuYWJsZTtcclxuICAgICAgICBkZXZJbmZvLmFjdGl2ZUhpdCA9IGRhdGEuYWN0aXZlSGl0O1xyXG4gICAgICAgIGRldkluZm8uYWN0aXZlU3VwcG9ydCA9IGRhdGEuYWN0aXZlU3VwcG9ydDtcclxuICAgICAgICBkZXZJbmZvLnJlcG9ydFRpbWUgPSBkYXRhLnJlcG9ydFRpbWU7XHJcbiAgICAgICAgZGV2SW5mby5zdGF0dXMgPSAxO1xyXG4gICAgICAgIHJldHVybiBkZXZJbmZvO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBGb3JtYXRCdHNEYXRhKGRhdGEpIHtcclxuICAgICAgICBsZXQgYnRzSW5mbyA9IHsgYnRzSWQ6IG51bGwsIG1jYzogbnVsbCwgbW5jOiBudWxsLCBtb2RlOiBudWxsLCBsYWNUYWM6IG51bGwsIGNlbGxJZDogbnVsbCwgc2lkOiBudWxsLCBuaWQ6IG51bGwsIGJpZDogbnVsbCwgbG5nOiBudWxsLCBsYXQ6IG51bGwsIHJhZGl1czogbnVsbCxjcmVkaWJpbGl0eTogbnVsbCwgdGltZTogbnVsbCwgcmVwb3J0VGltZTogbnVsbCwgY3JlYXRlVGltZTogbnVsbCB9O1xyXG4gICAgICAgIGJ0c0luZm8uYnRzSWQgPSBCdHNWYWx1ZS5idHNUYWcoZGF0YS5tb2RlLCBkYXRhLm1jYywgZGF0YS5tbmMsIGRhdGEubGFjVGFjLCBkYXRhLnNpZCwgZGF0YS5uaWQsIGRhdGEuYmlkLCBkYXRhLmNlbGxJZCk7XHJcbiAgICAgICAgYnRzSW5mby5tY2MgPSBkYXRhLm1jYztcclxuICAgICAgICBidHNJbmZvLm1uYyA9IGRhdGEubW5jO1xyXG4gICAgICAgIGJ0c0luZm8ubW9kZSA9IGRhdGEubW9kZTtcclxuICAgICAgICBidHNJbmZvLmxhY1RhYyA9IGRhdGEubGFjVGFjO1xyXG4gICAgICAgIGJ0c0luZm8uY2VsbElkID0gZGF0YS5jZWxsSWQ7XHJcbiAgICAgICAgYnRzSW5mby5zaWQgPSBkYXRhLnNpZDtcclxuICAgICAgICBidHNJbmZvLm5pZCA9IGRhdGEubmlkO1xyXG4gICAgICAgIGJ0c0luZm8uYmlkID0gZGF0YS5iaWQ7XHJcbiAgICAgICAgYnRzSW5mby5sbmcgPSBkYXRhLmxuZztcclxuICAgICAgICBidHNJbmZvLmxhdCA9IGRhdGEubGF0O1xyXG4gICAgICAgIGJ0c0luZm8ucmFkaXVzID0gZGF0YS5yYWRpdXM7XHJcbiAgICAgICAgYnRzSW5mby5jcmVkaWJpbGl0eSA9IGRhdGEuY3JlZGliaWxpdHk7XHJcbiAgICAgICAgYnRzSW5mby5yZXBvcnRUaW1lID0gZGF0YS5yZXBvcnRUaW1lO1xyXG4gICAgICAgIGJ0c0luZm8uY3JlYXRlVGltZSA9IGRhdGEuY3JlYXRlVGltZTtcclxuICAgICAgICBidHNJbmZvLmhpdFRpbWVzID0gMDtcclxuICAgICAgICBidHNJbmZvLmRsSGl0VGltZXMgPSAwO1xyXG4gICAgICAgIHJldHVybiBidHNJbmZvO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBGb3JtYXRTdGF0dXNEYXRhKGRhdGEpIHtcclxuICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICBsZXQgc3RhdHVzSW5mbyA9IHsgZGV2Q29kZTogbnVsbCwgdXBHYWluVmFsdWU6IG51bGwsIHRyaWdnZXJJbmZvOiBudWxsLCBjZWxsQW5hbHlzaXNJbmZvTGlzdDogW10sIHJlcG9ydFRpbWU6IG51bGwsIGNyZWF0ZVRpbWU6IG51bGwsIGVuZXJneTogbnVsbCwgdGVtcGVyYXR1cmU6IG51bGx9O1xyXG4gICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICBzdGF0dXNJbmZvLmRldkNvZGUgPSBkYXRhLmRldkNvZGU7XHJcbiAgICAgICAgc3RhdHVzSW5mby51cEdhaW5WYWx1ZSA9IGRhdGEudXBHYWluVmFsdWU7XHJcbiAgICAgICAgc3RhdHVzSW5mby50cmlnZ2VySW5mbyA9IGRhdGEudHJpZ2dlckluZm87XHJcbiAgICAgICAgc3RhdHVzSW5mby5jZWxsQW5hbHlzaXNJbmZvTGlzdCA9IEpTT04ucGFyc2UoZGF0YS5jZWxsQW5hbHlzaXNJbmZvKTtcclxuICAgICAgICBzdGF0dXNJbmZvLnJlcG9ydFRpbWUgPSBkYXRhLnJlcG9ydFRpbWU7XHJcbiAgICAgICAgc3RhdHVzSW5mby5jcmVhdGVUaW1lID0gZGF0YS5jcmVhdGVUaW1lO1xyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgc3RhdHVzSW5mby5lbmVyZ3kgPSBkYXRhLmVuZXJneTtcclxuICAgICAgICBzdGF0dXNJbmZvLnRlbXBlcmF0dXJlID0gZGF0YS50ZW1wZXJhdHVyZTtcclxuICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICByZXR1cm4gc3RhdHVzSW5mbztcclxuICAgIH1cclxuICAgIHN0YXRpYyBSZXBldGl0aW9uQ29sb3IoZGF0YSl7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9wYXJzaW5nL1BhcnNpbmdEYXRhLmpzXG4vLyBtb2R1bGUgaWQgPSAyNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///26\n");

/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/**\r\n * 目标手机号所在基站LTE信息(Catch)\r\n */\r\nclass PrasingLteCatchInfo {\r\n\r\n\tstatic showLteCatchInfo(lteCatchInfo) {\r\n\t\t/**Catch面板显示信息*/\r\n\t\t/**del by gaochao start*/\r\n\t\t// $(`.target-lte-info-container`).css('display', 'block');\r\n\t\t/**del by gaochao end */\r\n\t\t$(`.target-lte-info-time`).html(`${new Date(lteCatchInfo.reportTime).Format('hh:mm:ss')}`);\r\n\t\t/**edti by gaochao start */\r\n\t\tlet btsId = `${lteCatchInfo.mcc}-${mncChange(lteCatchInfo.mnc)}-${lteCatchInfo.tac}-${lteCatchInfo.eci}`;\r\n\t\tlet lteInfoHtml = `\r\n\t\t\t<div class=\"target-lte-info-content-base clipboard\" data-clipboard-text=\"${btsId}\">${btsId}</div>\r\n\t\t\t<div class=\"target-lte-info-content-rssi\">${lteCatchInfo.rssi}</div>\r\n\t\t\t`;\r\n\t\t/**edit by gaochao end */\r\n\t\t$(`.target-lte-system-info-content`).html(lteInfoHtml);\r\n\t\tlet cellsHtml = '';\r\n\t\tlet cellsList = JSON.parse(lteCatchInfo.cells);\r\n\t\t/*判别显示rsrp和rsrq的颜色*/\r\n\t\tfunction backgroundColor(val) {\r\n\t\t\tif (val >= -60) {\r\n\t\t\t\treturn '#25AA00'\r\n\t\t\t} else if (val >= -80 && val < -60) {\r\n\t\t\t\treturn '#2296D8'\r\n\t\t\t} else if (val >= -100 && val < -80) {\r\n\t\t\t\treturn '#DC7827'\r\n\t\t\t} else if (val < -100) {\r\n\t\t\t\treturn '#F63232'\r\n\t\t\t} else if (val == '' || !val || val == null || val == undefined) {\r\n\t\t\t\treturn '#fff'\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction mncChange(val) {\r\n\t\t\tlet result = val;\r\n\t\t\tif (!!val && val.length == 2) {\r\n\t\t\t\tif (val.substr(0, 1) == 0) {\r\n\t\t\t\t\tresult = val.substr(1, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\t/*根据rsrp和rsrq的值决定颜色柱的宽度*/\r\n\t\tfunction backgroundWidth(val) {\r\n\t\t\tif (val >= -60) {\r\n\t\t\t\treturn '100%'\r\n\t\t\t} else if (val >= -80 && val < -60) {\r\n\t\t\t\treturn '75%'\r\n\t\t\t} else if (val >= -100 && val < -80) {\r\n\t\t\t\treturn '50%'\r\n\t\t\t} else if (val < -100) {\r\n\t\t\t\treturn '25%'\r\n\t\t\t} else if (val == '' || !val || val == null || val == undefined) {\r\n\t\t\t\treturn '100%'\r\n\t\t\t}\r\n\t\t}\r\n\t\t/*是否为主动式基站*/\r\n\t\tfunction isActive(earfcn, pci, type) {\r\n\t\t\tlet result = \"\";\r\n\t\t\tif (btsActiveCache != undefined && btsActiveCache != null) {\r\n\t\t\t\tfor (let i = 0; i < btsActiveCache.length; i++) {\r\n\t\t\t\t\tif (btsActiveCache[i].status == 2 && btsActiveCache[i].freq == earfcn && btsActiveCache[i].pci == pci) {\r\n\t\t\t\t\t\tif (type == 1) {\r\n\t\t\t\t\t\t\tresult = `\r\n\t\t\t\t\t\t<span style=\"background: url('img/iconpic/CR-active.png') no-repeat;background-size: 100% 100%;\r\n\t\t\t\t\t\twidth: 34px;height: 18px;margin: 8px auto;display: block;\"></span>\r\n\t\t\t\t\t\t`;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tresult = \"color:#F63232;font-weight:1000;\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < cellsList.length; i++) {\r\n\t\t\tif (i % 2 == 0) {\r\n\t\t\t\t/**edti by gaochao start */\r\n\t\t\t\tcellsHtml = cellsHtml + `\r\n\t\t\t\t\t\t<div class=\"target-lte-info-content-odd\">\r\n\t\t\t\t\t\t\t<div class=\"target-lte-info-content-active\">${isActive(cellsList[i].earfcn, cellsList[i].pci, 1)}</div>\r\n\t\t\t\t\t\t\t<div class=\"target-lte-info-content-name\">${cellsList[i].name}</div>\r\n\t\t\t\t\t\t\t<div class=\"target-lte-info-content-pci\" style=\"${isActive(cellsList[i].earfcn, cellsList[i].pci, 2)}\">${cellsList[i].earfcn}/${cellsList[i].pci}</div>\r\n\t\t\t\t\t\t\t<div class=\"target-lte-info-content-rsrp\" style=\"border-color:${backgroundColor(cellsList[i].rsrp)}\">\r\n\t\t\t\t\t\t\t\t<div class=\"target-lte-info-content-rsrp-color\" style=\"background-color:${backgroundColor(cellsList[i].rsrp)};\"></div>\r\n\t\t\t\t\t\t\t\t<div class=\"target-lte-info-content-rsrp-content\">${cellsList[i].rsrp}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"target-lte-info-content-rsrq\" style=\"border-color:${backgroundColor(cellsList[i].rsrq)}\">\r\n\t\t\t\t\t\t\t\t<div class=\"target-lte-info-content-rsrq-color\" style=\"background-color:${backgroundColor(cellsList[i].rsrq)};\"></div>\r\n\t\t\t\t\t\t\t\t<div class=\"target-lte-info-content-rsrq-content\">${cellsList[i].rsrq}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"target-lte-info-content-ta\">${cellsList[i].ta}</div>\r\n\t\t\t\t\t\t</div>`;\r\n\t\t\t} else {\r\n\t\t\t\tcellsHtml = cellsHtml + `\r\n\t\t\t\t\t\t<div class=\"target-lte-info-content-even\">\r\n\t\t\t\t\t\t<div class=\"target-lte-info-content-active\">${isActive(cellsList[i].earfcn, cellsList[i].pci, 1)}</div>\r\n\t\t\t\t\t\t<div class=\"target-lte-info-content-name\">${cellsList[i].name}</div>\r\n\t\t\t\t\t\t\t<div class=\"target-lte-info-content-pci\" style=\"${isActive(cellsList[i].earfcn, cellsList[i].pci, 2)}\">${cellsList[i].earfcn}/${cellsList[i].pci}</div>\r\n\t\t\t\t\t\t\t<div class=\"target-lte-info-content-rsrp\" style=\"border-color:${backgroundColor(cellsList[i].rsrp)}\">\r\n\t\t\t\t\t\t\t\t<div class=\"target-lte-info-content-rsrp-color\" style=\"background-color:${backgroundColor(cellsList[i].rsrp)}\"></div>\r\n\t\t\t\t\t\t\t\t<div class=\"target-lte-info-content-rsrp-content\">${cellsList[i].rsrp}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"target-lte-info-content-rsrq\" style=\"border-color:${backgroundColor(cellsList[i].rsrq)}\">\r\n\t\t\t\t\t\t\t\t<div class=\"target-lte-info-content-rsrq-color\" style=\"background-color:${backgroundColor(cellsList[i].rsrq)}\"></div>\r\n\t\t\t\t\t\t\t\t<div class=\"target-lte-info-content-rsrq-content\">${cellsList[i].rsrq}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"target-lte-info-content-ta\">${cellsList[i].ta}</div>\r\n\t\t\t\t\t\t</div> `;\r\n\t\t\t}\r\n\t\t\t/**edit by gaochao end */\r\n\t\t}\r\n\t\t$(`.target-lte-info-content-container`).html(cellsHtml);\r\n\r\n\t}\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = PrasingLteCatchInfo;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvcGFyc2luZy9QcmFzaW5nTHRlQ2F0Y2hJbmZvLmpzPzhjZDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ087O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxxREFBcUQ7QUFDMUY7QUFDQSxpQkFBaUIsaUJBQWlCLEdBQUcsNEJBQTRCLEdBQUcsaUJBQWlCLEdBQUcsaUJBQWlCO0FBQ3pHO0FBQ0EsOEVBQThFLE1BQU0sSUFBSSxNQUFNO0FBQzlGLCtDQUErQyxrQkFBa0I7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDJCQUEyQjtBQUM5QztBQUNBO0FBQ0E7QUFDQSwwRUFBMEU7QUFDMUUsa0JBQWtCLGFBQWEsaUJBQWlCLGVBQWU7QUFDL0Q7QUFDQSxPQUFPO0FBQ1AsK0JBQStCLGlCQUFpQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELG1EQUFtRDtBQUN4RyxtREFBbUQsa0JBQWtCO0FBQ3JFLHlEQUF5RCxtREFBbUQsSUFBSSxvQkFBb0IsR0FBRyxpQkFBaUI7QUFDeEosdUVBQXVFLG1DQUFtQztBQUMxRyxrRkFBa0Ysb0NBQW9DO0FBQ3RILDREQUE0RCxrQkFBa0I7QUFDOUU7QUFDQSx1RUFBdUUsbUNBQW1DO0FBQzFHLGtGQUFrRixvQ0FBb0M7QUFDdEgsNERBQTRELGtCQUFrQjtBQUM5RTtBQUNBLGlEQUFpRCxnQkFBZ0I7QUFDakU7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLG9EQUFvRCxtREFBbUQ7QUFDdkcsa0RBQWtELGtCQUFrQjtBQUNwRSx5REFBeUQsbURBQW1ELElBQUksb0JBQW9CLEdBQUcsaUJBQWlCO0FBQ3hKLHVFQUF1RSxtQ0FBbUM7QUFDMUcsa0ZBQWtGLG1DQUFtQztBQUNySCw0REFBNEQsa0JBQWtCO0FBQzlFO0FBQ0EsdUVBQXVFLG1DQUFtQztBQUMxRyxrRkFBa0YsbUNBQW1DO0FBQ3JILDREQUE0RCxrQkFBa0I7QUFDOUU7QUFDQSxpREFBaUQsZ0JBQWdCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDIiwiZmlsZSI6IjI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOebruagh+aJi+acuuWPt+aJgOWcqOWfuuermUxUReS/oeaBryhDYXRjaClcclxuICovXHJcbmV4cG9ydCBjbGFzcyBQcmFzaW5nTHRlQ2F0Y2hJbmZvIHtcclxuXHJcblx0c3RhdGljIHNob3dMdGVDYXRjaEluZm8obHRlQ2F0Y2hJbmZvKSB7XHJcblx0XHQvKipDYXRjaOmdouadv+aYvuekuuS/oeaBryovXHJcblx0XHQvKipkZWwgYnkgZ2FvY2hhbyBzdGFydCovXHJcblx0XHQvLyAkKGAudGFyZ2V0LWx0ZS1pbmZvLWNvbnRhaW5lcmApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG5cdFx0LyoqZGVsIGJ5IGdhb2NoYW8gZW5kICovXHJcblx0XHQkKGAudGFyZ2V0LWx0ZS1pbmZvLXRpbWVgKS5odG1sKGAke25ldyBEYXRlKGx0ZUNhdGNoSW5mby5yZXBvcnRUaW1lKS5Gb3JtYXQoJ2hoOm1tOnNzJyl9YCk7XHJcblx0XHQvKiplZHRpIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuXHRcdGxldCBidHNJZCA9IGAke2x0ZUNhdGNoSW5mby5tY2N9LSR7bW5jQ2hhbmdlKGx0ZUNhdGNoSW5mby5tbmMpfS0ke2x0ZUNhdGNoSW5mby50YWN9LSR7bHRlQ2F0Y2hJbmZvLmVjaX1gO1xyXG5cdFx0bGV0IGx0ZUluZm9IdG1sID0gYFxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwidGFyZ2V0LWx0ZS1pbmZvLWNvbnRlbnQtYmFzZSBjbGlwYm9hcmRcIiBkYXRhLWNsaXBib2FyZC10ZXh0PVwiJHtidHNJZH1cIj4ke2J0c0lkfTwvZGl2PlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwidGFyZ2V0LWx0ZS1pbmZvLWNvbnRlbnQtcnNzaVwiPiR7bHRlQ2F0Y2hJbmZvLnJzc2l9PC9kaXY+XHJcblx0XHRcdGA7XHJcblx0XHQvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcblx0XHQkKGAudGFyZ2V0LWx0ZS1zeXN0ZW0taW5mby1jb250ZW50YCkuaHRtbChsdGVJbmZvSHRtbCk7XHJcblx0XHRsZXQgY2VsbHNIdG1sID0gJyc7XHJcblx0XHRsZXQgY2VsbHNMaXN0ID0gSlNPTi5wYXJzZShsdGVDYXRjaEluZm8uY2VsbHMpO1xyXG5cdFx0LyrliKTliKvmmL7npLpyc3Jw5ZKMcnNyceeahOminOiJsiovXHJcblx0XHRmdW5jdGlvbiBiYWNrZ3JvdW5kQ29sb3IodmFsKSB7XHJcblx0XHRcdGlmICh2YWwgPj0gLTYwKSB7XHJcblx0XHRcdFx0cmV0dXJuICcjMjVBQTAwJ1xyXG5cdFx0XHR9IGVsc2UgaWYgKHZhbCA+PSAtODAgJiYgdmFsIDwgLTYwKSB7XHJcblx0XHRcdFx0cmV0dXJuICcjMjI5NkQ4J1xyXG5cdFx0XHR9IGVsc2UgaWYgKHZhbCA+PSAtMTAwICYmIHZhbCA8IC04MCkge1xyXG5cdFx0XHRcdHJldHVybiAnI0RDNzgyNydcclxuXHRcdFx0fSBlbHNlIGlmICh2YWwgPCAtMTAwKSB7XHJcblx0XHRcdFx0cmV0dXJuICcjRjYzMjMyJ1xyXG5cdFx0XHR9IGVsc2UgaWYgKHZhbCA9PSAnJyB8fCAhdmFsIHx8IHZhbCA9PSBudWxsIHx8IHZhbCA9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gJyNmZmYnXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIG1uY0NoYW5nZSh2YWwpIHtcclxuXHRcdFx0bGV0IHJlc3VsdCA9IHZhbDtcclxuXHRcdFx0aWYgKCEhdmFsICYmIHZhbC5sZW5ndGggPT0gMikge1xyXG5cdFx0XHRcdGlmICh2YWwuc3Vic3RyKDAsIDEpID09IDApIHtcclxuXHRcdFx0XHRcdHJlc3VsdCA9IHZhbC5zdWJzdHIoMSwgMSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9XHJcblx0XHQvKuagueaNrnJzcnDlkoxyc3Jx55qE5YC85Yaz5a6a6aKc6Imy5p+x55qE5a695bqmKi9cclxuXHRcdGZ1bmN0aW9uIGJhY2tncm91bmRXaWR0aCh2YWwpIHtcclxuXHRcdFx0aWYgKHZhbCA+PSAtNjApIHtcclxuXHRcdFx0XHRyZXR1cm4gJzEwMCUnXHJcblx0XHRcdH0gZWxzZSBpZiAodmFsID49IC04MCAmJiB2YWwgPCAtNjApIHtcclxuXHRcdFx0XHRyZXR1cm4gJzc1JSdcclxuXHRcdFx0fSBlbHNlIGlmICh2YWwgPj0gLTEwMCAmJiB2YWwgPCAtODApIHtcclxuXHRcdFx0XHRyZXR1cm4gJzUwJSdcclxuXHRcdFx0fSBlbHNlIGlmICh2YWwgPCAtMTAwKSB7XHJcblx0XHRcdFx0cmV0dXJuICcyNSUnXHJcblx0XHRcdH0gZWxzZSBpZiAodmFsID09ICcnIHx8ICF2YWwgfHwgdmFsID09IG51bGwgfHwgdmFsID09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHJldHVybiAnMTAwJSdcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0LyrmmK/lkKbkuLrkuLvliqjlvI/ln7rnq5kqL1xyXG5cdFx0ZnVuY3Rpb24gaXNBY3RpdmUoZWFyZmNuLCBwY2ksIHR5cGUpIHtcclxuXHRcdFx0bGV0IHJlc3VsdCA9IFwiXCI7XHJcblx0XHRcdGlmIChidHNBY3RpdmVDYWNoZSAhPSB1bmRlZmluZWQgJiYgYnRzQWN0aXZlQ2FjaGUgIT0gbnVsbCkge1xyXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYnRzQWN0aXZlQ2FjaGUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGlmIChidHNBY3RpdmVDYWNoZVtpXS5zdGF0dXMgPT0gMiAmJiBidHNBY3RpdmVDYWNoZVtpXS5mcmVxID09IGVhcmZjbiAmJiBidHNBY3RpdmVDYWNoZVtpXS5wY2kgPT0gcGNpKSB7XHJcblx0XHRcdFx0XHRcdGlmICh0eXBlID09IDEpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXN1bHQgPSBgXHJcblx0XHRcdFx0XHRcdDxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZDogdXJsKCdpbWcvaWNvbnBpYy9DUi1hY3RpdmUucG5nJykgbm8tcmVwZWF0O2JhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlO1xyXG5cdFx0XHRcdFx0XHR3aWR0aDogMzRweDtoZWlnaHQ6IDE4cHg7bWFyZ2luOiA4cHggYXV0bztkaXNwbGF5OiBibG9jaztcIj48L3NwYW4+XHJcblx0XHRcdFx0XHRcdGA7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0cmVzdWx0ID0gXCJjb2xvcjojRjYzMjMyO2ZvbnQtd2VpZ2h0OjEwMDA7XCI7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjZWxsc0xpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKGkgJSAyID09IDApIHtcclxuXHRcdFx0XHQvKiplZHRpIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuXHRcdFx0XHRjZWxsc0h0bWwgPSBjZWxsc0h0bWwgKyBgXHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YXJnZXQtbHRlLWluZm8tY29udGVudC1vZGRcIj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGFyZ2V0LWx0ZS1pbmZvLWNvbnRlbnQtYWN0aXZlXCI+JHtpc0FjdGl2ZShjZWxsc0xpc3RbaV0uZWFyZmNuLCBjZWxsc0xpc3RbaV0ucGNpLCAxKX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGFyZ2V0LWx0ZS1pbmZvLWNvbnRlbnQtbmFtZVwiPiR7Y2VsbHNMaXN0W2ldLm5hbWV9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRhcmdldC1sdGUtaW5mby1jb250ZW50LXBjaVwiIHN0eWxlPVwiJHtpc0FjdGl2ZShjZWxsc0xpc3RbaV0uZWFyZmNuLCBjZWxsc0xpc3RbaV0ucGNpLCAyKX1cIj4ke2NlbGxzTGlzdFtpXS5lYXJmY259LyR7Y2VsbHNMaXN0W2ldLnBjaX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGFyZ2V0LWx0ZS1pbmZvLWNvbnRlbnQtcnNycFwiIHN0eWxlPVwiYm9yZGVyLWNvbG9yOiR7YmFja2dyb3VuZENvbG9yKGNlbGxzTGlzdFtpXS5yc3JwKX1cIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YXJnZXQtbHRlLWluZm8tY29udGVudC1yc3JwLWNvbG9yXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiR7YmFja2dyb3VuZENvbG9yKGNlbGxzTGlzdFtpXS5yc3JwKX07XCI+PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGFyZ2V0LWx0ZS1pbmZvLWNvbnRlbnQtcnNycC1jb250ZW50XCI+JHtjZWxsc0xpc3RbaV0ucnNycH08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGFyZ2V0LWx0ZS1pbmZvLWNvbnRlbnQtcnNycVwiIHN0eWxlPVwiYm9yZGVyLWNvbG9yOiR7YmFja2dyb3VuZENvbG9yKGNlbGxzTGlzdFtpXS5yc3JxKX1cIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YXJnZXQtbHRlLWluZm8tY29udGVudC1yc3JxLWNvbG9yXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiR7YmFja2dyb3VuZENvbG9yKGNlbGxzTGlzdFtpXS5yc3JxKX07XCI+PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGFyZ2V0LWx0ZS1pbmZvLWNvbnRlbnQtcnNycS1jb250ZW50XCI+JHtjZWxsc0xpc3RbaV0ucnNycX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGFyZ2V0LWx0ZS1pbmZvLWNvbnRlbnQtdGFcIj4ke2NlbGxzTGlzdFtpXS50YX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+YDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjZWxsc0h0bWwgPSBjZWxsc0h0bWwgKyBgXHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YXJnZXQtbHRlLWluZm8tY29udGVudC1ldmVuXCI+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YXJnZXQtbHRlLWluZm8tY29udGVudC1hY3RpdmVcIj4ke2lzQWN0aXZlKGNlbGxzTGlzdFtpXS5lYXJmY24sIGNlbGxzTGlzdFtpXS5wY2ksIDEpfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGFyZ2V0LWx0ZS1pbmZvLWNvbnRlbnQtbmFtZVwiPiR7Y2VsbHNMaXN0W2ldLm5hbWV9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRhcmdldC1sdGUtaW5mby1jb250ZW50LXBjaVwiIHN0eWxlPVwiJHtpc0FjdGl2ZShjZWxsc0xpc3RbaV0uZWFyZmNuLCBjZWxsc0xpc3RbaV0ucGNpLCAyKX1cIj4ke2NlbGxzTGlzdFtpXS5lYXJmY259LyR7Y2VsbHNMaXN0W2ldLnBjaX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGFyZ2V0LWx0ZS1pbmZvLWNvbnRlbnQtcnNycFwiIHN0eWxlPVwiYm9yZGVyLWNvbG9yOiR7YmFja2dyb3VuZENvbG9yKGNlbGxzTGlzdFtpXS5yc3JwKX1cIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YXJnZXQtbHRlLWluZm8tY29udGVudC1yc3JwLWNvbG9yXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiR7YmFja2dyb3VuZENvbG9yKGNlbGxzTGlzdFtpXS5yc3JwKX1cIj48L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YXJnZXQtbHRlLWluZm8tY29udGVudC1yc3JwLWNvbnRlbnRcIj4ke2NlbGxzTGlzdFtpXS5yc3JwfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YXJnZXQtbHRlLWluZm8tY29udGVudC1yc3JxXCIgc3R5bGU9XCJib3JkZXItY29sb3I6JHtiYWNrZ3JvdW5kQ29sb3IoY2VsbHNMaXN0W2ldLnJzcnEpfVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRhcmdldC1sdGUtaW5mby1jb250ZW50LXJzcnEtY29sb3JcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6JHtiYWNrZ3JvdW5kQ29sb3IoY2VsbHNMaXN0W2ldLnJzcnEpfVwiPjwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRhcmdldC1sdGUtaW5mby1jb250ZW50LXJzcnEtY29udGVudFwiPiR7Y2VsbHNMaXN0W2ldLnJzcnF9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRhcmdldC1sdGUtaW5mby1jb250ZW50LXRhXCI+JHtjZWxsc0xpc3RbaV0udGF9PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwvZGl2PiBgO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuXHRcdH1cclxuXHRcdCQoYC50YXJnZXQtbHRlLWluZm8tY29udGVudC1jb250YWluZXJgKS5odG1sKGNlbGxzSHRtbCk7XHJcblxyXG5cdH1cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L3BhcnNpbmcvUHJhc2luZ0x0ZUNhdGNoSW5mby5qc1xuLy8gbW9kdWxlIGlkID0gMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///27\n");

/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/**\r\n * 主动式详细信息、历史能量信息\r\n */\r\nclass PrasingDevActiveDetailInfo {\r\n\r\n\t//主动式详细面板信息展示\r\n\tstatic showDevActiveDetailInfo(devActiveDetailInfo) {\r\n\t\t/**add by gaochao start */\r\n\t\tlet ChannelStatusArray = [\"未连接\", \"关闭态\", \"开启态\", \"切换中\", \"开启中\", \"关闭中\"];\r\n\t\t/**add by gaochao end*/\r\n\t\t//devActiveDetailInfo为主动式详细信息JSON对象，取channels字段转JSON对象\r\n\t\tlet channels = devActiveDetailInfo.channels;\r\n\t\tlet reportTime = devActiveDetailInfo.reportTime;\r\n\t\tlet mode = devActiveDetailInfo.mode;\r\n\t\t$(`#active-mode`).html(getModeHtml(mode));\r\n\t\tif (channels && typeof (channels) != undefined && channels != '') {\r\n\t\t\tlet channelArray = [];\r\n\t\t\ttry {\r\n\t\t\t\tchannelArray = JSON.parse(channels);\r\n\t\t\t\tbtsActiveCache = channelArray;\r\n\t\t\t\tif (channelArray && channelArray.length > 0) {\r\n\t\t\t\t\t$(`#active-info-time`).html(new Date(reportTime).Format('hh:mm:ss'));\r\n\t\t\t\t\tlet htmlValue = '';\r\n\t\t\t\t\tfor (let i = 0; i < channelArray.length; i++) {\r\n\t\t\t\t\t\t/**edti by gaochao start */\r\n\t\t\t\t\t\tif (removeNull(channelArray[i].isHit) == 1) {\r\n\t\t\t\t\t\t\thtmlValue = htmlValue + `\r\n\t\t\t\t\t\t\t<tr style=\"background: #FFE4E4\">\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<div class=\"active-suggest\" style=\"font-weight: bold;color:${removeNull(channelArray[i].isSuggest) == 1 ? '#17c1f4' : '#000'}\">${removeNull(channelArray[i].suggestFreq)}</div>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<div class=\"active-band\" style =\"font-weight: bold\">${removeNull(channelArray[i].band)}</div>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<div class=\"active-pci\" style=\"color: #F63232;font-weight: bold\">${removeNull(channelArray[i].freq)}/${removeNull(channelArray[i].pci)}</div>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<div class=\"active-power\" style=\"font-weight: bold\">${removeNull(channelArray[i].power)}</div>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<div class=\"active-status\" style=\"font-size:14px;font-weight: bold;${isActive(channelArray[i].status, 3)}\">${ChannelStatusArray[statusRemoveNull(channelArray[i].status)] == undefined ? \"--\" : ChannelStatusArray[statusRemoveNull(channelArray[i].status)]}</div>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t`;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\thtmlValue = htmlValue + `\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"active-suggest\" style=\"color:${removeNull(channelArray[i].isSuggest) == 1 ? '#2A8CFF' : '#000'}\">${removeNull(channelArray[i].suggestFreq)}</div>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"active-band\">${removeNull(channelArray[i].band)}</div>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"active-pci\">${removeNull(channelArray[i].freq)}/${removeNull(channelArray[i].pci)}</div>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"active-power\">${removeNull(channelArray[i].power)}</div>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"active-status\" style=\"font-size:14px;${isActive(channelArray[i].status, 3)}\">${ChannelStatusArray[statusRemoveNull(channelArray[i].status)] == undefined ? \"--\" : ChannelStatusArray[statusRemoveNull(channelArray[i].status)]}</div>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t`;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/**edit by gaochao end */\r\n\t\t\t\t\tif (htmlValue != '') {\r\n\t\t\t\t\t\t$(`#active-info-content-infoArea`).html(htmlValue);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (e) { console.error(e) }\r\n\t\t}\r\n\t\tfunction removeNull(val) {\r\n\t\t\tif (val && typeof (val) != undefined && val != '') {\r\n\t\t\t\treturn val;\r\n\t\t\t} else {\r\n\t\t\t\treturn '--';\r\n\t\t\t}\r\n\t\t}\r\n\t\t/**add by gaochao start */\r\n\t\tfunction statusRemoveNull(val) {\r\n\t\t\tif (typeof (val) != undefined && val != '' && !isNaN(val)) {\r\n\t\t\t\treturn val;\r\n\t\t\t} else {\r\n\t\t\t\treturn '--';\r\n\t\t\t}\r\n\t\t}\r\n\t\t/**add by gaochao end*/\r\n\t\tfunction getModeHtml(val) {\r\n\t\t\t//不是undefined、null和空字符串中的一种\r\n\t\t\tif (!!val) {\r\n\t\t\t\tif (val == 1) {\r\n\t\t\t\t\treturn '(自动模式)';\r\n\t\t\t\t} else if (val == 2) {\r\n\t\t\t\t\treturn '(手动模式)';\r\n\t\t\t\t} else if (val == 3) {\r\n\t\t\t\t\treturn '(被授时自动模式)';\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn '';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction isActive(data, type) {\r\n\t\t\tif (data == 2) {\r\n\t\t\t\tif (type == 1) {\r\n\t\t\t\t\treturn \"color: #F63232\"\r\n\t\t\t\t} else if (type == 3) {\r\n\t\t\t\t\treturn \"color: #52B272\"\r\n\t\t\t\t} else if (type == 4) {\r\n\t\t\t\t\treturn \"background: #FFE4E4\"\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \"\"\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//主动式能量历史面板信息展示\r\n\tstatic showDevActiveEngLogInfo(devActiveDetailInfo) {\r\n\t\t//devActiveDetailInfo为主动式详细信息JSON对象,取eng值\r\n\t\tlet eng = devActiveDetailInfo.eng;\r\n\t\tlet reportTime = devActiveDetailInfo.reportTime;\r\n\t\tlet freq = devActiveDetailInfo.engFreq;\r\n\t\tlet pci = devActiveDetailInfo.engPci;\r\n\t\t/**add by gaochao start */\r\n\t\t// $('.activedev-info-value').css(\"display\",\"block\");\r\n\t\t// $('.activedev-info-time').css(\"display\",\"block\");\r\n\t\t// $('.activedev-info-btn').css(\"display\",\"block\");\r\n\t\t/**add by gaochao end */\r\n\t\tif (eng && typeof (eng) != undefined && eng != '' && lastDevActiveEngInfoReportTime != reportTime) {\r\n\t\t\tlet engInfo = new EngInfo();\r\n\t\t\tengInfo.eng = eng;\r\n\t\t\tengInfo.freq = freq;\r\n\t\t\tengInfo.pci = pci;\r\n\t\t\tengInfo.reportTime = reportTime;\r\n\t\t\tdevActiveEngInfoLogCatch.push(engInfo);\r\n\t\t\tlastDevActiveEngInfoReportTime = reportTime;\r\n\t\t\t/**add by gaochao start */\r\n\t\t\t$('.activedev-info-value').html(eng);\r\n\t\t\t$('.activedev-info-time').html(`(${new Date(reportTime).Format('hh:mm:ss')})`);\r\n\t\t\t/**add by gaochao end */\r\n\t\t\tshowEngLog(devActiveEngInfoLogCatch);\r\n\t\t}\r\n\r\n\t\tfunction showEngLog(engInfoArray) {\r\n\t\t\tlet htmlValue = '';\r\n\t\t\tfor (let i = engInfoArray.length - 1; i >= 0; i--) {\r\n\t\t\t\tif (i % 2 == 0) {\r\n\t\t\t\t\t/**edti by gaochao start */\r\n\t\t\t\t\thtmlValue = htmlValue + `\r\n\t\t\t\t\t\t<div class=\"activeEnergy-eng-content-odd\">\r\n\t\t\t\t\t\t\t<div class=\"activeEnergy-eng-span\">${engInfoArray[i].eng}</div>\r\n\t\t\t\t\t\t\t<div class=\"activeEnergy-pci-span\">${engInfoArray[i].freq}/${engInfoArray[i].pci}</div>\r\n\t\t\t\t\t\t\t<div class=\"activeEnergy-time-span\">${new Date(engInfoArray[i].reportTime).Format('hh:mm:ss')}</div>\r\n\t\t\t\t\t\t</div>`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\thtmlValue = htmlValue + `\r\n\t\t\t\t\t\t<div class=\"activeEnergy-eng-content-even\">\r\n\t\t\t\t\t\t\t<div class=\"activeEnergy-eng-span\">${engInfoArray[i].eng}</div>\r\n\t\t\t\t\t\t\t<div class=\"activeEnergy-pci-span\">${engInfoArray[i].freq}/${engInfoArray[i].pci}</div>\r\n\t\t\t\t\t\t\t<div class=\"activeEnergy-time-span\">${new Date(engInfoArray[i].reportTime).Format('hh:mm:ss')}</div>\r\n\t\t\t\t\t\t</div> `;\r\n\t\t\t\t}\r\n\t\t\t\t/**edit by gaochao end */\r\n\t\t\t}\r\n\t\t\t$('.history-energy').html(htmlValue);\r\n\t\t}\r\n\t}\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = PrasingDevActiveDetailInfo;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvcGFyc2luZy9QcmFzaW5nRGV2QWN0aXZlRGV0YWlsSW5mby5qcz82ZDgzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix5QkFBeUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxRQUFRLGdFQUFnRSxJQUFJLHdDQUF3QztBQUNsTDtBQUNBO0FBQ0EsK0RBQStELGlDQUFpQztBQUNoRztBQUNBO0FBQ0EsdURBQXVELHFCQUFxQixpQ0FBaUMsR0FBRyxnQ0FBZ0M7QUFDaEo7QUFDQTtBQUNBLCtEQUErRCxrQ0FBa0M7QUFDakc7QUFDQTtBQUNBLDBEQUEwRCxrQkFBa0IsRUFBRSxvQ0FBb0MsSUFBSSxnSkFBZ0o7QUFDdFE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxnRUFBZ0UsSUFBSSx3Q0FBd0M7QUFDaks7QUFDQTtBQUNBLHFDQUFxQyxpQ0FBaUM7QUFDdEU7QUFDQTtBQUNBLG9DQUFvQyxpQ0FBaUMsR0FBRyxnQ0FBZ0M7QUFDeEc7QUFDQTtBQUNBLHNDQUFzQyxrQ0FBa0M7QUFDeEU7QUFDQTtBQUNBLDJEQUEyRCxFQUFFLG9DQUFvQyxJQUFJLGdKQUFnSjtBQUNyUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLFlBQVk7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msd0NBQXdDO0FBQzlFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsb0JBQW9CO0FBQ2hFLDRDQUE0QyxxQkFBcUIsR0FBRyxvQkFBb0I7QUFDeEYsNkNBQTZDLHdEQUF3RDtBQUNyRztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNENBQTRDLG9CQUFvQjtBQUNoRSw0Q0FBNEMscUJBQXFCLEdBQUcsb0JBQW9CO0FBQ3hGLDZDQUE2Qyx3REFBd0Q7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQyIsImZpbGUiOiIyOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDkuLvliqjlvI/or6bnu4bkv6Hmga/jgIHljoblj7Log73ph4/kv6Hmga9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQcmFzaW5nRGV2QWN0aXZlRGV0YWlsSW5mbyB7XHJcblxyXG5cdC8v5Li75Yqo5byP6K+m57uG6Z2i5p2/5L+h5oGv5bGV56S6XHJcblx0c3RhdGljIHNob3dEZXZBY3RpdmVEZXRhaWxJbmZvKGRldkFjdGl2ZURldGFpbEluZm8pIHtcclxuXHRcdC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcblx0XHRsZXQgQ2hhbm5lbFN0YXR1c0FycmF5ID0gW1wi5pyq6L+e5o6lXCIsIFwi5YWz6Zet5oCBXCIsIFwi5byA5ZCv5oCBXCIsIFwi5YiH5o2i5LitXCIsIFwi5byA5ZCv5LitXCIsIFwi5YWz6Zet5LitXCJdO1xyXG5cdFx0LyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuXHRcdC8vZGV2QWN0aXZlRGV0YWlsSW5mb+S4uuS4u+WKqOW8j+ivpue7huS/oeaBr0pTT07lr7nosaHvvIzlj5ZjaGFubmVsc+Wtl+autei9rEpTT07lr7nosaFcclxuXHRcdGxldCBjaGFubmVscyA9IGRldkFjdGl2ZURldGFpbEluZm8uY2hhbm5lbHM7XHJcblx0XHRsZXQgcmVwb3J0VGltZSA9IGRldkFjdGl2ZURldGFpbEluZm8ucmVwb3J0VGltZTtcclxuXHRcdGxldCBtb2RlID0gZGV2QWN0aXZlRGV0YWlsSW5mby5tb2RlO1xyXG5cdFx0JChgI2FjdGl2ZS1tb2RlYCkuaHRtbChnZXRNb2RlSHRtbChtb2RlKSk7XHJcblx0XHRpZiAoY2hhbm5lbHMgJiYgdHlwZW9mIChjaGFubmVscykgIT0gdW5kZWZpbmVkICYmIGNoYW5uZWxzICE9ICcnKSB7XHJcblx0XHRcdGxldCBjaGFubmVsQXJyYXkgPSBbXTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjaGFubmVsQXJyYXkgPSBKU09OLnBhcnNlKGNoYW5uZWxzKTtcclxuXHRcdFx0XHRidHNBY3RpdmVDYWNoZSA9IGNoYW5uZWxBcnJheTtcclxuXHRcdFx0XHRpZiAoY2hhbm5lbEFycmF5ICYmIGNoYW5uZWxBcnJheS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHQkKGAjYWN0aXZlLWluZm8tdGltZWApLmh0bWwobmV3IERhdGUocmVwb3J0VGltZSkuRm9ybWF0KCdoaDptbTpzcycpKTtcclxuXHRcdFx0XHRcdGxldCBodG1sVmFsdWUgPSAnJztcclxuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2hhbm5lbEFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdC8qKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG5cdFx0XHRcdFx0XHRpZiAocmVtb3ZlTnVsbChjaGFubmVsQXJyYXlbaV0uaXNIaXQpID09IDEpIHtcclxuXHRcdFx0XHRcdFx0XHRodG1sVmFsdWUgPSBodG1sVmFsdWUgKyBgXHJcblx0XHRcdFx0XHRcdFx0PHRyIHN0eWxlPVwiYmFja2dyb3VuZDogI0ZGRTRFNFwiPlxyXG5cdFx0XHRcdFx0XHRcdDx0ZD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFjdGl2ZS1zdWdnZXN0XCIgc3R5bGU9XCJmb250LXdlaWdodDogYm9sZDtjb2xvcjoke3JlbW92ZU51bGwoY2hhbm5lbEFycmF5W2ldLmlzU3VnZ2VzdCkgPT0gMSA/ICcjMTdjMWY0JyA6ICcjMDAwJ31cIj4ke3JlbW92ZU51bGwoY2hhbm5lbEFycmF5W2ldLnN1Z2dlc3RGcmVxKX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHRcdFx0XHRcdDx0ZD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFjdGl2ZS1iYW5kXCIgc3R5bGUgPVwiZm9udC13ZWlnaHQ6IGJvbGRcIj4ke3JlbW92ZU51bGwoY2hhbm5lbEFycmF5W2ldLmJhbmQpfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDwvdGQ+XHJcblx0XHRcdFx0XHRcdFx0PHRkPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWN0aXZlLXBjaVwiIHN0eWxlPVwiY29sb3I6ICNGNjMyMzI7Zm9udC13ZWlnaHQ6IGJvbGRcIj4ke3JlbW92ZU51bGwoY2hhbm5lbEFycmF5W2ldLmZyZXEpfS8ke3JlbW92ZU51bGwoY2hhbm5lbEFycmF5W2ldLnBjaSl9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHRcdFx0XHQ8dGQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJhY3RpdmUtcG93ZXJcIiBzdHlsZT1cImZvbnQtd2VpZ2h0OiBib2xkXCI+JHtyZW1vdmVOdWxsKGNoYW5uZWxBcnJheVtpXS5wb3dlcil9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHRcdFx0XHQ8dGQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJhY3RpdmUtc3RhdHVzXCIgc3R5bGU9XCJmb250LXNpemU6MTRweDtmb250LXdlaWdodDogYm9sZDske2lzQWN0aXZlKGNoYW5uZWxBcnJheVtpXS5zdGF0dXMsIDMpfVwiPiR7Q2hhbm5lbFN0YXR1c0FycmF5W3N0YXR1c1JlbW92ZU51bGwoY2hhbm5lbEFycmF5W2ldLnN0YXR1cyldID09IHVuZGVmaW5lZCA/IFwiLS1cIiA6IENoYW5uZWxTdGF0dXNBcnJheVtzdGF0dXNSZW1vdmVOdWxsKGNoYW5uZWxBcnJheVtpXS5zdGF0dXMpXX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHRcdFx0XHRcdDwvdHI+XHJcblx0XHRcdFx0XHRcdFx0YDtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRodG1sVmFsdWUgPSBodG1sVmFsdWUgKyBgXHJcblx0XHRcdFx0XHRcdFx0XHQ8dHI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8dGQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFjdGl2ZS1zdWdnZXN0XCIgc3R5bGU9XCJjb2xvcjoke3JlbW92ZU51bGwoY2hhbm5lbEFycmF5W2ldLmlzU3VnZ2VzdCkgPT0gMSA/ICcjMkE4Q0ZGJyA6ICcjMDAwJ31cIj4ke3JlbW92ZU51bGwoY2hhbm5lbEFycmF5W2ldLnN1Z2dlc3RGcmVxKX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvdGQ+XHJcblx0XHRcdFx0XHRcdFx0XHQ8dGQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFjdGl2ZS1iYW5kXCI+JHtyZW1vdmVOdWxsKGNoYW5uZWxBcnJheVtpXS5iYW5kKX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvdGQ+XHJcblx0XHRcdFx0XHRcdFx0XHQ8dGQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFjdGl2ZS1wY2lcIj4ke3JlbW92ZU51bGwoY2hhbm5lbEFycmF5W2ldLmZyZXEpfS8ke3JlbW92ZU51bGwoY2hhbm5lbEFycmF5W2ldLnBjaSl9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHRcdFx0XHRcdFx0PHRkPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJhY3RpdmUtcG93ZXJcIj4ke3JlbW92ZU51bGwoY2hhbm5lbEFycmF5W2ldLnBvd2VyKX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvdGQ+XHJcblx0XHRcdFx0XHRcdFx0XHQ8dGQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFjdGl2ZS1zdGF0dXNcIiBzdHlsZT1cImZvbnQtc2l6ZToxNHB4OyR7aXNBY3RpdmUoY2hhbm5lbEFycmF5W2ldLnN0YXR1cywgMyl9XCI+JHtDaGFubmVsU3RhdHVzQXJyYXlbc3RhdHVzUmVtb3ZlTnVsbChjaGFubmVsQXJyYXlbaV0uc3RhdHVzKV0gPT0gdW5kZWZpbmVkID8gXCItLVwiIDogQ2hhbm5lbFN0YXR1c0FycmF5W3N0YXR1c1JlbW92ZU51bGwoY2hhbm5lbEFycmF5W2ldLnN0YXR1cyldfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHRcdFx0XHRcdDwvdHI+XHJcblx0XHRcdFx0XHRcdFx0XHRgO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0LyoqZWRpdCBieSBnYW9jaGFvIGVuZCAqL1xyXG5cdFx0XHRcdFx0aWYgKGh0bWxWYWx1ZSAhPSAnJykge1xyXG5cdFx0XHRcdFx0XHQkKGAjYWN0aXZlLWluZm8tY29udGVudC1pbmZvQXJlYWApLmh0bWwoaHRtbFZhbHVlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHsgY29uc29sZS5lcnJvcihlKSB9XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiByZW1vdmVOdWxsKHZhbCkge1xyXG5cdFx0XHRpZiAodmFsICYmIHR5cGVvZiAodmFsKSAhPSB1bmRlZmluZWQgJiYgdmFsICE9ICcnKSB7XHJcblx0XHRcdFx0cmV0dXJuIHZhbDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gJy0tJztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0LyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuXHRcdGZ1bmN0aW9uIHN0YXR1c1JlbW92ZU51bGwodmFsKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgKHZhbCkgIT0gdW5kZWZpbmVkICYmIHZhbCAhPSAnJyAmJiAhaXNOYU4odmFsKSkge1xyXG5cdFx0XHRcdHJldHVybiB2YWw7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuICctLSc7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcblx0XHRmdW5jdGlvbiBnZXRNb2RlSHRtbCh2YWwpIHtcclxuXHRcdFx0Ly/kuI3mmK91bmRlZmluZWTjgIFudWxs5ZKM56m65a2X56ym5Liy5Lit55qE5LiA56eNXHJcblx0XHRcdGlmICghIXZhbCkge1xyXG5cdFx0XHRcdGlmICh2YWwgPT0gMSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICco6Ieq5Yqo5qih5byPKSc7XHJcblx0XHRcdFx0fSBlbHNlIGlmICh2YWwgPT0gMikge1xyXG5cdFx0XHRcdFx0cmV0dXJuICco5omL5Yqo5qih5byPKSc7XHJcblx0XHRcdFx0fSBlbHNlIGlmICh2YWwgPT0gMykge1xyXG5cdFx0XHRcdFx0cmV0dXJuICco6KKr5o6I5pe26Ieq5Yqo5qih5byPKSc7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNBY3RpdmUoZGF0YSwgdHlwZSkge1xyXG5cdFx0XHRpZiAoZGF0YSA9PSAyKSB7XHJcblx0XHRcdFx0aWYgKHR5cGUgPT0gMSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFwiY29sb3I6ICNGNjMyMzJcIlxyXG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZSA9PSAzKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJjb2xvcjogIzUyQjI3MlwiXHJcblx0XHRcdFx0fSBlbHNlIGlmICh0eXBlID09IDQpIHtcclxuXHRcdFx0XHRcdHJldHVybiBcImJhY2tncm91bmQ6ICNGRkU0RTRcIlxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJcIlxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gXCJcIjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly/kuLvliqjlvI/og73ph4/ljoblj7LpnaLmnb/kv6Hmga/lsZXnpLpcclxuXHRzdGF0aWMgc2hvd0RldkFjdGl2ZUVuZ0xvZ0luZm8oZGV2QWN0aXZlRGV0YWlsSW5mbykge1xyXG5cdFx0Ly9kZXZBY3RpdmVEZXRhaWxJbmZv5Li65Li75Yqo5byP6K+m57uG5L+h5oGvSlNPTuWvueixoSzlj5ZlbmflgLxcclxuXHRcdGxldCBlbmcgPSBkZXZBY3RpdmVEZXRhaWxJbmZvLmVuZztcclxuXHRcdGxldCByZXBvcnRUaW1lID0gZGV2QWN0aXZlRGV0YWlsSW5mby5yZXBvcnRUaW1lO1xyXG5cdFx0bGV0IGZyZXEgPSBkZXZBY3RpdmVEZXRhaWxJbmZvLmVuZ0ZyZXE7XHJcblx0XHRsZXQgcGNpID0gZGV2QWN0aXZlRGV0YWlsSW5mby5lbmdQY2k7XHJcblx0XHQvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG5cdFx0Ly8gJCgnLmFjdGl2ZWRldi1pbmZvLXZhbHVlJykuY3NzKFwiZGlzcGxheVwiLFwiYmxvY2tcIik7XHJcblx0XHQvLyAkKCcuYWN0aXZlZGV2LWluZm8tdGltZScpLmNzcyhcImRpc3BsYXlcIixcImJsb2NrXCIpO1xyXG5cdFx0Ly8gJCgnLmFjdGl2ZWRldi1pbmZvLWJ0bicpLmNzcyhcImRpc3BsYXlcIixcImJsb2NrXCIpO1xyXG5cdFx0LyoqYWRkIGJ5IGdhb2NoYW8gZW5kICovXHJcblx0XHRpZiAoZW5nICYmIHR5cGVvZiAoZW5nKSAhPSB1bmRlZmluZWQgJiYgZW5nICE9ICcnICYmIGxhc3REZXZBY3RpdmVFbmdJbmZvUmVwb3J0VGltZSAhPSByZXBvcnRUaW1lKSB7XHJcblx0XHRcdGxldCBlbmdJbmZvID0gbmV3IEVuZ0luZm8oKTtcclxuXHRcdFx0ZW5nSW5mby5lbmcgPSBlbmc7XHJcblx0XHRcdGVuZ0luZm8uZnJlcSA9IGZyZXE7XHJcblx0XHRcdGVuZ0luZm8ucGNpID0gcGNpO1xyXG5cdFx0XHRlbmdJbmZvLnJlcG9ydFRpbWUgPSByZXBvcnRUaW1lO1xyXG5cdFx0XHRkZXZBY3RpdmVFbmdJbmZvTG9nQ2F0Y2gucHVzaChlbmdJbmZvKTtcclxuXHRcdFx0bGFzdERldkFjdGl2ZUVuZ0luZm9SZXBvcnRUaW1lID0gcmVwb3J0VGltZTtcclxuXHRcdFx0LyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuXHRcdFx0JCgnLmFjdGl2ZWRldi1pbmZvLXZhbHVlJykuaHRtbChlbmcpO1xyXG5cdFx0XHQkKCcuYWN0aXZlZGV2LWluZm8tdGltZScpLmh0bWwoYCgke25ldyBEYXRlKHJlcG9ydFRpbWUpLkZvcm1hdCgnaGg6bW06c3MnKX0pYCk7XHJcblx0XHRcdC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG5cdFx0XHRzaG93RW5nTG9nKGRldkFjdGl2ZUVuZ0luZm9Mb2dDYXRjaCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2hvd0VuZ0xvZyhlbmdJbmZvQXJyYXkpIHtcclxuXHRcdFx0bGV0IGh0bWxWYWx1ZSA9ICcnO1xyXG5cdFx0XHRmb3IgKGxldCBpID0gZW5nSW5mb0FycmF5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdFx0aWYgKGkgJSAyID09IDApIHtcclxuXHRcdFx0XHRcdC8qKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG5cdFx0XHRcdFx0aHRtbFZhbHVlID0gaHRtbFZhbHVlICsgYFxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWN0aXZlRW5lcmd5LWVuZy1jb250ZW50LW9kZFwiPlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJhY3RpdmVFbmVyZ3ktZW5nLXNwYW5cIj4ke2VuZ0luZm9BcnJheVtpXS5lbmd9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFjdGl2ZUVuZXJneS1wY2ktc3BhblwiPiR7ZW5nSW5mb0FycmF5W2ldLmZyZXF9LyR7ZW5nSW5mb0FycmF5W2ldLnBjaX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWN0aXZlRW5lcmd5LXRpbWUtc3BhblwiPiR7bmV3IERhdGUoZW5nSW5mb0FycmF5W2ldLnJlcG9ydFRpbWUpLkZvcm1hdCgnaGg6bW06c3MnKX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+YDtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aHRtbFZhbHVlID0gaHRtbFZhbHVlICsgYFxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWN0aXZlRW5lcmd5LWVuZy1jb250ZW50LWV2ZW5cIj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWN0aXZlRW5lcmd5LWVuZy1zcGFuXCI+JHtlbmdJbmZvQXJyYXlbaV0uZW5nfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJhY3RpdmVFbmVyZ3ktcGNpLXNwYW5cIj4ke2VuZ0luZm9BcnJheVtpXS5mcmVxfS8ke2VuZ0luZm9BcnJheVtpXS5wY2l9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFjdGl2ZUVuZXJneS10aW1lLXNwYW5cIj4ke25ldyBEYXRlKGVuZ0luZm9BcnJheVtpXS5yZXBvcnRUaW1lKS5Gb3JtYXQoJ2hoOm1tOnNzJyl9PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwvZGl2PiBgO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcblx0XHRcdH1cclxuXHRcdFx0JCgnLmhpc3RvcnktZW5lcmd5JykuaHRtbChodG1sVmFsdWUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9yZWFsVGltZUNvbWJhdC9wYXJzaW5nL1ByYXNpbmdEZXZBY3RpdmVEZXRhaWxJbmZvLmpzXG4vLyBtb2R1bGUgaWQgPSAyOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///28\n");

/***/ }),
/* 29 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/**\r\n * TA数据信息\r\n */\r\nclass PrasingHistoryTaDataInfo {\r\n\t\r\n\tstatic showTaDataInfo(devTdoaDataInfo) {\r\n\t\tif(devTdoaDataInfo && typeof(devTdoaDataInfo) != undefined && devTdoaDataInfo != '') {\r\n\t\t\tlet reportTime = devTdoaDataInfo.reportTime;\r\n\t\t\tif(lastTaDataInfoReportTime != reportTime) {\r\n\t\t\t\tdevTdoaDataInfoLogCatch.push(devTdoaDataInfo);\r\n\t\t\t\tlastTaDataInfoReportTime = reportTime;\r\n\t\t\t\tshowTaDataLog(devTdoaDataInfoLogCatch);\r\n\t\t\t}\r\n\t\t}\r\n\t\t/*截取有效的gps信息*/\r\n\t\tfunction gpsSubstring(val){\r\n\t\t\tif(val && typeof(val) != undefined && val != ''){\r\n\t\t\t\treturn val.substring(0, 9)\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction showTaDataLog(devTdoaDataInfoArray) {\r\n\t\t\tlet htmlValue = '';\r\n\t\t\tfor(let i = devTdoaDataInfoArray.length - 1; i >= 0; i--) {\r\n\t\t\t\tif(i % 2 == 0) {\r\n\t\t\t\t\thtmlValue = htmlValue +  `\r\n\t\t\t\t\t\t<div class=\"ta-info-network-odd\" style=\"height: 34px;background: #f0f0f0;\">\r\n\t\t\t\t\t\t\t<div class=\"ta-info-content-header-first\" style=\"border-color: #fff;\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span\" style=\"width: 40px;border-right: 1px solid #fff;\">\r\n\t\t\t\t\t\t\t\t\t\t<!--<span style=\"background: url('img/iconpic/CR-public-network.png') no-repeat;background-size: 100% 100%;\r\n\t\t\t\t\t\t\t\t\t\twidth: 34px;height: 18px;margin: 8px auto;display: block;\"></span>-->\r\n\t\t\t\t\t\t\t\t\t\t${NetworkType(devTdoaDataInfoArray[i].btsType)}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span\" style=\"width: 79px;border-right: 1px solid #fff;\">${removeNull(devTdoaDataInfoArray[i].freq)}/${removeNull(devTdoaDataInfoArray[i].pci)}</span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span CR-ellipsis clipboard\" style=\"width: 159px;border-right: 1px solid #fff;\" data-clipboard-text=\"${devTdoaDataInfoArray[i].btsId}\">${removeNull(devTdoaDataInfoArray[i].btsId)}</span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span show-bts-gps\" style=\"width: 50px;\" data-bts-gps-show-status=0>\r\n\t\t\t\t\t\t\t\t\t\t<span style=\"width: 12px;height: 18px;margin: 8px auto; background: url('img/iconpic/CR-GPS.png') no-repeat;\r\n\t\t\t\t\t\t\t\t\t\tbackground-size: 100% 100%;cursor: pointer;display: block;\" title=\"${devTdoaDataInfoArray[i].btsLat},${devTdoaDataInfoArray[i].btsLng}\"></span>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"bts-gps-span\">${gpsSubstring(devTdoaDataInfoArray[i].btsLat)},${gpsSubstring(devTdoaDataInfoArray[i].btsLng)}</span>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"ta-info-content-header-secede\">\r\n\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span\" style=\"width: 30px;border-right: 1px solid #fff;\">${devTdoaDataInfoArray[i].tdoa}</span>\r\n\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span\" style=\"width: 50px;border-right: 1px solid #fff;font-size: 13px;\">${devTdoaDataInfoArray[i].tdoaRadius}</span>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span\" style=\"width: 62px;border-right: 1px solid #fff;\">${new Date(devTdoaDataInfoArray[i].eventTime).Format('hh:mm:ss')}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"ta-info-content-header-third\">\r\n\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span CR-ellipsis\" style=\"width: 146px;border-right: 1px solid #fff;\" title=\"${devTdoaDataInfoArray[i].disCode}\">${devTdoaDataInfoArray[i].disCode}</span>\r\n\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span show-dev-gps\" style=\"width: 33px;border-right: 1px solid #fff;\" data-dev-gps-show-status=0>\r\n\t\t\t\t\t\t\t\t\t<span style=\"width: 12px;height: 18px;margin: 8px auto; background: url('img/iconpic/CR-GPS.png') no-repeat;\r\n\t\t\t\t\t\t\t\t\tbackground-size: 100% 100%;cursor: pointer;display: block;\" title=\"${devTdoaDataInfoArray[i].lat},${devTdoaDataInfoArray[i].lng}\"></span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"dev-gps-span\">${gpsSubstring(devTdoaDataInfoArray[i].lat)},${gpsSubstring(devTdoaDataInfoArray[i].lng)}</span>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"ta-info-content-header-fourth\" style=\"line-height: 34px;\">${new Date(devTdoaDataInfoArray[i].reportTime).Format('hh:mm:ss')}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t`;\r\n\t\t\t\t}else {\r\n\t\t\t\t\thtmlValue = htmlValue +  `\r\n\t\t\t\t\t\t<div class=\"ta-info-network-even\" style=\"height: 34px;background: #fff;border-right: 1px solid #f0f0f0;\">\r\n\t\t\t\t\t\t\t<div class=\"ta-info-content-header-first\" style=\"border-color: #f0f0f0;border-left: 1px solid #f0f0f0;\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span\" style=\"width: 39px;border-right: 1px solid #f0f0f0;\">\r\n\t\t\t\t\t\t\t\t\t\t<!--<span style=\"background: url('img/iconpic/CR-public-network.png') no-repeat;background-size: 100% 100%;\r\n\t\t\t\t\t\t\t\t\t\twidth: 34px;height: 18px;margin: 8px auto;display: block;\"></span>-->\r\n\t\t\t\t\t\t\t\t\t\t${NetworkType(devTdoaDataInfoArray[i].btsType)}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span\" style=\"width: 79px;border-right: 1px solid #fff;\">${removeNull(devTdoaDataInfoArray[i].freq)}/${removeNull(devTdoaDataInfoArray[i].pci)}</span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span CR-ellipsis clipboard\" style=\"width: 159px;border-right: 1px solid #f0f0f0;\" data-clipboard-text=\"${devTdoaDataInfoArray[i].btsId}\">${removeNull(devTdoaDataInfoArray[i].btsId)}</span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span show-bts-gps\" style=\"width: 50px;\" data-bts-gps-show-status=0>\r\n\t\t\t\t\t\t\t\t\t\t<span style=\"width: 12px;height: 18px;margin: 8px auto; background: url('img/iconpic/CR-GPS.png') no-repeat;\r\n\t\t\t\t\t\t\t\t\t\tbackground-size: 100% 100%;cursor: pointer;display: block;\" title=\"${devTdoaDataInfoArray[i].btsLat},${devTdoaDataInfoArray[i].btsLng}\"></span>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"bts-gps-span\">${gpsSubstring(devTdoaDataInfoArray[i].btsLat)},${gpsSubstring(devTdoaDataInfoArray[i].btsLng)}</span>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"ta-info-content-header-secede\">\r\n\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span\" style=\"width: 30px;border-right: 1px solid #f0f0f0;\">${devTdoaDataInfoArray[i].tdoa}</span>\r\n\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span\" style=\"width: 50px;border-right: 1px solid #f0f0f0;font-size: 13px;\">${devTdoaDataInfoArray[i].tdoaRadius}</span>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span\" style=\"width: 62px;border-right: 1px solid #fff;\">${new Date(devTdoaDataInfoArray[i].eventTime).Format('hh:mm:ss')}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"ta-info-content-header-third\">\r\n\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span CR-ellipsis\" style=\"width: 146px;border-right: 1px solid #f0f0f0;\" title=\"${devTdoaDataInfoArray[i].disCode}\">${devTdoaDataInfoArray[i].disCode}</span>\r\n\t\t\t\t\t\t\t\t<span class=\"ta-info-middle-span show-dev-gps\" style=\"width: 33px;border-right: 1px solid #f0f0f0;\" data-dev-gps-show-status=0>\r\n\t\t\t\t\t\t\t\t\t<span style=\"width: 12px;height: 18px;margin: 8px auto; background: url('img/iconpic/CR-GPS.png') no-repeat;\r\n\t\t\t\t\t\t\t\t\tbackground-size: 100% 100%;cursor: pointer;display: block;\" title=\"${devTdoaDataInfoArray[i].lat},${devTdoaDataInfoArray[i].lng}\"></span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"dev-gps-span\">${gpsSubstring(devTdoaDataInfoArray[i].lat)},${gpsSubstring(devTdoaDataInfoArray[i].lng)}</span>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"ta-info-content-header-fourth\" style=\"line-height: 34px;\">${new Date(devTdoaDataInfoArray[i].reportTime).Format('hh:mm:ss')}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t`;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(htmlValue != '') {\r\n\t\t\t\t$(`.ta-info-table`).html(htmlValue); \r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/*去掉null*/\r\n        function removeNull(val){\r\n            if(val==null||val==undefined||!val||val==''){\r\n                return '--'\r\n            }else{\r\n                return val\r\n            }\r\n\t\t}\r\n\t\t/*判断公网还是主动式*/\r\n\t\tfunction NetworkType(val){\r\n\t\t\tif(val==1){\r\n\t\t\t\treturn `\r\n\t\t\t\t\t<span style=\"background: url('img/iconpic/CR-public-network.png') no-repeat;background-size: 100% 100%;\r\n\t\t\t\t\twidth: 34px;height: 18px;margin: 8px auto;display: block;\"></span>\r\n\t\t\t\t`;\r\n\t\t\t}else{\r\n\t\t\t\treturn `\r\n\t\t\t\t\t<span style=\"background: url('img/iconpic/CR-active.png') no-repeat;background-size: 100% 100%;\r\n\t\t\t\t\twidth: 34px;height: 18px;margin: 8px auto;display: block;\"></span>\r\n\t\t\t\t`;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = PrasingHistoryTaDataInfo;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYXJzaW5nL1ByYXNpbmdIaXN0b3J5VGFEYXRhSW5mby5qcz85MWFkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0EsMkRBQTJELG9CQUFvQjtBQUMvRSwyRUFBMkU7QUFDM0UsOERBQThELDZCQUE2QjtBQUMzRiwwRkFBMEY7QUFDMUYsc0JBQXNCLGFBQWEsaUJBQWlCLGVBQWU7QUFDbkUsWUFBWTtBQUNaO0FBQ0EsOERBQThELDZCQUE2QixJQUFJLHlDQUF5QyxHQUFHLHdDQUF3QztBQUNuTCxxRkFBcUYsNkJBQTZCLHlCQUF5Qiw4QkFBOEIsSUFBSSwwQ0FBMEM7QUFDdk4sMkVBQTJFO0FBQzNFLG1DQUFtQyxhQUFhLGlCQUFpQjtBQUNqRSxxQ0FBcUMsZ0JBQWdCLGVBQWUsV0FBVywrQkFBK0IsR0FBRywrQkFBK0I7QUFDaEosdUNBQXVDLDZDQUE2QyxHQUFHLDZDQUE2QztBQUNwSTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsNkJBQTZCLElBQUksNkJBQTZCO0FBQzNILDZEQUE2RCw2QkFBNkIsZ0JBQWdCLElBQUksbUNBQW1DOztBQUVqSiw2REFBNkQsNkJBQTZCLElBQUksK0RBQStEO0FBQzdKO0FBQ0E7QUFDQSwwRUFBMEUsNkJBQTZCLFdBQVcsZ0NBQWdDLElBQUksZ0NBQWdDO0FBQ3RMLDBFQUEwRSw2QkFBNkI7QUFDdkcsa0NBQWtDLGFBQWEsaUJBQWlCO0FBQ2hFLG9DQUFvQyxnQkFBZ0IsZUFBZSxXQUFXLDRCQUE0QixHQUFHLDRCQUE0QjtBQUN6SSxzQ0FBc0MsMENBQTBDLEdBQUcsMENBQTBDO0FBQzdIO0FBQ0E7QUFDQSwyRUFBMkUsSUFBSSxnRUFBZ0U7QUFDL0k7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDREQUE0RCxpQkFBaUIsZ0NBQWdDO0FBQzdHLDhFQUE4RSwrQkFBK0I7QUFDN0csOERBQThELGdDQUFnQztBQUM5RiwwRkFBMEY7QUFDMUYsc0JBQXNCLGFBQWEsaUJBQWlCLGVBQWU7QUFDbkUsWUFBWTtBQUNaO0FBQ0EsOERBQThELDZCQUE2QixJQUFJLHlDQUF5QyxHQUFHLHdDQUF3QztBQUNuTCxxRkFBcUYsZ0NBQWdDLHlCQUF5Qiw4QkFBOEIsSUFBSSwwQ0FBMEM7QUFDMU4sMkVBQTJFO0FBQzNFLG1DQUFtQyxhQUFhLGlCQUFpQjtBQUNqRSxxQ0FBcUMsZ0JBQWdCLGVBQWUsV0FBVywrQkFBK0IsR0FBRywrQkFBK0I7QUFDaEosdUNBQXVDLDZDQUE2QyxHQUFHLDZDQUE2QztBQUNwSTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsZ0NBQWdDLElBQUksNkJBQTZCO0FBQzlILDZEQUE2RCxnQ0FBZ0MsZ0JBQWdCLElBQUksbUNBQW1DOztBQUVwSiw2REFBNkQsNkJBQTZCLElBQUksK0RBQStEO0FBQzdKO0FBQ0E7QUFDQSwwRUFBMEUsZ0NBQWdDLFdBQVcsZ0NBQWdDLElBQUksZ0NBQWdDO0FBQ3pMLDBFQUEwRSxnQ0FBZ0M7QUFDMUcsa0NBQWtDLGFBQWEsaUJBQWlCO0FBQ2hFLG9DQUFvQyxnQkFBZ0IsZUFBZSxXQUFXLDRCQUE0QixHQUFHLDRCQUE0QjtBQUN6SSxzQ0FBc0MsMENBQTBDLEdBQUcsMENBQTBDO0FBQzdIO0FBQ0E7QUFDQSwyRUFBMkUsSUFBSSxnRUFBZ0U7QUFDL0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRjtBQUNqRixpQkFBaUIsYUFBYSxpQkFBaUIsZUFBZTtBQUM5RDtBQUNBLElBQUk7QUFDSjtBQUNBLHlFQUF5RTtBQUN6RSxpQkFBaUIsYUFBYSxpQkFBaUIsZUFBZTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEMiLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVEHmlbDmja7kv6Hmga9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQcmFzaW5nSGlzdG9yeVRhRGF0YUluZm8ge1xyXG5cdFxyXG5cdHN0YXRpYyBzaG93VGFEYXRhSW5mbyhkZXZUZG9hRGF0YUluZm8pIHtcclxuXHRcdGlmKGRldlRkb2FEYXRhSW5mbyAmJiB0eXBlb2YoZGV2VGRvYURhdGFJbmZvKSAhPSB1bmRlZmluZWQgJiYgZGV2VGRvYURhdGFJbmZvICE9ICcnKSB7XHJcblx0XHRcdGxldCByZXBvcnRUaW1lID0gZGV2VGRvYURhdGFJbmZvLnJlcG9ydFRpbWU7XHJcblx0XHRcdGlmKGxhc3RUYURhdGFJbmZvUmVwb3J0VGltZSAhPSByZXBvcnRUaW1lKSB7XHJcblx0XHRcdFx0ZGV2VGRvYURhdGFJbmZvTG9nQ2F0Y2gucHVzaChkZXZUZG9hRGF0YUluZm8pO1xyXG5cdFx0XHRcdGxhc3RUYURhdGFJbmZvUmVwb3J0VGltZSA9IHJlcG9ydFRpbWU7XHJcblx0XHRcdFx0c2hvd1RhRGF0YUxvZyhkZXZUZG9hRGF0YUluZm9Mb2dDYXRjaCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdC8q5oiq5Y+W5pyJ5pWI55qEZ3Bz5L+h5oGvKi9cclxuXHRcdGZ1bmN0aW9uIGdwc1N1YnN0cmluZyh2YWwpe1xyXG5cdFx0XHRpZih2YWwgJiYgdHlwZW9mKHZhbCkgIT0gdW5kZWZpbmVkICYmIHZhbCAhPSAnJyl7XHJcblx0XHRcdFx0cmV0dXJuIHZhbC5zdWJzdHJpbmcoMCwgOSlcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gc2hvd1RhRGF0YUxvZyhkZXZUZG9hRGF0YUluZm9BcnJheSkge1xyXG5cdFx0XHRsZXQgaHRtbFZhbHVlID0gJyc7XHJcblx0XHRcdGZvcihsZXQgaSA9IGRldlRkb2FEYXRhSW5mb0FycmF5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdFx0aWYoaSAlIDIgPT0gMCkge1xyXG5cdFx0XHRcdFx0aHRtbFZhbHVlID0gaHRtbFZhbHVlICsgIGBcclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRhLWluZm8tbmV0d29yay1vZGRcIiBzdHlsZT1cImhlaWdodDogMzRweDtiYWNrZ3JvdW5kOiAjZjBmMGYwO1wiPlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YS1pbmZvLWNvbnRlbnQtaGVhZGVyLWZpcnN0XCIgc3R5bGU9XCJib3JkZXItY29sb3I6ICNmZmY7XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGEtaW5mby1taWRkbGUtc3BhblwiIHN0eWxlPVwid2lkdGg6IDQwcHg7Ym9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2ZmZjtcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8IS0tPHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kOiB1cmwoJ2ltZy9pY29ucGljL0NSLXB1YmxpYy1uZXR3b3JrLnBuZycpIG5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6IDEwMCUgMTAwJTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aWR0aDogMzRweDtoZWlnaHQ6IDE4cHg7bWFyZ2luOiA4cHggYXV0bztkaXNwbGF5OiBibG9jaztcIj48L3NwYW4+LS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JHtOZXR3b3JrVHlwZShkZXZUZG9hRGF0YUluZm9BcnJheVtpXS5idHNUeXBlKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhLWluZm8tbWlkZGxlLXNwYW5cIiBzdHlsZT1cIndpZHRoOiA3OXB4O2JvcmRlci1yaWdodDogMXB4IHNvbGlkICNmZmY7XCI+JHtyZW1vdmVOdWxsKGRldlRkb2FEYXRhSW5mb0FycmF5W2ldLmZyZXEpfS8ke3JlbW92ZU51bGwoZGV2VGRvYURhdGFJbmZvQXJyYXlbaV0ucGNpKX08L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGEtaW5mby1taWRkbGUtc3BhbiBDUi1lbGxpcHNpcyBjbGlwYm9hcmRcIiBzdHlsZT1cIndpZHRoOiAxNTlweDtib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZmZmO1wiIGRhdGEtY2xpcGJvYXJkLXRleHQ9XCIke2RldlRkb2FEYXRhSW5mb0FycmF5W2ldLmJ0c0lkfVwiPiR7cmVtb3ZlTnVsbChkZXZUZG9hRGF0YUluZm9BcnJheVtpXS5idHNJZCl9PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhLWluZm8tbWlkZGxlLXNwYW4gc2hvdy1idHMtZ3BzXCIgc3R5bGU9XCJ3aWR0aDogNTBweDtcIiBkYXRhLWJ0cy1ncHMtc2hvdy1zdGF0dXM9MD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBzdHlsZT1cIndpZHRoOiAxMnB4O2hlaWdodDogMThweDttYXJnaW46IDhweCBhdXRvOyBiYWNrZ3JvdW5kOiB1cmwoJ2ltZy9pY29ucGljL0NSLUdQUy5wbmcnKSBuby1yZXBlYXQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7Y3Vyc29yOiBwb2ludGVyO2Rpc3BsYXk6IGJsb2NrO1wiIHRpdGxlPVwiJHtkZXZUZG9hRGF0YUluZm9BcnJheVtpXS5idHNMYXR9LCR7ZGV2VGRvYURhdGFJbmZvQXJyYXlbaV0uYnRzTG5nfVwiPjwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImJ0cy1ncHMtc3BhblwiPiR7Z3BzU3Vic3RyaW5nKGRldlRkb2FEYXRhSW5mb0FycmF5W2ldLmJ0c0xhdCl9LCR7Z3BzU3Vic3RyaW5nKGRldlRkb2FEYXRhSW5mb0FycmF5W2ldLmJ0c0xuZyl9PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRhLWluZm8tY29udGVudC1oZWFkZXItc2VjZWRlXCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhLWluZm8tbWlkZGxlLXNwYW5cIiBzdHlsZT1cIndpZHRoOiAzMHB4O2JvcmRlci1yaWdodDogMXB4IHNvbGlkICNmZmY7XCI+JHtkZXZUZG9hRGF0YUluZm9BcnJheVtpXS50ZG9hfTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGEtaW5mby1taWRkbGUtc3BhblwiIHN0eWxlPVwid2lkdGg6IDUwcHg7Ym9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2ZmZjtmb250LXNpemU6IDEzcHg7XCI+JHtkZXZUZG9hRGF0YUluZm9BcnJheVtpXS50ZG9hUmFkaXVzfTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0YS1pbmZvLW1pZGRsZS1zcGFuXCIgc3R5bGU9XCJ3aWR0aDogNjJweDtib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZmZmO1wiPiR7bmV3IERhdGUoZGV2VGRvYURhdGFJbmZvQXJyYXlbaV0uZXZlbnRUaW1lKS5Gb3JtYXQoJ2hoOm1tOnNzJyl9PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YS1pbmZvLWNvbnRlbnQtaGVhZGVyLXRoaXJkXCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhLWluZm8tbWlkZGxlLXNwYW4gQ1ItZWxsaXBzaXNcIiBzdHlsZT1cIndpZHRoOiAxNDZweDtib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZmZmO1wiIHRpdGxlPVwiJHtkZXZUZG9hRGF0YUluZm9BcnJheVtpXS5kaXNDb2RlfVwiPiR7ZGV2VGRvYURhdGFJbmZvQXJyYXlbaV0uZGlzQ29kZX08L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhLWluZm8tbWlkZGxlLXNwYW4gc2hvdy1kZXYtZ3BzXCIgc3R5bGU9XCJ3aWR0aDogMzNweDtib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZmZmO1wiIGRhdGEtZGV2LWdwcy1zaG93LXN0YXR1cz0wPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBzdHlsZT1cIndpZHRoOiAxMnB4O2hlaWdodDogMThweDttYXJnaW46IDhweCBhdXRvOyBiYWNrZ3JvdW5kOiB1cmwoJ2ltZy9pY29ucGljL0NSLUdQUy5wbmcnKSBuby1yZXBlYXQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGJhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlO2N1cnNvcjogcG9pbnRlcjtkaXNwbGF5OiBibG9jaztcIiB0aXRsZT1cIiR7ZGV2VGRvYURhdGFJbmZvQXJyYXlbaV0ubGF0fSwke2RldlRkb2FEYXRhSW5mb0FycmF5W2ldLmxuZ31cIj48L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZGV2LWdwcy1zcGFuXCI+JHtncHNTdWJzdHJpbmcoZGV2VGRvYURhdGFJbmZvQXJyYXlbaV0ubGF0KX0sJHtncHNTdWJzdHJpbmcoZGV2VGRvYURhdGFJbmZvQXJyYXlbaV0ubG5nKX08L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRhLWluZm8tY29udGVudC1oZWFkZXItZm91cnRoXCIgc3R5bGU9XCJsaW5lLWhlaWdodDogMzRweDtcIj4ke25ldyBEYXRlKGRldlRkb2FEYXRhSW5mb0FycmF5W2ldLnJlcG9ydFRpbWUpLkZvcm1hdCgnaGg6bW06c3MnKX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRgO1xyXG5cdFx0XHRcdH1lbHNlIHtcclxuXHRcdFx0XHRcdGh0bWxWYWx1ZSA9IGh0bWxWYWx1ZSArICBgXHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YS1pbmZvLW5ldHdvcmstZXZlblwiIHN0eWxlPVwiaGVpZ2h0OiAzNHB4O2JhY2tncm91bmQ6ICNmZmY7Ym9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2YwZjBmMDtcIj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGEtaW5mby1jb250ZW50LWhlYWRlci1maXJzdFwiIHN0eWxlPVwiYm9yZGVyLWNvbG9yOiAjZjBmMGYwO2JvcmRlci1sZWZ0OiAxcHggc29saWQgI2YwZjBmMDtcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0YS1pbmZvLW1pZGRsZS1zcGFuXCIgc3R5bGU9XCJ3aWR0aDogMzlweDtib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZjBmMGYwO1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwhLS08c3BhbiBzdHlsZT1cImJhY2tncm91bmQ6IHVybCgnaW1nL2ljb25waWMvQ1ItcHVibGljLW5ldHdvcmsucG5nJykgbm8tcmVwZWF0O2JhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdpZHRoOiAzNHB4O2hlaWdodDogMThweDttYXJnaW46IDhweCBhdXRvO2Rpc3BsYXk6IGJsb2NrO1wiPjwvc3Bhbj4tLT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQke05ldHdvcmtUeXBlKGRldlRkb2FEYXRhSW5mb0FycmF5W2ldLmJ0c1R5cGUpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGEtaW5mby1taWRkbGUtc3BhblwiIHN0eWxlPVwid2lkdGg6IDc5cHg7Ym9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2ZmZjtcIj4ke3JlbW92ZU51bGwoZGV2VGRvYURhdGFJbmZvQXJyYXlbaV0uZnJlcSl9LyR7cmVtb3ZlTnVsbChkZXZUZG9hRGF0YUluZm9BcnJheVtpXS5wY2kpfTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0YS1pbmZvLW1pZGRsZS1zcGFuIENSLWVsbGlwc2lzIGNsaXBib2FyZFwiIHN0eWxlPVwid2lkdGg6IDE1OXB4O2JvcmRlci1yaWdodDogMXB4IHNvbGlkICNmMGYwZjA7XCIgZGF0YS1jbGlwYm9hcmQtdGV4dD1cIiR7ZGV2VGRvYURhdGFJbmZvQXJyYXlbaV0uYnRzSWR9XCI+JHtyZW1vdmVOdWxsKGRldlRkb2FEYXRhSW5mb0FycmF5W2ldLmJ0c0lkKX08L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGEtaW5mby1taWRkbGUtc3BhbiBzaG93LWJ0cy1ncHNcIiBzdHlsZT1cIndpZHRoOiA1MHB4O1wiIGRhdGEtYnRzLWdwcy1zaG93LXN0YXR1cz0wPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIHN0eWxlPVwid2lkdGg6IDEycHg7aGVpZ2h0OiAxOHB4O21hcmdpbjogOHB4IGF1dG87IGJhY2tncm91bmQ6IHVybCgnaW1nL2ljb25waWMvQ1ItR1BTLnBuZycpIG5vLXJlcGVhdDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kLXNpemU6IDEwMCUgMTAwJTtjdXJzb3I6IHBvaW50ZXI7ZGlzcGxheTogYmxvY2s7XCIgdGl0bGU9XCIke2RldlRkb2FEYXRhSW5mb0FycmF5W2ldLmJ0c0xhdH0sJHtkZXZUZG9hRGF0YUluZm9BcnJheVtpXS5idHNMbmd9XCI+PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiYnRzLWdwcy1zcGFuXCI+JHtncHNTdWJzdHJpbmcoZGV2VGRvYURhdGFJbmZvQXJyYXlbaV0uYnRzTGF0KX0sJHtncHNTdWJzdHJpbmcoZGV2VGRvYURhdGFJbmZvQXJyYXlbaV0uYnRzTG5nKX08L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGEtaW5mby1jb250ZW50LWhlYWRlci1zZWNlZGVcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGEtaW5mby1taWRkbGUtc3BhblwiIHN0eWxlPVwid2lkdGg6IDMwcHg7Ym9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2YwZjBmMDtcIj4ke2RldlRkb2FEYXRhSW5mb0FycmF5W2ldLnRkb2F9PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0YS1pbmZvLW1pZGRsZS1zcGFuXCIgc3R5bGU9XCJ3aWR0aDogNTBweDtib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZjBmMGYwO2ZvbnQtc2l6ZTogMTNweDtcIj4ke2RldlRkb2FEYXRhSW5mb0FycmF5W2ldLnRkb2FSYWRpdXN9PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhLWluZm8tbWlkZGxlLXNwYW5cIiBzdHlsZT1cIndpZHRoOiA2MnB4O2JvcmRlci1yaWdodDogMXB4IHNvbGlkICNmZmY7XCI+JHtuZXcgRGF0ZShkZXZUZG9hRGF0YUluZm9BcnJheVtpXS5ldmVudFRpbWUpLkZvcm1hdCgnaGg6bW06c3MnKX08L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRhLWluZm8tY29udGVudC1oZWFkZXItdGhpcmRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGEtaW5mby1taWRkbGUtc3BhbiBDUi1lbGxpcHNpc1wiIHN0eWxlPVwid2lkdGg6IDE0NnB4O2JvcmRlci1yaWdodDogMXB4IHNvbGlkICNmMGYwZjA7XCIgdGl0bGU9XCIke2RldlRkb2FEYXRhSW5mb0FycmF5W2ldLmRpc0NvZGV9XCI+JHtkZXZUZG9hRGF0YUluZm9BcnJheVtpXS5kaXNDb2RlfTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGEtaW5mby1taWRkbGUtc3BhbiBzaG93LWRldi1ncHNcIiBzdHlsZT1cIndpZHRoOiAzM3B4O2JvcmRlci1yaWdodDogMXB4IHNvbGlkICNmMGYwZjA7XCIgZGF0YS1kZXYtZ3BzLXNob3ctc3RhdHVzPTA+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIHN0eWxlPVwid2lkdGg6IDEycHg7aGVpZ2h0OiAxOHB4O21hcmdpbjogOHB4IGF1dG87IGJhY2tncm91bmQ6IHVybCgnaW1nL2ljb25waWMvQ1ItR1BTLnBuZycpIG5vLXJlcGVhdDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7Y3Vyc29yOiBwb2ludGVyO2Rpc3BsYXk6IGJsb2NrO1wiIHRpdGxlPVwiJHtkZXZUZG9hRGF0YUluZm9BcnJheVtpXS5sYXR9LCR7ZGV2VGRvYURhdGFJbmZvQXJyYXlbaV0ubG5nfVwiPjwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJkZXYtZ3BzLXNwYW5cIj4ke2dwc1N1YnN0cmluZyhkZXZUZG9hRGF0YUluZm9BcnJheVtpXS5sYXQpfSwke2dwc1N1YnN0cmluZyhkZXZUZG9hRGF0YUluZm9BcnJheVtpXS5sbmcpfTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGEtaW5mby1jb250ZW50LWhlYWRlci1mb3VydGhcIiBzdHlsZT1cImxpbmUtaGVpZ2h0OiAzNHB4O1wiPiR7bmV3IERhdGUoZGV2VGRvYURhdGFJbmZvQXJyYXlbaV0ucmVwb3J0VGltZSkuRm9ybWF0KCdoaDptbTpzcycpfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdGA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmKGh0bWxWYWx1ZSAhPSAnJykge1xyXG5cdFx0XHRcdCQoYC50YS1pbmZvLXRhYmxlYCkuaHRtbChodG1sVmFsdWUpOyBcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8q5Y675o6JbnVsbCovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlTnVsbCh2YWwpe1xyXG4gICAgICAgICAgICBpZih2YWw9PW51bGx8fHZhbD09dW5kZWZpbmVkfHwhdmFsfHx2YWw9PScnKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnLS0nXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbFxyXG4gICAgICAgICAgICB9XHJcblx0XHR9XHJcblx0XHQvKuWIpOaWreWFrOe9kei/mOaYr+S4u+WKqOW8jyovXHJcblx0XHRmdW5jdGlvbiBOZXR3b3JrVHlwZSh2YWwpe1xyXG5cdFx0XHRpZih2YWw9PTEpe1xyXG5cdFx0XHRcdHJldHVybiBgXHJcblx0XHRcdFx0XHQ8c3BhbiBzdHlsZT1cImJhY2tncm91bmQ6IHVybCgnaW1nL2ljb25waWMvQ1ItcHVibGljLW5ldHdvcmsucG5nJykgbm8tcmVwZWF0O2JhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlO1xyXG5cdFx0XHRcdFx0d2lkdGg6IDM0cHg7aGVpZ2h0OiAxOHB4O21hcmdpbjogOHB4IGF1dG87ZGlzcGxheTogYmxvY2s7XCI+PC9zcGFuPlxyXG5cdFx0XHRcdGA7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJldHVybiBgXHJcblx0XHRcdFx0XHQ8c3BhbiBzdHlsZT1cImJhY2tncm91bmQ6IHVybCgnaW1nL2ljb25waWMvQ1ItYWN0aXZlLnBuZycpIG5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6IDEwMCUgMTAwJTtcclxuXHRcdFx0XHRcdHdpZHRoOiAzNHB4O2hlaWdodDogMThweDttYXJnaW46IDhweCBhdXRvO2Rpc3BsYXk6IGJsb2NrO1wiPjwvc3Bhbj5cclxuXHRcdFx0XHRgO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9wYXJzaW5nL1ByYXNpbmdIaXN0b3J5VGFEYXRhSW5mby5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///29\n");

/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__overlay_DrawTaOverlay_js__ = __webpack_require__(49);\n/**\r\n * TA绘图信息\r\n */\r\n\r\nclass PrasingTaDrawInfo {\r\n\r\n\tstatic showTaDrawInfoList(devTdoaDrawInfoList) {\r\n\t\tif(devTdoaDrawInfoList && typeof(devTdoaDrawInfoList) != undefined && devTdoaDrawInfoList != '') {\r\n\t\t\tfor(let i = 0; i < devTdoaDrawInfoList.length; i++) {\r\n\t\t\t\tlet devCode = devTdoaDrawInfoList[i].devCode;\r\n\t\t\t\tlet reportTime = devTdoaDrawInfoList[i].reportTime;\r\n\t\t\t\tif(null != devCode && null != reportTime) {\r\n\t\t\t\t\tif(historyTaDrawReportTimeArray.length > 0) {\r\n\t\t\t\t\t\tlet flag = false;\r\n\t\t\t\t\t\tfor(let j = 0; j < historyTaDrawReportTimeArray.length; j++) {\r\n\t\t\t\t\t\t\tif(historyTaDrawReportTimeArray[j] == reportTime) {\r\n\t\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!flag) {\r\n\t\t\t\t\t\t\tthis.showTaDrawInfo(devTdoaDrawInfoList[i]);\r\n\t\t\t\t\t\t\thistoryTaDrawReportTimeArray.push(reportTime);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tthis.showTaDrawInfo(devTdoaDrawInfoList[i]);\r\n\t\t\t\t\t\thistoryTaDrawReportTimeArray.push(reportTime);\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic showTaDrawInfo(devTdoaDrawInfo) {\r\n\t\tif(devTdoaDrawInfo.circles && typeof(devTdoaDrawInfo.circles) != undefined && devTdoaDrawInfo.circles != '') {\r\n\t\t\t//绘制圆形\r\n\t\t\tlet circleArray = [];\r\n\t\t\ttry {\r\n\t\t\t\tcircleArray = JSON.parse(devTdoaDrawInfo.circles);\r\n\t\t\t} catch (e) { console.error(e) }\r\n\t\t\tif(circleArray.length > 0) {\r\n\t\t\t\t__WEBPACK_IMPORTED_MODULE_0__overlay_DrawTaOverlay_js__[\"a\" /* DrawTaOverlay */].drawTaCircle(circleArray);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(devTdoaDrawInfo.points && typeof(devTdoaDrawInfo.points) != undefined && devTdoaDrawInfo.points != '') {\r\n\t\t\t//绘制点集合\r\n\t\t\tlet pointArray = [];\r\n\t\t\ttry {\r\n\t\t\t\tpointArray = JSON.parse(devTdoaDrawInfo.points);\r\n\t\t\t} catch (e) { console.error(e) }\r\n\t\t\tif(pointArray.length > 0) {\r\n\t\t\t\t__WEBPACK_IMPORTED_MODULE_0__overlay_DrawTaOverlay_js__[\"a\" /* DrawTaOverlay */].drawTaPoints(pointArray);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(devTdoaDrawInfo.polygons && typeof(devTdoaDrawInfo.polygons) != undefined && devTdoaDrawInfo.polygons != '') {\r\n\t\t\t//绘制多边形\r\n\t\t\tlet polygonArray = [];\r\n\t\t\ttry {\r\n\t\t\t\tpolygonArray = JSON.parse(devTdoaDrawInfo.polygons);\r\n\t\t\t} catch (e) { console.error(e) }\r\n\t\t\tif(polygonArray.length > 0) {\r\n\t\t\t\t__WEBPACK_IMPORTED_MODULE_0__overlay_DrawTaOverlay_js__[\"a\" /* DrawTaOverlay */].drawTaPolygon(polygonArray);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = PrasingTaDrawInfo;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvcGFyc2luZy9QcmFzaW5nVGFEcmF3SW5mby5qcz80M2IyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQzREO0FBQ3JEOztBQUVQO0FBQ0E7QUFDQSxpQkFBaUIsZ0NBQWdDO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IseUNBQXlDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxZQUFZO0FBQ2hCO0FBQ0EsSUFBSSxnRkFBYTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksWUFBWTtBQUNoQjtBQUNBLElBQUksZ0ZBQWE7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLFlBQVk7QUFDaEI7QUFDQSxJQUFJLGdGQUFhO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQSxDIiwiZmlsZSI6IjMwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFRB57uY5Zu+5L+h5oGvXHJcbiAqL1xyXG5pbXBvcnQgeyBEcmF3VGFPdmVybGF5IH0gZnJvbSAnLi4vb3ZlcmxheS9EcmF3VGFPdmVybGF5LmpzJztcclxuZXhwb3J0IGNsYXNzIFByYXNpbmdUYURyYXdJbmZvIHtcclxuXHJcblx0c3RhdGljIHNob3dUYURyYXdJbmZvTGlzdChkZXZUZG9hRHJhd0luZm9MaXN0KSB7XHJcblx0XHRpZihkZXZUZG9hRHJhd0luZm9MaXN0ICYmIHR5cGVvZihkZXZUZG9hRHJhd0luZm9MaXN0KSAhPSB1bmRlZmluZWQgJiYgZGV2VGRvYURyYXdJbmZvTGlzdCAhPSAnJykge1xyXG5cdFx0XHRmb3IobGV0IGkgPSAwOyBpIDwgZGV2VGRvYURyYXdJbmZvTGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGxldCBkZXZDb2RlID0gZGV2VGRvYURyYXdJbmZvTGlzdFtpXS5kZXZDb2RlO1xyXG5cdFx0XHRcdGxldCByZXBvcnRUaW1lID0gZGV2VGRvYURyYXdJbmZvTGlzdFtpXS5yZXBvcnRUaW1lO1xyXG5cdFx0XHRcdGlmKG51bGwgIT0gZGV2Q29kZSAmJiBudWxsICE9IHJlcG9ydFRpbWUpIHtcclxuXHRcdFx0XHRcdGlmKGhpc3RvcnlUYURyYXdSZXBvcnRUaW1lQXJyYXkubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRsZXQgZmxhZyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRmb3IobGV0IGogPSAwOyBqIDwgaGlzdG9yeVRhRHJhd1JlcG9ydFRpbWVBcnJheS5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0XHRcdGlmKGhpc3RvcnlUYURyYXdSZXBvcnRUaW1lQXJyYXlbal0gPT0gcmVwb3J0VGltZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZmxhZyA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYoIWZsYWcpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnNob3dUYURyYXdJbmZvKGRldlRkb2FEcmF3SW5mb0xpc3RbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdGhpc3RvcnlUYURyYXdSZXBvcnRUaW1lQXJyYXkucHVzaChyZXBvcnRUaW1lKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fWVsc2Uge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnNob3dUYURyYXdJbmZvKGRldlRkb2FEcmF3SW5mb0xpc3RbaV0pO1xyXG5cdFx0XHRcdFx0XHRoaXN0b3J5VGFEcmF3UmVwb3J0VGltZUFycmF5LnB1c2gocmVwb3J0VGltZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdHN0YXRpYyBzaG93VGFEcmF3SW5mbyhkZXZUZG9hRHJhd0luZm8pIHtcclxuXHRcdGlmKGRldlRkb2FEcmF3SW5mby5jaXJjbGVzICYmIHR5cGVvZihkZXZUZG9hRHJhd0luZm8uY2lyY2xlcykgIT0gdW5kZWZpbmVkICYmIGRldlRkb2FEcmF3SW5mby5jaXJjbGVzICE9ICcnKSB7XHJcblx0XHRcdC8v57uY5Yi25ZyG5b2iXHJcblx0XHRcdGxldCBjaXJjbGVBcnJheSA9IFtdO1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGNpcmNsZUFycmF5ID0gSlNPTi5wYXJzZShkZXZUZG9hRHJhd0luZm8uY2lyY2xlcyk7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHsgY29uc29sZS5lcnJvcihlKSB9XHJcblx0XHRcdGlmKGNpcmNsZUFycmF5Lmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHREcmF3VGFPdmVybGF5LmRyYXdUYUNpcmNsZShjaXJjbGVBcnJheSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmKGRldlRkb2FEcmF3SW5mby5wb2ludHMgJiYgdHlwZW9mKGRldlRkb2FEcmF3SW5mby5wb2ludHMpICE9IHVuZGVmaW5lZCAmJiBkZXZUZG9hRHJhd0luZm8ucG9pbnRzICE9ICcnKSB7XHJcblx0XHRcdC8v57uY5Yi254K56ZuG5ZCIXHJcblx0XHRcdGxldCBwb2ludEFycmF5ID0gW107XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0cG9pbnRBcnJheSA9IEpTT04ucGFyc2UoZGV2VGRvYURyYXdJbmZvLnBvaW50cyk7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHsgY29uc29sZS5lcnJvcihlKSB9XHJcblx0XHRcdGlmKHBvaW50QXJyYXkubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdERyYXdUYU92ZXJsYXkuZHJhd1RhUG9pbnRzKHBvaW50QXJyYXkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZihkZXZUZG9hRHJhd0luZm8ucG9seWdvbnMgJiYgdHlwZW9mKGRldlRkb2FEcmF3SW5mby5wb2x5Z29ucykgIT0gdW5kZWZpbmVkICYmIGRldlRkb2FEcmF3SW5mby5wb2x5Z29ucyAhPSAnJykge1xyXG5cdFx0XHQvL+e7mOWItuWkmui+ueW9olxyXG5cdFx0XHRsZXQgcG9seWdvbkFycmF5ID0gW107XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0cG9seWdvbkFycmF5ID0gSlNPTi5wYXJzZShkZXZUZG9hRHJhd0luZm8ucG9seWdvbnMpO1xyXG5cdFx0XHR9IGNhdGNoIChlKSB7IGNvbnNvbGUuZXJyb3IoZSkgfVxyXG5cdFx0XHRpZihwb2x5Z29uQXJyYXkubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdERyYXdUYU92ZXJsYXkuZHJhd1RhUG9seWdvbihwb2x5Z29uQXJyYXkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdH1cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L3BhcnNpbmcvUHJhc2luZ1RhRHJhd0luZm8uanNcbi8vIG1vZHVsZSBpZCA9IDMwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///30\n");

/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__ = __webpack_require__(1);\n\r\n\r\nclass CarHistoryShadowOverlayConstructor {\r\n\r\n    constructor(point, devCode, northAngle, energy, passive) {\r\n        return this.draw(point, devCode, northAngle, energy, passive);\r\n    }\r\n\r\n    /**\r\n     * 使用百度地图API官方写法，不做任何更改\r\n     */\r\n    draw(point, devCode, northAngle, energy, passive) {\r\n\r\n        /* 定义自定义覆盖物的构造函数 */\r\n        function carHistoryShadowOverlay(point, devCode, northAngle, energy, passive) {\r\n            this._point = point;\r\n            this._devCode = devCode;\r\n            this._northAngle = northAngle;\r\n            this._energy = [Number(energy[0]), Number(energy[1]), Number(energy[2]), Number(energy[3])];\r\n            this._passive = passive;\r\n        }\r\n\r\n        /* 继承API的BMap.Overlay */\r\n        carHistoryShadowOverlay.prototype = new BMap.Overlay();\r\n\r\n        /* 实现初始化方法 */\r\n        carHistoryShadowOverlay.prototype.initialize = function (map) {\r\n            /* 保存map对象实例 */\r\n            this._map = map;\r\n            /* 创建div元素，作为自定义覆盖物的容器 */\r\n            var div = this._div = document.createElement('div');\r\n            div.style.position = 'absolute';\r\n            /* 能量值div*/\r\n            let energyDiv = '';\r\n            if (this._energy[0] == 0 && this._energy[1] == 0 && this._energy[2] == 0 && this._energy[3] == 0) {\r\n                /*edit by guoshuai start 2019/3/19*/\r\n            } else if (this._energy[0] <= 10 ) {\r\n            /*edit by guoshuai end 2019/3/19*/\r\n                for (let i = 0; i < 4; i++) {\r\n                    energyDiv = energyDiv + `\r\n                        <div class=\"energy-word energy-word-${i}\" style=\"background:rgba(60, 60, 60, 0.5);\"><div class=\"energy-value\" style=\"transform:rotate(-${this._northAngle}deg)\">1</div></div><!--前方-->\r\n                    `;\r\n                }\r\n            } else {\r\n                let maxEngVal = this._energy[0]; // 设定一个默认初始值\r\n                let maxEngIndex = 0;\r\n                /* 获取最大值*/\r\n                for (let i = 0; i < 4; i++) {\r\n                    if (maxEngVal < this._energy[i]) {\r\n                        maxEngVal = this._energy[i];\r\n                        maxEngIndex = i;\r\n                    }\r\n                }\r\n                /* 最大值可能有多个，存储数组索引*/\r\n                let maxEngArr = [];\r\n                for (let i = 0; i < 4; i++) {\r\n                    if (maxEngVal == this._energy[i]) {\r\n                        maxEngArr.push(i);\r\n                    }\r\n                }\r\n                for (let i = 0; i < 4; i++) {\r\n                    let textColor;\r\n                    for (let j = 0; j < maxEngArr.length; j++) {\r\n                        if (i == maxEngArr[j]) {\r\n                            textColor = 'color:rgb(0, 255, 0)';\r\n                            break;\r\n                        }\r\n                    }\r\n                    energyDiv = energyDiv + `\r\n                        <div class=\"energy-word energy-word-${i}\" style=\"background:rgba(60, 60, 60, 0.5);${textColor}\"><div class=\"energy-value\" style=\"transform:rotate(-${this._northAngle}deg)\">${this._energy[i]}</div></div><!--前方-->\r\n                    `;\r\n                }\r\n            }\r\n            let passiveHtml = '';\r\n            if (passive == 2000) {\r\n                passiveHtml = passiveHtml + `\r\n                    <div class=\"shadow-passive\" style=\"color: #ff2222;\">主动式命中</div>\r\n                `;\r\n            } else if (passive == 1000) {\r\n                passiveHtml = passiveHtml + `\r\n                    <div class=\"shadow-passive\" style=\"color: #fff;\">主动式脱网</div>\r\n                `;\r\n            }\r\n            /* 自定义覆盖物div中的html代码 */\r\n            div.innerHTML = `\r\n                <!--小车图片-->\r\n                <img class=\"car-img gray-cover\" src=\"img/car_${devDrawInfoMap.get(this._devCode).devImgIndex}.png\" style=\"transform:rotate(${this._northAngle - 90}deg); opacity:0.75\">\r\n                <!--四向能量-->\r\n                <div class=\"energy-value-container\" style=\"transform:rotate(${this._northAngle}deg);\">\r\n                    ${energyDiv}    \r\n                </div>\r\n                <!--主动式信息-->\r\n                ${passiveHtml}\r\n            `;\r\n            div.style.zIndex = 8500;\r\n            /* 将div添加到覆盖物容器中 */\r\n            map.getPanes().labelPane.appendChild(div);\r\n            /* 保存div实例 */\r\n            this._div = div;\r\n            /* 需要将div元素作为方法的返回值 */\r\n            return div;\r\n        }\r\n\r\n        /* 绘制覆盖物,实现绘制方法 */\r\n        carHistoryShadowOverlay.prototype.draw = function () {\r\n            /* 根据地理坐标转换为像素坐标，并设置给容器 */\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n\r\n        return new carHistoryShadowOverlay(point, devCode, northAngle, energy, passive);\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = CarHistoryShadowOverlayConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9DYXJIaXN0b3J5U2hhZG93T3ZlcmxheUNvbnN0cnVjdG9yLmpzP2NjOGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBNkM7O0FBRXRDOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLCtCQUErQixPQUFPO0FBQ3RDO0FBQ0EsOERBQThELEVBQUUsMENBQTBDLHVEQUF1RCxpQkFBaUI7QUFDbEw7QUFDQTtBQUNBLGFBQWE7QUFDYixnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBLCtCQUErQixPQUFPO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLE9BQU87QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsT0FBTztBQUN0QztBQUNBLG1DQUFtQyxzQkFBc0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELEVBQUUsMENBQTBDLEVBQUUsVUFBVSx1REFBdUQsaUJBQWlCLFFBQVEsZ0JBQWdCO0FBQ3ROO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBLGFBQWE7QUFDYjtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELDhDQUE4QyxnQ0FBZ0Msc0JBQXNCLEtBQUs7QUFDeEs7QUFDQSw4RUFBOEUsaUJBQWlCLEtBQUs7QUFDcEcsc0JBQXNCLFU7QUFDdEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsQyIsImZpbGUiOiIzMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVuZXJneSB9IGZyb20gJy4uL2VuZXJneS9FbmVyZ3kuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhckhpc3RvcnlTaGFkb3dPdmVybGF5Q29uc3RydWN0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBvaW50LCBkZXZDb2RlLCBub3J0aEFuZ2xlLCBlbmVyZ3ksIHBhc3NpdmUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kcmF3KHBvaW50LCBkZXZDb2RlLCBub3J0aEFuZ2xlLCBlbmVyZ3ksIHBhc3NpdmUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5L2/55So55m+5bqm5Zyw5Zu+QVBJ5a6Y5pa55YaZ5rOV77yM5LiN5YGa5Lu75L2V5pu05pS5XHJcbiAgICAgKi9cclxuICAgIGRyYXcocG9pbnQsIGRldkNvZGUsIG5vcnRoQW5nbGUsIGVuZXJneSwgcGFzc2l2ZSkge1xyXG5cclxuICAgICAgICAvKiDlrprkuYnoh6rlrprkuYnopobnm5bniannmoTmnoTpgKDlh73mlbAgKi9cclxuICAgICAgICBmdW5jdGlvbiBjYXJIaXN0b3J5U2hhZG93T3ZlcmxheShwb2ludCwgZGV2Q29kZSwgbm9ydGhBbmdsZSwgZW5lcmd5LCBwYXNzaXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvaW50ID0gcG9pbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2RldkNvZGUgPSBkZXZDb2RlO1xyXG4gICAgICAgICAgICB0aGlzLl9ub3J0aEFuZ2xlID0gbm9ydGhBbmdsZTtcclxuICAgICAgICAgICAgdGhpcy5fZW5lcmd5ID0gW051bWJlcihlbmVyZ3lbMF0pLCBOdW1iZXIoZW5lcmd5WzFdKSwgTnVtYmVyKGVuZXJneVsyXSksIE51bWJlcihlbmVyZ3lbM10pXTtcclxuICAgICAgICAgICAgdGhpcy5fcGFzc2l2ZSA9IHBhc3NpdmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiDnu6fmib9BUEnnmoRCTWFwLk92ZXJsYXkgKi9cclxuICAgICAgICBjYXJIaXN0b3J5U2hhZG93T3ZlcmxheS5wcm90b3R5cGUgPSBuZXcgQk1hcC5PdmVybGF5KCk7XHJcblxyXG4gICAgICAgIC8qIOWunueOsOWIneWni+WMluaWueazlSAqL1xyXG4gICAgICAgIGNhckhpc3RvcnlTaGFkb3dPdmVybGF5LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKG1hcCkge1xyXG4gICAgICAgICAgICAvKiDkv53lrZhtYXDlr7nosaHlrp7kvosgKi9cclxuICAgICAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xyXG4gICAgICAgICAgICAvKiDliJvlu7pkaXblhYPntKDvvIzkvZzkuLroh6rlrprkuYnopobnm5bniannmoTlrrnlmaggKi9cclxuICAgICAgICAgICAgdmFyIGRpdiA9IHRoaXMuX2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICAvKiDog73ph4/lgLxkaXYqL1xyXG4gICAgICAgICAgICBsZXQgZW5lcmd5RGl2ID0gJyc7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbmVyZ3lbMF0gPT0gMCAmJiB0aGlzLl9lbmVyZ3lbMV0gPT0gMCAmJiB0aGlzLl9lbmVyZ3lbMl0gPT0gMCAmJiB0aGlzLl9lbmVyZ3lbM10gPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLyplZGl0IGJ5IGd1b3NodWFpIHN0YXJ0IDIwMTkvMy8xOSovXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fZW5lcmd5WzBdIDw9IDEwICkge1xyXG4gICAgICAgICAgICAvKmVkaXQgYnkgZ3Vvc2h1YWkgZW5kIDIwMTkvMy8xOSovXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZXJneURpdiA9IGVuZXJneURpdiArIGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVuZXJneS13b3JkIGVuZXJneS13b3JkLSR7aX1cIiBzdHlsZT1cImJhY2tncm91bmQ6cmdiYSg2MCwgNjAsIDYwLCAwLjUpO1wiPjxkaXYgY2xhc3M9XCJlbmVyZ3ktdmFsdWVcIiBzdHlsZT1cInRyYW5zZm9ybTpyb3RhdGUoLSR7dGhpcy5fbm9ydGhBbmdsZX1kZWcpXCI+MTwvZGl2PjwvZGl2PjwhLS3liY3mlrktLT5cclxuICAgICAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IG1heEVuZ1ZhbCA9IHRoaXMuX2VuZXJneVswXTsgLy8g6K6+5a6a5LiA5Liq6buY6K6k5Yid5aeL5YC8XHJcbiAgICAgICAgICAgICAgICBsZXQgbWF4RW5nSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgLyog6I635Y+W5pyA5aSn5YC8Ki9cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heEVuZ1ZhbCA8IHRoaXMuX2VuZXJneVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhFbmdWYWwgPSB0aGlzLl9lbmVyZ3lbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEVuZ0luZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiDmnIDlpKflgLzlj6/og73mnInlpJrkuKrvvIzlrZjlgqjmlbDnu4TntKLlvJUqL1xyXG4gICAgICAgICAgICAgICAgbGV0IG1heEVuZ0FyciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF4RW5nVmFsID09IHRoaXMuX2VuZXJneVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhFbmdBcnIucHVzaChpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0Q29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtYXhFbmdBcnIubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gbWF4RW5nQXJyW2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3IgPSAnY29sb3I6cmdiKDAsIDI1NSwgMCknO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lcmd5RGl2ID0gZW5lcmd5RGl2ICsgYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZW5lcmd5LXdvcmQgZW5lcmd5LXdvcmQtJHtpfVwiIHN0eWxlPVwiYmFja2dyb3VuZDpyZ2JhKDYwLCA2MCwgNjAsIDAuNSk7JHt0ZXh0Q29sb3J9XCI+PGRpdiBjbGFzcz1cImVuZXJneS12YWx1ZVwiIHN0eWxlPVwidHJhbnNmb3JtOnJvdGF0ZSgtJHt0aGlzLl9ub3J0aEFuZ2xlfWRlZylcIj4ke3RoaXMuX2VuZXJneVtpXX08L2Rpdj48L2Rpdj48IS0t5YmN5pa5LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgcGFzc2l2ZUh0bWwgPSAnJztcclxuICAgICAgICAgICAgaWYgKHBhc3NpdmUgPT0gMjAwMCkge1xyXG4gICAgICAgICAgICAgICAgcGFzc2l2ZUh0bWwgPSBwYXNzaXZlSHRtbCArIGBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hhZG93LXBhc3NpdmVcIiBzdHlsZT1cImNvbG9yOiAjZmYyMjIyO1wiPuS4u+WKqOW8j+WRveS4rTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzaXZlID09IDEwMDApIHtcclxuICAgICAgICAgICAgICAgIHBhc3NpdmVIdG1sID0gcGFzc2l2ZUh0bWwgKyBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNoYWRvdy1wYXNzaXZlXCIgc3R5bGU9XCJjb2xvcjogI2ZmZjtcIj7kuLvliqjlvI/ohLHnvZE8L2Rpdj5cclxuICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyog6Ieq5a6a5LmJ6KaG55uW54mpZGl25Lit55qEaHRtbOS7o+eggSAqL1xyXG4gICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICAgICAgPCEtLeWwj+i9puWbvueJhy0tPlxyXG4gICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImNhci1pbWcgZ3JheS1jb3ZlclwiIHNyYz1cImltZy9jYXJfJHtkZXZEcmF3SW5mb01hcC5nZXQodGhpcy5fZGV2Q29kZSkuZGV2SW1nSW5kZXh9LnBuZ1wiIHN0eWxlPVwidHJhbnNmb3JtOnJvdGF0ZSgke3RoaXMuX25vcnRoQW5nbGUgLSA5MH1kZWcpOyBvcGFjaXR5OjAuNzVcIj5cclxuICAgICAgICAgICAgICAgIDwhLS3lm5vlkJHog73ph48tLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbmVyZ3ktdmFsdWUtY29udGFpbmVyXCIgc3R5bGU9XCJ0cmFuc2Zvcm06cm90YXRlKCR7dGhpcy5fbm9ydGhBbmdsZX1kZWcpO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7ZW5lcmd5RGl2fSAgICBcclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPCEtLeS4u+WKqOW8j+S/oeaBry0tPlxyXG4gICAgICAgICAgICAgICAgJHtwYXNzaXZlSHRtbH1cclxuICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IDg1MDA7XHJcbiAgICAgICAgICAgIC8qIOWwhmRpdua3u+WKoOWIsOimhueblueJqeWuueWZqOS4rSAqL1xyXG4gICAgICAgICAgICBtYXAuZ2V0UGFuZXMoKS5sYWJlbFBhbmUuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICAgICAgLyog5L+d5a2YZGl25a6e5L6LICovXHJcbiAgICAgICAgICAgIHRoaXMuX2RpdiA9IGRpdjtcclxuICAgICAgICAgICAgLyog6ZyA6KaB5bCGZGl25YWD57Sg5L2c5Li65pa55rOV55qE6L+U5Zue5YC8ICovXHJcbiAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiDnu5jliLbopobnm5bniaks5a6e546w57uY5Yi25pa55rOVICovXHJcbiAgICAgICAgY2FySGlzdG9yeVNoYWRvd092ZXJsYXkucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8qIOagueaNruWcsOeQhuWdkOagh+i9rOaNouS4uuWDj+e0oOWdkOagh++8jOW5tuiuvue9rue7meWuueWZqCAqL1xyXG4gICAgICAgICAgICBsZXQgcG9zaXRpb24gPSB0aGlzLl9tYXAucG9pbnRUb092ZXJsYXlQaXhlbCh0aGlzLl9wb2ludCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpdi5zdHlsZS5sZWZ0ID0gcG9zaXRpb24ueCArICdweCc7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpdi5zdHlsZS50b3AgPSBwb3NpdGlvbi55ICsgJ3B4JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgY2FySGlzdG9yeVNoYWRvd092ZXJsYXkocG9pbnQsIGRldkNvZGUsIG5vcnRoQW5nbGUsIGVuZXJneSwgcGFzc2l2ZSk7XHJcblxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L292ZXJsYXkvQ2FySGlzdG9yeVNoYWRvd092ZXJsYXlDb25zdHJ1Y3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///31\n");

/***/ }),
/* 32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__ = __webpack_require__(1);\n\r\n\r\nclass SingleHistoryShadowOverlayConstructor {\r\n\r\n    constructor(point, devCode, northAngle, energy) {\r\n        return this.draw(point, devCode, northAngle, energy);\r\n    }\r\n\r\n    /**\r\n     * 使用百度地图API官方写法，不做任何更改\r\n     */\r\n    draw(point, devCode, northAngle, energy) {\r\n\r\n        /* 定义自定义覆盖物的构造函数 */\r\n        function singleHistoryShadowOverlay(point, devCode, northAngle, energy) {\r\n            this._point = point;\r\n            this._devCode = devCode;\r\n            this._northAngle = northAngle;\r\n            this._energy = energy;\r\n        }\r\n\r\n        /* 继承API的BMap.Overlay */\r\n        singleHistoryShadowOverlay.prototype = new BMap.Overlay();\r\n\r\n        /* 实现初始化方法 */\r\n        singleHistoryShadowOverlay.prototype.initialize = function (map) {\r\n            /* 保存map对象实例 */\r\n            this._map = map;\r\n            /* 创建div元素，作为自定义覆盖物的容器 */\r\n            var div = this._div = document.createElement('div');\r\n            div.style.position = 'absolute';\r\n            /* 能量值div*/\r\n            let energyDiv = '';\r\n            /* 自定义覆盖物div中的html代码 */\r\n            /**edti by gaochao start */\r\n            div.innerHTML = `\r\n                <!--单兵图片-->\r\n                <div class=\"single-img\" style=\"transform:rotate(${this._northAngle - 90}deg);\">\r\n                    <img class=\"gray-cover\" src=\"img/single_${devDrawInfoMap.get(this._devCode).devImgIndex}.png\" style=\"width:46px;height:37px;position:absolute;left:5px;top:0;opacity:0.8;\">\r\n                </div>\r\n                <!--单兵能量-->\r\n                <div class=\"energy-word-single\" style=\"left:-18px;top:-52px;background:rgba(0,0,0,0.5);\">${this._energy}</div>\r\n            `;\r\n            /**edit by gaochao end */\r\n            div.style.zIndex = 8500;\r\n            /* 将div添加到覆盖物容器中 */\r\n            map.getPanes().labelPane.appendChild(div);\r\n            /* 保存div实例 */\r\n            this._div = div;\r\n            /* 需要将div元素作为方法的返回值 */\r\n            return div;\r\n        }\r\n\r\n        /* 绘制覆盖物,实现绘制方法 */\r\n        singleHistoryShadowOverlay.prototype.draw = function () {\r\n            /* 根据地理坐标转换为像素坐标，并设置给容器 */\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n\r\n        return new singleHistoryShadowOverlay(point, devCode, northAngle, energy);\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = SingleHistoryShadowOverlayConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9TaW5nbGVIaXN0b3J5U2hhZG93T3ZlcmxheUNvbnN0cnVjdG9yLmpzP2NjZTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBNkM7O0FBRXRDOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLHNCQUFzQixLQUFLO0FBQzdGLDhEQUE4RCw4Q0FBOEMsd0JBQXdCLFlBQVksa0JBQWtCLFNBQVMsTUFBTSxZQUFZO0FBQzdMO0FBQ0E7QUFDQSxrRUFBa0UsVUFBVSwyQkFBMkIsSUFBSSxhQUFhO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLEMiLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbmVyZ3kgfSBmcm9tICcuLi9lbmVyZ3kvRW5lcmd5LmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTaW5nbGVIaXN0b3J5U2hhZG93T3ZlcmxheUNvbnN0cnVjdG9yIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwb2ludCwgZGV2Q29kZSwgbm9ydGhBbmdsZSwgZW5lcmd5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhdyhwb2ludCwgZGV2Q29kZSwgbm9ydGhBbmdsZSwgZW5lcmd5KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS9v+eUqOeZvuW6puWcsOWbvkFQSeWumOaWueWGmeazle+8jOS4jeWBmuS7u+S9leabtOaUuVxyXG4gICAgICovXHJcbiAgICBkcmF3KHBvaW50LCBkZXZDb2RlLCBub3J0aEFuZ2xlLCBlbmVyZ3kpIHtcclxuXHJcbiAgICAgICAgLyog5a6a5LmJ6Ieq5a6a5LmJ6KaG55uW54mp55qE5p6E6YCg5Ye95pWwICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2luZ2xlSGlzdG9yeVNoYWRvd092ZXJsYXkocG9pbnQsIGRldkNvZGUsIG5vcnRoQW5nbGUsIGVuZXJneSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wb2ludCA9IHBvaW50O1xyXG4gICAgICAgICAgICB0aGlzLl9kZXZDb2RlID0gZGV2Q29kZTtcclxuICAgICAgICAgICAgdGhpcy5fbm9ydGhBbmdsZSA9IG5vcnRoQW5nbGU7XHJcbiAgICAgICAgICAgIHRoaXMuX2VuZXJneSA9IGVuZXJneTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIOe7p+aJv0FQSeeahEJNYXAuT3ZlcmxheSAqL1xyXG4gICAgICAgIHNpbmdsZUhpc3RvcnlTaGFkb3dPdmVybGF5LnByb3RvdHlwZSA9IG5ldyBCTWFwLk92ZXJsYXkoKTtcclxuXHJcbiAgICAgICAgLyog5a6e546w5Yid5aeL5YyW5pa55rOVICovXHJcbiAgICAgICAgc2luZ2xlSGlzdG9yeVNoYWRvd092ZXJsYXkucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAobWFwKSB7XHJcbiAgICAgICAgICAgIC8qIOS/neWtmG1hcOWvueixoeWunuS+iyAqL1xyXG4gICAgICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XHJcbiAgICAgICAgICAgIC8qIOWIm+W7umRpduWFg+e0oO+8jOS9nOS4uuiHquWumuS5ieimhueblueJqeeahOWuueWZqCAqL1xyXG4gICAgICAgICAgICB2YXIgZGl2ID0gdGhpcy5fZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgICAgIC8qIOiDvemHj+WAvGRpdiovXHJcbiAgICAgICAgICAgIGxldCBlbmVyZ3lEaXYgPSAnJztcclxuICAgICAgICAgICAgLyog6Ieq5a6a5LmJ6KaG55uW54mpZGl25Lit55qEaHRtbOS7o+eggSAqL1xyXG4gICAgICAgICAgICAvKiplZHRpIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgIDwhLS3ljZXlhbXlm77niYctLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaW5nbGUtaW1nXCIgc3R5bGU9XCJ0cmFuc2Zvcm06cm90YXRlKCR7dGhpcy5fbm9ydGhBbmdsZSAtIDkwfWRlZyk7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImdyYXktY292ZXJcIiBzcmM9XCJpbWcvc2luZ2xlXyR7ZGV2RHJhd0luZm9NYXAuZ2V0KHRoaXMuX2RldkNvZGUpLmRldkltZ0luZGV4fS5wbmdcIiBzdHlsZT1cIndpZHRoOjQ2cHg7aGVpZ2h0OjM3cHg7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1cHg7dG9wOjA7b3BhY2l0eTowLjg7XCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwhLS3ljZXlhbXog73ph48tLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbmVyZ3ktd29yZC1zaW5nbGVcIiBzdHlsZT1cImxlZnQ6LTE4cHg7dG9wOi01MnB4O2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjUpO1wiPiR7dGhpcy5fZW5lcmd5fTwvZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSA4NTAwO1xyXG4gICAgICAgICAgICAvKiDlsIZkaXbmt7vliqDliLDopobnm5bnianlrrnlmajkuK0gKi9cclxuICAgICAgICAgICAgbWFwLmdldFBhbmVzKCkubGFiZWxQYW5lLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICAgIC8qIOS/neWtmGRpduWunuS+iyAqL1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYgPSBkaXY7XHJcbiAgICAgICAgICAgIC8qIOmcgOimgeWwhmRpduWFg+e0oOS9nOS4uuaWueazleeahOi/lOWbnuWAvCAqL1xyXG4gICAgICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyog57uY5Yi26KaG55uW54mpLOWunueOsOe7mOWItuaWueazlSAqL1xyXG4gICAgICAgIHNpbmdsZUhpc3RvcnlTaGFkb3dPdmVybGF5LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvKiDmoLnmja7lnLDnkIblnZDmoIfovazmjaLkuLrlg4/ntKDlnZDmoIfvvIzlubborr7nva7nu5nlrrnlmaggKi9cclxuICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gdGhpcy5fbWFwLnBvaW50VG9PdmVybGF5UGl4ZWwodGhpcy5fcG9pbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYuc3R5bGUubGVmdCA9IHBvc2l0aW9uLnggKyAncHgnO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYuc3R5bGUudG9wID0gcG9zaXRpb24ueSArICdweCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IHNpbmdsZUhpc3RvcnlTaGFkb3dPdmVybGF5KHBvaW50LCBkZXZDb2RlLCBub3J0aEFuZ2xlLCBlbmVyZ3kpO1xyXG5cclxuICAgIH1cclxuXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9yZWFsVGltZUNvbWJhdC9vdmVybGF5L1NpbmdsZUhpc3RvcnlTaGFkb3dPdmVybGF5Q29uc3RydWN0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///32\n");

/***/ }),
/* 33 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class QueryReplay {\r\n\r\n    static query(data) {\r\n        $('#table-tbody').html('');\r\n        $('.loading-word').html('正在搜索...');\r\n        $('.search-loading').css('display', 'block');\r\n        let url = 'commandManage/combatReplay/getHistoryCombatInfoList';\r\n        return new Promise((resolve) => {\r\n            $.ajax({\r\n                url: url,\r\n                type: 'POST',\r\n                async: true,\r\n                contentType: \"application/json; charset=utf-8\",\r\n                data: JSON.stringify(data),\r\n                dataType: 'json'\r\n            }).then((result) => {\r\n                $('.search-loading').css('display', 'none');\r\n                resolve(result);\r\n            });\r\n        });\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = QueryReplay;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hamF4L1F1ZXJ5UmVwbGF5LmpzPzBmN2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDs7QUFFQSxDIiwiZmlsZSI6IjMzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFF1ZXJ5UmVwbGF5IHtcclxuXHJcbiAgICBzdGF0aWMgcXVlcnkoZGF0YSkge1xyXG4gICAgICAgICQoJyN0YWJsZS10Ym9keScpLmh0bWwoJycpO1xyXG4gICAgICAgICQoJy5sb2FkaW5nLXdvcmQnKS5odG1sKCfmraPlnKjmkJzntKIuLi4nKTtcclxuICAgICAgICAkKCcuc2VhcmNoLWxvYWRpbmcnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICBsZXQgdXJsID0gJ2NvbW1hbmRNYW5hZ2UvY29tYmF0UmVwbGF5L2dldEhpc3RvcnlDb21iYXRJbmZvTGlzdCc7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nXHJcbiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJCgnLnNlYXJjaC1sb2FkaW5nJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hamF4L1F1ZXJ5UmVwbGF5LmpzXG4vLyBtb2R1bGUgaWQgPSAzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///33\n");

/***/ }),
/* 34 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class DrawTable {\r\n\r\n    static caseTable(result) {\r\n        let htmlValue = `\r\n            <tr class=\"tbody-th\">\r\n                <td>作战成员</td>\r\n                <td>起始日期</td>\r\n                <td>作战时长</td>\r\n                <td>省市</td>\r\n                <td>设备</td>\r\n                <td>作战名称</td>\r\n                <td>标签</td>\r\n                <td>备注</td>\r\n                <td>评分</td>\r\n                <td>操作</td>\r\n            </tr>\r\n        `;\r\n        let tableContent = result.pageInfo.list;\r\n        function add0(val) {\r\n            if (val >= 10) {\r\n                return '' + val;\r\n            } else {\r\n                return '0' + val;\r\n            }\r\n        }\r\n        function removeNull(val) {\r\n            if (val && typeof(val) != \"undefined\") {\r\n                return val;\r\n            } else {\r\n                return '';\r\n            }\r\n        }\r\n        function getUserList(list) {\r\n            let value = '';\r\n            for (let i = 0; i < list.length; i++) {\r\n                value = value + list[i].username + '/' + list[i].handleSeq + '，';\r\n            }\r\n            return value.substring(0, value.length - 1);\r\n        }\r\n        function getDevList(list) {\r\n            let value = '';\r\n            for (let i = 0; i < list.length; i++) {\r\n                value = value + list[i].devCode + '，';\r\n            }\r\n            return value.substring(0, value.length - 1);\r\n        }\r\n        function getStartTime(value) {\r\n            return new Date(value).Format('yyyy-MM-dd');\r\n        }\r\n        function getContinuousTime(startTime, endTime) {\r\n            let sec = parseInt((endTime - startTime) / 1000);\r\n            /* delete by guoshuai start 2018-9-26\r\n            let hour = parseInt(sec / 3600);\r\n            let minute = parseInt((sec % 3600) / 60);\r\n            return hour + '小时' + (minute <= 0 && hour <= 0 ? 1 : minute) + '分钟';\r\n            delete by guoshuai end 2018-9-26*/\r\n            /*add by guoshuai start 2018-9-29*/\r\n            let minute = parseInt(sec / 60);\r\n            if( minute <= 0){\r\n                return '1分钟';\r\n            }else{\r\n                return minute+ '分钟';\r\n            }\r\n            /*add by guoshuai end 2018-9-29*/\r\n        }\r\n        /*add by guoshuai start 2018-9-29*/\r\n        function getContinuousTime2(startTime, endTime) {\r\n            let sec = parseInt((endTime - startTime) / 1000);\r\n            let minute = parseInt(sec / 60);\r\n            if( minute <= 0){\r\n                return '1min';\r\n            }else{\r\n                return minute+ 'min';\r\n            }\r\n        }\r\n        /*add by guoshuai end 2018-9-29*/\r\n        function getScore(score) {\r\n            let grayNum = 0;\r\n            if (score == 100) {\r\n                grayNum = 0;\r\n            } else if (score >= 80) {\r\n                grayNum = 1;\r\n            } else if (score >= 60) {\r\n                grayNum = 2;\r\n            } else if (score >= 40) {\r\n                grayNum = 3;\r\n            } else if (score >= 20) {\r\n                grayNum = 4;\r\n            } else {\r\n                grayNum = 5;\r\n            }\r\n            let htmlString = '';\r\n            for (let i = 0; i < 5; i++) {\r\n                let isGray = '';\r\n                if (i < grayNum) {\r\n                    isGray = 'gray-cover';\r\n                }\r\n                // if ((i + 1) / 5 > score / 100) {\r\n                //     isGray = 'gray-cover';\r\n                // }\r\n                htmlString = `\r\n                    <div class=\"grade-star-icon-intable ${isGray}\"></div>\r\n                `+ htmlString;\r\n            }\r\n            return htmlString;\r\n        }\r\n        \r\n        function getCombatName(data) {\r\n            if (null != data.combatReview) {\r\n                if (data.combatReview.combatName && typeof(data.combatReview.combatName) != \"undefined\") {\r\n                    return data.combatReview.combatName;\r\n                } else {\r\n                    return '';\r\n                }\r\n            } else {\r\n                return '';\r\n            }\r\n        }\r\n        for (let i = 0; i < tableContent.length; i++) {\r\n            htmlValue = htmlValue + `\r\n                <tr class=\"tbody-tr\">\r\n                    <td title=\"${getUserList(tableContent[i].userList)}\">\r\n                        <div class=\"table-td-user-names abbreviation\">\r\n                            ${getUserList(tableContent[i].userList)}\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <div class=\"startTimeDiv abbreviation\">${getStartTime(tableContent[i].startTime)}</div>\r\n                    </td>\r\n                    <td>\r\n                        <div class=\"getContinuousTimeDiv abbreviation\">\r\n                            ${getContinuousTime(tableContent[i].startTime, tableContent[i].endTime)}(${add0(new Date(tableContent[i].startTime).getHours())}:${add0(new Date(tableContent[i].startTime).getMinutes())}~${add0(new Date(tableContent[i].endTime).getHours())}:${add0(new Date(tableContent[i].endTime).getMinutes())})\r\n                        </div>\r\n                    </td>\r\n                    <td title=\"${removeNull(tableContent[i].areaFullName)}\">\r\n                        <div class=\"areaFullNameDiv abbreviation\">${removeNull(tableContent[i].areaFullName)}</div>\r\n                    </td>\r\n                    <td title=\"${getDevList(tableContent[i].devList)}\">\r\n                        <div class=\"table-td-used-devs abbreviation\" style=\"padding-left:10px; padding-right:5px;\">\r\n                            ${getDevList(tableContent[i].devList)}\r\n                        </div>\r\n                    </td>\r\n                    <!--作战名称-->\r\n                    <td title=\"${getCombatName(tableContent[i])}\">\r\n                        <div class=\"tagDiv abbreviation\">\r\n                            ${getCombatName(tableContent[i])}\r\n                        </div>\r\n                    </td>\r\n                    <!--标签-->\r\n                    <td title=\"${tableContent[i].combatReview == null ? '' : removeNull(tableContent[i].combatReview.tag)}\">\r\n                        <div class=\"tagDiv abbreviation\">\r\n                            ${tableContent[i].combatReview == null ? '' : removeNull(tableContent[i].combatReview.tag)}\r\n                        </div>\r\n                    </td>\r\n                    <!--备注-->\r\n                    <td title=\"${tableContent[i].combatReview == null ? '' : removeNull(tableContent[i].combatReview.remark)}\">\r\n                        <div class=\"tagDiv abbreviation\">\r\n                            ${tableContent[i].combatReview == null ? '' : removeNull(tableContent[i].combatReview.remark)}\r\n                        </div>\r\n                    </td>\r\n                    <!--add by guoshuai start 2018-9-29-->\r\n                    <td title=\"作战评分：${tableContent[i].score}\">\r\n\t\t\t\t\t\t<div class=\"grade-star-container-intable\">\r\n\t\t\t\t\t\t\t${getScore(tableContent[i].score)}\r\n\t\t\t\t\t\t</div>\r\n                    </td>\r\n                    <td id=\"case-sec\">\r\n                        <div class = \"commandBtnDiv abbreviation\">\r\n                            <div class=\"mdui-ripple command-btn command-btn-media\" data-tr-index=\"${i}\"></div>\r\n                        </div>\r\n                    </td>\r\n                    <!--add by guoshuai end 2018-9-29-->\r\n\t\t\t\t</tr>\r\n            `;\r\n        };\r\n        /*add by guoshuai start 2018-9-29*/\r\n        let htmlNew2='';\r\n        for (let i = 0; i < tableContent.length; i++) {\r\n            htmlNew2 = htmlNew2+`\r\n                <div class=\"case-jt-block\">\r\n                    <div id=\"cjb-box1\">\r\n                        <div class=\"case-jt-logo\">\r\n                            <!--\r\n                            <div id=\"cjl-wt\">\r\n                                <span></span>\r\n                                <span>次</span>\r\n                            </div>\r\n                            -->\r\n                            <div id=\"cjl-cont\">\r\n                                <span></span>\r\n                                <span>${getContinuousTime2(tableContent[i].startTime, tableContent[i].endTime)}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"case-jt-simple\">\r\n                            <div class=\"cjs-address\">\r\n                                <span>作战地址&nbsp;:</span>\r\n                                <p style=\"width: 197px;height: 20px;\">${removeNull(tableContent[i].areaFullName)}</p>\r\n                            </div>\r\n                            <div class=\"cjs-date\">\r\n                                <span>日期&nbsp;:</span>\r\n                                <p style=\"margin-left: 26px;\">${getStartTime(tableContent[i].endTime)}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div id=\"cjb-box2\">\r\n                        <div class=\"case-jt-name\">\r\n                            <span>作战成员&nbsp;:</span>\r\n                            <span title=\"${getUserList(tableContent[i].userList)}\" style=\"\r\n                                width: 160px;\r\n                                overflow: hidden;\r\n                                text-overflow: ellipsis;\r\n                                white-space: nowrap;\r\n                            \">${getUserList(tableContent[i].userList)}</span>\r\n                            <div class=\"mdui-ripple command-btn command-btn-combat\" data-tr-index=\"${i}\"></div>\r\n                        </div>\r\n                        <div class=\"case-jt-detailed\">\r\n                            <div>\r\n                                <span>地址&nbsp;:</span>\r\n                                <span title=\"${removeNull(tableContent[i].areaFullName)}\">${removeNull(tableContent[i].areaFullName)}</span>\r\n                            </div>\r\n                            <div>\r\n                                <span>时间&nbsp;:</span>\r\n                                <span>${getStartTime(tableContent[i].startTime)}-${getStartTime(tableContent[i].endTime)}</span>\r\n                            </div>\r\n                            <div>\r\n                                <span>设备&nbsp;:</span>\r\n                                <span style=\"overflow: hidden; text-overflow: ellipsis; width:200px;height:40px;white-space: nowrap;\" title=\"${getDevList(tableContent[i].devList)}\">${getDevList(tableContent[i].devList)}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            `;\r\n        };\r\n        $('.view-data-block').html(htmlNew2);\r\n        /*add by guoshuai end 2018-9-29*/\r\n        $('#table-tbody').html(htmlValue);\r\n        $('#table-tbody').width($(window).width()*0.9505);\r\n        $('.table-td-user-names').width($(window).width()*0.1041);\r\n        $('.commandBtnDiv').width($(window).width()*0.0364);\r\n        $('.startTimeDiv').width($(window).width()*0.0520);\r\n        $('.getContinuousTimeDiv').width($(window).width()*0.0937);\r\n        $('.areaFullNameDiv').width($(window).width()*0.1625);\r\n        $('.table-td-used-devs').width($(window).width()*0.2005);\r\n        $('.tagDiv').width($(window).width()*0.0678);\r\n        $('.grade-star-container-intable').width($(window).width()*0.0833);\r\n        $(window).resize(function () {\r\n            $('.grade-star-container-intable').width($(window).width()*0.0833);\r\n            $('.table-td-used-devs').width($(window).width()*0.2005);\r\n            $('.tagDiv').width($(window).width()*0.0678);\r\n            $('#table-tbody').width($(window).width()*0.9505);\r\n            $('.commandBtnDiv').width($(window).width()*0.0364);\r\n            $('.startTimeDiv').width($(window).width()*0.0520);\r\n            $('.getContinuousTimeDiv').width($(window).width()*0.0937);\r\n            $('.areaFullNameDiv').width($(window).width()*0.1625);\r\n            $('.table-td-user-names').width($(window).width()*0.1041);\r\n        })\r\n        /*add by guoshuai end 2018-9-29*/\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = DrawTable;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90YWJsZS9EcmF3VGFibGUuanM/ZjM2OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixpQkFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsT0FBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELE9BQU87QUFDakU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseUJBQXlCO0FBQ2hEO0FBQ0E7QUFDQSxpQ0FBaUMsc0NBQXNDO0FBQ3ZFO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSx3Q0FBd0M7QUFDekc7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHNFQUFzRSxHQUFHLHFEQUFxRCxHQUFHLHVEQUF1RCxHQUFHLG1EQUFtRCxHQUFHLHFEQUFxRDtBQUNwVTtBQUNBO0FBQ0EsaUNBQWlDLHlDQUF5QztBQUMxRSxvRUFBb0UseUNBQXlDO0FBQzdHO0FBQ0EsaUNBQWlDLG9DQUFvQztBQUNyRSw4RkFBOEYsbUJBQW1CO0FBQ2pILDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsK0JBQStCO0FBQ2hFO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx5RkFBeUY7QUFDMUg7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDRGQUE0RjtBQUM3SDtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msc0JBQXNCO0FBQzVEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0dBQW9HLEVBQUU7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5QkFBeUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHVFQUF1RTtBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRCx1REFBdUQsYUFBYSxJQUFJLHlDQUF5QztBQUNqSDtBQUNBO0FBQ0EsOENBQThDO0FBQzlDLDREQUE0RCxJQUFJLHNDQUFzQztBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDLDJDQUEyQyxzQ0FBc0M7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msc0NBQXNDO0FBQ3RFLHFHQUFxRyxFQUFFO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QywrQ0FBK0MseUNBQXlDLElBQUkseUNBQXlDO0FBQ3JJO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUMsd0NBQXdDLHdDQUF3QyxHQUFHLHNDQUFzQztBQUN6SDtBQUNBO0FBQ0EsOENBQThDO0FBQzlDLDhEQUE4RCx5QkFBeUIsYUFBYSxZQUFZLG9CQUFvQixXQUFXLG9DQUFvQyxJQUFJLG9DQUFvQztBQUMzTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBLEMiLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRHJhd1RhYmxlIHtcclxuXHJcbiAgICBzdGF0aWMgY2FzZVRhYmxlKHJlc3VsdCkge1xyXG4gICAgICAgIGxldCBodG1sVmFsdWUgPSBgXHJcbiAgICAgICAgICAgIDx0ciBjbGFzcz1cInRib2R5LXRoXCI+XHJcbiAgICAgICAgICAgICAgICA8dGQ+5L2c5oiY5oiQ5ZGYPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD7otbflp4vml6XmnJ88L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPuS9nOaImOaXtumVvzwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+55yB5biCPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD7orr7lpIc8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPuS9nOaImOWQjeensDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+5qCH562+PC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD7lpIfms6g8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPuivhOWIhjwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+5pON5L2cPC90ZD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICBgO1xyXG4gICAgICAgIGxldCB0YWJsZUNvbnRlbnQgPSByZXN1bHQucGFnZUluZm8ubGlzdDtcclxuICAgICAgICBmdW5jdGlvbiBhZGQwKHZhbCkge1xyXG4gICAgICAgICAgICBpZiAodmFsID49IDEwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJycgKyB2YWw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJzAnICsgdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZU51bGwodmFsKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWwgJiYgdHlwZW9mKHZhbCkgIT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRVc2VyTGlzdChsaXN0KSB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKyBsaXN0W2ldLnVzZXJuYW1lICsgJy8nICsgbGlzdFtpXS5oYW5kbGVTZXEgKyAn77yMJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuc3Vic3RyaW5nKDAsIHZhbHVlLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXREZXZMaXN0KGxpc3QpIHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIGxpc3RbaV0uZGV2Q29kZSArICfvvIwnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHJpbmcoMCwgdmFsdWUubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFN0YXJ0VGltZSh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUpLkZvcm1hdCgneXl5eS1NTS1kZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRDb250aW51b3VzVGltZShzdGFydFRpbWUsIGVuZFRpbWUpIHtcclxuICAgICAgICAgICAgbGV0IHNlYyA9IHBhcnNlSW50KChlbmRUaW1lIC0gc3RhcnRUaW1lKSAvIDEwMDApO1xyXG4gICAgICAgICAgICAvKiBkZWxldGUgYnkgZ3Vvc2h1YWkgc3RhcnQgMjAxOC05LTI2XHJcbiAgICAgICAgICAgIGxldCBob3VyID0gcGFyc2VJbnQoc2VjIC8gMzYwMCk7XHJcbiAgICAgICAgICAgIGxldCBtaW51dGUgPSBwYXJzZUludCgoc2VjICUgMzYwMCkgLyA2MCk7XHJcbiAgICAgICAgICAgIHJldHVybiBob3VyICsgJ+Wwj+aXticgKyAobWludXRlIDw9IDAgJiYgaG91ciA8PSAwID8gMSA6IG1pbnV0ZSkgKyAn5YiG6ZKfJztcclxuICAgICAgICAgICAgZGVsZXRlIGJ5IGd1b3NodWFpIGVuZCAyMDE4LTktMjYqL1xyXG4gICAgICAgICAgICAvKmFkZCBieSBndW9zaHVhaSBzdGFydCAyMDE4LTktMjkqL1xyXG4gICAgICAgICAgICBsZXQgbWludXRlID0gcGFyc2VJbnQoc2VjIC8gNjApO1xyXG4gICAgICAgICAgICBpZiggbWludXRlIDw9IDApe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcx5YiG6ZKfJztcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWludXRlKyAn5YiG6ZKfJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKmFkZCBieSBndW9zaHVhaSBlbmQgMjAxOC05LTI5Ki9cclxuICAgICAgICB9XHJcbiAgICAgICAgLyphZGQgYnkgZ3Vvc2h1YWkgc3RhcnQgMjAxOC05LTI5Ki9cclxuICAgICAgICBmdW5jdGlvbiBnZXRDb250aW51b3VzVGltZTIoc3RhcnRUaW1lLCBlbmRUaW1lKSB7XHJcbiAgICAgICAgICAgIGxldCBzZWMgPSBwYXJzZUludCgoZW5kVGltZSAtIHN0YXJ0VGltZSkgLyAxMDAwKTtcclxuICAgICAgICAgICAgbGV0IG1pbnV0ZSA9IHBhcnNlSW50KHNlYyAvIDYwKTtcclxuICAgICAgICAgICAgaWYoIG1pbnV0ZSA8PSAwKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnMW1pbic7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1pbnV0ZSsgJ21pbic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyphZGQgYnkgZ3Vvc2h1YWkgZW5kIDIwMTgtOS0yOSovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0U2NvcmUoc2NvcmUpIHtcclxuICAgICAgICAgICAgbGV0IGdyYXlOdW0gPSAwO1xyXG4gICAgICAgICAgICBpZiAoc2NvcmUgPT0gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICBncmF5TnVtID0gMDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzY29yZSA+PSA4MCkge1xyXG4gICAgICAgICAgICAgICAgZ3JheU51bSA9IDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2NvcmUgPj0gNjApIHtcclxuICAgICAgICAgICAgICAgIGdyYXlOdW0gPSAyO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNjb3JlID49IDQwKSB7XHJcbiAgICAgICAgICAgICAgICBncmF5TnVtID0gMztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzY29yZSA+PSAyMCkge1xyXG4gICAgICAgICAgICAgICAgZ3JheU51bSA9IDQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBncmF5TnVtID0gNTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgaHRtbFN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzR3JheSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPCBncmF5TnVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNHcmF5ID0gJ2dyYXktY292ZXInO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gaWYgKChpICsgMSkgLyA1ID4gc2NvcmUgLyAxMDApIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBpc0dyYXkgPSAnZ3JheS1jb3Zlcic7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICBodG1sU3RyaW5nID0gYFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmFkZS1zdGFyLWljb24taW50YWJsZSAke2lzR3JheX1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIGArIGh0bWxTdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGh0bWxTdHJpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGdldENvbWJhdE5hbWUoZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAobnVsbCAhPSBkYXRhLmNvbWJhdFJldmlldykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29tYmF0UmV2aWV3LmNvbWJhdE5hbWUgJiYgdHlwZW9mKGRhdGEuY29tYmF0UmV2aWV3LmNvbWJhdE5hbWUpICE9IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb21iYXRSZXZpZXcuY29tYmF0TmFtZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFibGVDb250ZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGh0bWxWYWx1ZSA9IGh0bWxWYWx1ZSArIGBcclxuICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cInRib2R5LXRyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkIHRpdGxlPVwiJHtnZXRVc2VyTGlzdCh0YWJsZUNvbnRlbnRbaV0udXNlckxpc3QpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtdGQtdXNlci1uYW1lcyBhYmJyZXZpYXRpb25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Z2V0VXNlckxpc3QodGFibGVDb250ZW50W2ldLnVzZXJMaXN0KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGFydFRpbWVEaXYgYWJicmV2aWF0aW9uXCI+JHtnZXRTdGFydFRpbWUodGFibGVDb250ZW50W2ldLnN0YXJ0VGltZSl9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJnZXRDb250aW51b3VzVGltZURpdiBhYmJyZXZpYXRpb25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Z2V0Q29udGludW91c1RpbWUodGFibGVDb250ZW50W2ldLnN0YXJ0VGltZSwgdGFibGVDb250ZW50W2ldLmVuZFRpbWUpfSgke2FkZDAobmV3IERhdGUodGFibGVDb250ZW50W2ldLnN0YXJ0VGltZSkuZ2V0SG91cnMoKSl9OiR7YWRkMChuZXcgRGF0ZSh0YWJsZUNvbnRlbnRbaV0uc3RhcnRUaW1lKS5nZXRNaW51dGVzKCkpfX4ke2FkZDAobmV3IERhdGUodGFibGVDb250ZW50W2ldLmVuZFRpbWUpLmdldEhvdXJzKCkpfToke2FkZDAobmV3IERhdGUodGFibGVDb250ZW50W2ldLmVuZFRpbWUpLmdldE1pbnV0ZXMoKSl9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZCB0aXRsZT1cIiR7cmVtb3ZlTnVsbCh0YWJsZUNvbnRlbnRbaV0uYXJlYUZ1bGxOYW1lKX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFyZWFGdWxsTmFtZURpdiBhYmJyZXZpYXRpb25cIj4ke3JlbW92ZU51bGwodGFibGVDb250ZW50W2ldLmFyZWFGdWxsTmFtZSl9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQgdGl0bGU9XCIke2dldERldkxpc3QodGFibGVDb250ZW50W2ldLmRldkxpc3QpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtdGQtdXNlZC1kZXZzIGFiYnJldmlhdGlvblwiIHN0eWxlPVwicGFkZGluZy1sZWZ0OjEwcHg7IHBhZGRpbmctcmlnaHQ6NXB4O1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtnZXREZXZMaXN0KHRhYmxlQ29udGVudFtpXS5kZXZMaXN0KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8IS0t5L2c5oiY5ZCN56ewLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkIHRpdGxlPVwiJHtnZXRDb21iYXROYW1lKHRhYmxlQ29udGVudFtpXSl9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWdEaXYgYWJicmV2aWF0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2dldENvbWJhdE5hbWUodGFibGVDb250ZW50W2ldKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8IS0t5qCH562+LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkIHRpdGxlPVwiJHt0YWJsZUNvbnRlbnRbaV0uY29tYmF0UmV2aWV3ID09IG51bGwgPyAnJyA6IHJlbW92ZU51bGwodGFibGVDb250ZW50W2ldLmNvbWJhdFJldmlldy50YWcpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFnRGl2IGFiYnJldmlhdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt0YWJsZUNvbnRlbnRbaV0uY29tYmF0UmV2aWV3ID09IG51bGwgPyAnJyA6IHJlbW92ZU51bGwodGFibGVDb250ZW50W2ldLmNvbWJhdFJldmlldy50YWcpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS3lpIfms6gtLT5cclxuICAgICAgICAgICAgICAgICAgICA8dGQgdGl0bGU9XCIke3RhYmxlQ29udGVudFtpXS5jb21iYXRSZXZpZXcgPT0gbnVsbCA/ICcnIDogcmVtb3ZlTnVsbCh0YWJsZUNvbnRlbnRbaV0uY29tYmF0UmV2aWV3LnJlbWFyayl9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWdEaXYgYWJicmV2aWF0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3RhYmxlQ29udGVudFtpXS5jb21iYXRSZXZpZXcgPT0gbnVsbCA/ICcnIDogcmVtb3ZlTnVsbCh0YWJsZUNvbnRlbnRbaV0uY29tYmF0UmV2aWV3LnJlbWFyayl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLWFkZCBieSBndW9zaHVhaSBzdGFydCAyMDE4LTktMjktLT5cclxuICAgICAgICAgICAgICAgICAgICA8dGQgdGl0bGU9XCLkvZzmiJjor4TliIbvvJoke3RhYmxlQ29udGVudFtpXS5zY29yZX1cIj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImdyYWRlLXN0YXItY29udGFpbmVyLWludGFibGVcIj5cclxuXHRcdFx0XHRcdFx0XHQke2dldFNjb3JlKHRhYmxlQ29udGVudFtpXS5zY29yZSl9XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkIGlkPVwiY2FzZS1zZWNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcyA9IFwiY29tbWFuZEJ0bkRpdiBhYmJyZXZpYXRpb25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZHVpLXJpcHBsZSBjb21tYW5kLWJ0biBjb21tYW5kLWJ0bi1tZWRpYVwiIGRhdGEtdHItaW5kZXg9XCIke2l9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLWFkZCBieSBndW9zaHVhaSBlbmQgMjAxOC05LTI5LS0+XHJcblx0XHRcdFx0PC90cj5cclxuICAgICAgICAgICAgYDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qYWRkIGJ5IGd1b3NodWFpIHN0YXJ0IDIwMTgtOS0yOSovXHJcbiAgICAgICAgbGV0IGh0bWxOZXcyPScnO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFibGVDb250ZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGh0bWxOZXcyID0gaHRtbE5ldzIrYFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhc2UtanQtYmxvY2tcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiY2piLWJveDFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhc2UtanQtbG9nb1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImNqbC13dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7mrKE8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImNqbC1jb250XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPiR7Z2V0Q29udGludW91c1RpbWUyKHRhYmxlQ29udGVudFtpXS5zdGFydFRpbWUsIHRhYmxlQ29udGVudFtpXS5lbmRUaW1lKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXNlLWp0LXNpbXBsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNqcy1hZGRyZXNzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+5L2c5oiY5Zyw5Z2AJm5ic3A7Ojwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT1cIndpZHRoOiAxOTdweDtoZWlnaHQ6IDIwcHg7XCI+JHtyZW1vdmVOdWxsKHRhYmxlQ29udGVudFtpXS5hcmVhRnVsbE5hbWUpfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNqcy1kYXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+5pel5pyfJm5ic3A7Ojwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbi1sZWZ0OiAyNnB4O1wiPiR7Z2V0U3RhcnRUaW1lKHRhYmxlQ29udGVudFtpXS5lbmRUaW1lKX08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImNqYi1ib3gyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXNlLWp0LW5hbWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPuS9nOaImOaIkOWRmCZuYnNwOzo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiB0aXRsZT1cIiR7Z2V0VXNlckxpc3QodGFibGVDb250ZW50W2ldLnVzZXJMaXN0KX1cIiBzdHlsZT1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxNjBweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIj4ke2dldFVzZXJMaXN0KHRhYmxlQ29udGVudFtpXS51c2VyTGlzdCl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1kdWktcmlwcGxlIGNvbW1hbmQtYnRuIGNvbW1hbmQtYnRuLWNvbWJhdFwiIGRhdGEtdHItaW5kZXg9XCIke2l9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FzZS1qdC1kZXRhaWxlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7lnLDlnYAmbmJzcDs6PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHRpdGxlPVwiJHtyZW1vdmVOdWxsKHRhYmxlQ29udGVudFtpXS5hcmVhRnVsbE5hbWUpfVwiPiR7cmVtb3ZlTnVsbCh0YWJsZUNvbnRlbnRbaV0uYXJlYUZ1bGxOYW1lKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+5pe26Ze0Jm5ic3A7Ojwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4ke2dldFN0YXJ0VGltZSh0YWJsZUNvbnRlbnRbaV0uc3RhcnRUaW1lKX0tJHtnZXRTdGFydFRpbWUodGFibGVDb250ZW50W2ldLmVuZFRpbWUpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7orr7lpIcmbmJzcDs6PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwib3ZlcmZsb3c6IGhpZGRlbjsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IHdpZHRoOjIwMHB4O2hlaWdodDo0MHB4O3doaXRlLXNwYWNlOiBub3dyYXA7XCIgdGl0bGU9XCIke2dldERldkxpc3QodGFibGVDb250ZW50W2ldLmRldkxpc3QpfVwiPiR7Z2V0RGV2TGlzdCh0YWJsZUNvbnRlbnRbaV0uZGV2TGlzdCl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkKCcudmlldy1kYXRhLWJsb2NrJykuaHRtbChodG1sTmV3Mik7XHJcbiAgICAgICAgLyphZGQgYnkgZ3Vvc2h1YWkgZW5kIDIwMTgtOS0yOSovXHJcbiAgICAgICAgJCgnI3RhYmxlLXRib2R5JykuaHRtbChodG1sVmFsdWUpO1xyXG4gICAgICAgICQoJyN0YWJsZS10Ym9keScpLndpZHRoKCQod2luZG93KS53aWR0aCgpKjAuOTUwNSk7XHJcbiAgICAgICAgJCgnLnRhYmxlLXRkLXVzZXItbmFtZXMnKS53aWR0aCgkKHdpbmRvdykud2lkdGgoKSowLjEwNDEpO1xyXG4gICAgICAgICQoJy5jb21tYW5kQnRuRGl2Jykud2lkdGgoJCh3aW5kb3cpLndpZHRoKCkqMC4wMzY0KTtcclxuICAgICAgICAkKCcuc3RhcnRUaW1lRGl2Jykud2lkdGgoJCh3aW5kb3cpLndpZHRoKCkqMC4wNTIwKTtcclxuICAgICAgICAkKCcuZ2V0Q29udGludW91c1RpbWVEaXYnKS53aWR0aCgkKHdpbmRvdykud2lkdGgoKSowLjA5MzcpO1xyXG4gICAgICAgICQoJy5hcmVhRnVsbE5hbWVEaXYnKS53aWR0aCgkKHdpbmRvdykud2lkdGgoKSowLjE2MjUpO1xyXG4gICAgICAgICQoJy50YWJsZS10ZC11c2VkLWRldnMnKS53aWR0aCgkKHdpbmRvdykud2lkdGgoKSowLjIwMDUpO1xyXG4gICAgICAgICQoJy50YWdEaXYnKS53aWR0aCgkKHdpbmRvdykud2lkdGgoKSowLjA2NzgpO1xyXG4gICAgICAgICQoJy5ncmFkZS1zdGFyLWNvbnRhaW5lci1pbnRhYmxlJykud2lkdGgoJCh3aW5kb3cpLndpZHRoKCkqMC4wODMzKTtcclxuICAgICAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnLmdyYWRlLXN0YXItY29udGFpbmVyLWludGFibGUnKS53aWR0aCgkKHdpbmRvdykud2lkdGgoKSowLjA4MzMpO1xyXG4gICAgICAgICAgICAkKCcudGFibGUtdGQtdXNlZC1kZXZzJykud2lkdGgoJCh3aW5kb3cpLndpZHRoKCkqMC4yMDA1KTtcclxuICAgICAgICAgICAgJCgnLnRhZ0RpdicpLndpZHRoKCQod2luZG93KS53aWR0aCgpKjAuMDY3OCk7XHJcbiAgICAgICAgICAgICQoJyN0YWJsZS10Ym9keScpLndpZHRoKCQod2luZG93KS53aWR0aCgpKjAuOTUwNSk7XHJcbiAgICAgICAgICAgICQoJy5jb21tYW5kQnRuRGl2Jykud2lkdGgoJCh3aW5kb3cpLndpZHRoKCkqMC4wMzY0KTtcclxuICAgICAgICAgICAgJCgnLnN0YXJ0VGltZURpdicpLndpZHRoKCQod2luZG93KS53aWR0aCgpKjAuMDUyMCk7XHJcbiAgICAgICAgICAgICQoJy5nZXRDb250aW51b3VzVGltZURpdicpLndpZHRoKCQod2luZG93KS53aWR0aCgpKjAuMDkzNyk7XHJcbiAgICAgICAgICAgICQoJy5hcmVhRnVsbE5hbWVEaXYnKS53aWR0aCgkKHdpbmRvdykud2lkdGgoKSowLjE2MjUpO1xyXG4gICAgICAgICAgICAkKCcudGFibGUtdGQtdXNlci1uYW1lcycpLndpZHRoKCQod2luZG93KS53aWR0aCgpKjAuMTA0MSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvKmFkZCBieSBndW9zaHVhaSBlbmQgMjAxOC05LTI5Ki9cclxuICAgIH1cclxuXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3RhYmxlL0RyYXdUYWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///34\n");

/***/ }),
/* 35 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_Drawing_BaiduMap_js__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_baiduMap_Distance_BaiduMap_js__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_topHeader_TopHeader_js__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__parsing_ParsingDevInfoCR_js__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__parsing_PrasingBtsInfoCR_js__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__parsing_ParsingData_js__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__overlay_DrawHrefLoadingOverlay_js__ = __webpack_require__(48);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__overlay_EngColumnChartContainer_js__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__realTimeCombat_tool_Panel_js__ = __webpack_require__(51);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__realTimeCombat_tool_Switch_js__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__realTimeCombat_tool_View_js__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__tool_TimeLine_js__ = __webpack_require__(56);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ajax_QueryReplay_js__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__table_DrawTable_js__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__table_PageInfo_js__ = __webpack_require__(57);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__realTimeCombat_parsing_PrasingLteCatchInfo_js__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__realTimeCombat_parsing_PrasingDevActiveDetailInfo_js__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__parsing_PrasingHistoryTaDataInfo_js__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__realTimeCombat_parsing_PrasingTaDrawInfo_js__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__realTimeCombat_parsing_ParsingMultiBtsInfo_js__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__realTimeCombat_overlay_EndOverlayConstructor_js__ = __webpack_require__(58);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n // 将数据转换为实时作战所支持的格式\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* js版本号，判断服务器端是否已刷新*/\r\nconsole.log('js.version=2.1.8999');\r\n/* 生成顶部菜单*/\r\n__WEBPACK_IMPORTED_MODULE_3__common_topHeader_TopHeader_js__[\"a\" /* TopHeader */].initHeader();\r\n/* 加载鼠标绘制工具*/\r\n__WEBPACK_IMPORTED_MODULE_0__common_baiduMap_Drawing_BaiduMap_js__[\"a\" /* BaiduMapDrawing */].initDrawingTools(map);\r\n/* 加载地图测距工具*/\r\n__WEBPACK_IMPORTED_MODULE_1__common_baiduMap_Distance_BaiduMap_js__[\"a\" /* BaiduMapDistance */].initDistanceTools(map);\r\n/* 设置默认页数*/\r\nif (__WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].getCookie('combatReplayPageNum') != '') {\r\n    pageItemNum = Number(__WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].getCookie('combatReplayPageNum'));\r\n    $('.show-item-num').html(pageItemNum + '条');\r\n}\r\nlet CombatReplayBean = function (devCodes, startTime, endTime, serialNum) {\r\n    this.devCodes = devCodes;\r\n    this.startTime = startTime;\r\n    this.endTime = endTime;\r\n    this.serialNum = serialNum;\r\n}\r\n\r\n/* 工具栏显示/隐藏*/\r\n$('#tool-pin').click(function () {\r\n    if ($(this).attr('data-is-pin') == 1) {\r\n        /* 取消pin*/\r\n        $(this).addClass('gray-cover');\r\n        $(this).attr('data-is-pin', 0);\r\n    } else {\r\n        /* 锁定pin*/\r\n        $(this).removeClass('gray-cover');\r\n        $(this).attr('data-is-pin', 1);\r\n    }\r\n});\r\n$('.top-map-tools-area').hover(function () {\r\n}, function () {\r\n    if ($('#tool-pin').attr('data-is-pin') == 0) {\r\n        $('.top-map-tools-area').animate({ top: '-10px' });\r\n        $('.eng-audio-selector-menu').css('display', 'none');\r\n    }\r\n});\r\n$('.top-header').hover(function () {\r\n    if ($('#tool-pin').attr('data-is-pin') == 0) {\r\n        /*delete by guoshuai start 2018-10-23\r\n        $('.top-map-tools-area').animate({ top: '50px' });\r\n        */\r\n        /*add by guoshuai start 2018-10-23*/\r\n        $('.top-map-tools-area').animate({ top: '58px' });\r\n        /*add by guoshuai end 2018-10-23*/\r\n    }\r\n}, function () {\r\n\r\n});\r\n/* 分数重置*/\r\n$('.grade-star-reset').click(function () {\r\n    $('.grade-star-icon').addClass('gray-cover');\r\n    $('.grade-star-icon').attr('data-is-clicked', 0);\r\n    $('.grade-star-container').attr('data-selected-num', 0);\r\n});\r\n\r\nconsole.log(combatReplayInfoRedirect);\r\n/*---------------------------作战回放向导页----------------------------*/\r\n// $('.guide-frame').css('display', 'none');\r\nif (combatReplayInfoRedirect != 'null') {\r\n    __WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].deleteCookie('combatReplayQueryCache');\r\n    __WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].deleteCookie('combatReplayPlayTimeCache');\r\n    startReplay(JSON.parse(combatReplayInfoRedirect));\r\n    /**add by sunbing start*/\r\n    $('#alert-modal-button').click(function () {\r\n        window.location.reload();\r\n    });\r\n    $('#alert-modal-close-button').click(function () {\r\n        window.location.reload();\r\n    });\r\n    /**add by sunbing end*/\r\n} else {\r\n    /* 判断cookie中是否已储存作战回放信息*/\r\n    if (__WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].getCookie('combatReplayQueryCache') != '') {\r\n        let cookieCacheData = JSON.parse(__WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].getCookie('combatReplayQueryCache'));\r\n        switch (cookieCacheData.type) {\r\n            case 1:\r\n                startByGuideFrame(cookieCacheData.data);\r\n                break;\r\n            case 2:\r\n                startReplay(cookieCacheData.data);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    } else {\r\n        /* 获取案件标签列表*/\r\n        $.ajax({\r\n            url: 'commandManage/combatReplay/getCombatTagList',\r\n            type: 'GET',\r\n            contentType: \"application/json; charset=utf-8\",\r\n            success: function (result) {\r\n                if (result.retcode == 1) {\r\n                    tagListCache = result.dataList;\r\n                    if (tagListCache != null && tagListCache.length > 0) {\r\n                        let tagListOuterHtml = '';\r\n                        let tagListInnerHtml = '';\r\n                        for (let i = 0; i < tagListCache.length; i++) {\r\n                            if (tagListCache[i].replace(/\\s/g, '') != '') {\r\n                                tagListOuterHtml = tagListOuterHtml + `\r\n                                    <li>\r\n                                        <a class=\"dropdown-menu-selector tag-selector-outer\"\r\n                                        style=\"width:100%; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;\">${tagListCache[i]}</a>\r\n                                    </li>\r\n                                `;\r\n                                tagListInnerHtml = tagListInnerHtml + `\r\n                                    <li>\r\n                                        <a class=\"dropdown-menu-selector tag-selector-inner\"\r\n                                        style=\"width:100%; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;\">${tagListCache[i]}</a>\r\n                                    </li>\r\n                                `;\r\n                            }\r\n                        }\r\n                        $('#tag-input-btn-outer').append(`\r\n                            <ul class=\"dropdown-menu tag-list-outer-dropdown-menu\" style=\"width:200px; max-height:250px; overflow:auto;\">\r\n                                ${tagListOuterHtml}\r\n                            </ul>\r\n                        `);\r\n                        $('#tag-input-btn-inner').append(`\r\n                            <ul class=\"dropdown-menu tag-list-inner-dropdown-menu\" style=\"width:200px; max-height:250px; overflow:auto;\">\r\n                                ${tagListInnerHtml}\r\n                            </ul>\r\n                        `);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        /* 选择案件标签*/\r\n        $(document).on('click', '.tag-selector-outer', function () {\r\n            $('#tag-input-outer').val($(this).html());\r\n        });\r\n        $(document).on('click', '.tag-selector-inner', function () {\r\n            $('#tag-input-inner').val($(this).html());\r\n        });\r\n        /* 页面加载时的首次搜索*/\r\n        queryDefault();\r\n        /* 切换搜索模式*/\r\n        //$('.search-type-all').css('display', 'none');\r\n        $('#search-mode-title-2').click(function () {\r\n            if ($(this).attr('data-search-type') == 0) {\r\n                $('.search-type-all').css('display', 'block');\r\n                $('.search-type-simple').css('display', 'none');\r\n                $('#search-mode-title-1').html('条件太多？');\r\n                $('#search-mode-title-2').html('简单搜索');\r\n                $(this).attr('data-search-type', '1');\r\n                /*delete by guoshuai start 2018-9-29\r\n                $('.table-view-data-area').css('min-height', $(window).height() - $('.table-view-search-area').height() - 250);\r\n                delete by guoshuai end 2018-9-29*/\r\n                /*add by guoshuai start 2018-9-29*/\r\n                $('#table-view-container-box').css('height', 185);\r\n                $('.search-simple-rule').css('height', '160');\r\n                $('.table-view-data-area').css('min-height', $(window).height() - 474);\r\n                $('.page-selector').css('margin-top', '140px');\r\n                /*add by guoshuai start 2018-9-29*/\r\n            } else {\r\n                $('.search-type-all').css('display', 'none');\r\n                $('.search-type-simple').css('display', 'block');\r\n                $('#search-mode-title-1').html('条件太少？');\r\n                $('#search-mode-title-2').html('高级搜索');\r\n                $(this).attr('data-search-type', '0');\r\n                /*delete by guoshuai start 2018-9-29\r\n                $('.table-view-data-area').css('min-height', $(window).height() - $('.table-view-search-area').height() - 250);\r\n                 delete by guoshuai end 2018-9-29*/\r\n                /*add by guoshuai start 2018-9-29*/\r\n                $('.table-view-data-area').css('min-height', $(window).height() - 474);\r\n                $('.page-selector').css('margin-top', '140px');\r\n                $('#table-view-container-box').css('height', '80');\r\n                $('.search-simple-rule').css('height', '52');\r\n                /*add by guoshuai start 2018-9-29*/\r\n            }\r\n        });\r\n\r\n        /* 时间范围选择点击*/\r\n        $('.time-range-selector-type-radio').mousedown(function () {\r\n            if ($(this).attr('id') == 'custom-type-selector') {\r\n                $('#custom-type-input').css('display', 'block');\r\n            } else {\r\n                $('#custom-type-input').css('display', 'none');\r\n            }\r\n        });\r\n\r\n        /* 搜索按钮*/\r\n        $('.guide-search-btn').click(function () {\r\n            let isContinue = true;\r\n            let combatReplayGuide = new CombatReplayGuideBean();\r\n            combatReplayGuide.pageNum = 1;\r\n            if ($('#search-mode-title-2').attr('data-search-type') == 0) {\r\n                /* 简单搜索*/\r\n                let keyword = $('#query-key-word').val();\r\n                if (keyword != '') {\r\n                    /*delete by guoshuai start 2018-10-13\r\n                    if (/^[a-zA-Z]+$/.test(keyword)) { // 用户名\r\n                    delete by guoshuai end 2018-10-13*/\r\n                    /*add by guoshuai start 2018-10-13*/\r\n                    if (/^[a-zA-Z0-9_-]+$/.test(keyword)) { // 用户名\r\n                        /*add by guoshuai end 2018-10-13*/\r\n                        combatReplayGuide.userName = keyword;\r\n                    } else if (/[\\u4e00-\\u9fa5]/.test(keyword)) { // 城市\r\n                        combatReplayGuide.areaName = keyword;\r\n                    } else {\r\n                        isContinue = false;\r\n                        $('#alert-modal-content').html('输入内容有误')\r\n                        $('#alert-modal').modal('show');\r\n                    }\r\n                }\r\n                if ($('#tag-input-outer').val() != '') {\r\n                    combatReplayGuide.tag = $('#tag-input-outer').val();\r\n                }\r\n            } else {\r\n                /* 高级搜索*/\r\n                if ($('#query-user-name').val() != '') {\r\n                    combatReplayGuide.userName = $('#query-user-name').val();\r\n                }\r\n                if ($('#query-area-code').val() != '') {\r\n                    combatReplayGuide.areaName = $('#query-area-code').val();\r\n                }\r\n                if ($('#tag-input-inner').val() != '') {\r\n                    combatReplayGuide.tag = $('#tag-input-inner').val();\r\n                }\r\n\r\n\r\n                if ($('#query-dev-code').val() != '') {\r\n                    combatReplayGuide.devCode = $('#query-dev-code').val();\r\n                }\r\n                if ($('#query-user-type').is(':checked')) {\r\n                    combatReplayGuide.userType = 1;\r\n                }\r\n                let mixWorkingTime = $('#query-mix-working-time').val(); // 大于XX分钟，最短工作时间\r\n                let maxWorkingTime = $('#query-max-working-time').val(); // 小于XX分钟，最长工作时间\r\n                if (mixWorkingTime != '' || maxWorkingTime != '') {\r\n                    if (mixWorkingTime == '') {\r\n                        mixWorkingTime = 0;\r\n                    }\r\n                    if (maxWorkingTime == '') {\r\n                        maxWorkingTime = 999999;\r\n                    }\r\n                    if (/^[0-9]*[0-9]*$/.test(mixWorkingTime) && /^[0-9]*[0-9]*$/.test(maxWorkingTime)) {\r\n                        if (Number(mixWorkingTime) < Number(maxWorkingTime)) {\r\n                            combatReplayGuide.maxWorkingTime = Number(maxWorkingTime) * 60;\r\n                            combatReplayGuide.mixWorkingTime = Number(mixWorkingTime) * 60;\r\n                        } else {\r\n                            isContinue = false;\r\n                            $('#alert-modal-content').html('请输入正确的时间范围')\r\n                            $('#alert-modal').modal('show');\r\n                        }\r\n                    } else {\r\n                        isContinue = false;\r\n                        $('#alert-modal-content').html('请输入正确的数字')\r\n                        $('#alert-modal').modal('show');\r\n                    }\r\n                }\r\n                combatReplayGuide.score = Number($('.grade-star-container').attr('data-selected-num')) * 20;\r\n                if ($('#query-time-day').is(':checked')) { // 今日\r\n                    combatReplayGuide.startTime = new Date(`${new Date().getFullYear()}/${new Date().getMonth() + 1}/${new Date().getDate()} 00:00:00`).Format('yyyy-MM-dd hh:mm:ss');\r\n                    combatReplayGuide.endTime = new Date(`${new Date().getFullYear()}/${new Date().getMonth() + 1}/${new Date().getDate()} 23:59:59`).Format('yyyy-MM-dd hh:mm:ss');\r\n                }\r\n                if ($('#query-time-week').is(':checked')) { // 本周\r\n                    combatReplayGuide.startTime = new Date(new Date().getTime() - 24 * 60 * 60 * 1000 * 7).Format('yyyy-MM-dd hh:mm:ss');\r\n                    combatReplayGuide.endTime = new Date().Format('yyyy-MM-dd hh:mm:ss');\r\n                    if (new Date().getDay() == 0) {\r\n                        combatReplayGuide.startTime = new Date(new Date(`${new Date().getFullYear()}/${new Date().getMonth() + 1}/${new Date().getDate()} 00:00:00`).getTime() - 6 * 24 * 3600 * 1000).Format('yyyy-MM-dd hh:mm:ss');\r\n                        combatReplayGuide.endTime = new Date(`${new Date().getFullYear()}/${new Date().getMonth() + 1}/${new Date().getDate()} 23:59:59`).Format('yyyy-MM-dd hh:mm:ss');\r\n                    } else {\r\n                        combatReplayGuide.startTime = new Date(new Date(`${new Date().getFullYear()}/${new Date().getMonth() + 1}/${new Date().getDate()} 00:00:00`).getTime() - (new Date().getDay() - 1) * 24 * 3600 * 1000).Format('yyyy-MM-dd hh:mm:ss');\r\n                        combatReplayGuide.endTime = new Date(new Date(`${new Date().getFullYear()}/${new Date().getMonth() + 1}/${new Date().getDate()} 23:59:59`).getTime() + (6 - new Date().getDay()) * 24 * 3600 * 1000).Format('yyyy-MM-dd hh:mm:ss');\r\n                    }\r\n                }\r\n                if ($('#query-time-month').is(':checked')) { // 本月\r\n                    combatReplayGuide.startTime = new Date(`${new Date().getFullYear()}/${new Date().getMonth() + 1}/01 00:00:00`).Format('yyyy-MM-dd hh:mm:ss');\r\n                    /*delete by guoshuai start 2018-12-17\r\n                    caseManageGuide.endTime =  new Date(`${new Date().getFullYear()}/${new Date().getMonth() + 2}/01 00:00:00`).Format('yyyy-MM-dd hh:mm:ss');\r\n                    end guoshuai start 2018-12-17*/\r\n                    if (new Date().getMonth() == 11) {\r\n                        let month = 1;\r\n                        combatReplayGuide.endTime = new Date(`${new Date().getFullYear() + 1}/` + month + `/01 00:00:00`).Format('yyyy-MM-dd hh:mm:ss');\r\n                    } else {\r\n                        combatReplayGuide.endTime = new Date(`${new Date().getFullYear()}/${new Date().getMonth() + 2}/01 00:00:00`).Format('yyyy-MM-dd hh:mm:ss');\r\n                    }\r\n                }\r\n                if ($('#query-time-halfyear').is(':checked')) { // 最近半年\r\n                    combatReplayGuide.startTime = new Date(new Date().getTime() - 24 * 60 * 60 * 1000 * 182).Format('yyyy-MM-dd hh:mm:ss');\r\n                    combatReplayGuide.endTime = new Date().Format('yyyy-MM-dd hh:mm:ss');\r\n                }\r\n                if ($('#query-time-year').is(':checked')) { // 最近一年\r\n                    combatReplayGuide.startTime = new Date(new Date().getTime() - 24 * 60 * 60 * 1000 * 365).Format('yyyy-MM-dd hh:mm:ss');\r\n                    combatReplayGuide.endTime = new Date().Format('yyyy-MM-dd hh:mm:ss');\r\n                }\r\n                if ($('#query-time-costume').is(':checked')) { // 自定义\r\n                    if ($('#query-time-start-time').val() != '') {\r\n                        combatReplayGuide.startTime = $('#query-time-start-time').val();\r\n                    }\r\n                    if ($('#query-time-end-time').val() != '') {\r\n                        combatReplayGuide.endTime = $('#query-time-end-time').val();\r\n                    }\r\n                }\r\n            }\r\n            if (isContinue) {\r\n                CombatReplayGuideCache = combatReplayGuide;\r\n                query(combatReplayGuide);\r\n            }\r\n        });\r\n\r\n        /* 页面加载时的默认搜索全部*/\r\n        function queryDefault() {\r\n            let combatReplayGuide = new CombatReplayGuideBean();\r\n            combatReplayGuide.pageNum = 1;\r\n            CombatReplayGuideCache = combatReplayGuide;\r\n            query(combatReplayGuide);\r\n        }\r\n\r\n        /* 作战回放向导页表查询*/\r\n        function query(data) {\r\n            console.log(data);\r\n            __WEBPACK_IMPORTED_MODULE_14__ajax_QueryReplay_js__[\"a\" /* QueryReplay */].query(data).then((result) => {\r\n                console.log(result);\r\n                $('#table-tbody').html('');\r\n                if (result.retcode == 1 && result.pageInfo != null && result.pageInfo.list != null && result.pageInfo.list.length > 0) {\r\n                    queryResult = result.pageInfo.list;\r\n                    __WEBPACK_IMPORTED_MODULE_15__table_DrawTable_js__[\"a\" /* DrawTable */].caseTable(result);\r\n                    __WEBPACK_IMPORTED_MODULE_16__table_PageInfo_js__[\"a\" /* PageInfo */].drawPageController(result);\r\n                    $('.no-data-realtime').css('display', 'none');\r\n                    /*edit by guo shuai start 2019/3/5*/\r\n                    if ($('#view-class-block').hasClass('combatCase-list-switch')) {\r\n                        $('.view-data-table').css('display', 'none');\r\n                    } else {\r\n                        $('.view-data-table').show();\r\n                    }\r\n                    /*edit by guo shuai end 2019/3/5*/\r\n                    /*add by guoshuai start */\r\n                    if ($('.view-data-table').css('display') == 'block') {\r\n                        $('.view-data-block').hide();\r\n                    } else {\r\n                        $('.view-data-block').show();\r\n                    }\r\n                    /*add by guoshuai start */\r\n                    $('#total-count').html(result.pageInfo.total);\r\n                    $('#total-page-num').html(`，共${result.pageInfo.pages}页`);\r\n                } else {\r\n                    $('.no-data-realtime').css('display', 'block');\r\n                    $('.view-data-table').hide();\r\n                    /*add by guoshuai start */\r\n                    $('.view-data-block').hide();\r\n                    /*add by guoshuai start */\r\n                    $('#total-count').html(0);\r\n                    $('#total-page-num').html('');\r\n                    $('.M-box3').html('');\r\n                }\r\n            });\r\n        }\r\n\r\n        /* 选择每页显示数量*/\r\n        $('.total-count-selector').click(function () {\r\n            pageItemNum = this.childNodes[0].innerHTML;\r\n            /* 设置cookie*/\r\n            __WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].setCookie('combatReplayPageNum', pageItemNum, 365);\r\n            /* 显示页数*/\r\n            $('.show-item-num').html(pageItemNum + '条');\r\n            CombatReplayGuideCache.pageNum = 1;\r\n            CombatReplayGuideCache.pageSize = pageItemNum;\r\n            query(CombatReplayGuideCache);\r\n        });\r\n    }\r\n\r\n}\r\n/*---------------------------作战回放向导页----------------------------*/\r\n\r\n/* 回放按钮*/\r\n$(document).on('click', '.command-btn', function () {\r\n    queryResultIndex = $(this).attr('data-tr-index');\r\n    console.log(queryResult[queryResultIndex]);\r\n    startByGuideFrame(queryResult[queryResultIndex]);\r\n});\r\n\r\nfunction startByGuideFrame(data) {\r\n    let devList = [];\r\n    for (let i = 0; i < data.devList.length; i++) {\r\n        devList.push(data.devList[i].devCode);\r\n    }\r\n    userInfosCache = data.userList;\r\n    let nameValue = '';\r\n    for (let i = 0; i < data.userList.length; i++) {\r\n        nameValue = nameValue + data.userList[i].username + '/' + data.userList[i].handleSeq + '，';\r\n    }\r\n\r\n    $('#case-users').attr('title', nameValue.substring(0, nameValue.length - 1));\r\n    $('#case-users').html(nameValue.substring(0, nameValue.length - 1));\r\n\r\n    startReplay(new CombatReplayBean(devList, data.startTime, data.endTime, data.serialNum));\r\n}\r\n\r\n/* 开始作战回放*/\r\nfunction startReplay(data) {\r\n    /**add by gaochao start */\r\n    $('.top-header').css('display', 'none');\r\n    /**add by gaochao end */\r\n    combatReplayBeanQueryCache = data;\r\n    replayDevNumCache = data.devCodes.length;\r\n    $('.map-area-container').css('display', 'block');\r\n    $('.guide-frame').css('display', 'none');\r\n    $('.loading-word').html('加载中...');\r\n    $('.search-loading').css('display', 'block');\r\n    $.ajax({\r\n        url: 'commandManage/combatReplay/getCombatReplayDataInfo',\r\n        type: 'POST',\r\n        contentType: \"application/json; charset=utf-8\",\r\n        data: JSON.stringify(data),\r\n        dataType: 'json',\r\n        success: function (result) {\r\n            console.log(result);\r\n            if (result.retcode != 1 || result.dataMap.historyDevBaseInfoList == null || result.dataMap.historyDevBaseInfoList.length == 0) {\r\n                $('.search-loading').css('display', 'none');\r\n                $('.map-area-container').css('display', 'none');\r\n                $('.guide-frame').css('display', 'block');\r\n                $('#alert-modal-title').html('错误');\r\n                $('#alert-modal-content').html('搜索结果不存在');\r\n                $('#alert-modal').modal('show');\r\n                $('.top-header').css('display', 'block');\r\n            } else {\r\n                /* 缓存搜索结果*/\r\n                historyInfoCache = result.dataMap;\r\n                if (historyInfoCache.endCombatReport != undefined && historyInfoCache.endCombatReport != null) {\r\n                    let endPointData = historyInfoCache.endCombatReport;\r\n                    if (endPointData.lng != undefined && endPointData.lat != undefined\r\n                        && endPointData.lng != null && endPointData.lat != null\r\n                        && endPointData.lng != \"\" && endPointData.lat != \"\") {\r\n                        let pointEndData = __WEBPACK_IMPORTED_MODULE_2__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[endPointData.lng, endPointData.lat]]);\r\n                        let pointEnd = new BMap.Point(pointEndData[0].lng, pointEndData[0].lat);\r\n                        endPoint = pointEnd;\r\n                        endMarker = new __WEBPACK_IMPORTED_MODULE_22__realTimeCombat_overlay_EndOverlayConstructor_js__[\"a\" /* EndOverlayConstructor */](pointEnd,endPointData.address);\r\n                        map.addOverlay(endMarker);  // 将标注添加到地图中\r\n                    }\r\n                }\r\n                $('.target-name').html(result.dataMap.combatInfo.targetKey);\r\n                if (combatReplayInfoRedirect != 'null') {\r\n                    userInfosCache = historyInfoCache.combatInfo.userList;\r\n                    let nameValue = '';\r\n                    for (let i = 0; i < userInfosCache.length; i++) {\r\n                        nameValue = nameValue + userInfosCache[i].username + '/' + userInfosCache[i].handleSeq + '，';\r\n                    }\r\n\r\n                    $('#case-users').attr('title', nameValue.substring(0, nameValue.length - 1));\r\n                    $('#case-users').html(nameValue.substring(0, nameValue.length - 1));\r\n\r\n                    if (__WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].getCookie('combatReplayQueryCache') == '') {\r\n                        queryResultCache = { type: 2, data: JSON.parse(combatReplayInfoRedirect), info: historyInfoCache.combatInfo };\r\n                        __WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].setCookie('combatReplayQueryCache', JSON.stringify(queryResultCache), 365);\r\n                    }\r\n                } else {\r\n                    if (__WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].getCookie('combatReplayQueryCache') == '') {\r\n                        queryResultCache = { type: 1, data: queryResult[queryResultIndex] };\r\n                        __WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].setCookie('combatReplayQueryCache', JSON.stringify(queryResultCache), 365);\r\n                    } else {\r\n                        let cookieCacheDataRedirected = JSON.parse(__WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].getCookie('combatReplayQueryCache'));\r\n                        if (cookieCacheDataRedirected.type == 2) {\r\n                            let caseInfoRedirected = cookieCacheDataRedirected.info;\r\n                            userInfosCache = caseInfoRedirected.userList;\r\n                            let nameValue = '';\r\n                            for (let i = 0; i < userInfosCache.length; i++) {\r\n                                nameValue = nameValue + userInfosCache[i].username + '/' + userInfosCache[i].handleSeq + '，';\r\n                            }\r\n\r\n                            $('#case-users').attr('title', nameValue.substring(0, nameValue.length - 1));\r\n                            $('#case-users').html(nameValue.substring(0, nameValue.length - 1));\r\n\r\n                        }\r\n                    }\r\n                }\r\n                /* 设置案件开始时间*/\r\n                caseStartTime = combatReplayBeanQueryCache.startTime;\r\n                /* 设置案件结束时间*/\r\n                caseEndTime = combatReplayBeanQueryCache.endTime;\r\n                $('.time-line-start-time').html(new Date(caseStartTime).Format('hh:mm'));\r\n                $('.time-line-end-time').html(new Date(caseEndTime).Format('hh:mm'));\r\n                /* 转换目标基站信息*/\r\n                let historyTargetCellInfoList = historyInfoCache.historyTargetCellInfoList;\r\n                for (let i = 0; i < historyTargetCellInfoList.length; i++) {\r\n                    let targetBtsBdPoint = __WEBPACK_IMPORTED_MODULE_2__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[historyTargetCellInfoList[i].lng, historyTargetCellInfoList[i].lat]])[0];\r\n                    historyInfoCache.historyTargetCellInfoList[i].lng = targetBtsBdPoint.lng;\r\n                    historyInfoCache.historyTargetCellInfoList[i].lat = targetBtsBdPoint.lat;\r\n                }\r\n                /**add by gaochao start */\r\n                //转换预锁基站信息\r\n                // let historyPreLockCellInfoList = historyInfoCache.historyPreLockCellInfoList;\r\n                // for (let i = 0; i < historyPreLockCellInfoList.length; i++) {\r\n                //     let targetBtsBdPoint = GPSToBaiduPoint.getBaiduPointLocation([[historyPreLockCellInfoList[i].lng, historyPreLockCellInfoList[i].lat]])[0];\r\n                //     historyInfoCache.historyPreLockCellInfoList[i].lng = targetBtsBdPoint.lng;\r\n                //     historyInfoCache.historyPreLockCellInfoList[i].lat = targetBtsBdPoint.lat;\r\n                // }\r\n                /**add by gaochao end*/\r\n\r\n                /* 转换设备状态信息*/\r\n                let listCache = [];\r\n                let devStateInfoList = historyInfoCache.historyDevStateInfoList;\r\n                let reportTimeCache;\r\n                let triggerInfoCache = new Map();\r\n                for (let i = 0; i < devStateInfoList.length; i++) {\r\n                    let devStateInfo = __WEBPACK_IMPORTED_MODULE_7__parsing_ParsingData_js__[\"a\" /* ParsingData */].FormatStatusData(devStateInfoList[i]);\r\n                    if (devStateInfo.triggerInfo != null) {\r\n                        /* 有触发信息，更新缓存*/\r\n                        // triggerInfoCache.set(devStateInfo.devCode, devStateInfo.triggerInfo);\r\n                        // if (triggerInfoCache.get(devStateInfo.devCode) == null) {\r\n                        //     triggerInfoCache.set(devStateInfo.devCode, devStateInfo.triggerInfo);\r\n                        // } else {\r\n                        //     // 保证触发信息不为0\r\n                        //     let laseValueCache = JSON.parse(triggerInfoCache.get(devStateInfo.devCode));\r\n                        //     let currentValueCache = JSON.parse(devStateInfo.triggerInfo);\r\n                        //     if (currentValueCache.completeTimes >= laseValueCache.completeTimes && currentValueCache.receiptTimes >= laseValueCache.receiptTimes && currentValueCache.sendTimes >= laseValueCache.sendTimes) {\r\n                        //         triggerInfoCache.set(devStateInfo.devCode, devStateInfo.triggerInfo);\r\n                        //     } else {\r\n                        //         devStateInfo.triggerInfo = triggerInfoCache.get(devStateInfo.devCode);\r\n                        //     }\r\n                        // }\r\n                    } else {\r\n                        /* 没有触发信息，填充触发信息*/\r\n                        devStateInfo.triggerInfo = triggerInfoCache.get(devStateInfo.devCode);\r\n                    }\r\n                    if (reportTimeCache == devStateInfo.reportTime) {\r\n                        if (listCache[listCache.length - 1][devStateInfo.devCode] == null) {\r\n                            listCache[listCache.length - 1][devStateInfo.devCode] = devStateInfo;\r\n                        } else {\r\n                            let cellAnalysisInfoList = listCache[listCache.length - 1][devStateInfo.devCode].cellAnalysisInfoList;\r\n                            if (cellAnalysisInfoList != null && devStateInfo.cellAnalysisInfoList != null) {\r\n                                for (let j = 0; j < cellAnalysisInfoList.length; j++) {\r\n                                    if (cellAnalysisInfoList.btsId == devStateInfo.cellAnalysisInfoList[0].btsId) {\r\n                                        listCache[listCache.length - 1][devStateInfo.devCode].cellAnalysisInfoList.splice(i, 1);\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                listCache[listCache.length - 1][devStateInfo.devCode].cellAnalysisInfoList.push(devStateInfo.cellAnalysisInfoList[0]);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        eval(`\r\n                            listCache.push({\r\n                                '${devStateInfo.devCode}': devStateInfo,\r\n                                reportTime: devStateInfo.reportTime\r\n                            });\r\n                        `);\r\n                        reportTimeCache = devStateInfo.reportTime;\r\n                    }\r\n                }\r\n                // 排序\r\n                var bubbleSort = function (arr) {\r\n                    for (var i = 0; i < arr.length - 1; i++) {\r\n                        for (var j = i + 1; j < arr.length; j++) {\r\n                            if (arr[i].reportTime > arr[j].reportTime) {\r\n                                var temp = arr[i];\r\n                                arr[i] = arr[j];\r\n                                arr[j] = temp;\r\n                            }\r\n                        }\r\n                    }\r\n                    return arr;\r\n                }\r\n                let SortedList = bubbleSort(listCache);\r\n                listCache = SortedList;\r\n                //\r\n                let devStateInfoMap = new Map();\r\n                let eachDevStateInfoCache = new Map();\r\n                for (let i = 0; i < listCache.length; i++) {\r\n                    for (let key in listCache[i]) {\r\n                        if (listCache[i][key].devCode != null) {\r\n                            if (eachDevStateInfoCache.get(listCache[i][key].devCode) == null) {\r\n                                eachDevStateInfoCache.set(listCache[i][key].devCode, listCache[i][key]);\r\n                            } else {\r\n                                if (listCache[i][key].cellAnalysisInfoList == null) {\r\n                                    eachDevStateInfoCache.get(listCache[i][key].devCode).triggerInfo = listCache[i][key].triggerInfo;\r\n                                    eachDevStateInfoCache.get(listCache[i][key].devCode).energy = listCache[i][key].energy;\r\n                                    eachDevStateInfoCache.get(listCache[i][key].devCode).temperature = listCache[i][key].temperature;\r\n                                } else {\r\n                                    eachDevStateInfoCache.set(listCache[i][key].devCode, listCache[i][key]);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (devStateInfoMap.get(listCache[i].reportTime) == null) {\r\n                        devStateInfoMap.set(listCache[i].reportTime, listCache[i]);\r\n                    }\r\n                    eachDevStateInfoCache.forEach((eachInfo) => {\r\n                        devStateInfoMap.get(listCache[i].reportTime)[eachInfo.devCode] = eachInfo;\r\n                        // eval(`\r\n                        //     devStateInfoMap.get(listCache[i].reportTime).${eachInfo.devCode} = eachInfo;\r\n                        // `);\r\n                    });\r\n                }\r\n                let mapToListCache = [];\r\n                devStateInfoMap.forEach((eachInfo) => {\r\n                    mapToListCache.push(eachInfo);\r\n                });\r\n                historyInfoCache.historyDevStateInfoList = mapToListCache; // \r\n                console.log(historyInfoCache);\r\n                /* 绘制时间轴*/\r\n                __WEBPACK_IMPORTED_MODULE_13__tool_TimeLine_js__[\"a\" /* TimeLine */].initTimeLine(caseStartTime, caseEndTime);\r\n                /**add by gaochao start */\r\n                $('.case-time-all').html(`/<span>${add0(new Date((caseEndTime - caseStartTime < 0 ? 0 : caseEndTime - caseStartTime) - 8 * 3600 * 1000).getHours())}:${add0(new Date((caseEndTime - caseStartTime < 0 ? 0 : caseEndTime - caseStartTime) - 8 * 3600 * 1000).getMinutes())}:${add0(new Date((caseEndTime - caseStartTime < 0 ? 0 : caseEndTime - caseStartTime) - 8 * 3600 * 1000).getSeconds())}</span>`);\r\n                /**add by gaochao end */\r\n                /* 开关*/\r\n                __WEBPACK_IMPORTED_MODULE_11__realTimeCombat_tool_Switch_js__[\"a\" /* Switch */].initSwitch();\r\n                /* 视角切换*/\r\n                __WEBPACK_IMPORTED_MODULE_12__realTimeCombat_tool_View_js__[\"a\" /* View */].initViewPanel();\r\n                let historyDevBaseInfoList = historyInfoCache.historyDevBaseInfoList;\r\n                for (let i = 0; i < historyDevBaseInfoList.length; i++) {\r\n                    if (devDrawInfoMap.get(historyDevBaseInfoList[i].devCode) == null) {\r\n                        /* 绘制面板*/\r\n                        __WEBPACK_IMPORTED_MODULE_10__realTimeCombat_tool_Panel_js__[\"a\" /* Panel */].addNewDev(historyDevBaseInfoList, i);\r\n                    }\r\n                }\r\n                /* 填充能量条*/\r\n                __WEBPACK_IMPORTED_MODULE_9__overlay_EngColumnChartContainer_js__[\"a\" /* EngColumnChartContainer */].init(historyDevBaseInfoList);\r\n                /* 如果只有一台设备，就不显示单兵A/车载A*/\r\n                let carDevNum = 0;\r\n                let singleDevNum = 0;\r\n                devDrawInfoMap.forEach((eachDev) => {\r\n                    switch (eachDev.devType) {\r\n                        case 1:\r\n                            carDevNum = carDevNum + 1;\r\n                            break;\r\n                        case 2:\r\n                            singleDevNum = singleDevNum + 1;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                });\r\n                if (carDevNum < 2) {\r\n                    $('.team-each-dev-index-car').css('display', 'none');\r\n                }\r\n                if (singleDevNum < 2) {\r\n                    $('.team-each-dev-index-single').css('display', 'none');\r\n                }\r\n                /* */ //userInfosCache\r\n                let userHtml = '';\r\n                for (let i = 0; i < userInfosCache.length; i++) {\r\n                    userHtml = userHtml + `${userInfosCache[i].username}/${userInfosCache[i].handleSeq} `;\r\n                    $(`.user-name-value-by-id-${userInfosCache[i].id}`).html(`${userInfosCache[i].realname}`);\r\n                    $(`.user-name-value-by-id-${userInfosCache[i].id}`).attr('title', `${userInfosCache[i].realname}`);\r\n                    if (userInfosCache[i].headAddr != null && userInfosCache[i].headAddr != \"\") {\r\n                        $(`.user-name-value-by-id-${userInfosCache[i].id}-photo`).css('background', `url(${userInfosCache[i].headAddr})no-repeat`);\r\n                        $(`.user-name-value-by-id-${userInfosCache[i].id}-photo`).css('background-size', 'cover');\r\n                    }\r\n                    devDrawInfoMap.forEach((eachDev) => {\r\n                        if (eachDev.userId == userInfosCache[i].id && eachDev.userName == null) {\r\n                            devDrawInfoMap.get(eachDev.devCode).userName = userInfosCache[i].username;\r\n                            devDrawInfoMap.get(eachDev.devCode).realName = userInfosCache[i].realname;\r\n                            devDrawInfoMap.get(eachDev.devCode).headAddr = userInfosCache[i].headAddr;\r\n                        }\r\n                    });\r\n                }\r\n                $('#case-users').html(userHtml);\r\n                $('#case-users').attr('title', $('#case-users').html());\r\n                /* */\r\n                $('.show-history-start').css('display', 'block');\r\n                $('.show-history-pause').css('display', 'block');\r\n                $('.show-history-end').css('display', 'block');\r\n                $('.speed-setting').css('display', 'block');\r\n                $('.search-back').css('display', 'block');\r\n                /* 放置初始设备*/\r\n                let firstDevInfo = __WEBPACK_IMPORTED_MODULE_7__parsing_ParsingData_js__[\"a\" /* ParsingData */].FormatDevData(historyDevBaseInfoList[0]);\r\n                __WEBPACK_IMPORTED_MODULE_5__parsing_ParsingDevInfoCR_js__[\"a\" /* ParsingDevInfoCR */].parsingDevInfo(firstDevInfo, false);\r\n                if (__WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].getCookie('combatReplayPlayTimeCache') != '') {\r\n                    playStatus = 2;\r\n                    /**add by gaochao start */\r\n                    // $('#play-btn').html('播放');\r\n                    $('.play-btn-container').css('background', 'url(img/icon/play.png)');\r\n                    /**add by gaochao end */                    let timeLintInitInterval = setInterval(() => {\r\n                        if ($('.ui-rangeSlider-container').width() > 0) {\r\n                            clearInterval(timeLintInitInterval);\r\n                            $('.search-loading').css('display', 'none');\r\n                            hrefPlayTime(Number(__WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].getCookie('combatReplayPlayTimeCache')));\r\n                            let isFirstStart = setInterval(() => {\r\n                                if (historyRouteLineIsFinish) {\r\n                                    clearInterval(isFirstStart);\r\n                                    isFirstStart = false;\r\n                                    showHistory(historyInfoCache);\r\n                                }\r\n                            }, 25);\r\n                        }\r\n                    }, 10);\r\n                    map.setZoom(19);\r\n                } else {\r\n                    /* 设置地图中心*/\r\n                    let defaultLng = historyDevBaseInfoList[0].lng;\r\n                    let defaultLat = historyDevBaseInfoList[0].lat;\r\n                    let pointFirst = __WEBPACK_IMPORTED_MODULE_2__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[defaultLng, defaultLat]]);\r\n                    setTimeout(() => {\r\n                        map.centerAndZoom(new BMap.Point(pointFirst[0].lng, pointFirst[0].lat), 19);\r\n                        $('.search-loading').css('display', 'none');\r\n                    }, 900);\r\n                }\r\n                //判断是否需要显示Catch信息\r\n                /*delete by guoshuai start 2019/3/6*/\r\n                /* if(result.dataMap.historyCatchInfoList && typeof(result.dataMap.historyCatchInfoList) != undefined && result.dataMap.historyCatchInfoList != '') {\r\n                \t$(`.target-lte-info-container`).css('display', 'block');\r\n                } */\r\n                /*delete by guoshuai end 2019/3/6*/\r\n            }\r\n        },\r\n        error: function (xhr, textStatus) {\r\n            $('.search-loading').css('display', 'none');\r\n            console.log('错误');\r\n            console.log(xhr);\r\n            console.log(textStatus);\r\n        },\r\n    });\r\n}\r\n\r\n/* 当前播放状态*/\r\nlet playStatus = 0; // 0停止；1开始；2暂停\r\n/* 绘制方法的定时器*/\r\nlet timer;\r\n/* 播放速度*/\r\n/**del by gaochao start*/\r\nlet playSpeed = 1;\r\n/**del by gaochao end */\r\n/* 绘制设备*/\r\nlet playedDevCache = new Map();\r\nfunction devHistory(dataList) {\r\n    //edit by sunbing start\r\n    devHistoryDataAll(dataList);\r\n\t/* \r\n\tif (engAudioType == 3) {\r\n        // 静音绘制全部数据\r\n        devHistoryDataAll(dataList);\r\n    } else {\r\n        // 非静音丢失部分数据\r\n        devHistoryDataPart(dataList);\r\n    }*/\r\n    //edit by sunbing end\r\n\r\n}\r\nfunction devHistoryDataAll(dataList) {\r\n    if (playedDevCache.size > 0) {\r\n        playedDevCache = new Map();\r\n    }\r\n    let devInfo = __WEBPACK_IMPORTED_MODULE_7__parsing_ParsingData_js__[\"a\" /* ParsingData */].FormatDevData(dataList[devIndex]);\r\n    if (devInfo.reportTime <= replayCurrentTime) {\r\n        __WEBPACK_IMPORTED_MODULE_5__parsing_ParsingDevInfoCR_js__[\"a\" /* ParsingDevInfoCR */].parsingDevInfo(devInfo, true);\r\n        devIndex = devIndex + 1;\r\n        if (devIndex < dataList.length) {\r\n            if (dataList[devIndex].reportTime <= replayCurrentTime) {\r\n                devHistory(dataList);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction devHistoryDataPart(dataList) {\r\n    let devInfo = __WEBPACK_IMPORTED_MODULE_7__parsing_ParsingData_js__[\"a\" /* ParsingData */].FormatDevData(dataList[devIndex]);\r\n    if (devInfo.reportTime <= replayCurrentTime) {\r\n        __WEBPACK_IMPORTED_MODULE_5__parsing_ParsingDevInfoCR_js__[\"a\" /* ParsingDevInfoCR */].parsingDevInfo(devInfo, true);\r\n        playedDevCache.set(devInfo.devCode, 'played');\r\n        devIndex = devIndex + 1;\r\n        if (devIndex < dataList.length) {\r\n            if (dataList[devIndex].reportTime <= replayCurrentTime) {\r\n                if (playedDevCache.get(dataList[devIndex].devCode) == null) {\r\n                    devHistory(dataList);\r\n                } else {\r\n                    devIndexAdd(dataList);\r\n                }\r\n            } else {\r\n                playedDevCache = new Map();\r\n            }\r\n        }\r\n    } else {\r\n        playedDevCache = new Map();\r\n    }\r\n}\r\nfunction devIndexAdd(dataList) {\r\n    if (dataList[devIndex].reportTime <= replayCurrentTime) {\r\n        if (playedDevCache.get(dataList[devIndex].devCode) != null) {\r\n            devIndex = devIndex + 1;\r\n            devIndexAdd(dataList);\r\n        }\r\n    }\r\n}\r\n// function devHistory(dataList) {\r\n//     let devInfo = ParsingData.FormatDevData(dataList[devIndex]);\r\n//     if (devInfo.reportTime <= replayCurrentTime) {\r\n//         ParsingDevInfoCR.parsingDevInfo(devInfo, true);\r\n//         playedDevCache.set(devInfo.devCode, 'played');\r\n//         devIndex = devIndex + 1;\r\n//         if (devIndex < dataList.length) {\r\n//             if (dataList[devIndex].reportTime <= replayCurrentTime) {\r\n//                 if (playedDevCache.get(dataList[devIndex].devCode) == null) {\r\n//                     devHistory(dataList);\r\n//                 } else {\r\n//                     devIndex = devIndex + 1;\r\n//                 }\r\n//             } else {\r\n//                 playedDevCache = new Map();\r\n//             }\r\n//         }\r\n//     } else {\r\n//         playedDevCache = new Map();\r\n//     }\r\n// }\r\n\r\n/* 绘制基站*/\r\nfunction btsHistory(dataList) {\r\n\r\n    let btsInfo = __WEBPACK_IMPORTED_MODULE_7__parsing_ParsingData_js__[\"a\" /* ParsingData */].FormatBtsData(dataList[btsIndex]);\r\n    if (btsInfo.reportTime <= replayCurrentTime) {\r\n        let btsInfoList = [];\r\n        let btsInfos = dataList.slice(0, btsIndex);\r\n        for (let i = 0; i < btsInfos.length; i++) {\r\n            btsInfoList[__WEBPACK_IMPORTED_MODULE_7__parsing_ParsingData_js__[\"a\" /* ParsingData */].FormatBtsData(btsInfos[i]).btsId] = __WEBPACK_IMPORTED_MODULE_7__parsing_ParsingData_js__[\"a\" /* ParsingData */].FormatBtsData(btsInfos[i]);\r\n        }\r\n        let btsInfoNew = {};\r\n        btsInfoNew.btsInfos = btsInfoList;\r\n        __WEBPACK_IMPORTED_MODULE_21__realTimeCombat_parsing_ParsingMultiBtsInfo_js__[\"a\" /* ParsingMultiBtsInfo */].prasingBtsInfo(btsInfoNew);\r\n        btsIndex = btsIndex + 1;\r\n        if (btsIndex < dataList.length) {\r\n            if (dataList[btsIndex].reportTime <= replayCurrentTime) {\r\n                btsHistory(dataList);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n/* 绘制状态信息*/\r\nfunction statusHistory(dataList) {\r\n    let statusInfo = dataList[statusIndex];\r\n    if (statusInfo.reportTime <= replayCurrentTime) {\r\n        __WEBPACK_IMPORTED_MODULE_6__parsing_PrasingBtsInfoCR_js__[\"a\" /* PrasingBtsInfoCR */].prasingStatusInfo(statusInfo);\r\n        statusIndex = statusIndex + 1;\r\n        if (statusIndex < dataList.length) {\r\n            if (dataList[statusIndex].reportTime <= replayCurrentTime) {\r\n                statusHistory(dataList);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/* 绘制目标小区*/\r\nfunction targetCellHistory(dataList) {\r\n    /* 保持定时器与数据时间同步*/\r\n    if (dataList[targetCellInfoIndex].createTime <= replayCurrentTime - 1000) {\r\n        /* 执行设备绘制方法*/\r\n        console.log(dataList);\r\n        targetCellInfosCache.set(dataList[targetCellInfoIndex].btsId, dataList[targetCellInfoIndex]);\r\n        __WEBPACK_IMPORTED_MODULE_6__parsing_PrasingBtsInfoCR_js__[\"a\" /* PrasingBtsInfoCR */].showTargetCell();\r\n        targetCellInfoIndex++;\r\n    }\r\n}\r\n/**add by gaochao start */\r\n/* 绘制预锁基站*/\r\nfunction preLockCellHistory(dataList) {\r\n    /* 保持定时器与数据时间同步*/\r\n    if (dataList[devPreLockCellInfoIndex].createTime <= replayCurrentTime - 1000) {\r\n        /* 执行设备绘制方法*/\r\n        devPreLockCellInfosCache = new Map();\r\n        let devPreLockCellInfoList = JSON.parse(dataList[devPreLockCellInfoIndex].btsInfos);\r\n        if (devPreLockCellInfoList != null) {\r\n            for (let i = 0; i < devPreLockCellInfoList.length; i++) {\r\n                let btsPoint = __WEBPACK_IMPORTED_MODULE_2__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[devPreLockCellInfoList[i].lng, devPreLockCellInfoList[i].lat]])[0];\r\n                devPreLockCellInfoList[i].lng = btsPoint.lng;\r\n                devPreLockCellInfoList[i].lat = btsPoint.lat;\r\n                devPreLockCellInfosCache.set(devPreLockCellInfoList[i].btsId, devPreLockCellInfoList[i]);\r\n            }\r\n        }\r\n        __WEBPACK_IMPORTED_MODULE_6__parsing_PrasingBtsInfoCR_js__[\"a\" /* PrasingBtsInfoCR */].showPreLockCell();\r\n        devPreLockCellInfoIndex++;\r\n    }\r\n}\r\n/**add by gaochao end*/\r\n\r\n/*绘制目标手机号所在基站LTE信息(Catch)*/\r\nfunction lteCatchInfoHistory(dataList) {\r\n    /* 保持定时器与数据时间同步*/\r\n    let lteCatchInfo = dataList[lteCatchInfoIndex];\r\n    if (new Date(lteCatchInfo.reportTime).getTime() <= replayCurrentTime) {\r\n        __WEBPACK_IMPORTED_MODULE_17__realTimeCombat_parsing_PrasingLteCatchInfo_js__[\"a\" /* PrasingLteCatchInfo */].showLteCatchInfo(lteCatchInfo);\r\n        lteCatchInfoIndex = lteCatchInfoIndex + 1;\r\n        if (lteCatchInfoIndex < dataList.length) {\r\n            if (new Date(dataList[lteCatchInfoIndex].reportTime).getTime() <= replayCurrentTime) {\r\n                lteCatchInfoHistory(dataList);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/* 绘制主动式详细信息 */\r\nfunction devActiveDetailInfoHistory(dataList) {\r\n    let devActiveDetailInfo = dataList[devActiveDetailInfoIndex];\r\n    if (new Date(devActiveDetailInfo.reportTime).getTime() <= replayCurrentTime) {\r\n        __WEBPACK_IMPORTED_MODULE_18__realTimeCombat_parsing_PrasingDevActiveDetailInfo_js__[\"a\" /* PrasingDevActiveDetailInfo */].showDevActiveDetailInfo(devActiveDetailInfo);\r\n        __WEBPACK_IMPORTED_MODULE_18__realTimeCombat_parsing_PrasingDevActiveDetailInfo_js__[\"a\" /* PrasingDevActiveDetailInfo */].showDevActiveEngLogInfo(devActiveDetailInfo);\r\n        devActiveDetailInfoIndex = devActiveDetailInfoIndex + 1;\r\n        if (devActiveDetailInfoIndex < dataList.length) {\r\n            if (new Date(dataList[devActiveDetailInfoIndex].reportTime).getTime() <= replayCurrentTime) {\r\n                devActiveDetailInfoHistory(dataList);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/* 绘制Ta Data信息 */\r\nfunction devTdoaDataInfoHistory(dataList) {\r\n    let devTdoaDataInfo = dataList[taDataInfoIndex];\r\n    if (new Date(devTdoaDataInfo.reportTime).getTime() <= replayCurrentTime) {\r\n        __WEBPACK_IMPORTED_MODULE_19__parsing_PrasingHistoryTaDataInfo_js__[\"a\" /* PrasingHistoryTaDataInfo */].showTaDataInfo(devTdoaDataInfo);\r\n        taDataInfoIndex = taDataInfoIndex + 1;\r\n        if (taDataInfoIndex < dataList.length) {\r\n            if (new Date(dataList[taDataInfoIndex].reportTime).getTime() <= replayCurrentTime) {\r\n                devTdoaDataInfoHistory(dataList);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/* 绘制Ta Draw信息 */\r\nfunction devTdoaDrawInfoHistory(dataList) {\r\n    let devTdoaDrawInfo = dataList[taDrawInfoIndex];\r\n    if (new Date(devTdoaDrawInfo.reportTime).getTime() <= replayCurrentTime) {\r\n        __WEBPACK_IMPORTED_MODULE_20__realTimeCombat_parsing_PrasingTaDrawInfo_js__[\"a\" /* PrasingTaDrawInfo */].showTaDrawInfo(devTdoaDrawInfo);\r\n        taDrawInfoIndex = taDrawInfoIndex + 1;\r\n        if (taDrawInfoIndex < dataList.length) {\r\n            if (new Date(dataList[taDrawInfoIndex].reportTime).getTime() <= replayCurrentTime) {\r\n                devTdoaDrawInfoHistory(dataList);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction add0(val) {\r\n    if (val >= 10) {\r\n        return '' + val;\r\n    } else {\r\n        return '0' + val;\r\n    }\r\n}\r\n\r\nfunction showHistory(dataMap) {\r\n    /* 设定时间*/\r\n    $('.continous-time-value').html(`\r\n        ${add0(new Date((replayCurrentTime - caseStartTime < 0 ? 0 : replayCurrentTime - caseStartTime) - 8 * 3600 * 1000).getHours())}:${add0(new Date((replayCurrentTime - caseStartTime < 0 ? 0 : replayCurrentTime - caseStartTime) - 8 * 3600 * 1000).getMinutes())}:${add0(new Date((replayCurrentTime - caseStartTime < 0 ? 0 : replayCurrentTime - caseStartTime) - 8 * 3600 * 1000).getSeconds())}\r\n    `);\r\n    /**add by gaochao start */\r\n    $('.case-time').html(`\r\n        ${add0(new Date((replayCurrentTime - caseStartTime < 0 ? 0 : replayCurrentTime - caseStartTime) - 8 * 3600 * 1000).getHours())}:${add0(new Date((replayCurrentTime - caseStartTime < 0 ? 0 : replayCurrentTime - caseStartTime) - 8 * 3600 * 1000).getMinutes())}:${add0(new Date((replayCurrentTime - caseStartTime < 0 ? 0 : replayCurrentTime - caseStartTime) - 8 * 3600 * 1000).getSeconds())}\r\n    `);\r\n    /**add by gaochao end */\r\n    replayCurrentTime = replayCurrentTime + 1000;\r\n    if (replayCurrentTime < caseEndTime) {\r\n        __WEBPACK_IMPORTED_MODULE_13__tool_TimeLine_js__[\"a\" /* TimeLine */].updateTimeLine(replayCurrentTime);\r\n        //try {\r\n        if (dataMap.historyDevBaseInfoList.length > 0 && devIndex <= dataMap.historyDevBaseInfoList.length - 1) {\r\n            devHistory(dataMap.historyDevBaseInfoList);\r\n        }\r\n        //} catch (e) { console.error(e) }\r\n        try {\r\n            if (dataMap.historyDevActiveDetailInfoList && dataMap.historyDevActiveDetailInfoList.length > 0 && devActiveDetailInfoIndex <= dataMap.historyDevActiveDetailInfoList.length - 1) {\r\n                devActiveDetailInfoHistory(dataMap.historyDevActiveDetailInfoList);\r\n            }\r\n        } catch (e) { console.error(e) }\r\n        try {\r\n            if (dataMap.historyBtsInfoList.length > 0 && btsIndex <= dataMap.historyBtsInfoList.length - 1) {\r\n                btsHistory(dataMap.historyBtsInfoList);\r\n            }\r\n        } catch (e) { console.error(e) }\r\n        try {\r\n            if (dataMap.historyDevStateInfoList.length > 0 && statusIndex <= dataMap.historyDevStateInfoList.length - 1) {\r\n                statusHistory(dataMap.historyDevStateInfoList);\r\n            }\r\n        } catch (e) { console.error(e) }\r\n        try {\r\n            if (dataMap.historyTargetCellInfoList.length > 0 && targetCellInfoIndex <= dataMap.historyTargetCellInfoList.length - 1) {\r\n                targetCellHistory(dataMap.historyTargetCellInfoList);\r\n            }\r\n        } catch (e) { console.error(e) }\r\n        try {\r\n            if (dataMap.historyCatchInfoList && dataMap.historyCatchInfoList.length > 0 && lteCatchInfoIndex <= dataMap.historyCatchInfoList.length - 1) {\r\n                lteCatchInfoHistory(dataMap.historyCatchInfoList);\r\n            }\r\n        } catch (e) { console.error(e) }\r\n        // try {\r\n        //     if (dataMap.historyDevActiveDetailInfoList && dataMap.historyDevActiveDetailInfoList.length > 0 && devActiveDetailInfoIndex <= dataMap.historyDevActiveDetailInfoList.length - 1) {\r\n        //         devActiveDetailInfoHistory(dataMap.historyDevActiveDetailInfoList);\r\n        //     }\r\n        // } catch (e) { console.error(e) }\r\n        try {\r\n            if (dataMap.historyDevTdoaDataInfoList && dataMap.historyDevTdoaDataInfoList.length > 0 && taDataInfoIndex <= dataMap.historyDevTdoaDataInfoList.length - 1) {\r\n                devTdoaDataInfoHistory(dataMap.historyDevTdoaDataInfoList);\r\n            }\r\n        } catch (e) { console.error(e) }\r\n        try {\r\n            if (dataMap.historyDevTdoaDrawInfoList && dataMap.historyDevTdoaDrawInfoList.length > 0 && taDrawInfoIndex <= dataMap.historyDevTdoaDrawInfoList.length - 1) {\r\n                devTdoaDrawInfoHistory(dataMap.historyDevTdoaDrawInfoList);\r\n            }\r\n        } catch (e) { console.error(e) }\r\n        /**add by gaochao start */\r\n        try {\r\n            if (dataMap.historyPreLockCellInfoList.length > 0 && devPreLockCellInfoIndex <= dataMap.historyPreLockCellInfoList.length - 1) {\r\n                preLockCellHistory(dataMap.historyPreLockCellInfoList);\r\n            }\r\n        } catch (e) { console.error(e) }\r\n        /**add by gaochao end*/\r\n        __WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].setCookie('combatReplayPlayTimeCache', replayCurrentTime, 365);\r\n    } else {\r\n        replayEnd();\r\n    }\r\n}\r\n\r\n/* 时间轴hover显示tips*/\r\nlet mouseMoveShowTips = function (e) {\r\n    $('.time-line-mouse-tips').html(new Date(caseStartTime + (caseEndTime - caseStartTime) * (e.offsetX / $(this).width())).Format('hh:mm:ss'));\r\n    $('.time-line-mouse-tips').css('left', e.offsetX + 'px');\r\n}\r\n$(document).on('mouseover mouseout', '.time-line-progress', function (e) {\r\n    if (e.type == \"mouseover\") {\r\n        //鼠标悬浮\r\n        this.addEventListener('mousemove', mouseMoveShowTips);\r\n        $('.time-line-mouse-tips').css('display', 'block');\r\n    } else if (e.type == \"mouseout\") {\r\n        //鼠标离开\r\n        this.removeEventListener('mousemove', mouseMoveShowTips);\r\n        $('.time-line-mouse-tips').css('display', 'none');\r\n    }\r\n});\r\n\r\n/* 优化时间轴拖动*/\r\n$(document).on('mousedown', '.time-line-slider', function () {\r\n    timeLineSlidertIsPressed = true;\r\n});\r\n\r\n/* 时间轴点击事件*/\r\n$(document).on('click', '#time-line-click-cover', function (e) {\r\n    /* 暂停回放*/\r\n    if (timer != null) {\r\n        clearInterval(timer);\r\n        timer = null;\r\n    }\r\n    if (playStatus != 0) {\r\n        /**add by gaochao start */\r\n        // $('#play-btn').html('播放');\r\n        $('.play-btn-container').css('background', 'url(img/icon/play.png)');\r\n        /**add by gaochao end */\r\n        $('#time-line-progress').removeClass('active');\r\n    }\r\n    playStatus = 2;\r\n    /* 放置刻度值*/\r\n    let clickLeftPerc = (e.offsetX / $(this).width()) * 100;\r\n    if ($('.time-line-divider-container').width() < (clickLeftPerc / 100) * $('.time-line-container').width()) {\r\n        $('.time-line-marker').css('left', 100 * ($('.time-line-divider-container').width() / $('.time-line-container').width()) * ((caseEndTime - caseStartTime) / (timeDividerCount * 60 * 1000)) + '%');\r\n    } else {\r\n        $('.time-line-marker').css('left', clickLeftPerc + '%');\r\n    }\r\n    timeLineMarketIsClicked = true;\r\n    /* 获取刻度时间，并绘制影子*/\r\n    __WEBPACK_IMPORTED_MODULE_13__tool_TimeLine_js__[\"a\" /* TimeLine */].devHistoryShadow(__WEBPACK_IMPORTED_MODULE_13__tool_TimeLine_js__[\"a\" /* TimeLine */].getMarkerTime());\r\n    $('.view-default-btn-bg').css('background-position', '-210px -30px');\r\n});\r\n\r\nfunction hrefPlayTime(hrefTime) {\r\n    replayCurrentTime = hrefTime;\r\n    /* 设置进度条*/\r\n    let progressNewPerc = (1 - (caseEndTime - hrefTime) / (caseEndTime - caseStartTime)) * 100;\r\n    $('#time-line-progress').css('width', progressNewPerc + '%');\r\n    /* 设置时间轴*/\r\n    let count = 0;\r\n    count = (hrefTime - caseStartTime) / 1000;\r\n    $('.time-line-blue-cover').css('width', '0%');\r\n    let blueCoverWidthCache = $('.time-line-blue-cover').width();\r\n    blueCoverWidthCache = blueCoverWidthCache + ($('.time-line-container').width() * 0.025 / 60) * count;\r\n    $('.time-line-blue-cover').css('width', (blueCoverWidthCache / $('.time-line-divider-container').width()) * 100 + '%');\r\n    __WEBPACK_IMPORTED_MODULE_13__tool_TimeLine_js__[\"a\" /* TimeLine */].resetTimeLineMarker();\r\n    if ($('.time-line-divider-container').width() > $('.time-line-container').width() && parseFloat($('.time-line-marker').css('left')) / $('.time-line-container').width() >= 0.875) {\r\n        if (($('.time-line-divider-container').width() - $('.time-line-blue-cover').width()) / $('.time-line-container').width() > 0.125) {\r\n            $('.time-line-divider-container').css('left', -$('.time-line-blue-cover').width() + $('.time-line-container').width() * 0.875);\r\n            $('.eng-column-chart-container').css('left', -$('.time-line-blue-cover').width() + $('.time-line-container').width() * 0.875);\r\n        } else {\r\n            $('.time-line-divider-container').css('left', -$('.time-line-divider-container').width() + $('.time-line-container').width());\r\n            $('.eng-column-chart-container').css('left', -$('.time-line-divider-container').width() + $('.time-line-container').width());\r\n        }\r\n        __WEBPACK_IMPORTED_MODULE_13__tool_TimeLine_js__[\"a\" /* TimeLine */].resetTimeLineMarker();\r\n        /* 修改滑动条*/\r\n        $('.time-line-slider').rangeSlider('option', 'range', {\r\n            min: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100,\r\n            max: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100\r\n        });\r\n        /* 手动设置滑动条位置*/\r\n        $('.ui-rangeSlider-bar').css('left', $('.ui-rangeSlider-container').width() * (($('.time-line-divider-container').width() - $('.time-line-container').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-divider-container').width()));\r\n        $('.ui-rangeSlider-leftHandle').css('left', $('.ui-rangeSlider-container').width() * (($('.time-line-divider-container').width() - $('.time-line-container').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-divider-container').width()));\r\n        $('.ui-rangeSlider-rightHandle').css('left', $('.ui-rangeSlider-container').width() * (1 + parseFloat($('.time-line-divider-container').css('right')) / $('.time-line-divider-container').width()) - 6);\r\n    }\r\n    /* 清空地图*/\r\n    map.clearOverlays();\r\n    if (endMarker != null) {\r\n        map.addOverlay(endMarker)\r\n    }\r\n    /* 清空LTE Catch信息面板 */\r\n    $(`.target-lte-info-content-container`).html('');\r\n    /* 清空设备主动式详细信息面板 */\r\n    $(`#active-info-content-infoArea`).html('');\r\n    $(`.history-energy`).html('');\r\n    $(`.ta-info-table`).html('');\r\n    /* 重绘覆盖物*/\r\n    __WEBPACK_IMPORTED_MODULE_8__overlay_DrawHrefLoadingOverlay_js__[\"a\" /* DrawHrefLoadingOverlay */].drawLoding(hrefTime);\r\n    /* 设置右下角时间*/\r\n    $('.continous-time-value').html(`\r\n        ${add0(new Date((replayCurrentTime - caseStartTime < 0 ? 0 : replayCurrentTime - caseStartTime) - 8 * 3600 * 1000).getHours())}:${add0(new Date((replayCurrentTime - caseStartTime < 0 ? 0 : replayCurrentTime - caseStartTime) - 8 * 3600 * 1000).getMinutes())}:${add0(new Date((replayCurrentTime - caseStartTime < 0 ? 0 : replayCurrentTime - caseStartTime) - 8 * 3600 * 1000).getSeconds())}\r\n    `);\r\n    /**add by gaochao start */\r\n    $('.case-time').html(`\r\n    ${add0(new Date((replayCurrentTime - caseStartTime < 0 ? 0 : replayCurrentTime - caseStartTime) - 8 * 3600 * 1000).getHours())}:${add0(new Date((replayCurrentTime - caseStartTime < 0 ? 0 : replayCurrentTime - caseStartTime) - 8 * 3600 * 1000).getMinutes())}:${add0(new Date((replayCurrentTime - caseStartTime < 0 ? 0 : replayCurrentTime - caseStartTime) - 8 * 3600 * 1000).getSeconds())}\r\n    `);\r\n    /**add by gaochao end */\r\n    __WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].setCookie('combatReplayPlayTimeCache', replayCurrentTime, 365);\r\n}\r\n\r\n/* 开始按钮*/\r\n$('#play-btn').click(function () {\r\n    switch (playStatus) {\r\n        case 0: // 停止状态\r\n            if (replayCurrentTime == 0) {\r\n                /* 在开始之前清空界面与变量缓存*/\r\n                map.clearOverlays();\r\n                if (endMarker != null) {\r\n                    map.addOverlay(endMarker)\r\n                }\r\n                /* 设置案件开始时间*/\r\n                caseStartTime = combatReplayBeanQueryCache.startTime;\r\n                /* 设置案件结束时间*/\r\n                caseEndTime = combatReplayBeanQueryCache.endTime;\r\n                /* 重置页面*/\r\n                __WEBPACK_IMPORTED_MODULE_10__realTimeCombat_tool_Panel_js__[\"a\" /* Panel */].removeAllDev();\r\n                $('.continous-time-value').html('00:00:00');\r\n                /**add by gaochao start */\r\n                $('.case-time').html('00:00:00');\r\n                /**add by gaochao end */\r\n                /* 重绘时间轴*/\r\n                $('.time-line-area').html(`\r\n                    <div class=\"progress time-line-progress\">\r\n                        <div class=\"progress-bar progress-bar-striped\" id=\"time-line-progress\" style=\"cursor: pointer; transition: width 0s !important;\" role=\"progressbar\" aria-valuenow=\"45\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 0%\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"eng-column-chart\"></div>\r\n                    <div class=\"time-line-container\">\r\n                        <div class=\"time-line-divider-container\">\r\n                            <div class=\"time-line-blue-cover\"></div>\r\n                        </div>\r\n                        <div class=\"time-line-marker\"></div>\r\n                        <div id=\"time-line-click-cover\" style=\"width: 100%; height: 100%; position: absolute;\"></div>\r\n                    </div>\r\n                    <div class=\"time-line-slider\"></div>\r\n                    <div class=\"time-line-start-time\">${new Date(caseStartTime).Format('hh:mm')}</div>\r\n                    <div class=\"time-line-end-time\">${new Date(caseEndTime).Format('hh:mm')}</div>\r\n                    <div class=\"time-line-mouse-tips\"></div>\r\n                `);\r\n                __WEBPACK_IMPORTED_MODULE_13__tool_TimeLine_js__[\"a\" /* TimeLine */].initTimeLine(caseStartTime, caseEndTime);\r\n                __WEBPACK_IMPORTED_MODULE_13__tool_TimeLine_js__[\"a\" /* TimeLine */].resetTimeLineMarker();\r\n                /* 重绘页面面板*/\r\n                for (let i = 0; i < historyInfoCache.historyDevBaseInfoList.length; i++) {\r\n                    if (devDrawInfoMap.get(historyInfoCache.historyDevBaseInfoList[i].devCode) == null) {\r\n                        __WEBPACK_IMPORTED_MODULE_10__realTimeCombat_tool_Panel_js__[\"a\" /* Panel */].addNewDev(historyInfoCache.historyDevBaseInfoList, i);\r\n                    }\r\n                }\r\n                /* 如果只有一台设备，就不显示单兵A/车载A*/\r\n                let carDevNum = 0;\r\n                let singleDevNum = 0;\r\n                devDrawInfoMap.forEach((eachDev) => {\r\n                    switch (eachDev.devType) {\r\n                        case 1:\r\n                            carDevNum = carDevNum + 1;\r\n                            break;\r\n                        case 2:\r\n                            singleDevNum = singleDevNum + 1;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                });\r\n                if (carDevNum < 2) {\r\n                    $('.team-each-dev-index-car').css('display', 'none');\r\n                }\r\n                if (singleDevNum < 2) {\r\n                    $('.team-each-dev-index-single').css('display', 'none');\r\n                }\r\n                /* 设置用户名信息*/ //userInfosCache\r\n                let userHtml = '';\r\n                for (let i = 0; i < userInfosCache.length; i++) {\r\n                    userHtml = userHtml + `${userInfosCache[i].username}/${userInfosCache[i].handleSeq} `;\r\n                    $(`.user-name-value-by-id-${userInfosCache[i].id}`).html(`${userInfosCache[i].realname}`);\r\n                    $(`.user-name-value-by-id-${userInfosCache[i].id}`).attr('title', `${userInfosCache[i].realname}`);\r\n                    if (userInfosCache[i].headAddr != null && userInfosCache[i].headAddr != \"\") {\r\n                        $(`.user-name-value-by-id-${userInfosCache[i].id}-photo`).css('background', `url(${userInfosCache[i].headAddr})no-repeat`);\r\n                        $(`.user-name-value-by-id-${userInfosCache[i].id}-photo`).css('background-size', 'cover');\r\n                    }\r\n                    devDrawInfoMap.forEach((eachDev) => {\r\n                        if (eachDev.userId == userInfosCache[i].id && eachDev.userName == null) {\r\n                            devDrawInfoMap.get(eachDev.devCode).userName = userInfosCache[i].username;\r\n                            devDrawInfoMap.get(eachDev.devCode).realName = userInfosCache[i].realname;\r\n                            devDrawInfoMap.get(eachDev.devCode).headAddr = userInfosCache[i].headAddr;\r\n                        }\r\n                    });\r\n                }\r\n                $('#case-users').html(userHtml);\r\n                $('#case-users').attr('title', $('#case-users').html());\r\n                /* 发送回执归零*/\r\n                $('#sms-send-value').html('0');\r\n                $('#sms-finish-value').html('0');\r\n                $('#sms-receipt-value').html('0');\r\n                /* 填充能量条*/\r\n                __WEBPACK_IMPORTED_MODULE_9__overlay_EngColumnChartContainer_js__[\"a\" /* EngColumnChartContainer */].init(historyInfoCache.historyDevBaseInfoList);\r\n                /* 设置当前时间*/\r\n                replayCurrentTime = caseStartTime;\r\n                /* 放置初始设备*/\r\n                let firstDevInfo = __WEBPACK_IMPORTED_MODULE_7__parsing_ParsingData_js__[\"a\" /* ParsingData */].FormatDevData(historyInfoCache.historyDevBaseInfoList[0]);\r\n                __WEBPACK_IMPORTED_MODULE_5__parsing_ParsingDevInfoCR_js__[\"a\" /* ParsingDevInfoCR */].parsingDevInfo(firstDevInfo, false);\r\n            }\r\n            /* */\r\n            /* 调用绘制方法*/\r\n            showHistory(historyInfoCache);\r\n            timer = setInterval(() => { showHistory(historyInfoCache) }, 1000 / playSpeed);\r\n            /* 设置地图中心*/\r\n            let defaultLng = historyInfoCache.historyDevBaseInfoList[0].lng;\r\n            let defaultLat = historyInfoCache.historyDevBaseInfoList[0].lat;\r\n            let pointFirst = __WEBPACK_IMPORTED_MODULE_2__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[defaultLng, defaultLat]]);\r\n            map.centerAndZoom(new BMap.Point(pointFirst[0].lng, pointFirst[0].lat), 19);\r\n            playStatus = 1;\r\n            /**add by gaochao start */\r\n            // $('#play-btn').html('暂停');\r\n            $('.play-btn-container').css('background', 'url(img/icon/pause.png)');\r\n            /**add by gaochao end */\r\n            $('#time-line-progress').addClass('active');\r\n            break;\r\n        case 1: // 开始状态，暂停播放\r\n            clearInterval(timer);\r\n            timer = null;\r\n            playStatus = 2;\r\n            /**add by gaochao start */\r\n            // $('#play-btn').html('播放');\r\n            $('.play-btn-container').css('background', 'url(img/icon/play.png)');\r\n            /**add by gaochao end */\r\n            $('#time-line-progress').removeClass('active');\r\n            break;\r\n        case 2: // 暂停状态，继续播放\r\n            playStatus = 1;\r\n            /**add by gaochao start */\r\n            // $('#play-btn').html('暂停');\r\n            $('.play-btn-container').css('background', 'url(img/icon/pause.png)');\r\n            /**add by gaochao end */\r\n            $('#time-line-progress').addClass('active');\r\n            /**add by gaochao start */\r\n            $('.activedev-info-value').html(\"\");\r\n            $('.activedev-info-time').html(\"\");\r\n            btsActiveCache = null;\r\n            $('.time-line-slider').rangeSlider('option', 'range', {\r\n                min: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100,\r\n                max: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100\r\n            });\r\n            /**add by gaochao end */\r\n\r\n            if (timeLineMarketIsClicked) {\r\n                /* 获取刻度尺对应时间*/\r\n                hrefPlayTime(new Date(__WEBPACK_IMPORTED_MODULE_13__tool_TimeLine_js__[\"a\" /* TimeLine */].getMarkerTime()).getTime());\r\n                /* 重置刻度尺*/\r\n                __WEBPACK_IMPORTED_MODULE_13__tool_TimeLine_js__[\"a\" /* TimeLine */].resetTimeLineMarker();\r\n                timeLineMarketIsClicked = false;\r\n                $('.view-default-btn-bg').css('background-position', '-180px -30px');\r\n                let isHrefPlayFinistInterval = setInterval(() => {\r\n                    if (historyRouteLineIsFinish) {\r\n                        clearInterval(isHrefPlayFinistInterval);\r\n                        isHrefPlayFinistInterval = false;\r\n                        showHistory(historyInfoCache);\r\n                        if (replayCurrentTime > 0) {\r\n                            timer = setInterval(() => { showHistory(historyInfoCache) }, 1000 / playSpeed);\r\n                        }\r\n                    }\r\n                }, 50);\r\n            } else {\r\n                showHistory(historyInfoCache);\r\n                if (replayCurrentTime > 0) {\r\n                    timer = setInterval(() => { showHistory(historyInfoCache) }, 1000 / playSpeed);\r\n                }\r\n            }\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n});\r\n\r\nfunction replayEnd() {\r\n    /* 停止定时器*/\r\n    clearInterval(timer);\r\n    timer = null;\r\n    /* 各参数归零*/\r\n    devIndex = 0;\r\n    btsIndex = 0;\r\n    statusIndex = 0;\r\n    heatmapIndex = 0;\r\n    targetCellInfoIndex = 0;\r\n    /**add by gaochao start */\r\n    devPreLockCellInfoIndex = 0;\r\n    /**add by gaochao end*/\r\n    lteCatchInfoIndex = 0;\r\n    devActiveDetailInfoIndex = 0;\r\n    taDataInfoIndex = 0;\r\n    taDrawInfoIndex = 0;\r\n    devActiveEngInfoLogCatch = [];\r\n    lastDevActiveEngInfoReportTime = 0;\r\n    devTdoaDataInfoLogCatch = [];\r\n    taCircleProdOverlayCache = [];\r\n    taCircleDebugOverlayCache = [];\r\n    taPointsProdOverlayCache = [];\r\n    taPointsDebugOverlayCache = [];\r\n    taPolygonProdOverlayCache = [];\r\n    taPolygonDebugOverlayCache = [];\r\n    lastTaDataInfoReportTime = 0;\r\n    usedSec = 0;\r\n    replayCurrentTime = 0;\r\n    playStatus = 0;\r\n    /**add by gaochao start */\r\n    // $('#play-btn').html('播放');\r\n    $('.play-btn-container').css('background', 'url(img/icon/play.png)');\r\n    /**add by gaochao end */\r\n    $('#play-btn').removeAttr('disabled');\r\n    $('#replay-end-modal').modal('hide');\r\n    /** */\r\n    $('#time-line-progress').removeClass('active');\r\n    __WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].deleteCookie('combatReplayPlayTimeCache');\r\n}\r\n\r\n/* 设置播放速度*/\r\n$('.speed-value').click((e) => {\r\n    playSpeed = e.currentTarget.children[0].innerText;\r\n    if (Number(playSpeed) > 1) {\r\n        engAudioType = 3;\r\n        $('#eng-audio-selector').addClass('gray-cover');\r\n    } else {\r\n        engAudioType = engAudioTypeCache;\r\n        $('#eng-audio-selector').removeClass('gray-cover');\r\n    }\r\n    $('#speed-value').html('速度&nbsp;x' + playSpeed + ' <span class=\"caret\"></span>');\r\n    if (playStatus == 1) {\r\n        clearInterval(timer);\r\n        if (replayCurrentTime > 0) {\r\n            timer = setInterval(() => { showHistory(historyInfoCache) }, 1000 / playSpeed);\r\n        }\r\n    }\r\n});\r\n/**add by gaochao start */\r\n$('.speed-switch-btn').click(function (e) {\r\n    $('.speed-switch-content').toggle();\r\n    e = e || event;\r\n    stopFunc(e);\r\n\r\n});\r\n\r\ndocument.onclick = function (e) {\r\n    $(\".speed-switch-content\").hide();\r\n}\r\n\r\nfunction stopFunc(e) {\r\n    e.stopPropagation ? e.stopPropagation() : e.cancelBubble = true;\r\n}\r\n\r\n$('.speed-switch-item').click((e) => {\r\n    playSpeed = e.currentTarget.children[0].innerText;\r\n    if (Number(playSpeed) > 1) {\r\n        engAudioType = 3;\r\n        $('#eng-audio-selector').addClass('gray-cover');\r\n    } else {\r\n        engAudioType = engAudioTypeCache;\r\n        $('#eng-audio-selector').removeClass('gray-cover');\r\n    }\r\n    $('.speed-switch-btn').html('<div class=\"speed-switch-value\">X<span>' + playSpeed + '</span></div><div class=\"speed-switch-dropup\"></div>');\r\n    $('.speed-switch-content').hide();\r\n    if (playStatus == 1) {\r\n        clearInterval(timer);\r\n        if (replayCurrentTime > 0) {\r\n            timer = setInterval(() => { showHistory(historyInfoCache) }, 1000 / playSpeed);\r\n        }\r\n    }\r\n});\r\n/**add by gaochao end */\r\n/* 高级面板设备切换*/\r\n$(document).on('click', '.advance-info-panel-selector-item', function () {\r\n    let selectedDevCode = $(this).attr('data-dev-code');\r\n    $('.advance-info-content').css('display', 'none');\r\n    $(`.advance-info-content-${selectedDevCode}`).css('display', 'block');\r\n    $('#default-advance-info-panel-dev').html(`\r\n        ${selectedDevCode}&nbsp;<span style=\"color: #566ae2\">${devDrawInfoMap.get(selectedDevCode).userName}</span> <span class=\"caret\"></span>\r\n    `);\r\n});\r\n\r\n/* 结束观看*/\r\n$('#reset-search-submit').click(function () {\r\n    if (timer != null) {\r\n        clearInterval(timer);\r\n        timer = null;\r\n    }\r\n    __WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].deleteCookie('combatReplayPlayTimeCache');\r\n    __WEBPACK_IMPORTED_MODULE_4__common_cookie_MyCookie_js__[\"a\" /* MyCookie */].deleteCookie('combatReplayQueryCache');\r\n    window.location.reload();\r\n});\r\n\r\n/* hover显示基站id */\r\nlet hoverShowBtsId = function () {\r\n    if (event.type == 'mouseover') {\r\n        $('.bts-value-' + $(this).attr('data-bts-id')).css('display', 'block');\r\n    } else if (event.type == 'mouseout') {\r\n        $('.bts-value-' + $(this).attr('data-bts-id')).css('display', 'none');\r\n    }\r\n}\r\n$(document).on('mouseover mouseout', '.bts-img, .bts-hit-count, .multi-sub-bts-img', '.bts-search-img', hoverShowBtsId);\r\n\r\n/* 目标点击显示详细信息*/\r\n$(document).on('click', '.endMarker-img, .endMarker-info-panel-close', function () {\r\n    if ($(`.endMarkerIcon`).attr('data-open-status') == 'open') {\r\n        /* 关闭*/\r\n        $(`.endMarkerIcon`).attr('data-open-status', 'close');\r\n        $(`.endMarker-info-panel`).css('display', 'none');\r\n        $(`.endMarkerIcon`).css('z-index', $(`.endMarkerIcon`).attr('z-index-temp'));\r\n    } else {\r\n        /* 打开*/\r\n        $(`.endMarkerIcon`).attr('z-index-temp', $(`.endMarkerIcon`).css('z-index'));\r\n        $(`.endMarkerIcon`).attr('data-open-status', 'open');\r\n        $(`.endMarker-info-panel`).css('display', 'block');\r\n        $(`.endMarkerIcon`).css('z-index', 9000);\r\n    }\r\n});\r\n/* 基站点击显示详细信息*/\r\n$(document).on('click', '.bts-img, .bts-hit-count, .bts-info-panel-close', function () {\r\n    let clickedBtsId = $(this).attr('data-bts-id');\r\n    if ($(`.bts-click-${clickedBtsId}`).attr('data-open-status') == 'open') {\r\n        /* 关闭*/\r\n        $(`.bts-click-${clickedBtsId}`).attr('data-open-status', 'close');\r\n        $(`.bts-selectedCircle-${clickedBtsId}`).css('display', 'none');\r\n        $(`.bts-info-panel-${clickedBtsId}`).css('display', 'none');\r\n        $(`.bts-click-${clickedBtsId}`).css('z-index', $(`.bts-click-${clickedBtsId}`).attr('z-index-temp'));\r\n    } else {\r\n        /* 打开*/\r\n        $(`.bts-click-${clickedBtsId}`).attr('z-index-temp', $(`.bts-click-${clickedBtsId}`).css('z-index'));\r\n        $(`.bts-click-${clickedBtsId}`).attr('data-open-status', 'open');\r\n        $(`.bts-selectedCircle-${clickedBtsId}`).css('display', 'block');\r\n        $(`.bts-info-panel-${clickedBtsId}`).css('display', 'block');\r\n        $(`.bts-click-${clickedBtsId}`).css('z-index', 9000);\r\n    }\r\n});\r\n/*复合基站点击显示详细信息*/\r\n$(document).on('click', '.multi-bts-img, .multi-bts-hit-count, .multi-bts-info-panel-close', function () {\r\n    let clickedBtsId = $(this).attr('data-bts-id');\r\n    if ($(`.multi-bts-click-${clickedBtsId}`).attr('data-open-status') == 'open') {\r\n        /* 关闭*/\r\n        $(`.multi-bts-click-${clickedBtsId}`).attr('data-open-status', 'close');\r\n        $(`.multi-bts-info-panel-${clickedBtsId}`).attr('data-open-status', 'close');\r\n        $(`.multi-bts-selectedCircle-${clickedBtsId}`).css('display', 'none');\r\n        $(`.multi-bts-info-panel-${clickedBtsId}`).css('display', 'none');\r\n        $(`.multi-bts-click-${clickedBtsId}`).css('z-index', '5000');\r\n    } else {\r\n        /* 打开*/\r\n        $(`.multi-bts-click-${clickedBtsId}`).attr('data-open-status', 'open');\r\n        $(`.multi-bts-info-panel-${clickedBtsId}`).attr('data-open-status', 'open');\r\n        $(`.multi-bts-selectedCircle-${clickedBtsId}`).css('display', 'block');\r\n        $(`.multi-bts-info-panel-${clickedBtsId}`).css('display', 'block');\r\n        let offsetWidth = '-' + ($(`.multi-bts-info-panel-${clickedBtsId}`).children().eq(0).width() / 2 + 23) + 'px'\r\n        $(`.multi-bts-info-panel-${clickedBtsId}`).children().eq(0).css('left', offsetWidth)\r\n        $(`.multi-bts-click-${clickedBtsId}`).css('z-index', '8100');\r\n    }\r\n});\r\n/* 复合基站子基站点击显示详细信息*/\r\n$(document).on('click', '.multi-sub-bts-img, .multi-sub-bts-hit-count, .multi-sub-bts-info-panel-close', function () {\r\n    let clickedBtsId = $(this).attr('data-bts-id');\r\n    if ($(`.multi-sub-bts-click-${clickedBtsId}`).attr('data-open-status') == 'open') {\r\n        /* 关闭*/\r\n        $(`.multi-sub-bts-click-${clickedBtsId}`).attr('data-open-status', 'close');\r\n        $(`.multi-sub-bts-selectedCircle-${clickedBtsId}`).css('display', 'none');\r\n        $(`.multi-sub-bts-info-panel-${clickedBtsId}`).css('display', 'none');\r\n        $(`.multi-sub-bts-click-${clickedBtsId}`).css('z-index', $(`.multi-sub-bts-click-${clickedBtsId}`).attr('z-index-temp'));\r\n    } else {\r\n        /* 打开*/\r\n        $(`.multi-sub-bts-click-${clickedBtsId}`).attr('z-index-temp', $(`.multi-sub-bts-click-${clickedBtsId}`).css('z-index'));\r\n        $(`.multi-sub-bts-click-${clickedBtsId}`).attr('data-open-status', 'open');\r\n        $(`.multi-sub-bts-selectedCircle-${clickedBtsId}`).css('display', 'block');\r\n        $(`.multi-sub-bts-info-panel-${clickedBtsId}`).css('display', 'block');\r\n    }\r\n});\r\n\r\n/* 搜索基站点击显示详细信息*/\r\n$(document).on('click', '.bts-search-img, .bts-info-panel-search-close', function () {\r\n    let clickedBtsId = $(this).attr('data-bts-id');\r\n    if ($(`.bts-click-search-${clickedBtsId}`).attr('data-open-status') == 'open') {\r\n        /* 关闭*/\r\n        $(`.bts-click-search-${clickedBtsId}`).attr('data-open-status', 'close');\r\n        $(`.bts-selectedCircle-${clickedBtsId}`).css('display', 'none');\r\n        $(`.bts-info-search-panel-${clickedBtsId}`).css('display', 'none');\r\n        $(`.bts-click-search-${clickedBtsId}`).css('z-index', $(`.bts-click-search-${clickedBtsId}`).attr('z-index-temp'));\r\n    } else {\r\n        /* 打开*/\r\n        $(`.bts-click-search-${clickedBtsId}`).attr('z-index-temp', $(`.bts-click-search-${clickedBtsId}`).css('z-index'));\r\n        $(`.bts-click-search-${clickedBtsId}`).attr('data-open-status', 'open');\r\n        $(`.bts-selectedCircle-${clickedBtsId}`).css('display', 'block');\r\n        $(`.bts-info-search-panel-${clickedBtsId}`).css('display', 'block');\r\n        $(`.bts-click-search-${clickedBtsId}`).css('z-index', 9000);\r\n    }\r\n});\r\n\r\n/* 基站范围显示*/\r\n$(document).on('click', '.show-range-button', function () {\r\n    let clickedBtsId = $(this).attr('data-bts-id');\r\n    if ($(this).attr('data-open-status') == 'open') {\r\n        /* 关闭*/\r\n        $(this).attr('data-open-status', 'close');\r\n        $(this).html('显示半径');\r\n        map.removeOverlay(btsDivMap.get(clickedBtsId).btsRadius);\r\n        btsDivMap.get(clickedBtsId).btsRadius = null;\r\n    } else {\r\n        /* 打开*/\r\n        $(this).attr('data-open-status', 'open');\r\n        $(this).html('隐藏半径');\r\n        drawBtsRange(clickedBtsId);\r\n    }\r\n});\r\n/* 绘制基站覆盖范围 */\r\nfunction drawBtsRange(btsId) {\r\n    let btsInfo = btsInfoMap.get(btsId);\r\n    let currentPoint = __WEBPACK_IMPORTED_MODULE_2__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[btsInfo.lng, btsInfo.lat]])[0];\r\n    let btsRangeCircle = new BMap.Circle(\r\n        new BMap.Point(btsInfo.lng, btsInfo.lat), btsInfo.radius,\r\n        {\r\n            strokeColor: \"red\",\r\n            strokeWeight: 1,\r\n            strokeOpacity: 0.3,\r\n            fillColor: \"red\",\r\n            fillOpacity: \"0.05\"\r\n        }\r\n    );\r\n    btsDivMap.get(btsId).btsRadius = btsRangeCircle;\r\n    map.addOverlay(btsRangeCircle);\r\n}\r\n\r\n/* 基站范围显示*/\r\n$(document).on('click', '#show-range-button-search', function () {\r\n    let clickedBtsId = $(this).attr('data-bts-id');\r\n    if ($(this).attr('data-open-status') == 'open') {\r\n        /* 关闭*/\r\n        $(this).attr('data-open-status', 'close');\r\n        $(this).html('显示半径');\r\n        map.removeOverlay(btsSearchDivMap.get(clickedBtsId).btsRangeCircle);\r\n    } else {\r\n        /* 打开*/\r\n        $(this).attr('data-open-status', 'open');\r\n        $(this).html('隐藏半径');\r\n        drawSearchBtsRanges(clickedBtsId);\r\n    }\r\n});\r\n\r\n/* 绘制基站覆盖范围 */\r\nfunction drawSearchBtsRanges(btsId) {\r\n    let btsRadius = btsSearchDivMap.get(btsId).btsRadius;\r\n    //坐标转换\r\n    let currentPoint = __WEBPACK_IMPORTED_MODULE_2__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[btsSearchDivMap.get(btsId).lng, btsSearchDivMap.get(btsId).lat]])[0];\r\n    let lat = currentPoint.lat;\r\n    let lng = currentPoint.lng;\r\n    let btsRangeCircle = new BMap.Circle(\r\n        new BMap.Point(lng, lat), btsRadius,\r\n        {\r\n            strokeColor: \"red\",\r\n            strokeWeight: 1,\r\n            strokeOpacity: 0.3,\r\n            fillColor: \"red\",\r\n            fillOpacity: \"0.05\"\r\n        }\r\n    );\r\n\r\n    btsSearchDivMap.get(btsId).btsRangeCircle = btsRangeCircle;\r\n    map.addOverlay(btsRangeCircle);\r\n}\r\n\r\n/* 能量指示悬浮*/\r\n$(document).on('mouseover mouseout', '.energy-arrow-hover', function (e) {\r\n    if (e.type == 'mouseover') {\r\n        $($(this).next()).css('display', 'block');\r\n    } else if (e.type == 'mouseout') {\r\n        $($(this).next()).css('display', 'none');\r\n    }\r\n});\r\n\r\n/* 隐藏地图版权信息*/\r\n$('#allmap').css('height', $(window).height() + 60);\r\nwindow.addEventListener('resize', function () {\r\n    $('#allmap').css('height', $(window).height() + 60);\r\n}, false);\r\n/* add by guoshuai start */\r\n/*打开关闭ta各类信息模态框*/\r\n$(document).on('click', '.active-info-container-close', function () {\r\n    $('.active-info-container').slideUp(50);\r\n});\r\n$(document).on('click', '.activedev-info-icon', function () {\r\n    $('.active-info-container').slideDown(50);\r\n});\r\n$(document).on('click', '.historical-energy-container-close', function () {\r\n    $('.historical-energy-container').slideUp(50);\r\n});\r\n$(document).on('click', '.activedev-history-energy-open', function () {\r\n    $('.historical-energy-container').slideDown(50);\r\n});\r\n$(document).on('click', '.ta-info-container-close', function () {\r\n    $('.ta-info-container').slideUp(50);\r\n    $('.dev-gps-span').css('display', 'none');\r\n    $('.bts-gps-span').css('display', 'none');\r\n});\r\n$(document).on('click', '.CR-ta-target-info', function () {\r\n    $('.ta-info-container').slideDown(50);\r\n    $('.target-lte-info-container').slideDown(50);\r\n});\r\n$(document).on('click', '.target-lte-info-container-close', function () {\r\n    $('.target-lte-info-container').slideUp(50);\r\n});\r\n/*点击gps图标显示gps信息*/\r\n$(document).on('click', '.show-dev-gps', function () {\r\n    if ($(this).attr('data-dev-gps-show-status') == 0) {\r\n        $(this).children(\".dev-gps-span\").show();\r\n        $(this).attr('data-dev-gps-show-status', 1)\r\n    } else if ($(this).attr('data-dev-gps-show-status') == 1) {\r\n        $(this).children(\".dev-gps-span\").hide();\r\n        $(this).attr('data-dev-gps-show-status', 0)\r\n    }\r\n});\r\n$(document).on('click', '.show-bts-gps', function () {\r\n    if ($(this).attr('data-bts-gps-show-status') == 0) {\r\n        $(this).children(\".bts-gps-span\").show();\r\n        $(this).attr('data-bts-gps-show-status', 1)\r\n    } else if ($(this).attr('data-bts-gps-show-status') == 1) {\r\n        $(this).children(\".bts-gps-span\").hide();\r\n        $(this).attr('data-bts-gps-show-status', 0)\r\n    }\r\n});\r\n$(document).on('click', '.bts-gps-span', function (event) {\r\n    event.stopPropagation();\r\n});\r\n$(document).on('click', '.dev-gps-span', function (event) {\r\n    event.stopPropagation();\r\n});\r\n/* add by guoshuai end */\r\n/**add by gaochao start */\r\n$(document).on('click', '.ta-info-btn', function () {\r\n    $('.ta-info-container').toggle();\r\n});\r\n$(document).on('click', '.target-lte-info-btn', function () {\r\n    $('.target-lte-info-container').toggle();\r\n});\r\n$(document).on('click', '.target-lte-info-close', function () {\r\n    $('.target-lte-info-container').toggle();\r\n});\r\n$(document).on('click', '.activedev-info-btn', function () {\r\n    $('.active-info-container').toggle();\r\n});\r\n$(document).on('click', '.advance-info-container-close', function () {\r\n    $('.advance-info-containers').toggle();\r\n});\r\n$(document).on('click', '.channel-info-btn', function () {\r\n    $('.advance-info-containers').toggle();\r\n});\r\n\r\n$(document).on('click', '.active-info-switch-item', function () {\r\n    let activeInfoSwitchId = $(this).attr('id');\r\n    $('.active-info-switch-item').css({\r\n        \"background\": \"#fff\",\r\n        \"color\": \"#2A8CFF\"\r\n    });\r\n    if (activeInfoSwitchId == \"active-info-baseinfo\") {\r\n        $('#active-info-baseinfo').css({\r\n            \"background\": \"#38A6FE\",\r\n            \"color\": \"#ffffff\"\r\n        });\r\n        $('.active-info-content').css(\"display\", \"block\");\r\n        $('.history-energy-info').css(\"display\", \"none\");\r\n    } else if (activeInfoSwitchId == \"active-info-enghistory\") {\r\n        $('#active-info-enghistory').css({\r\n            \"background\": \"#38A6FE\",\r\n            \"color\": \"#ffffff\"\r\n        });\r\n        $('.active-info-content').css(\"display\", \"none\");\r\n        $('.history-energy-info').css(\"display\", \"block\");\r\n    }\r\n});\r\n/**add by gaochao end */\r\n/**复制功能*/\r\nvar clipboard = new ClipboardJS('.clipboard');\r\nclipboard.on('success', function (e) {\r\n    // console.info('Action:', e.action);\r\n    // console.info('Text:', e.text);\r\n    // console.info('Trigger:', e.trigger);\r\n    let options = {\r\n        title: '基站ID已复制',\r\n        trigger: 'manual',\r\n        placement: 'right',\r\n        //container: 'body',\r\n    };\r\n    $(e.trigger).tooltip(options);\r\n    $(e.trigger).tooltip('show');\r\n    e.clearSelection();\r\n    setTimeout(function () {\r\n    \t$(e.trigger).tooltip('hide');\r\n        $(\".clipboard\").tooltip('destroy');\r\n    }, 1000);\r\n});\r\nclipboard.on('error', function (e) {\r\n    console.error('Action:', e.action);\r\n    console.error('Trigger:', e.trigger);\r\n});\r\n$(document).on('click', '.clipboard', function () {\r\n    let text = $(this).attr(\"data-clipboard-text\");\r\n    if (text != undefined && text != null) {\r\n        let activeStatus=  $(this).attr('active-status');\r\n        MoveToBts(text,activeStatus);\r\n    }\r\n});\r\n$(document).on('click', '.advance-info-list-content-GPS-img', function () {\r\n    let text = $(this).attr(\"data-clipboard-text\");\r\n    if (text != undefined && text != null) {\r\n        MoveToBts(text,'false');\r\n    }\r\n});\r\n\r\nfunction MoveToBts(data,activeStatus) {\r\n    let btsData = null;\r\n    if (btsNowFlagMarker != null) {\r\n        map.removeOverlay(btsNowFlagMarker);\r\n    }\r\n    if(activeStatus!=\"true\"){\r\n        let btsInfo = btsInfoMap.get(data);\r\n        let multiBtsInfo = multiBtsInfoMap.get(data);\r\n        if (multiBtsInfo != null) {\r\n            btsData = multiBtsInfo;\r\n        } else if (btsInfo != undefined && btsInfo != null) {\r\n            let parentBtsId = btsInfo.parentBtsId;\r\n            let parentBtsData = multiBtsInfoMap.get(parentBtsId);\r\n            if (parentBtsData != undefined && parentBtsData != null) {\r\n                btsData = parentBtsData;\r\n            }\r\n        }\r\n        if (btsData != undefined && btsData != null) {\r\n            mapFollowFlag = false;\r\n            $('.view-lock-btn div').css(\"background\", \"url(img/icon/location.png)no-repeat\");\r\n            map.setCenter(new BMap.Point(btsData.lng, btsData.lat));\r\n            map.setZoom(map.getZoom() - 1);\r\n            map.setZoom(map.getZoom() + 1);\r\n            let pt = new BMap.Point(btsData.lng, btsData.lat);\r\n            let myIcon = new BMap.Icon(\"./img/nowView.png\", new BMap.Size(50, 50));\r\n            btsNowFlagMarker = new BMap.Marker(pt, { icon: myIcon });  // 创建标注\r\n            map.addOverlay(btsNowFlagMarker);  // 将标注添加到地图中\r\n            btsNowFlagLabel = new BMap.Label(\"点击隐藏\",{offset:new BMap.Size(20,-10)});\r\n            btsNowFlagMarker.setLabel(btsNowFlagLabel);\r\n            btsNowFlagMarker.setOffset(new BMap.Size(6, -60));\r\n            btsNowFlagLabel.hide();\r\n            btsNowFlagMarker.setAnimation(BMAP_ANIMATION_BOUNCE);\r\n            btsNowFlagMarker.addEventListener('click', function () {\r\n                map.removeOverlay(btsNowFlagMarker);\r\n                btsNowFlagMarker = null;\r\n            });\r\n            btsNowFlagMarker.addEventListener('mouseover', function () {\r\n                btsNowFlagLabel.show();\r\n            });\r\n            btsNowFlagMarker.addEventListener('mouseout', function () {\r\n                btsNowFlagLabel.hide();\r\n            });\r\n        } else {\r\n            $('.tip-content').css(\"display\", \"block\");\r\n            setTimeout(function () {\r\n                $('.tip-content').fadeOut(800);\r\n            }, 1000);\r\n        }\r\n    }\r\n}\r\n\r\n$(document).on('click', '.advance-info-switch-item', function () {\r\n    let advanceInfoSwitchId = $(this).attr('id');\r\n    $('.advance-info-switch-item').css({\r\n        \"background\": \"#fff\",\r\n        \"color\": \"#2A8CFF\"\r\n    });\r\n    if (advanceInfoSwitchId == \"advance-info-bts-model\") {\r\n        $('#advance-info-bts-model').css({\r\n            \"background\": \"#38A6FE\",\r\n            \"color\": \"#ffffff\"\r\n        });\r\n        $('.advance-info-bts-model-container').css(\"display\", \"block\");\r\n        $('.advance-info-bts-list-container').css(\"display\", \"none\");\r\n    } else if (advanceInfoSwitchId == \"advance-info-bts-list\") {\r\n        $('#advance-info-bts-list').css({\r\n            \"background\": \"#38A6FE\",\r\n            \"color\": \"#ffffff\"\r\n        });\r\n        $('.advance-info-bts-model-container').css(\"display\", \"none\");\r\n        $('.advance-info-bts-list-container').css(\"display\", \"block\");\r\n    }\r\n});\r\n\r\n$(document).on('click', '#bts-search', function () {\r\n    $('.search-bts-containers').toggle();\r\n});\r\n\r\n$(document).on('click', '.close_search_modal', function () {\r\n    $('.search-bts-containers').toggle();\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tYWluLmpzPzdhMmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTRFO0FBQ0U7QUFDTTtBQUNwQjtBQUNMOztBQUVNO0FBQ0E7QUFDVjtBQUNzQjtBQUNFOztBQUV2QjtBQUNFO0FBQ0o7O0FBRVI7O0FBRU07O0FBRUg7QUFDRjtBQUN3QztBQUNjO0FBQ3BCO0FBQ0U7QUFDSTtBQUNBO0FBQ0k7O0FBRTNGO0FBQ0E7QUFDQTtBQUNBLGlGQUFTO0FBQ1Q7QUFDQSw2RkFBZTtBQUNmO0FBQ0EsK0ZBQWdCO0FBQ2hCO0FBQ0EsSUFBSSw0RUFBUTtBQUNaLHlCQUF5Qiw0RUFBUTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBLDBDQUEwQyxlQUFlO0FBQ3pEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQTtBQUNBLDBDQUEwQyxjQUFjO0FBQ3hEO0FBQ0E7QUFDQSxDQUFDOztBQUVELENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksNEVBQVE7QUFDWixJQUFJLDRFQUFRO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBLFFBQVEsNEVBQVE7QUFDaEIseUNBQXlDLDRFQUFRO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx5QkFBeUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsb0JBQW9CLGlCQUFpQix3QkFBd0IsSUFBSSxnQkFBZ0I7QUFDM0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxvQkFBb0IsaUJBQWlCLHdCQUF3QixJQUFJLGdCQUFnQjtBQUMzSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0dBQXNHLGtCQUFrQixlQUFlO0FBQ3ZJLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQSxzR0FBc0csa0JBQWtCLGVBQWU7QUFDdkksa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0Q7QUFDQTtBQUNBLHFCQUFxQiw0Q0FBNEM7QUFDakU7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFO0FBQ3hFLHdFQUF3RTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRCw4REFBOEQseUJBQXlCLEdBQUcsMEJBQTBCLEdBQUcscUJBQXFCO0FBQzVJLDREQUE0RCx5QkFBeUIsR0FBRywwQkFBMEIsR0FBRyxxQkFBcUI7QUFDMUk7QUFDQSwyREFBMkQ7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLHlCQUF5QixHQUFHLDBCQUEwQixHQUFHLHFCQUFxQjtBQUN6SixnRUFBZ0UseUJBQXlCLEdBQUcsMEJBQTBCLEdBQUcscUJBQXFCO0FBQzlJLHFCQUFxQjtBQUNyQiwyRUFBMkUseUJBQXlCLEdBQUcsMEJBQTBCLEdBQUcscUJBQXFCO0FBQ3pKLHlFQUF5RSx5QkFBeUIsR0FBRywwQkFBMEIsR0FBRyxxQkFBcUI7QUFDdko7QUFDQTtBQUNBLDREQUE0RDtBQUM1RCw4REFBOEQseUJBQXlCLEdBQUcsMEJBQTBCO0FBQ3BIO0FBQ0EsMkRBQTJELHlCQUF5QixHQUFHLDBCQUEwQjtBQUNqSDtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsNkJBQTZCO0FBQzdGLHFCQUFxQjtBQUNyQixnRUFBZ0UseUJBQXlCLEdBQUcsMEJBQTBCO0FBQ3RIO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMEVBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUVBQVM7QUFDN0Isb0JBQW9CLHFFQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxzQkFBc0I7QUFDekUsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNEVBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxtQkFBbUIseUJBQXlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDBCQUEwQjtBQUM3QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxxR0FBZTtBQUMxRDtBQUNBO0FBQ0Esd0NBQXdDLGdIQUFxQjtBQUM3RCxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDJCQUEyQjtBQUM5RDtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsd0JBQXdCLDRFQUFRO0FBQ2hDLDRDQUE0QztBQUM1Qyx3QkFBd0IsNEVBQVE7QUFDaEM7QUFDQSxpQkFBaUI7QUFDakIsd0JBQXdCLDRFQUFRO0FBQ2hDLDRDQUE0QztBQUM1Qyx3QkFBd0IsNEVBQVE7QUFDaEMscUJBQXFCO0FBQ3JCLG1FQUFtRSw0RUFBUTtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQywyQkFBMkI7QUFDdEU7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0NBQXNDO0FBQ3JFLDJDQUEyQyxxR0FBZTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsdUNBQXVDO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw2QkFBNkI7QUFDNUQsdUNBQXVDLDRFQUFXO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSwrQ0FBK0MsaUNBQWlDO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLG1DQUFtQyxxQkFBcUI7QUFDeEQ7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLG9CQUFvQjtBQUN2RCwyQ0FBMkMsZ0JBQWdCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0JBQXNCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsaUJBQWlCO0FBQy9GO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLDBFQUEwRTtBQUMxRTtBQUNBO0FBQ0EsZ0JBQWdCLG9FQUFRO0FBQ3hCO0FBQ0EsbURBQW1ELGlIQUFpSCxHQUFHLG1IQUFtSCxHQUFHLG1IQUFtSDtBQUNoWjtBQUNBO0FBQ0EsZ0JBQWdCLCtFQUFNO0FBQ3RCO0FBQ0EsZ0JBQWdCLDJFQUFJO0FBQ3BCO0FBQ0EsK0JBQStCLG1DQUFtQztBQUNsRTtBQUNBO0FBQ0Esd0JBQXdCLDZFQUFLO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvR0FBdUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDJCQUEyQjtBQUMxRCw2Q0FBNkMsMkJBQTJCLEdBQUcsNEJBQTRCO0FBQ3ZHLGdEQUFnRCxxQkFBcUIsV0FBVywyQkFBMkI7QUFDM0csZ0RBQWdELHFCQUFxQixvQkFBb0IsMkJBQTJCO0FBQ3BIO0FBQ0Esb0RBQW9ELHFCQUFxQixrQ0FBa0MsMkJBQTJCO0FBQ3RJLG9EQUFvRCxxQkFBcUI7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsNEVBQVc7QUFDOUMsZ0JBQWdCLHNGQUFnQjtBQUNoQyxvQkFBb0IsNEVBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCw0RUFBUTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHFHQUFlO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw0RUFBVztBQUM3QjtBQUNBLFFBQVEsc0ZBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw0RUFBVztBQUM3QjtBQUNBLFFBQVEsc0ZBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWtCLDRFQUFXO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxQkFBcUI7QUFDNUMsd0JBQXdCLDRFQUFXLHFDQUFxQyw0RUFBVztBQUNuRjtBQUNBO0FBQ0E7QUFDQSxRQUFRLDRHQUFtQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNGQUFnQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzRkFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1DQUFtQztBQUM5RCwrQkFBK0IscUdBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0ZBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDRHQUFtQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwwSEFBMEI7QUFDbEMsUUFBUSwwSEFBMEI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHdHQUFpQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSw2SEFBNkgsR0FBRywrSEFBK0gsR0FBRztBQUM1UTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDZIQUE2SCxHQUFHLCtIQUErSCxHQUFHO0FBQzVRO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvRUFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsWUFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsWUFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsWUFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsWUFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsWUFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsWUFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsWUFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxZQUFZO0FBQ3JCO0FBQ0EsUUFBUSw0RUFBUTtBQUNoQixLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxvRUFBUSxrQkFBa0Isb0VBQVE7QUFDdEM7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksb0VBQVE7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9FQUFRO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGtHQUFzQjtBQUMxQjtBQUNBO0FBQ0EsVUFBVSw2SEFBNkgsR0FBRywrSEFBK0gsR0FBRztBQUM1UTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDZIQUE2SCxHQUFHLCtIQUErSCxHQUFHO0FBQ3hRO0FBQ0E7QUFDQSxJQUFJLDRFQUFRO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZFQUFLO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0hBQXNILGlDQUFpQztBQUN2SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLGNBQWMsb0JBQW9CO0FBQzdHO0FBQ0E7QUFDQSx3REFBd0Qsd0NBQXdDO0FBQ2hHLHNEQUFzRCxzQ0FBc0M7QUFDNUY7QUFDQTtBQUNBLGdCQUFnQixvRUFBUTtBQUN4QixnQkFBZ0Isb0VBQVE7QUFDeEI7QUFDQSwrQkFBK0Isb0RBQW9EO0FBQ25GO0FBQ0Esd0JBQXdCLDZFQUFLO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMkJBQTJCO0FBQzFELDZDQUE2QywyQkFBMkIsR0FBRyw0QkFBNEI7QUFDdkcsZ0RBQWdELHFCQUFxQixXQUFXLDJCQUEyQjtBQUMzRyxnREFBZ0QscUJBQXFCLG9CQUFvQiwyQkFBMkI7QUFDcEg7QUFDQSxvREFBb0QscUJBQXFCLGtDQUFrQywyQkFBMkI7QUFDdEksb0RBQW9ELHFCQUFxQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9HQUF1QjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsNEVBQVc7QUFDOUMsZ0JBQWdCLHNGQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxnQ0FBZ0M7QUFDdkU7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHFHQUFlO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBLHNDQUFzQyxvRUFBUTtBQUM5QztBQUNBLGdCQUFnQixvRUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGdDQUFnQztBQUN2RjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsK0NBQStDLGdDQUFnQztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDRFQUFRO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsZ0NBQWdDO0FBQ3ZFO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGdDQUFnQztBQUN2RTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0JBQWdCO0FBQy9DO0FBQ0EsVUFBVSxnQkFBZ0IsTUFBTSwrQkFBK0IsNkNBQTZDO0FBQzVHO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDRFQUFRO0FBQ1osSUFBSSw0RUFBUTtBQUNaO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGFBQWE7QUFDckM7QUFDQSx3QkFBd0IsYUFBYTtBQUNyQyxpQ0FBaUMsYUFBYTtBQUM5Qyw2QkFBNkIsYUFBYTtBQUMxQyx3QkFBd0IsYUFBYSxrQ0FBa0MsYUFBYTtBQUNwRixLQUFLO0FBQ0w7QUFDQSx3QkFBd0IsYUFBYSx3Q0FBd0MsYUFBYTtBQUMxRix3QkFBd0IsYUFBYTtBQUNyQyxpQ0FBaUMsYUFBYTtBQUM5Qyw2QkFBNkIsYUFBYTtBQUMxQyx3QkFBd0IsYUFBYTtBQUNyQztBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsYUFBYTtBQUMzQztBQUNBLDhCQUE4QixhQUFhO0FBQzNDLG1DQUFtQyxhQUFhO0FBQ2hELHVDQUF1QyxhQUFhO0FBQ3BELG1DQUFtQyxhQUFhO0FBQ2hELDhCQUE4QixhQUFhO0FBQzNDLEtBQUs7QUFDTDtBQUNBLDhCQUE4QixhQUFhO0FBQzNDLG1DQUFtQyxhQUFhO0FBQ2hELHVDQUF1QyxhQUFhO0FBQ3BELG1DQUFtQyxhQUFhO0FBQ2hELDREQUE0RCxhQUFhO0FBQ3pFLG1DQUFtQyxhQUFhO0FBQ2hELDhCQUE4QixhQUFhO0FBQzNDO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxhQUFhO0FBQy9DO0FBQ0Esa0NBQWtDLGFBQWE7QUFDL0MsMkNBQTJDLGFBQWE7QUFDeEQsdUNBQXVDLGFBQWE7QUFDcEQsa0NBQWtDLGFBQWEsNENBQTRDLGFBQWE7QUFDeEcsS0FBSztBQUNMO0FBQ0Esa0NBQWtDLGFBQWEsa0RBQWtELGFBQWE7QUFDOUcsa0NBQWtDLGFBQWE7QUFDL0MsMkNBQTJDLGFBQWE7QUFDeEQsdUNBQXVDLGFBQWE7QUFDcEQ7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixhQUFhO0FBQzVDO0FBQ0EsK0JBQStCLGFBQWE7QUFDNUMsaUNBQWlDLGFBQWE7QUFDOUMsb0NBQW9DLGFBQWE7QUFDakQsK0JBQStCLGFBQWEseUNBQXlDLGFBQWE7QUFDbEcsS0FBSztBQUNMO0FBQ0EsK0JBQStCLGFBQWEsK0NBQStDLGFBQWE7QUFDeEcsK0JBQStCLGFBQWE7QUFDNUMsaUNBQWlDLGFBQWE7QUFDOUMsb0NBQW9DLGFBQWE7QUFDakQsK0JBQStCLGFBQWE7QUFDNUM7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxR0FBZTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFHQUFlO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsZUFBZSxFQUFFO0FBQ3JFLDZDQUE2QztBQUM3QyxxREFBcUQsNkJBQTZCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUMiLCJmaWxlIjoiMzUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYWlkdU1hcERyYXdpbmcgfSBmcm9tICcuLi8uLi9jb21tb24vYmFpZHVNYXAvRHJhd2luZy5CYWlkdU1hcC5qcyc7XHJcbmltcG9ydCB7IEJhaWR1TWFwRGlzdGFuY2UgfSBmcm9tICcuLi8uLi9jb21tb24vYmFpZHVNYXAvRGlzdGFuY2UuQmFpZHVNYXAuanMnO1xyXG5pbXBvcnQgeyBHUFNUb0JhaWR1UG9pbnQgfSBmcm9tICcuLi8uLi9jb21tb24vYmFpZHVNYXAvR1BTVG9CYWlkdVBvaW50LkJhaWR1TWFwLmpzJztcclxuaW1wb3J0IHsgVG9wSGVhZGVyIH0gZnJvbSAnLi4vLi4vY29tbW9uL3RvcEhlYWRlci9Ub3BIZWFkZXIuanMnO1xyXG5pbXBvcnQgeyBNeUNvb2tpZSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb29raWUvTXlDb29raWUuanMnO1xyXG5cclxuaW1wb3J0IHsgUGFyc2luZ0RldkluZm9DUiB9IGZyb20gJy4vcGFyc2luZy9QYXJzaW5nRGV2SW5mb0NSLmpzJztcclxuaW1wb3J0IHsgUHJhc2luZ0J0c0luZm9DUiB9IGZyb20gJy4vcGFyc2luZy9QcmFzaW5nQnRzSW5mb0NSLmpzJztcclxuaW1wb3J0IHsgUGFyc2luZ0RhdGEgfSBmcm9tICcuL3BhcnNpbmcvUGFyc2luZ0RhdGEuanMnOyAvLyDlsIbmlbDmja7ovazmjaLkuLrlrp7ml7bkvZzmiJjmiYDmlK/mjIHnmoTmoLzlvI9cclxuaW1wb3J0IHsgRHJhd0hyZWZMb2FkaW5nT3ZlcmxheSB9IGZyb20gJy4vb3ZlcmxheS9EcmF3SHJlZkxvYWRpbmdPdmVybGF5LmpzJztcclxuaW1wb3J0IHsgRW5nQ29sdW1uQ2hhcnRDb250YWluZXIgfSBmcm9tICcuL292ZXJsYXkvRW5nQ29sdW1uQ2hhcnRDb250YWluZXIuanMnO1xyXG5cclxuaW1wb3J0IHsgUGFuZWwgfSBmcm9tICcuLi9yZWFsVGltZUNvbWJhdC90b29sL1BhbmVsLmpzJztcclxuaW1wb3J0IHsgU3dpdGNoIH0gZnJvbSAnLi4vcmVhbFRpbWVDb21iYXQvdG9vbC9Td2l0Y2guanMnO1xyXG5pbXBvcnQgeyBWaWV3IH0gZnJvbSAnLi4vcmVhbFRpbWVDb21iYXQvdG9vbC9WaWV3LmpzJztcclxuXHJcbmltcG9ydCB7IFRpbWVMaW5lIH0gZnJvbSAnLi90b29sL1RpbWVMaW5lLmpzJztcclxuXHJcbmltcG9ydCB7IFF1ZXJ5UmVwbGF5IH0gZnJvbSAnLi9hamF4L1F1ZXJ5UmVwbGF5LmpzJztcclxuXHJcbmltcG9ydCB7IERyYXdUYWJsZSB9IGZyb20gJy4vdGFibGUvRHJhd1RhYmxlLmpzJztcclxuaW1wb3J0IHsgUGFnZUluZm8gfSBmcm9tICcuL3RhYmxlL1BhZ2VJbmZvLmpzJztcclxuaW1wb3J0IHsgUHJhc2luZ0x0ZUNhdGNoSW5mbyB9IGZyb20gJy4uL3JlYWxUaW1lQ29tYmF0L3BhcnNpbmcvUHJhc2luZ0x0ZUNhdGNoSW5mby5qcyc7XHJcbmltcG9ydCB7IFByYXNpbmdEZXZBY3RpdmVEZXRhaWxJbmZvIH0gZnJvbSAnLi4vcmVhbFRpbWVDb21iYXQvcGFyc2luZy9QcmFzaW5nRGV2QWN0aXZlRGV0YWlsSW5mby5qcyc7XHJcbmltcG9ydCB7IFByYXNpbmdIaXN0b3J5VGFEYXRhSW5mbyB9IGZyb20gJy4vcGFyc2luZy9QcmFzaW5nSGlzdG9yeVRhRGF0YUluZm8uanMnO1xyXG5pbXBvcnQgeyBQcmFzaW5nVGFEcmF3SW5mbyB9IGZyb20gJy4uL3JlYWxUaW1lQ29tYmF0L3BhcnNpbmcvUHJhc2luZ1RhRHJhd0luZm8uanMnO1xyXG5pbXBvcnQgeyBQYXJzaW5nTXVsdGlCdHNJbmZvIH0gZnJvbSAnLi4vcmVhbFRpbWVDb21iYXQvcGFyc2luZy9QYXJzaW5nTXVsdGlCdHNJbmZvLmpzJztcclxuaW1wb3J0IHsgUGFyc2luZ011bHRpQnRzSW5mbyB9IGZyb20gJy4uL3JlYWxUaW1lQ29tYmF0L3BhcnNpbmcvUGFyc2luZ011bHRpQnRzSW5mby5qcyc7XHJcbmltcG9ydCB7IEVuZE92ZXJsYXlDb25zdHJ1Y3RvciB9IGZyb20gJy4uL3JlYWxUaW1lQ29tYmF0L292ZXJsYXkvRW5kT3ZlcmxheUNvbnN0cnVjdG9yLmpzJztcclxuXHJcbi8qIGpz54mI5pys5Y+377yM5Yik5pat5pyN5Yqh5Zmo56uv5piv5ZCm5bey5Yi35pawKi9cclxuY29uc29sZS5sb2coJ2pzLnZlcnNpb249Mi4xLjg5OTknKTtcclxuLyog55Sf5oiQ6aG26YOo6I+c5Y2VKi9cclxuVG9wSGVhZGVyLmluaXRIZWFkZXIoKTtcclxuLyog5Yqg6L296byg5qCH57uY5Yi25bel5YW3Ki9cclxuQmFpZHVNYXBEcmF3aW5nLmluaXREcmF3aW5nVG9vbHMobWFwKTtcclxuLyog5Yqg6L295Zyw5Zu+5rWL6Led5bel5YW3Ki9cclxuQmFpZHVNYXBEaXN0YW5jZS5pbml0RGlzdGFuY2VUb29scyhtYXApO1xyXG4vKiDorr7nva7pu5jorqTpobXmlbAqL1xyXG5pZiAoTXlDb29raWUuZ2V0Q29va2llKCdjb21iYXRSZXBsYXlQYWdlTnVtJykgIT0gJycpIHtcclxuICAgIHBhZ2VJdGVtTnVtID0gTnVtYmVyKE15Q29va2llLmdldENvb2tpZSgnY29tYmF0UmVwbGF5UGFnZU51bScpKTtcclxuICAgICQoJy5zaG93LWl0ZW0tbnVtJykuaHRtbChwYWdlSXRlbU51bSArICfmnaEnKTtcclxufVxyXG5sZXQgQ29tYmF0UmVwbGF5QmVhbiA9IGZ1bmN0aW9uIChkZXZDb2Rlcywgc3RhcnRUaW1lLCBlbmRUaW1lLCBzZXJpYWxOdW0pIHtcclxuICAgIHRoaXMuZGV2Q29kZXMgPSBkZXZDb2RlcztcclxuICAgIHRoaXMuc3RhcnRUaW1lID0gc3RhcnRUaW1lO1xyXG4gICAgdGhpcy5lbmRUaW1lID0gZW5kVGltZTtcclxuICAgIHRoaXMuc2VyaWFsTnVtID0gc2VyaWFsTnVtO1xyXG59XHJcblxyXG4vKiDlt6XlhbfmoI/mmL7npLov6ZqQ6JePKi9cclxuJCgnI3Rvb2wtcGluJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCQodGhpcykuYXR0cignZGF0YS1pcy1waW4nKSA9PSAxKSB7XHJcbiAgICAgICAgLyog5Y+W5raIcGluKi9cclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWlzLXBpbicsIDApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvKiDplIHlrppwaW4qL1xyXG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtaXMtcGluJywgMSk7XHJcbiAgICB9XHJcbn0pO1xyXG4kKCcudG9wLW1hcC10b29scy1hcmVhJykuaG92ZXIoZnVuY3Rpb24gKCkge1xyXG59LCBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJCgnI3Rvb2wtcGluJykuYXR0cignZGF0YS1pcy1waW4nKSA9PSAwKSB7XHJcbiAgICAgICAgJCgnLnRvcC1tYXAtdG9vbHMtYXJlYScpLmFuaW1hdGUoeyB0b3A6ICctMTBweCcgfSk7XHJcbiAgICAgICAgJCgnLmVuZy1hdWRpby1zZWxlY3Rvci1tZW51JykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgIH1cclxufSk7XHJcbiQoJy50b3AtaGVhZGVyJykuaG92ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCQoJyN0b29sLXBpbicpLmF0dHIoJ2RhdGEtaXMtcGluJykgPT0gMCkge1xyXG4gICAgICAgIC8qZGVsZXRlIGJ5IGd1b3NodWFpIHN0YXJ0IDIwMTgtMTAtMjNcclxuICAgICAgICAkKCcudG9wLW1hcC10b29scy1hcmVhJykuYW5pbWF0ZSh7IHRvcDogJzUwcHgnIH0pO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgLyphZGQgYnkgZ3Vvc2h1YWkgc3RhcnQgMjAxOC0xMC0yMyovXHJcbiAgICAgICAgJCgnLnRvcC1tYXAtdG9vbHMtYXJlYScpLmFuaW1hdGUoeyB0b3A6ICc1OHB4JyB9KTtcclxuICAgICAgICAvKmFkZCBieSBndW9zaHVhaSBlbmQgMjAxOC0xMC0yMyovXHJcbiAgICB9XHJcbn0sIGZ1bmN0aW9uICgpIHtcclxuXHJcbn0pO1xyXG4vKiDliIbmlbDph43nva4qL1xyXG4kKCcuZ3JhZGUtc3Rhci1yZXNldCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5ncmFkZS1zdGFyLWljb24nKS5hZGRDbGFzcygnZ3JheS1jb3ZlcicpO1xyXG4gICAgJCgnLmdyYWRlLXN0YXItaWNvbicpLmF0dHIoJ2RhdGEtaXMtY2xpY2tlZCcsIDApO1xyXG4gICAgJCgnLmdyYWRlLXN0YXItY29udGFpbmVyJykuYXR0cignZGF0YS1zZWxlY3RlZC1udW0nLCAwKTtcclxufSk7XHJcblxyXG5jb25zb2xlLmxvZyhjb21iYXRSZXBsYXlJbmZvUmVkaXJlY3QpO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLeS9nOaImOWbnuaUvuWQkeWvvOmhtS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4vLyAkKCcuZ3VpZGUtZnJhbWUnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG5pZiAoY29tYmF0UmVwbGF5SW5mb1JlZGlyZWN0ICE9ICdudWxsJykge1xyXG4gICAgTXlDb29raWUuZGVsZXRlQ29va2llKCdjb21iYXRSZXBsYXlRdWVyeUNhY2hlJyk7XHJcbiAgICBNeUNvb2tpZS5kZWxldGVDb29raWUoJ2NvbWJhdFJlcGxheVBsYXlUaW1lQ2FjaGUnKTtcclxuICAgIHN0YXJ0UmVwbGF5KEpTT04ucGFyc2UoY29tYmF0UmVwbGF5SW5mb1JlZGlyZWN0KSk7XHJcbiAgICAvKiphZGQgYnkgc3VuYmluZyBzdGFydCovXHJcbiAgICAkKCcjYWxlcnQtbW9kYWwtYnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgIH0pO1xyXG4gICAgJCgnI2FsZXJ0LW1vZGFsLWNsb3NlLWJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICB9KTtcclxuICAgIC8qKmFkZCBieSBzdW5iaW5nIGVuZCovXHJcbn0gZWxzZSB7XHJcbiAgICAvKiDliKTmlq1jb29raWXkuK3mmK/lkKblt7LlgqjlrZjkvZzmiJjlm57mlL7kv6Hmga8qL1xyXG4gICAgaWYgKE15Q29va2llLmdldENvb2tpZSgnY29tYmF0UmVwbGF5UXVlcnlDYWNoZScpICE9ICcnKSB7XHJcbiAgICAgICAgbGV0IGNvb2tpZUNhY2hlRGF0YSA9IEpTT04ucGFyc2UoTXlDb29raWUuZ2V0Q29va2llKCdjb21iYXRSZXBsYXlRdWVyeUNhY2hlJykpO1xyXG4gICAgICAgIHN3aXRjaCAoY29va2llQ2FjaGVEYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgc3RhcnRCeUd1aWRlRnJhbWUoY29va2llQ2FjaGVEYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHN0YXJ0UmVwbGF5KGNvb2tpZUNhY2hlRGF0YS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvKiDojrflj5bmoYjku7bmoIfnrb7liJfooagqL1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogJ2NvbW1hbmRNYW5hZ2UvY29tYmF0UmVwbGF5L2dldENvbWJhdFRhZ0xpc3QnLFxyXG4gICAgICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJldGNvZGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhZ0xpc3RDYWNoZSA9IHJlc3VsdC5kYXRhTGlzdDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnTGlzdENhY2hlICE9IG51bGwgJiYgdGFnTGlzdENhY2hlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhZ0xpc3RPdXRlckh0bWwgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhZ0xpc3RJbm5lckh0bWwgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWdMaXN0Q2FjaGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWdMaXN0Q2FjaGVbaV0ucmVwbGFjZSgvXFxzL2csICcnKSAhPSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ0xpc3RPdXRlckh0bWwgPSB0YWdMaXN0T3V0ZXJIdG1sICsgYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLW1lbnUtc2VsZWN0b3IgdGFnLXNlbGVjdG9yLW91dGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6MTAwJTsgd2hpdGUtc3BhY2U6bm93cmFwOyBvdmVyZmxvdzpoaWRkZW47IHRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7XCI+JHt0YWdMaXN0Q2FjaGVbaV19PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnTGlzdElubmVySHRtbCA9IHRhZ0xpc3RJbm5lckh0bWwgKyBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24tbWVudS1zZWxlY3RvciB0YWctc2VsZWN0b3ItaW5uZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDoxMDAlOyB3aGl0ZS1zcGFjZTpub3dyYXA7IG92ZXJmbG93OmhpZGRlbjsgdGV4dC1vdmVyZmxvdzplbGxpcHNpcztcIj4ke3RhZ0xpc3RDYWNoZVtpXX08L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGFnLWlucHV0LWJ0bi1vdXRlcicpLmFwcGVuZChgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51IHRhZy1saXN0LW91dGVyLWRyb3Bkb3duLW1lbnVcIiBzdHlsZT1cIndpZHRoOjIwMHB4OyBtYXgtaGVpZ2h0OjI1MHB4OyBvdmVyZmxvdzphdXRvO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7dGFnTGlzdE91dGVySHRtbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGFnLWlucHV0LWJ0bi1pbm5lcicpLmFwcGVuZChgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51IHRhZy1saXN0LWlubmVyLWRyb3Bkb3duLW1lbnVcIiBzdHlsZT1cIndpZHRoOjIwMHB4OyBtYXgtaGVpZ2h0OjI1MHB4OyBvdmVyZmxvdzphdXRvO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7dGFnTGlzdElubmVySHRtbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qIOmAieaLqeahiOS7tuagh+etviovXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy50YWctc2VsZWN0b3Itb3V0ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJyN0YWctaW5wdXQtb3V0ZXInKS52YWwoJCh0aGlzKS5odG1sKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcudGFnLXNlbGVjdG9yLWlubmVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKCcjdGFnLWlucHV0LWlubmVyJykudmFsKCQodGhpcykuaHRtbCgpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKiDpobXpnaLliqDovb3ml7bnmoTpppbmrKHmkJzntKIqL1xyXG4gICAgICAgIHF1ZXJ5RGVmYXVsdCgpO1xyXG4gICAgICAgIC8qIOWIh+aNouaQnOe0ouaooeW8jyovXHJcbiAgICAgICAgLy8kKCcuc2VhcmNoLXR5cGUtYWxsJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAkKCcjc2VhcmNoLW1vZGUtdGl0bGUtMicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cignZGF0YS1zZWFyY2gtdHlwZScpID09IDApIHtcclxuICAgICAgICAgICAgICAgICQoJy5zZWFyY2gtdHlwZS1hbGwnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICQoJy5zZWFyY2gtdHlwZS1zaW1wbGUnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnI3NlYXJjaC1tb2RlLXRpdGxlLTEnKS5odG1sKCfmnaHku7blpKrlpJrvvJ8nKTtcclxuICAgICAgICAgICAgICAgICQoJyNzZWFyY2gtbW9kZS10aXRsZS0yJykuaHRtbCgn566A5Y2V5pCc57SiJyk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtc2VhcmNoLXR5cGUnLCAnMScpO1xyXG4gICAgICAgICAgICAgICAgLypkZWxldGUgYnkgZ3Vvc2h1YWkgc3RhcnQgMjAxOC05LTI5XHJcbiAgICAgICAgICAgICAgICAkKCcudGFibGUtdmlldy1kYXRhLWFyZWEnKS5jc3MoJ21pbi1oZWlnaHQnLCAkKHdpbmRvdykuaGVpZ2h0KCkgLSAkKCcudGFibGUtdmlldy1zZWFyY2gtYXJlYScpLmhlaWdodCgpIC0gMjUwKTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBieSBndW9zaHVhaSBlbmQgMjAxOC05LTI5Ki9cclxuICAgICAgICAgICAgICAgIC8qYWRkIGJ5IGd1b3NodWFpIHN0YXJ0IDIwMTgtOS0yOSovXHJcbiAgICAgICAgICAgICAgICAkKCcjdGFibGUtdmlldy1jb250YWluZXItYm94JykuY3NzKCdoZWlnaHQnLCAxODUpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnNlYXJjaC1zaW1wbGUtcnVsZScpLmNzcygnaGVpZ2h0JywgJzE2MCcpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnRhYmxlLXZpZXctZGF0YS1hcmVhJykuY3NzKCdtaW4taGVpZ2h0JywgJCh3aW5kb3cpLmhlaWdodCgpIC0gNDc0KTtcclxuICAgICAgICAgICAgICAgICQoJy5wYWdlLXNlbGVjdG9yJykuY3NzKCdtYXJnaW4tdG9wJywgJzE0MHB4Jyk7XHJcbiAgICAgICAgICAgICAgICAvKmFkZCBieSBndW9zaHVhaSBzdGFydCAyMDE4LTktMjkqL1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnLnNlYXJjaC10eXBlLWFsbCcpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuc2VhcmNoLXR5cGUtc2ltcGxlJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjc2VhcmNoLW1vZGUtdGl0bGUtMScpLmh0bWwoJ+adoeS7tuWkquWwke+8nycpO1xyXG4gICAgICAgICAgICAgICAgJCgnI3NlYXJjaC1tb2RlLXRpdGxlLTInKS5odG1sKCfpq5jnuqfmkJzntKInKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1zZWFyY2gtdHlwZScsICcwJyk7XHJcbiAgICAgICAgICAgICAgICAvKmRlbGV0ZSBieSBndW9zaHVhaSBzdGFydCAyMDE4LTktMjlcclxuICAgICAgICAgICAgICAgICQoJy50YWJsZS12aWV3LWRhdGEtYXJlYScpLmNzcygnbWluLWhlaWdodCcsICQod2luZG93KS5oZWlnaHQoKSAtICQoJy50YWJsZS12aWV3LXNlYXJjaC1hcmVhJykuaGVpZ2h0KCkgLSAyNTApO1xyXG4gICAgICAgICAgICAgICAgIGRlbGV0ZSBieSBndW9zaHVhaSBlbmQgMjAxOC05LTI5Ki9cclxuICAgICAgICAgICAgICAgIC8qYWRkIGJ5IGd1b3NodWFpIHN0YXJ0IDIwMTgtOS0yOSovXHJcbiAgICAgICAgICAgICAgICAkKCcudGFibGUtdmlldy1kYXRhLWFyZWEnKS5jc3MoJ21pbi1oZWlnaHQnLCAkKHdpbmRvdykuaGVpZ2h0KCkgLSA0NzQpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnBhZ2Utc2VsZWN0b3InKS5jc3MoJ21hcmdpbi10b3AnLCAnMTQwcHgnKTtcclxuICAgICAgICAgICAgICAgICQoJyN0YWJsZS12aWV3LWNvbnRhaW5lci1ib3gnKS5jc3MoJ2hlaWdodCcsICc4MCcpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnNlYXJjaC1zaW1wbGUtcnVsZScpLmNzcygnaGVpZ2h0JywgJzUyJyk7XHJcbiAgICAgICAgICAgICAgICAvKmFkZCBieSBndW9zaHVhaSBzdGFydCAyMDE4LTktMjkqL1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIOaXtumXtOiMg+WbtOmAieaLqeeCueWHuyovXHJcbiAgICAgICAgJCgnLnRpbWUtcmFuZ2Utc2VsZWN0b3ItdHlwZS1yYWRpbycpLm1vdXNlZG93bihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ2lkJykgPT0gJ2N1c3RvbS10eXBlLXNlbGVjdG9yJykge1xyXG4gICAgICAgICAgICAgICAgJCgnI2N1c3RvbS10eXBlLWlucHV0JykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjY3VzdG9tLXR5cGUtaW5wdXQnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIOaQnOe0ouaMiemSriovXHJcbiAgICAgICAgJCgnLmd1aWRlLXNlYXJjaC1idG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCBpc0NvbnRpbnVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgbGV0IGNvbWJhdFJlcGxheUd1aWRlID0gbmV3IENvbWJhdFJlcGxheUd1aWRlQmVhbigpO1xyXG4gICAgICAgICAgICBjb21iYXRSZXBsYXlHdWlkZS5wYWdlTnVtID0gMTtcclxuICAgICAgICAgICAgaWYgKCQoJyNzZWFyY2gtbW9kZS10aXRsZS0yJykuYXR0cignZGF0YS1zZWFyY2gtdHlwZScpID09IDApIHtcclxuICAgICAgICAgICAgICAgIC8qIOeugOWNleaQnOe0oiovXHJcbiAgICAgICAgICAgICAgICBsZXQga2V5d29yZCA9ICQoJyNxdWVyeS1rZXktd29yZCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleXdvcmQgIT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAvKmRlbGV0ZSBieSBndW9zaHVhaSBzdGFydCAyMDE4LTEwLTEzXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKC9eW2EtekEtWl0rJC8udGVzdChrZXl3b3JkKSkgeyAvLyDnlKjmiLflkI1cclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgYnkgZ3Vvc2h1YWkgZW5kIDIwMTgtMTAtMTMqL1xyXG4gICAgICAgICAgICAgICAgICAgIC8qYWRkIGJ5IGd1b3NodWFpIHN0YXJ0IDIwMTgtMTAtMTMqL1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgvXlthLXpBLVowLTlfLV0rJC8udGVzdChrZXl3b3JkKSkgeyAvLyDnlKjmiLflkI1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLyphZGQgYnkgZ3Vvc2h1YWkgZW5kIDIwMTgtMTAtMTMqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21iYXRSZXBsYXlHdWlkZS51c2VyTmFtZSA9IGtleXdvcmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvW1xcdTRlMDAtXFx1OWZhNV0vLnRlc3Qoa2V5d29yZCkpIHsgLy8g5Z+O5biCXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbWJhdFJlcGxheUd1aWRlLmFyZWFOYW1lID0ga2V5d29yZDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0NvbnRpbnVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNhbGVydC1tb2RhbC1jb250ZW50JykuaHRtbCgn6L6T5YWl5YaF5a655pyJ6K+vJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2FsZXJ0LW1vZGFsJykubW9kYWwoJ3Nob3cnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoJCgnI3RhZy1pbnB1dC1vdXRlcicpLnZhbCgpICE9ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tYmF0UmVwbGF5R3VpZGUudGFnID0gJCgnI3RhZy1pbnB1dC1vdXRlcicpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLyog6auY57qn5pCc57SiKi9cclxuICAgICAgICAgICAgICAgIGlmICgkKCcjcXVlcnktdXNlci1uYW1lJykudmFsKCkgIT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21iYXRSZXBsYXlHdWlkZS51c2VyTmFtZSA9ICQoJyNxdWVyeS11c2VyLW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgkKCcjcXVlcnktYXJlYS1jb2RlJykudmFsKCkgIT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21iYXRSZXBsYXlHdWlkZS5hcmVhTmFtZSA9ICQoJyNxdWVyeS1hcmVhLWNvZGUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgkKCcjdGFnLWlucHV0LWlubmVyJykudmFsKCkgIT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21iYXRSZXBsYXlHdWlkZS50YWcgPSAkKCcjdGFnLWlucHV0LWlubmVyJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGlmICgkKCcjcXVlcnktZGV2LWNvZGUnKS52YWwoKSAhPSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbWJhdFJlcGxheUd1aWRlLmRldkNvZGUgPSAkKCcjcXVlcnktZGV2LWNvZGUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgkKCcjcXVlcnktdXNlci10eXBlJykuaXMoJzpjaGVja2VkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21iYXRSZXBsYXlHdWlkZS51c2VyVHlwZSA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgbWl4V29ya2luZ1RpbWUgPSAkKCcjcXVlcnktbWl4LXdvcmtpbmctdGltZScpLnZhbCgpOyAvLyDlpKfkuo5YWOWIhumSn++8jOacgOefreW3peS9nOaXtumXtFxyXG4gICAgICAgICAgICAgICAgbGV0IG1heFdvcmtpbmdUaW1lID0gJCgnI3F1ZXJ5LW1heC13b3JraW5nLXRpbWUnKS52YWwoKTsgLy8g5bCP5LqOWFjliIbpkp/vvIzmnIDplb/lt6XkvZzml7bpl7RcclxuICAgICAgICAgICAgICAgIGlmIChtaXhXb3JraW5nVGltZSAhPSAnJyB8fCBtYXhXb3JraW5nVGltZSAhPSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtaXhXb3JraW5nVGltZSA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaXhXb3JraW5nVGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXhXb3JraW5nVGltZSA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhXb3JraW5nVGltZSA9IDk5OTk5OTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKC9eWzAtOV0qWzAtOV0qJC8udGVzdChtaXhXb3JraW5nVGltZSkgJiYgL15bMC05XSpbMC05XSokLy50ZXN0KG1heFdvcmtpbmdUaW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKG1peFdvcmtpbmdUaW1lKSA8IE51bWJlcihtYXhXb3JraW5nVGltZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbWJhdFJlcGxheUd1aWRlLm1heFdvcmtpbmdUaW1lID0gTnVtYmVyKG1heFdvcmtpbmdUaW1lKSAqIDYwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tYmF0UmVwbGF5R3VpZGUubWl4V29ya2luZ1RpbWUgPSBOdW1iZXIobWl4V29ya2luZ1RpbWUpICogNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbnRpbnVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjYWxlcnQtbW9kYWwtY29udGVudCcpLmh0bWwoJ+ivt+i+k+WFpeato+ehrueahOaXtumXtOiMg+WbtCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjYWxlcnQtbW9kYWwnKS5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNDb250aW51ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjYWxlcnQtbW9kYWwtY29udGVudCcpLmh0bWwoJ+ivt+i+k+WFpeato+ehrueahOaVsOWtlycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNhbGVydC1tb2RhbCcpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29tYmF0UmVwbGF5R3VpZGUuc2NvcmUgPSBOdW1iZXIoJCgnLmdyYWRlLXN0YXItY29udGFpbmVyJykuYXR0cignZGF0YS1zZWxlY3RlZC1udW0nKSkgKiAyMDtcclxuICAgICAgICAgICAgICAgIGlmICgkKCcjcXVlcnktdGltZS1kYXknKS5pcygnOmNoZWNrZWQnKSkgeyAvLyDku4rml6VcclxuICAgICAgICAgICAgICAgICAgICBjb21iYXRSZXBsYXlHdWlkZS5zdGFydFRpbWUgPSBuZXcgRGF0ZShgJHtuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCl9LyR7bmV3IERhdGUoKS5nZXRNb250aCgpICsgMX0vJHtuZXcgRGF0ZSgpLmdldERhdGUoKX0gMDA6MDA6MDBgKS5Gb3JtYXQoJ3l5eXktTU0tZGQgaGg6bW06c3MnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21iYXRSZXBsYXlHdWlkZS5lbmRUaW1lID0gbmV3IERhdGUoYCR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfS8ke25ldyBEYXRlKCkuZ2V0TW9udGgoKSArIDF9LyR7bmV3IERhdGUoKS5nZXREYXRlKCl9IDIzOjU5OjU5YCkuRm9ybWF0KCd5eXl5LU1NLWRkIGhoOm1tOnNzJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoJCgnI3F1ZXJ5LXRpbWUtd2VlaycpLmlzKCc6Y2hlY2tlZCcpKSB7IC8vIOacrOWRqFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbWJhdFJlcGxheUd1aWRlLnN0YXJ0VGltZSA9IG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gMjQgKiA2MCAqIDYwICogMTAwMCAqIDcpLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbTpzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbWJhdFJlcGxheUd1aWRlLmVuZFRpbWUgPSBuZXcgRGF0ZSgpLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbTpzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZSgpLmdldERheSgpID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tYmF0UmVwbGF5R3VpZGUuc3RhcnRUaW1lID0gbmV3IERhdGUobmV3IERhdGUoYCR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfS8ke25ldyBEYXRlKCkuZ2V0TW9udGgoKSArIDF9LyR7bmV3IERhdGUoKS5nZXREYXRlKCl9IDAwOjAwOjAwYCkuZ2V0VGltZSgpIC0gNiAqIDI0ICogMzYwMCAqIDEwMDApLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbTpzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21iYXRSZXBsYXlHdWlkZS5lbmRUaW1lID0gbmV3IERhdGUoYCR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfS8ke25ldyBEYXRlKCkuZ2V0TW9udGgoKSArIDF9LyR7bmV3IERhdGUoKS5nZXREYXRlKCl9IDIzOjU5OjU5YCkuRm9ybWF0KCd5eXl5LU1NLWRkIGhoOm1tOnNzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tYmF0UmVwbGF5R3VpZGUuc3RhcnRUaW1lID0gbmV3IERhdGUobmV3IERhdGUoYCR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfS8ke25ldyBEYXRlKCkuZ2V0TW9udGgoKSArIDF9LyR7bmV3IERhdGUoKS5nZXREYXRlKCl9IDAwOjAwOjAwYCkuZ2V0VGltZSgpIC0gKG5ldyBEYXRlKCkuZ2V0RGF5KCkgLSAxKSAqIDI0ICogMzYwMCAqIDEwMDApLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbTpzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21iYXRSZXBsYXlHdWlkZS5lbmRUaW1lID0gbmV3IERhdGUobmV3IERhdGUoYCR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfS8ke25ldyBEYXRlKCkuZ2V0TW9udGgoKSArIDF9LyR7bmV3IERhdGUoKS5nZXREYXRlKCl9IDIzOjU5OjU5YCkuZ2V0VGltZSgpICsgKDYgLSBuZXcgRGF0ZSgpLmdldERheSgpKSAqIDI0ICogMzYwMCAqIDEwMDApLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbTpzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgkKCcjcXVlcnktdGltZS1tb250aCcpLmlzKCc6Y2hlY2tlZCcpKSB7IC8vIOacrOaciFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbWJhdFJlcGxheUd1aWRlLnN0YXJ0VGltZSA9IG5ldyBEYXRlKGAke25ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKX0vJHtuZXcgRGF0ZSgpLmdldE1vbnRoKCkgKyAxfS8wMSAwMDowMDowMGApLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbTpzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qZGVsZXRlIGJ5IGd1b3NodWFpIHN0YXJ0IDIwMTgtMTItMTdcclxuICAgICAgICAgICAgICAgICAgICBjYXNlTWFuYWdlR3VpZGUuZW5kVGltZSA9ICBuZXcgRGF0ZShgJHtuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCl9LyR7bmV3IERhdGUoKS5nZXRNb250aCgpICsgMn0vMDEgMDA6MDA6MDBgKS5Gb3JtYXQoJ3l5eXktTU0tZGQgaGg6bW06c3MnKTtcclxuICAgICAgICAgICAgICAgICAgICBlbmQgZ3Vvc2h1YWkgc3RhcnQgMjAxOC0xMi0xNyovXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKCkuZ2V0TW9udGgoKSA9PSAxMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbW9udGggPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21iYXRSZXBsYXlHdWlkZS5lbmRUaW1lID0gbmV3IERhdGUoYCR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpICsgMX0vYCArIG1vbnRoICsgYC8wMSAwMDowMDowMGApLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbTpzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbWJhdFJlcGxheUd1aWRlLmVuZFRpbWUgPSBuZXcgRGF0ZShgJHtuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCl9LyR7bmV3IERhdGUoKS5nZXRNb250aCgpICsgMn0vMDEgMDA6MDA6MDBgKS5Gb3JtYXQoJ3l5eXktTU0tZGQgaGg6bW06c3MnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoJCgnI3F1ZXJ5LXRpbWUtaGFsZnllYXInKS5pcygnOmNoZWNrZWQnKSkgeyAvLyDmnIDov5HljYrlubRcclxuICAgICAgICAgICAgICAgICAgICBjb21iYXRSZXBsYXlHdWlkZS5zdGFydFRpbWUgPSBuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIDI0ICogNjAgKiA2MCAqIDEwMDAgKiAxODIpLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbTpzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbWJhdFJlcGxheUd1aWRlLmVuZFRpbWUgPSBuZXcgRGF0ZSgpLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbTpzcycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCQoJyNxdWVyeS10aW1lLXllYXInKS5pcygnOmNoZWNrZWQnKSkgeyAvLyDmnIDov5HkuIDlubRcclxuICAgICAgICAgICAgICAgICAgICBjb21iYXRSZXBsYXlHdWlkZS5zdGFydFRpbWUgPSBuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIDI0ICogNjAgKiA2MCAqIDEwMDAgKiAzNjUpLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbTpzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbWJhdFJlcGxheUd1aWRlLmVuZFRpbWUgPSBuZXcgRGF0ZSgpLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbTpzcycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCQoJyNxdWVyeS10aW1lLWNvc3R1bWUnKS5pcygnOmNoZWNrZWQnKSkgeyAvLyDoh6rlrprkuYlcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCgnI3F1ZXJ5LXRpbWUtc3RhcnQtdGltZScpLnZhbCgpICE9ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbWJhdFJlcGxheUd1aWRlLnN0YXJ0VGltZSA9ICQoJyNxdWVyeS10aW1lLXN0YXJ0LXRpbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQoJyNxdWVyeS10aW1lLWVuZC10aW1lJykudmFsKCkgIT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tYmF0UmVwbGF5R3VpZGUuZW5kVGltZSA9ICQoJyNxdWVyeS10aW1lLWVuZC10aW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0NvbnRpbnVlKSB7XHJcbiAgICAgICAgICAgICAgICBDb21iYXRSZXBsYXlHdWlkZUNhY2hlID0gY29tYmF0UmVwbGF5R3VpZGU7XHJcbiAgICAgICAgICAgICAgICBxdWVyeShjb21iYXRSZXBsYXlHdWlkZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyog6aG16Z2i5Yqg6L295pe255qE6buY6K6k5pCc57Si5YWo6YOoKi9cclxuICAgICAgICBmdW5jdGlvbiBxdWVyeURlZmF1bHQoKSB7XHJcbiAgICAgICAgICAgIGxldCBjb21iYXRSZXBsYXlHdWlkZSA9IG5ldyBDb21iYXRSZXBsYXlHdWlkZUJlYW4oKTtcclxuICAgICAgICAgICAgY29tYmF0UmVwbGF5R3VpZGUucGFnZU51bSA9IDE7XHJcbiAgICAgICAgICAgIENvbWJhdFJlcGxheUd1aWRlQ2FjaGUgPSBjb21iYXRSZXBsYXlHdWlkZTtcclxuICAgICAgICAgICAgcXVlcnkoY29tYmF0UmVwbGF5R3VpZGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyog5L2c5oiY5Zue5pS+5ZCR5a+86aG16KGo5p+l6K+iKi9cclxuICAgICAgICBmdW5jdGlvbiBxdWVyeShkYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICBRdWVyeVJlcGxheS5xdWVyeShkYXRhKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjdGFibGUtdGJvZHknKS5odG1sKCcnKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmV0Y29kZSA9PSAxICYmIHJlc3VsdC5wYWdlSW5mbyAhPSBudWxsICYmIHJlc3VsdC5wYWdlSW5mby5saXN0ICE9IG51bGwgJiYgcmVzdWx0LnBhZ2VJbmZvLmxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5UmVzdWx0ID0gcmVzdWx0LnBhZ2VJbmZvLmxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgRHJhd1RhYmxlLmNhc2VUYWJsZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIFBhZ2VJbmZvLmRyYXdQYWdlQ29udHJvbGxlcihyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5uby1kYXRhLXJlYWx0aW1lJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAvKmVkaXQgYnkgZ3VvIHNodWFpIHN0YXJ0IDIwMTkvMy81Ki9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCgnI3ZpZXctY2xhc3MtYmxvY2snKS5oYXNDbGFzcygnY29tYmF0Q2FzZS1saXN0LXN3aXRjaCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy52aWV3LWRhdGEtdGFibGUnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy52aWV3LWRhdGEtdGFibGUnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qZWRpdCBieSBndW8gc2h1YWkgZW5kIDIwMTkvMy81Ki9cclxuICAgICAgICAgICAgICAgICAgICAvKmFkZCBieSBndW9zaHVhaSBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKCcudmlldy1kYXRhLXRhYmxlJykuY3NzKCdkaXNwbGF5JykgPT0gJ2Jsb2NrJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcudmlldy1kYXRhLWJsb2NrJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy52aWV3LWRhdGEtYmxvY2snKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qYWRkIGJ5IGd1b3NodWFpIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RvdGFsLWNvdW50JykuaHRtbChyZXN1bHQucGFnZUluZm8udG90YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyN0b3RhbC1wYWdlLW51bScpLmh0bWwoYO+8jOWFsSR7cmVzdWx0LnBhZ2VJbmZvLnBhZ2VzfemhtWApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcubm8tZGF0YS1yZWFsdGltZScpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy52aWV3LWRhdGEtdGFibGUnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyphZGQgYnkgZ3Vvc2h1YWkgc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICAkKCcudmlldy1kYXRhLWJsb2NrJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qYWRkIGJ5IGd1b3NodWFpIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RvdGFsLWNvdW50JykuaHRtbCgwKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjdG90YWwtcGFnZS1udW0nKS5odG1sKCcnKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuTS1ib3gzJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyog6YCJ5oup5q+P6aG15pi+56S65pWw6YePKi9cclxuICAgICAgICAkKCcudG90YWwtY291bnQtc2VsZWN0b3InKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBhZ2VJdGVtTnVtID0gdGhpcy5jaGlsZE5vZGVzWzBdLmlubmVySFRNTDtcclxuICAgICAgICAgICAgLyog6K6+572uY29va2llKi9cclxuICAgICAgICAgICAgTXlDb29raWUuc2V0Q29va2llKCdjb21iYXRSZXBsYXlQYWdlTnVtJywgcGFnZUl0ZW1OdW0sIDM2NSk7XHJcbiAgICAgICAgICAgIC8qIOaYvuekuumhteaVsCovXHJcbiAgICAgICAgICAgICQoJy5zaG93LWl0ZW0tbnVtJykuaHRtbChwYWdlSXRlbU51bSArICfmnaEnKTtcclxuICAgICAgICAgICAgQ29tYmF0UmVwbGF5R3VpZGVDYWNoZS5wYWdlTnVtID0gMTtcclxuICAgICAgICAgICAgQ29tYmF0UmVwbGF5R3VpZGVDYWNoZS5wYWdlU2l6ZSA9IHBhZ2VJdGVtTnVtO1xyXG4gICAgICAgICAgICBxdWVyeShDb21iYXRSZXBsYXlHdWlkZUNhY2hlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3kvZzmiJjlm57mlL7lkJHlr7zpobUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuXHJcbi8qIOWbnuaUvuaMiemSriovXHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuY29tbWFuZC1idG4nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBxdWVyeVJlc3VsdEluZGV4ID0gJCh0aGlzKS5hdHRyKCdkYXRhLXRyLWluZGV4Jyk7XHJcbiAgICBjb25zb2xlLmxvZyhxdWVyeVJlc3VsdFtxdWVyeVJlc3VsdEluZGV4XSk7XHJcbiAgICBzdGFydEJ5R3VpZGVGcmFtZShxdWVyeVJlc3VsdFtxdWVyeVJlc3VsdEluZGV4XSk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gc3RhcnRCeUd1aWRlRnJhbWUoZGF0YSkge1xyXG4gICAgbGV0IGRldkxpc3QgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5kZXZMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZGV2TGlzdC5wdXNoKGRhdGEuZGV2TGlzdFtpXS5kZXZDb2RlKTtcclxuICAgIH1cclxuICAgIHVzZXJJbmZvc0NhY2hlID0gZGF0YS51c2VyTGlzdDtcclxuICAgIGxldCBuYW1lVmFsdWUgPSAnJztcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS51c2VyTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIG5hbWVWYWx1ZSA9IG5hbWVWYWx1ZSArIGRhdGEudXNlckxpc3RbaV0udXNlcm5hbWUgKyAnLycgKyBkYXRhLnVzZXJMaXN0W2ldLmhhbmRsZVNlcSArICfvvIwnO1xyXG4gICAgfVxyXG5cclxuICAgICQoJyNjYXNlLXVzZXJzJykuYXR0cigndGl0bGUnLCBuYW1lVmFsdWUuc3Vic3RyaW5nKDAsIG5hbWVWYWx1ZS5sZW5ndGggLSAxKSk7XHJcbiAgICAkKCcjY2FzZS11c2VycycpLmh0bWwobmFtZVZhbHVlLnN1YnN0cmluZygwLCBuYW1lVmFsdWUubGVuZ3RoIC0gMSkpO1xyXG5cclxuICAgIHN0YXJ0UmVwbGF5KG5ldyBDb21iYXRSZXBsYXlCZWFuKGRldkxpc3QsIGRhdGEuc3RhcnRUaW1lLCBkYXRhLmVuZFRpbWUsIGRhdGEuc2VyaWFsTnVtKSk7XHJcbn1cclxuXHJcbi8qIOW8gOWni+S9nOaImOWbnuaUviovXHJcbmZ1bmN0aW9uIHN0YXJ0UmVwbGF5KGRhdGEpIHtcclxuICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAkKCcudG9wLWhlYWRlcicpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgIGNvbWJhdFJlcGxheUJlYW5RdWVyeUNhY2hlID0gZGF0YTtcclxuICAgIHJlcGxheURldk51bUNhY2hlID0gZGF0YS5kZXZDb2Rlcy5sZW5ndGg7XHJcbiAgICAkKCcubWFwLWFyZWEtY29udGFpbmVyJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAkKCcuZ3VpZGUtZnJhbWUnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgJCgnLmxvYWRpbmctd29yZCcpLmh0bWwoJ+WKoOi9veS4rS4uLicpO1xyXG4gICAgJCgnLnNlYXJjaC1sb2FkaW5nJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogJ2NvbW1hbmRNYW5hZ2UvY29tYmF0UmVwbGF5L2dldENvbWJhdFJlcGxheURhdGFJbmZvJyxcclxuICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnJldGNvZGUgIT0gMSB8fCByZXN1bHQuZGF0YU1hcC5oaXN0b3J5RGV2QmFzZUluZm9MaXN0ID09IG51bGwgfHwgcmVzdWx0LmRhdGFNYXAuaGlzdG9yeURldkJhc2VJbmZvTGlzdC5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgJCgnLnNlYXJjaC1sb2FkaW5nJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgICQoJy5tYXAtYXJlYS1jb250YWluZXInKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmd1aWRlLWZyYW1lJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjYWxlcnQtbW9kYWwtdGl0bGUnKS5odG1sKCfplJnor68nKTtcclxuICAgICAgICAgICAgICAgICQoJyNhbGVydC1tb2RhbC1jb250ZW50JykuaHRtbCgn5pCc57Si57uT5p6c5LiN5a2Y5ZyoJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjYWxlcnQtbW9kYWwnKS5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnRvcC1oZWFkZXInKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIOe8k+WtmOaQnOe0oue7k+aenCovXHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5SW5mb0NhY2hlID0gcmVzdWx0LmRhdGFNYXA7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeUluZm9DYWNoZS5lbmRDb21iYXRSZXBvcnQgIT0gdW5kZWZpbmVkICYmIGhpc3RvcnlJbmZvQ2FjaGUuZW5kQ29tYmF0UmVwb3J0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kUG9pbnREYXRhID0gaGlzdG9yeUluZm9DYWNoZS5lbmRDb21iYXRSZXBvcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZFBvaW50RGF0YS5sbmcgIT0gdW5kZWZpbmVkICYmIGVuZFBvaW50RGF0YS5sYXQgIT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGVuZFBvaW50RGF0YS5sbmcgIT0gbnVsbCAmJiBlbmRQb2ludERhdGEubGF0ICE9IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgZW5kUG9pbnREYXRhLmxuZyAhPSBcIlwiICYmIGVuZFBvaW50RGF0YS5sYXQgIT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9pbnRFbmREYXRhID0gR1BTVG9CYWlkdVBvaW50LmdldEJhaWR1UG9pbnRMb2NhdGlvbihbW2VuZFBvaW50RGF0YS5sbmcsIGVuZFBvaW50RGF0YS5sYXRdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb2ludEVuZCA9IG5ldyBCTWFwLlBvaW50KHBvaW50RW5kRGF0YVswXS5sbmcsIHBvaW50RW5kRGF0YVswXS5sYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRQb2ludCA9IHBvaW50RW5kO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRNYXJrZXIgPSBuZXcgRW5kT3ZlcmxheUNvbnN0cnVjdG9yKHBvaW50RW5kLGVuZFBvaW50RGF0YS5hZGRyZXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLmFkZE92ZXJsYXkoZW5kTWFya2VyKTsgIC8vIOWwhuagh+azqOa3u+WKoOWIsOWcsOWbvuS4rVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICQoJy50YXJnZXQtbmFtZScpLmh0bWwocmVzdWx0LmRhdGFNYXAuY29tYmF0SW5mby50YXJnZXRLZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbWJhdFJlcGxheUluZm9SZWRpcmVjdCAhPSAnbnVsbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VySW5mb3NDYWNoZSA9IGhpc3RvcnlJbmZvQ2FjaGUuY29tYmF0SW5mby51c2VyTGlzdDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZVZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2VySW5mb3NDYWNoZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lVmFsdWUgPSBuYW1lVmFsdWUgKyB1c2VySW5mb3NDYWNoZVtpXS51c2VybmFtZSArICcvJyArIHVzZXJJbmZvc0NhY2hlW2ldLmhhbmRsZVNlcSArICfvvIwnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2Nhc2UtdXNlcnMnKS5hdHRyKCd0aXRsZScsIG5hbWVWYWx1ZS5zdWJzdHJpbmcoMCwgbmFtZVZhbHVlLmxlbmd0aCAtIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjY2FzZS11c2VycycpLmh0bWwobmFtZVZhbHVlLnN1YnN0cmluZygwLCBuYW1lVmFsdWUubGVuZ3RoIC0gMSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoTXlDb29raWUuZ2V0Q29va2llKCdjb21iYXRSZXBsYXlRdWVyeUNhY2hlJykgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlSZXN1bHRDYWNoZSA9IHsgdHlwZTogMiwgZGF0YTogSlNPTi5wYXJzZShjb21iYXRSZXBsYXlJbmZvUmVkaXJlY3QpLCBpbmZvOiBoaXN0b3J5SW5mb0NhY2hlLmNvbWJhdEluZm8gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTXlDb29raWUuc2V0Q29va2llKCdjb21iYXRSZXBsYXlRdWVyeUNhY2hlJywgSlNPTi5zdHJpbmdpZnkocXVlcnlSZXN1bHRDYWNoZSksIDM2NSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTXlDb29raWUuZ2V0Q29va2llKCdjb21iYXRSZXBsYXlRdWVyeUNhY2hlJykgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlSZXN1bHRDYWNoZSA9IHsgdHlwZTogMSwgZGF0YTogcXVlcnlSZXN1bHRbcXVlcnlSZXN1bHRJbmRleF0gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTXlDb29raWUuc2V0Q29va2llKCdjb21iYXRSZXBsYXlRdWVyeUNhY2hlJywgSlNPTi5zdHJpbmdpZnkocXVlcnlSZXN1bHRDYWNoZSksIDM2NSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvb2tpZUNhY2hlRGF0YVJlZGlyZWN0ZWQgPSBKU09OLnBhcnNlKE15Q29va2llLmdldENvb2tpZSgnY29tYmF0UmVwbGF5UXVlcnlDYWNoZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvb2tpZUNhY2hlRGF0YVJlZGlyZWN0ZWQudHlwZSA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FzZUluZm9SZWRpcmVjdGVkID0gY29va2llQ2FjaGVEYXRhUmVkaXJlY3RlZC5pbmZvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckluZm9zQ2FjaGUgPSBjYXNlSW5mb1JlZGlyZWN0ZWQudXNlckxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZVZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVzZXJJbmZvc0NhY2hlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVZhbHVlID0gbmFtZVZhbHVlICsgdXNlckluZm9zQ2FjaGVbaV0udXNlcm5hbWUgKyAnLycgKyB1c2VySW5mb3NDYWNoZVtpXS5oYW5kbGVTZXEgKyAn77yMJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjY2FzZS11c2VycycpLmF0dHIoJ3RpdGxlJywgbmFtZVZhbHVlLnN1YnN0cmluZygwLCBuYW1lVmFsdWUubGVuZ3RoIC0gMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2Nhc2UtdXNlcnMnKS5odG1sKG5hbWVWYWx1ZS5zdWJzdHJpbmcoMCwgbmFtZVZhbHVlLmxlbmd0aCAtIDEpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiDorr7nva7moYjku7blvIDlp4vml7bpl7QqL1xyXG4gICAgICAgICAgICAgICAgY2FzZVN0YXJ0VGltZSA9IGNvbWJhdFJlcGxheUJlYW5RdWVyeUNhY2hlLnN0YXJ0VGltZTtcclxuICAgICAgICAgICAgICAgIC8qIOiuvue9ruahiOS7tue7k+adn+aXtumXtCovXHJcbiAgICAgICAgICAgICAgICBjYXNlRW5kVGltZSA9IGNvbWJhdFJlcGxheUJlYW5RdWVyeUNhY2hlLmVuZFRpbWU7XHJcbiAgICAgICAgICAgICAgICAkKCcudGltZS1saW5lLXN0YXJ0LXRpbWUnKS5odG1sKG5ldyBEYXRlKGNhc2VTdGFydFRpbWUpLkZvcm1hdCgnaGg6bW0nKSk7XHJcbiAgICAgICAgICAgICAgICAkKCcudGltZS1saW5lLWVuZC10aW1lJykuaHRtbChuZXcgRGF0ZShjYXNlRW5kVGltZSkuRm9ybWF0KCdoaDptbScpKTtcclxuICAgICAgICAgICAgICAgIC8qIOi9rOaNouebruagh+WfuuermeS/oeaBryovXHJcbiAgICAgICAgICAgICAgICBsZXQgaGlzdG9yeVRhcmdldENlbGxJbmZvTGlzdCA9IGhpc3RvcnlJbmZvQ2FjaGUuaGlzdG9yeVRhcmdldENlbGxJbmZvTGlzdDtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGlzdG9yeVRhcmdldENlbGxJbmZvTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRCdHNCZFBvaW50ID0gR1BTVG9CYWlkdVBvaW50LmdldEJhaWR1UG9pbnRMb2NhdGlvbihbW2hpc3RvcnlUYXJnZXRDZWxsSW5mb0xpc3RbaV0ubG5nLCBoaXN0b3J5VGFyZ2V0Q2VsbEluZm9MaXN0W2ldLmxhdF1dKVswXTtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5SW5mb0NhY2hlLmhpc3RvcnlUYXJnZXRDZWxsSW5mb0xpc3RbaV0ubG5nID0gdGFyZ2V0QnRzQmRQb2ludC5sbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeUluZm9DYWNoZS5oaXN0b3J5VGFyZ2V0Q2VsbEluZm9MaXN0W2ldLmxhdCA9IHRhcmdldEJ0c0JkUG9pbnQubGF0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgIC8v6L2s5o2i6aKE6ZSB5Z+656uZ5L+h5oGvXHJcbiAgICAgICAgICAgICAgICAvLyBsZXQgaGlzdG9yeVByZUxvY2tDZWxsSW5mb0xpc3QgPSBoaXN0b3J5SW5mb0NhY2hlLmhpc3RvcnlQcmVMb2NrQ2VsbEluZm9MaXN0O1xyXG4gICAgICAgICAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBoaXN0b3J5UHJlTG9ja0NlbGxJbmZvTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGxldCB0YXJnZXRCdHNCZFBvaW50ID0gR1BTVG9CYWlkdVBvaW50LmdldEJhaWR1UG9pbnRMb2NhdGlvbihbW2hpc3RvcnlQcmVMb2NrQ2VsbEluZm9MaXN0W2ldLmxuZywgaGlzdG9yeVByZUxvY2tDZWxsSW5mb0xpc3RbaV0ubGF0XV0pWzBdO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGhpc3RvcnlJbmZvQ2FjaGUuaGlzdG9yeVByZUxvY2tDZWxsSW5mb0xpc3RbaV0ubG5nID0gdGFyZ2V0QnRzQmRQb2ludC5sbmc7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgaGlzdG9yeUluZm9DYWNoZS5oaXN0b3J5UHJlTG9ja0NlbGxJbmZvTGlzdFtpXS5sYXQgPSB0YXJnZXRCdHNCZFBvaW50LmxhdDtcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcblxyXG4gICAgICAgICAgICAgICAgLyog6L2s5o2i6K6+5aSH54q25oCB5L+h5oGvKi9cclxuICAgICAgICAgICAgICAgIGxldCBsaXN0Q2FjaGUgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBkZXZTdGF0ZUluZm9MaXN0ID0gaGlzdG9yeUluZm9DYWNoZS5oaXN0b3J5RGV2U3RhdGVJbmZvTGlzdDtcclxuICAgICAgICAgICAgICAgIGxldCByZXBvcnRUaW1lQ2FjaGU7XHJcbiAgICAgICAgICAgICAgICBsZXQgdHJpZ2dlckluZm9DYWNoZSA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGV2U3RhdGVJbmZvTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZXZTdGF0ZUluZm8gPSBQYXJzaW5nRGF0YS5Gb3JtYXRTdGF0dXNEYXRhKGRldlN0YXRlSW5mb0xpc3RbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXZTdGF0ZUluZm8udHJpZ2dlckluZm8gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiDmnInop6blj5Hkv6Hmga/vvIzmm7TmlrDnvJPlrZgqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmlnZ2VySW5mb0NhY2hlLnNldChkZXZTdGF0ZUluZm8uZGV2Q29kZSwgZGV2U3RhdGVJbmZvLnRyaWdnZXJJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRyaWdnZXJJbmZvQ2FjaGUuZ2V0KGRldlN0YXRlSW5mby5kZXZDb2RlKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0cmlnZ2VySW5mb0NhY2hlLnNldChkZXZTdGF0ZUluZm8uZGV2Q29kZSwgZGV2U3RhdGVJbmZvLnRyaWdnZXJJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vIOS/neivgeinpuWPkeS/oeaBr+S4jeS4ujBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxldCBsYXNlVmFsdWVDYWNoZSA9IEpTT04ucGFyc2UodHJpZ2dlckluZm9DYWNoZS5nZXQoZGV2U3RhdGVJbmZvLmRldkNvZGUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxldCBjdXJyZW50VmFsdWVDYWNoZSA9IEpTT04ucGFyc2UoZGV2U3RhdGVJbmZvLnRyaWdnZXJJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmIChjdXJyZW50VmFsdWVDYWNoZS5jb21wbGV0ZVRpbWVzID49IGxhc2VWYWx1ZUNhY2hlLmNvbXBsZXRlVGltZXMgJiYgY3VycmVudFZhbHVlQ2FjaGUucmVjZWlwdFRpbWVzID49IGxhc2VWYWx1ZUNhY2hlLnJlY2VpcHRUaW1lcyAmJiBjdXJyZW50VmFsdWVDYWNoZS5zZW5kVGltZXMgPj0gbGFzZVZhbHVlQ2FjaGUuc2VuZFRpbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdHJpZ2dlckluZm9DYWNoZS5zZXQoZGV2U3RhdGVJbmZvLmRldkNvZGUsIGRldlN0YXRlSW5mby50cmlnZ2VySW5mbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRldlN0YXRlSW5mby50cmlnZ2VySW5mbyA9IHRyaWdnZXJJbmZvQ2FjaGUuZ2V0KGRldlN0YXRlSW5mby5kZXZDb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIOayoeacieinpuWPkeS/oeaBr++8jOWhq+WFheinpuWPkeS/oeaBryovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldlN0YXRlSW5mby50cmlnZ2VySW5mbyA9IHRyaWdnZXJJbmZvQ2FjaGUuZ2V0KGRldlN0YXRlSW5mby5kZXZDb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcG9ydFRpbWVDYWNoZSA9PSBkZXZTdGF0ZUluZm8ucmVwb3J0VGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlzdENhY2hlW2xpc3RDYWNoZS5sZW5ndGggLSAxXVtkZXZTdGF0ZUluZm8uZGV2Q29kZV0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdENhY2hlW2xpc3RDYWNoZS5sZW5ndGggLSAxXVtkZXZTdGF0ZUluZm8uZGV2Q29kZV0gPSBkZXZTdGF0ZUluZm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbEFuYWx5c2lzSW5mb0xpc3QgPSBsaXN0Q2FjaGVbbGlzdENhY2hlLmxlbmd0aCAtIDFdW2RldlN0YXRlSW5mby5kZXZDb2RlXS5jZWxsQW5hbHlzaXNJbmZvTGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjZWxsQW5hbHlzaXNJbmZvTGlzdCAhPSBudWxsICYmIGRldlN0YXRlSW5mby5jZWxsQW5hbHlzaXNJbmZvTGlzdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjZWxsQW5hbHlzaXNJbmZvTGlzdC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbEFuYWx5c2lzSW5mb0xpc3QuYnRzSWQgPT0gZGV2U3RhdGVJbmZvLmNlbGxBbmFseXNpc0luZm9MaXN0WzBdLmJ0c0lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0Q2FjaGVbbGlzdENhY2hlLmxlbmd0aCAtIDFdW2RldlN0YXRlSW5mby5kZXZDb2RlXS5jZWxsQW5hbHlzaXNJbmZvTGlzdC5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0Q2FjaGVbbGlzdENhY2hlLmxlbmd0aCAtIDFdW2RldlN0YXRlSW5mby5kZXZDb2RlXS5jZWxsQW5hbHlzaXNJbmZvTGlzdC5wdXNoKGRldlN0YXRlSW5mby5jZWxsQW5hbHlzaXNJbmZvTGlzdFswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmFsKGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RDYWNoZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJHtkZXZTdGF0ZUluZm8uZGV2Q29kZX0nOiBkZXZTdGF0ZUluZm8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0VGltZTogZGV2U3RhdGVJbmZvLnJlcG9ydFRpbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0VGltZUNhY2hlID0gZGV2U3RhdGVJbmZvLnJlcG9ydFRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8g5o6S5bqPXHJcbiAgICAgICAgICAgICAgICB2YXIgYnViYmxlU29ydCA9IGZ1bmN0aW9uIChhcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IGkgKyAxOyBqIDwgYXJyLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyW2ldLnJlcG9ydFRpbWUgPiBhcnJbal0ucmVwb3J0VGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gYXJyW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycltpXSA9IGFycltqXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJbal0gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgU29ydGVkTGlzdCA9IGJ1YmJsZVNvcnQobGlzdENhY2hlKTtcclxuICAgICAgICAgICAgICAgIGxpc3RDYWNoZSA9IFNvcnRlZExpc3Q7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgbGV0IGRldlN0YXRlSW5mb01hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgICAgIGxldCBlYWNoRGV2U3RhdGVJbmZvQ2FjaGUgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RDYWNoZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBsaXN0Q2FjaGVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RDYWNoZVtpXVtrZXldLmRldkNvZGUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVhY2hEZXZTdGF0ZUluZm9DYWNoZS5nZXQobGlzdENhY2hlW2ldW2tleV0uZGV2Q29kZSkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhY2hEZXZTdGF0ZUluZm9DYWNoZS5zZXQobGlzdENhY2hlW2ldW2tleV0uZGV2Q29kZSwgbGlzdENhY2hlW2ldW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlzdENhY2hlW2ldW2tleV0uY2VsbEFuYWx5c2lzSW5mb0xpc3QgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoRGV2U3RhdGVJbmZvQ2FjaGUuZ2V0KGxpc3RDYWNoZVtpXVtrZXldLmRldkNvZGUpLnRyaWdnZXJJbmZvID0gbGlzdENhY2hlW2ldW2tleV0udHJpZ2dlckluZm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhY2hEZXZTdGF0ZUluZm9DYWNoZS5nZXQobGlzdENhY2hlW2ldW2tleV0uZGV2Q29kZSkuZW5lcmd5ID0gbGlzdENhY2hlW2ldW2tleV0uZW5lcmd5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoRGV2U3RhdGVJbmZvQ2FjaGUuZ2V0KGxpc3RDYWNoZVtpXVtrZXldLmRldkNvZGUpLnRlbXBlcmF0dXJlID0gbGlzdENhY2hlW2ldW2tleV0udGVtcGVyYXR1cmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFjaERldlN0YXRlSW5mb0NhY2hlLnNldChsaXN0Q2FjaGVbaV1ba2V5XS5kZXZDb2RlLCBsaXN0Q2FjaGVbaV1ba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXZTdGF0ZUluZm9NYXAuZ2V0KGxpc3RDYWNoZVtpXS5yZXBvcnRUaW1lKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldlN0YXRlSW5mb01hcC5zZXQobGlzdENhY2hlW2ldLnJlcG9ydFRpbWUsIGxpc3RDYWNoZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVhY2hEZXZTdGF0ZUluZm9DYWNoZS5mb3JFYWNoKChlYWNoSW5mbykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZTdGF0ZUluZm9NYXAuZ2V0KGxpc3RDYWNoZVtpXS5yZXBvcnRUaW1lKVtlYWNoSW5mby5kZXZDb2RlXSA9IGVhY2hJbmZvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBldmFsKGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGRldlN0YXRlSW5mb01hcC5nZXQobGlzdENhY2hlW2ldLnJlcG9ydFRpbWUpLiR7ZWFjaEluZm8uZGV2Q29kZX0gPSBlYWNoSW5mbztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgbWFwVG9MaXN0Q2FjaGUgPSBbXTtcclxuICAgICAgICAgICAgICAgIGRldlN0YXRlSW5mb01hcC5mb3JFYWNoKChlYWNoSW5mbykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcFRvTGlzdENhY2hlLnB1c2goZWFjaEluZm8pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5SW5mb0NhY2hlLmhpc3RvcnlEZXZTdGF0ZUluZm9MaXN0ID0gbWFwVG9MaXN0Q2FjaGU7IC8vIFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coaGlzdG9yeUluZm9DYWNoZSk7XHJcbiAgICAgICAgICAgICAgICAvKiDnu5jliLbml7bpl7TovbQqL1xyXG4gICAgICAgICAgICAgICAgVGltZUxpbmUuaW5pdFRpbWVMaW5lKGNhc2VTdGFydFRpbWUsIGNhc2VFbmRUaW1lKTtcclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAkKCcuY2FzZS10aW1lLWFsbCcpLmh0bWwoYC88c3Bhbj4ke2FkZDAobmV3IERhdGUoKGNhc2VFbmRUaW1lIC0gY2FzZVN0YXJ0VGltZSA8IDAgPyAwIDogY2FzZUVuZFRpbWUgLSBjYXNlU3RhcnRUaW1lKSAtIDggKiAzNjAwICogMTAwMCkuZ2V0SG91cnMoKSl9OiR7YWRkMChuZXcgRGF0ZSgoY2FzZUVuZFRpbWUgLSBjYXNlU3RhcnRUaW1lIDwgMCA/IDAgOiBjYXNlRW5kVGltZSAtIGNhc2VTdGFydFRpbWUpIC0gOCAqIDM2MDAgKiAxMDAwKS5nZXRNaW51dGVzKCkpfToke2FkZDAobmV3IERhdGUoKGNhc2VFbmRUaW1lIC0gY2FzZVN0YXJ0VGltZSA8IDAgPyAwIDogY2FzZUVuZFRpbWUgLSBjYXNlU3RhcnRUaW1lKSAtIDggKiAzNjAwICogMTAwMCkuZ2V0U2Vjb25kcygpKX08L3NwYW4+YCk7XHJcbiAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgIC8qIOW8gOWFsyovXHJcbiAgICAgICAgICAgICAgICBTd2l0Y2guaW5pdFN3aXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgLyog6KeG6KeS5YiH5o2iKi9cclxuICAgICAgICAgICAgICAgIFZpZXcuaW5pdFZpZXdQYW5lbCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGhpc3RvcnlEZXZCYXNlSW5mb0xpc3QgPSBoaXN0b3J5SW5mb0NhY2hlLmhpc3RvcnlEZXZCYXNlSW5mb0xpc3Q7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhpc3RvcnlEZXZCYXNlSW5mb0xpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGV2RHJhd0luZm9NYXAuZ2V0KGhpc3RvcnlEZXZCYXNlSW5mb0xpc3RbaV0uZGV2Q29kZSkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiDnu5jliLbpnaLmnb8qL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQYW5lbC5hZGROZXdEZXYoaGlzdG9yeURldkJhc2VJbmZvTGlzdCwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyog5aGr5YWF6IO96YeP5p2hKi9cclxuICAgICAgICAgICAgICAgIEVuZ0NvbHVtbkNoYXJ0Q29udGFpbmVyLmluaXQoaGlzdG9yeURldkJhc2VJbmZvTGlzdCk7XHJcbiAgICAgICAgICAgICAgICAvKiDlpoLmnpzlj6rmnInkuIDlj7Dorr7lpIfvvIzlsLHkuI3mmL7npLrljZXlhbVBL+i9pui9vUEqL1xyXG4gICAgICAgICAgICAgICAgbGV0IGNhckRldk51bSA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2luZ2xlRGV2TnVtID0gMDtcclxuICAgICAgICAgICAgICAgIGRldkRyYXdJbmZvTWFwLmZvckVhY2goKGVhY2hEZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGVhY2hEZXYuZGV2VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJEZXZOdW0gPSBjYXJEZXZOdW0gKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZURldk51bSA9IHNpbmdsZURldk51bSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhckRldk51bSA8IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcudGVhbS1lYWNoLWRldi1pbmRleC1jYXInKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHNpbmdsZURldk51bSA8IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcudGVhbS1lYWNoLWRldi1pbmRleC1zaW5nbGUnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyogKi8gLy91c2VySW5mb3NDYWNoZVxyXG4gICAgICAgICAgICAgICAgbGV0IHVzZXJIdG1sID0gJyc7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVzZXJJbmZvc0NhY2hlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckh0bWwgPSB1c2VySHRtbCArIGAke3VzZXJJbmZvc0NhY2hlW2ldLnVzZXJuYW1lfS8ke3VzZXJJbmZvc0NhY2hlW2ldLmhhbmRsZVNlcX0gYDtcclxuICAgICAgICAgICAgICAgICAgICAkKGAudXNlci1uYW1lLXZhbHVlLWJ5LWlkLSR7dXNlckluZm9zQ2FjaGVbaV0uaWR9YCkuaHRtbChgJHt1c2VySW5mb3NDYWNoZVtpXS5yZWFsbmFtZX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAkKGAudXNlci1uYW1lLXZhbHVlLWJ5LWlkLSR7dXNlckluZm9zQ2FjaGVbaV0uaWR9YCkuYXR0cigndGl0bGUnLCBgJHt1c2VySW5mb3NDYWNoZVtpXS5yZWFsbmFtZX1gKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXNlckluZm9zQ2FjaGVbaV0uaGVhZEFkZHIgIT0gbnVsbCAmJiB1c2VySW5mb3NDYWNoZVtpXS5oZWFkQWRkciAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC51c2VyLW5hbWUtdmFsdWUtYnktaWQtJHt1c2VySW5mb3NDYWNoZVtpXS5pZH0tcGhvdG9gKS5jc3MoJ2JhY2tncm91bmQnLCBgdXJsKCR7dXNlckluZm9zQ2FjaGVbaV0uaGVhZEFkZHJ9KW5vLXJlcGVhdGApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAudXNlci1uYW1lLXZhbHVlLWJ5LWlkLSR7dXNlckluZm9zQ2FjaGVbaV0uaWR9LXBob3RvYCkuY3NzKCdiYWNrZ3JvdW5kLXNpemUnLCAnY292ZXInKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZm9yRWFjaCgoZWFjaERldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWFjaERldi51c2VySWQgPT0gdXNlckluZm9zQ2FjaGVbaV0uaWQgJiYgZWFjaERldi51c2VyTmFtZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZEcmF3SW5mb01hcC5nZXQoZWFjaERldi5kZXZDb2RlKS51c2VyTmFtZSA9IHVzZXJJbmZvc0NhY2hlW2ldLnVzZXJuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZ2V0KGVhY2hEZXYuZGV2Q29kZSkucmVhbE5hbWUgPSB1c2VySW5mb3NDYWNoZVtpXS5yZWFsbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldkRyYXdJbmZvTWFwLmdldChlYWNoRGV2LmRldkNvZGUpLmhlYWRBZGRyID0gdXNlckluZm9zQ2FjaGVbaV0uaGVhZEFkZHI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICQoJyNjYXNlLXVzZXJzJykuaHRtbCh1c2VySHRtbCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjY2FzZS11c2VycycpLmF0dHIoJ3RpdGxlJywgJCgnI2Nhc2UtdXNlcnMnKS5odG1sKCkpO1xyXG4gICAgICAgICAgICAgICAgLyogKi9cclxuICAgICAgICAgICAgICAgICQoJy5zaG93LWhpc3Rvcnktc3RhcnQnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICQoJy5zaG93LWhpc3RvcnktcGF1c2UnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICQoJy5zaG93LWhpc3RvcnktZW5kJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuc3BlZWQtc2V0dGluZycpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnNlYXJjaC1iYWNrJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAvKiDmlL7nva7liJ3lp4vorr7lpIcqL1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0RGV2SW5mbyA9IFBhcnNpbmdEYXRhLkZvcm1hdERldkRhdGEoaGlzdG9yeURldkJhc2VJbmZvTGlzdFswXSk7XHJcbiAgICAgICAgICAgICAgICBQYXJzaW5nRGV2SW5mb0NSLnBhcnNpbmdEZXZJbmZvKGZpcnN0RGV2SW5mbywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKE15Q29va2llLmdldENvb2tpZSgnY29tYmF0UmVwbGF5UGxheVRpbWVDYWNoZScpICE9ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheVN0YXR1cyA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICAvLyAkKCcjcGxheS1idG4nKS5odG1sKCfmkq3mlL4nKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcucGxheS1idG4tY29udGFpbmVyJykuY3NzKCdiYWNrZ3JvdW5kJywgJ3VybChpbWcvaWNvbi9wbGF5LnBuZyknKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi8gICAgICAgICAgICAgICAgICAgIGxldCB0aW1lTGludEluaXRJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoJy51aS1yYW5nZVNsaWRlci1jb250YWluZXInKS53aWR0aCgpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lTGludEluaXRJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuc2VhcmNoLWxvYWRpbmcnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZlBsYXlUaW1lKE51bWJlcihNeUNvb2tpZS5nZXRDb29raWUoJ2NvbWJhdFJlcGxheVBsYXlUaW1lQ2FjaGUnKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzRmlyc3RTdGFydCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeVJvdXRlTGluZUlzRmluaXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaXNGaXJzdFN0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGaXJzdFN0YXJ0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dIaXN0b3J5KGhpc3RvcnlJbmZvQ2FjaGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDI1KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXAuc2V0Wm9vbSgxOSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIOiuvue9ruWcsOWbvuS4reW/gyovXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlZmF1bHRMbmcgPSBoaXN0b3J5RGV2QmFzZUluZm9MaXN0WzBdLmxuZztcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVmYXVsdExhdCA9IGhpc3RvcnlEZXZCYXNlSW5mb0xpc3RbMF0ubGF0O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwb2ludEZpcnN0ID0gR1BTVG9CYWlkdVBvaW50LmdldEJhaWR1UG9pbnRMb2NhdGlvbihbW2RlZmF1bHRMbmcsIGRlZmF1bHRMYXRdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5jZW50ZXJBbmRab29tKG5ldyBCTWFwLlBvaW50KHBvaW50Rmlyc3RbMF0ubG5nLCBwb2ludEZpcnN0WzBdLmxhdCksIDE5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNlYXJjaC1sb2FkaW5nJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCA5MDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy/liKTmlq3mmK/lkKbpnIDopoHmmL7npLpDYXRjaOS/oeaBr1xyXG4gICAgICAgICAgICAgICAgLypkZWxldGUgYnkgZ3Vvc2h1YWkgc3RhcnQgMjAxOS8zLzYqL1xyXG4gICAgICAgICAgICAgICAgLyogaWYocmVzdWx0LmRhdGFNYXAuaGlzdG9yeUNhdGNoSW5mb0xpc3QgJiYgdHlwZW9mKHJlc3VsdC5kYXRhTWFwLmhpc3RvcnlDYXRjaEluZm9MaXN0KSAhPSB1bmRlZmluZWQgJiYgcmVzdWx0LmRhdGFNYXAuaGlzdG9yeUNhdGNoSW5mb0xpc3QgIT0gJycpIHtcclxuICAgICAgICAgICAgICAgIFx0JChgLnRhcmdldC1sdGUtaW5mby1jb250YWluZXJgKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgIH0gKi9cclxuICAgICAgICAgICAgICAgIC8qZGVsZXRlIGJ5IGd1b3NodWFpIGVuZCAyMDE5LzMvNiovXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCB0ZXh0U3RhdHVzKSB7XHJcbiAgICAgICAgICAgICQoJy5zZWFyY2gtbG9hZGluZycpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfplJnor68nKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coeGhyKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGV4dFN0YXR1cyk7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKiDlvZPliY3mkq3mlL7nirbmgIEqL1xyXG5sZXQgcGxheVN0YXR1cyA9IDA7IC8vIDDlgZzmraLvvJsx5byA5aeL77ybMuaaguWBnFxyXG4vKiDnu5jliLbmlrnms5XnmoTlrprml7blmagqL1xyXG5sZXQgdGltZXI7XHJcbi8qIOaSreaUvumAn+W6piovXHJcbi8qKmRlbCBieSBnYW9jaGFvIHN0YXJ0Ki9cclxubGV0IHBsYXlTcGVlZCA9IDE7XHJcbi8qKmRlbCBieSBnYW9jaGFvIGVuZCAqL1xyXG4vKiDnu5jliLborr7lpIcqL1xyXG5sZXQgcGxheWVkRGV2Q2FjaGUgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIGRldkhpc3RvcnkoZGF0YUxpc3QpIHtcclxuICAgIC8vZWRpdCBieSBzdW5iaW5nIHN0YXJ0XHJcbiAgICBkZXZIaXN0b3J5RGF0YUFsbChkYXRhTGlzdCk7XHJcblx0LyogXHJcblx0aWYgKGVuZ0F1ZGlvVHlwZSA9PSAzKSB7XHJcbiAgICAgICAgLy8g6Z2Z6Z+z57uY5Yi25YWo6YOo5pWw5o2uXHJcbiAgICAgICAgZGV2SGlzdG9yeURhdGFBbGwoZGF0YUxpc3QpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyDpnZ7pnZnpn7PkuKLlpLHpg6jliIbmlbDmja5cclxuICAgICAgICBkZXZIaXN0b3J5RGF0YVBhcnQoZGF0YUxpc3QpO1xyXG4gICAgfSovXHJcbiAgICAvL2VkaXQgYnkgc3VuYmluZyBlbmRcclxuXHJcbn1cclxuZnVuY3Rpb24gZGV2SGlzdG9yeURhdGFBbGwoZGF0YUxpc3QpIHtcclxuICAgIGlmIChwbGF5ZWREZXZDYWNoZS5zaXplID4gMCkge1xyXG4gICAgICAgIHBsYXllZERldkNhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG4gICAgbGV0IGRldkluZm8gPSBQYXJzaW5nRGF0YS5Gb3JtYXREZXZEYXRhKGRhdGFMaXN0W2RldkluZGV4XSk7XHJcbiAgICBpZiAoZGV2SW5mby5yZXBvcnRUaW1lIDw9IHJlcGxheUN1cnJlbnRUaW1lKSB7XHJcbiAgICAgICAgUGFyc2luZ0RldkluZm9DUi5wYXJzaW5nRGV2SW5mbyhkZXZJbmZvLCB0cnVlKTtcclxuICAgICAgICBkZXZJbmRleCA9IGRldkluZGV4ICsgMTtcclxuICAgICAgICBpZiAoZGV2SW5kZXggPCBkYXRhTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFMaXN0W2RldkluZGV4XS5yZXBvcnRUaW1lIDw9IHJlcGxheUN1cnJlbnRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBkZXZIaXN0b3J5KGRhdGFMaXN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBkZXZIaXN0b3J5RGF0YVBhcnQoZGF0YUxpc3QpIHtcclxuICAgIGxldCBkZXZJbmZvID0gUGFyc2luZ0RhdGEuRm9ybWF0RGV2RGF0YShkYXRhTGlzdFtkZXZJbmRleF0pO1xyXG4gICAgaWYgKGRldkluZm8ucmVwb3J0VGltZSA8PSByZXBsYXlDdXJyZW50VGltZSkge1xyXG4gICAgICAgIFBhcnNpbmdEZXZJbmZvQ1IucGFyc2luZ0RldkluZm8oZGV2SW5mbywgdHJ1ZSk7XHJcbiAgICAgICAgcGxheWVkRGV2Q2FjaGUuc2V0KGRldkluZm8uZGV2Q29kZSwgJ3BsYXllZCcpO1xyXG4gICAgICAgIGRldkluZGV4ID0gZGV2SW5kZXggKyAxO1xyXG4gICAgICAgIGlmIChkZXZJbmRleCA8IGRhdGFMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YUxpc3RbZGV2SW5kZXhdLnJlcG9ydFRpbWUgPD0gcmVwbGF5Q3VycmVudFRpbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwbGF5ZWREZXZDYWNoZS5nZXQoZGF0YUxpc3RbZGV2SW5kZXhdLmRldkNvZGUpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXZIaXN0b3J5KGRhdGFMaXN0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2SW5kZXhBZGQoZGF0YUxpc3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGxheWVkRGV2Q2FjaGUgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBsYXllZERldkNhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGRldkluZGV4QWRkKGRhdGFMaXN0KSB7XHJcbiAgICBpZiAoZGF0YUxpc3RbZGV2SW5kZXhdLnJlcG9ydFRpbWUgPD0gcmVwbGF5Q3VycmVudFRpbWUpIHtcclxuICAgICAgICBpZiAocGxheWVkRGV2Q2FjaGUuZ2V0KGRhdGFMaXN0W2RldkluZGV4XS5kZXZDb2RlKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGRldkluZGV4ID0gZGV2SW5kZXggKyAxO1xyXG4gICAgICAgICAgICBkZXZJbmRleEFkZChkYXRhTGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vIGZ1bmN0aW9uIGRldkhpc3RvcnkoZGF0YUxpc3QpIHtcclxuLy8gICAgIGxldCBkZXZJbmZvID0gUGFyc2luZ0RhdGEuRm9ybWF0RGV2RGF0YShkYXRhTGlzdFtkZXZJbmRleF0pO1xyXG4vLyAgICAgaWYgKGRldkluZm8ucmVwb3J0VGltZSA8PSByZXBsYXlDdXJyZW50VGltZSkge1xyXG4vLyAgICAgICAgIFBhcnNpbmdEZXZJbmZvQ1IucGFyc2luZ0RldkluZm8oZGV2SW5mbywgdHJ1ZSk7XHJcbi8vICAgICAgICAgcGxheWVkRGV2Q2FjaGUuc2V0KGRldkluZm8uZGV2Q29kZSwgJ3BsYXllZCcpO1xyXG4vLyAgICAgICAgIGRldkluZGV4ID0gZGV2SW5kZXggKyAxO1xyXG4vLyAgICAgICAgIGlmIChkZXZJbmRleCA8IGRhdGFMaXN0Lmxlbmd0aCkge1xyXG4vLyAgICAgICAgICAgICBpZiAoZGF0YUxpc3RbZGV2SW5kZXhdLnJlcG9ydFRpbWUgPD0gcmVwbGF5Q3VycmVudFRpbWUpIHtcclxuLy8gICAgICAgICAgICAgICAgIGlmIChwbGF5ZWREZXZDYWNoZS5nZXQoZGF0YUxpc3RbZGV2SW5kZXhdLmRldkNvZGUpID09IG51bGwpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBkZXZIaXN0b3J5KGRhdGFMaXN0KTtcclxuLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZGV2SW5kZXggPSBkZXZJbmRleCArIDE7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICBwbGF5ZWREZXZDYWNoZSA9IG5ldyBNYXAoKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgcGxheWVkRGV2Q2FjaGUgPSBuZXcgTWFwKCk7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8qIOe7mOWItuWfuuermSovXHJcbmZ1bmN0aW9uIGJ0c0hpc3RvcnkoZGF0YUxpc3QpIHtcclxuXHJcbiAgICBsZXQgYnRzSW5mbyA9IFBhcnNpbmdEYXRhLkZvcm1hdEJ0c0RhdGEoZGF0YUxpc3RbYnRzSW5kZXhdKTtcclxuICAgIGlmIChidHNJbmZvLnJlcG9ydFRpbWUgPD0gcmVwbGF5Q3VycmVudFRpbWUpIHtcclxuICAgICAgICBsZXQgYnRzSW5mb0xpc3QgPSBbXTtcclxuICAgICAgICBsZXQgYnRzSW5mb3MgPSBkYXRhTGlzdC5zbGljZSgwLCBidHNJbmRleCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidHNJbmZvcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBidHNJbmZvTGlzdFtQYXJzaW5nRGF0YS5Gb3JtYXRCdHNEYXRhKGJ0c0luZm9zW2ldKS5idHNJZF0gPSBQYXJzaW5nRGF0YS5Gb3JtYXRCdHNEYXRhKGJ0c0luZm9zW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGJ0c0luZm9OZXcgPSB7fTtcclxuICAgICAgICBidHNJbmZvTmV3LmJ0c0luZm9zID0gYnRzSW5mb0xpc3Q7XHJcbiAgICAgICAgUGFyc2luZ011bHRpQnRzSW5mby5wcmFzaW5nQnRzSW5mbyhidHNJbmZvTmV3KTtcclxuICAgICAgICBidHNJbmRleCA9IGJ0c0luZGV4ICsgMTtcclxuICAgICAgICBpZiAoYnRzSW5kZXggPCBkYXRhTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFMaXN0W2J0c0luZGV4XS5yZXBvcnRUaW1lIDw9IHJlcGxheUN1cnJlbnRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBidHNIaXN0b3J5KGRhdGFMaXN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG4vKiDnu5jliLbnirbmgIHkv6Hmga8qL1xyXG5mdW5jdGlvbiBzdGF0dXNIaXN0b3J5KGRhdGFMaXN0KSB7XHJcbiAgICBsZXQgc3RhdHVzSW5mbyA9IGRhdGFMaXN0W3N0YXR1c0luZGV4XTtcclxuICAgIGlmIChzdGF0dXNJbmZvLnJlcG9ydFRpbWUgPD0gcmVwbGF5Q3VycmVudFRpbWUpIHtcclxuICAgICAgICBQcmFzaW5nQnRzSW5mb0NSLnByYXNpbmdTdGF0dXNJbmZvKHN0YXR1c0luZm8pO1xyXG4gICAgICAgIHN0YXR1c0luZGV4ID0gc3RhdHVzSW5kZXggKyAxO1xyXG4gICAgICAgIGlmIChzdGF0dXNJbmRleCA8IGRhdGFMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YUxpc3Rbc3RhdHVzSW5kZXhdLnJlcG9ydFRpbWUgPD0gcmVwbGF5Q3VycmVudFRpbWUpIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1c0hpc3RvcnkoZGF0YUxpc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKiDnu5jliLbnm67moIflsI/ljLoqL1xyXG5mdW5jdGlvbiB0YXJnZXRDZWxsSGlzdG9yeShkYXRhTGlzdCkge1xyXG4gICAgLyog5L+d5oyB5a6a5pe25Zmo5LiO5pWw5o2u5pe26Ze05ZCM5q2lKi9cclxuICAgIGlmIChkYXRhTGlzdFt0YXJnZXRDZWxsSW5mb0luZGV4XS5jcmVhdGVUaW1lIDw9IHJlcGxheUN1cnJlbnRUaW1lIC0gMTAwMCkge1xyXG4gICAgICAgIC8qIOaJp+ihjOiuvuWkh+e7mOWItuaWueazlSovXHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YUxpc3QpO1xyXG4gICAgICAgIHRhcmdldENlbGxJbmZvc0NhY2hlLnNldChkYXRhTGlzdFt0YXJnZXRDZWxsSW5mb0luZGV4XS5idHNJZCwgZGF0YUxpc3RbdGFyZ2V0Q2VsbEluZm9JbmRleF0pO1xyXG4gICAgICAgIFByYXNpbmdCdHNJbmZvQ1Iuc2hvd1RhcmdldENlbGwoKTtcclxuICAgICAgICB0YXJnZXRDZWxsSW5mb0luZGV4Kys7XHJcbiAgICB9XHJcbn1cclxuLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuLyog57uY5Yi26aKE6ZSB5Z+656uZKi9cclxuZnVuY3Rpb24gcHJlTG9ja0NlbGxIaXN0b3J5KGRhdGFMaXN0KSB7XHJcbiAgICAvKiDkv53mjIHlrprml7blmajkuI7mlbDmja7ml7bpl7TlkIzmraUqL1xyXG4gICAgaWYgKGRhdGFMaXN0W2RldlByZUxvY2tDZWxsSW5mb0luZGV4XS5jcmVhdGVUaW1lIDw9IHJlcGxheUN1cnJlbnRUaW1lIC0gMTAwMCkge1xyXG4gICAgICAgIC8qIOaJp+ihjOiuvuWkh+e7mOWItuaWueazlSovXHJcbiAgICAgICAgZGV2UHJlTG9ja0NlbGxJbmZvc0NhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGxldCBkZXZQcmVMb2NrQ2VsbEluZm9MaXN0ID0gSlNPTi5wYXJzZShkYXRhTGlzdFtkZXZQcmVMb2NrQ2VsbEluZm9JbmRleF0uYnRzSW5mb3MpO1xyXG4gICAgICAgIGlmIChkZXZQcmVMb2NrQ2VsbEluZm9MaXN0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXZQcmVMb2NrQ2VsbEluZm9MaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYnRzUG9pbnQgPSBHUFNUb0JhaWR1UG9pbnQuZ2V0QmFpZHVQb2ludExvY2F0aW9uKFtbZGV2UHJlTG9ja0NlbGxJbmZvTGlzdFtpXS5sbmcsIGRldlByZUxvY2tDZWxsSW5mb0xpc3RbaV0ubGF0XV0pWzBdO1xyXG4gICAgICAgICAgICAgICAgZGV2UHJlTG9ja0NlbGxJbmZvTGlzdFtpXS5sbmcgPSBidHNQb2ludC5sbmc7XHJcbiAgICAgICAgICAgICAgICBkZXZQcmVMb2NrQ2VsbEluZm9MaXN0W2ldLmxhdCA9IGJ0c1BvaW50LmxhdDtcclxuICAgICAgICAgICAgICAgIGRldlByZUxvY2tDZWxsSW5mb3NDYWNoZS5zZXQoZGV2UHJlTG9ja0NlbGxJbmZvTGlzdFtpXS5idHNJZCwgZGV2UHJlTG9ja0NlbGxJbmZvTGlzdFtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgUHJhc2luZ0J0c0luZm9DUi5zaG93UHJlTG9ja0NlbGwoKTtcclxuICAgICAgICBkZXZQcmVMb2NrQ2VsbEluZm9JbmRleCsrO1xyXG4gICAgfVxyXG59XHJcbi8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcblxyXG4vKue7mOWItuebruagh+aJi+acuuWPt+aJgOWcqOWfuuermUxUReS/oeaBryhDYXRjaCkqL1xyXG5mdW5jdGlvbiBsdGVDYXRjaEluZm9IaXN0b3J5KGRhdGFMaXN0KSB7XHJcbiAgICAvKiDkv53mjIHlrprml7blmajkuI7mlbDmja7ml7bpl7TlkIzmraUqL1xyXG4gICAgbGV0IGx0ZUNhdGNoSW5mbyA9IGRhdGFMaXN0W2x0ZUNhdGNoSW5mb0luZGV4XTtcclxuICAgIGlmIChuZXcgRGF0ZShsdGVDYXRjaEluZm8ucmVwb3J0VGltZSkuZ2V0VGltZSgpIDw9IHJlcGxheUN1cnJlbnRUaW1lKSB7XHJcbiAgICAgICAgUHJhc2luZ0x0ZUNhdGNoSW5mby5zaG93THRlQ2F0Y2hJbmZvKGx0ZUNhdGNoSW5mbyk7XHJcbiAgICAgICAgbHRlQ2F0Y2hJbmZvSW5kZXggPSBsdGVDYXRjaEluZm9JbmRleCArIDE7XHJcbiAgICAgICAgaWYgKGx0ZUNhdGNoSW5mb0luZGV4IDwgZGF0YUxpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmIChuZXcgRGF0ZShkYXRhTGlzdFtsdGVDYXRjaEluZm9JbmRleF0ucmVwb3J0VGltZSkuZ2V0VGltZSgpIDw9IHJlcGxheUN1cnJlbnRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBsdGVDYXRjaEluZm9IaXN0b3J5KGRhdGFMaXN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyog57uY5Yi25Li75Yqo5byP6K+m57uG5L+h5oGvICovXHJcbmZ1bmN0aW9uIGRldkFjdGl2ZURldGFpbEluZm9IaXN0b3J5KGRhdGFMaXN0KSB7XHJcbiAgICBsZXQgZGV2QWN0aXZlRGV0YWlsSW5mbyA9IGRhdGFMaXN0W2RldkFjdGl2ZURldGFpbEluZm9JbmRleF07XHJcbiAgICBpZiAobmV3IERhdGUoZGV2QWN0aXZlRGV0YWlsSW5mby5yZXBvcnRUaW1lKS5nZXRUaW1lKCkgPD0gcmVwbGF5Q3VycmVudFRpbWUpIHtcclxuICAgICAgICBQcmFzaW5nRGV2QWN0aXZlRGV0YWlsSW5mby5zaG93RGV2QWN0aXZlRGV0YWlsSW5mbyhkZXZBY3RpdmVEZXRhaWxJbmZvKTtcclxuICAgICAgICBQcmFzaW5nRGV2QWN0aXZlRGV0YWlsSW5mby5zaG93RGV2QWN0aXZlRW5nTG9nSW5mbyhkZXZBY3RpdmVEZXRhaWxJbmZvKTtcclxuICAgICAgICBkZXZBY3RpdmVEZXRhaWxJbmZvSW5kZXggPSBkZXZBY3RpdmVEZXRhaWxJbmZvSW5kZXggKyAxO1xyXG4gICAgICAgIGlmIChkZXZBY3RpdmVEZXRhaWxJbmZvSW5kZXggPCBkYXRhTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGRhdGFMaXN0W2RldkFjdGl2ZURldGFpbEluZm9JbmRleF0ucmVwb3J0VGltZSkuZ2V0VGltZSgpIDw9IHJlcGxheUN1cnJlbnRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBkZXZBY3RpdmVEZXRhaWxJbmZvSGlzdG9yeShkYXRhTGlzdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qIOe7mOWItlRhIERhdGHkv6Hmga8gKi9cclxuZnVuY3Rpb24gZGV2VGRvYURhdGFJbmZvSGlzdG9yeShkYXRhTGlzdCkge1xyXG4gICAgbGV0IGRldlRkb2FEYXRhSW5mbyA9IGRhdGFMaXN0W3RhRGF0YUluZm9JbmRleF07XHJcbiAgICBpZiAobmV3IERhdGUoZGV2VGRvYURhdGFJbmZvLnJlcG9ydFRpbWUpLmdldFRpbWUoKSA8PSByZXBsYXlDdXJyZW50VGltZSkge1xyXG4gICAgICAgIFByYXNpbmdIaXN0b3J5VGFEYXRhSW5mby5zaG93VGFEYXRhSW5mbyhkZXZUZG9hRGF0YUluZm8pO1xyXG4gICAgICAgIHRhRGF0YUluZm9JbmRleCA9IHRhRGF0YUluZm9JbmRleCArIDE7XHJcbiAgICAgICAgaWYgKHRhRGF0YUluZm9JbmRleCA8IGRhdGFMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAobmV3IERhdGUoZGF0YUxpc3RbdGFEYXRhSW5mb0luZGV4XS5yZXBvcnRUaW1lKS5nZXRUaW1lKCkgPD0gcmVwbGF5Q3VycmVudFRpbWUpIHtcclxuICAgICAgICAgICAgICAgIGRldlRkb2FEYXRhSW5mb0hpc3RvcnkoZGF0YUxpc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKiDnu5jliLZUYSBEcmF35L+h5oGvICovXHJcbmZ1bmN0aW9uIGRldlRkb2FEcmF3SW5mb0hpc3RvcnkoZGF0YUxpc3QpIHtcclxuICAgIGxldCBkZXZUZG9hRHJhd0luZm8gPSBkYXRhTGlzdFt0YURyYXdJbmZvSW5kZXhdO1xyXG4gICAgaWYgKG5ldyBEYXRlKGRldlRkb2FEcmF3SW5mby5yZXBvcnRUaW1lKS5nZXRUaW1lKCkgPD0gcmVwbGF5Q3VycmVudFRpbWUpIHtcclxuICAgICAgICBQcmFzaW5nVGFEcmF3SW5mby5zaG93VGFEcmF3SW5mbyhkZXZUZG9hRHJhd0luZm8pO1xyXG4gICAgICAgIHRhRHJhd0luZm9JbmRleCA9IHRhRHJhd0luZm9JbmRleCArIDE7XHJcbiAgICAgICAgaWYgKHRhRHJhd0luZm9JbmRleCA8IGRhdGFMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAobmV3IERhdGUoZGF0YUxpc3RbdGFEcmF3SW5mb0luZGV4XS5yZXBvcnRUaW1lKS5nZXRUaW1lKCkgPD0gcmVwbGF5Q3VycmVudFRpbWUpIHtcclxuICAgICAgICAgICAgICAgIGRldlRkb2FEcmF3SW5mb0hpc3RvcnkoZGF0YUxpc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGQwKHZhbCkge1xyXG4gICAgaWYgKHZhbCA+PSAxMCkge1xyXG4gICAgICAgIHJldHVybiAnJyArIHZhbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuICcwJyArIHZhbDtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0hpc3RvcnkoZGF0YU1hcCkge1xyXG4gICAgLyog6K6+5a6a5pe26Ze0Ki9cclxuICAgICQoJy5jb250aW5vdXMtdGltZS12YWx1ZScpLmh0bWwoYFxyXG4gICAgICAgICR7YWRkMChuZXcgRGF0ZSgocmVwbGF5Q3VycmVudFRpbWUgLSBjYXNlU3RhcnRUaW1lIDwgMCA/IDAgOiByZXBsYXlDdXJyZW50VGltZSAtIGNhc2VTdGFydFRpbWUpIC0gOCAqIDM2MDAgKiAxMDAwKS5nZXRIb3VycygpKX06JHthZGQwKG5ldyBEYXRlKChyZXBsYXlDdXJyZW50VGltZSAtIGNhc2VTdGFydFRpbWUgPCAwID8gMCA6IHJlcGxheUN1cnJlbnRUaW1lIC0gY2FzZVN0YXJ0VGltZSkgLSA4ICogMzYwMCAqIDEwMDApLmdldE1pbnV0ZXMoKSl9OiR7YWRkMChuZXcgRGF0ZSgocmVwbGF5Q3VycmVudFRpbWUgLSBjYXNlU3RhcnRUaW1lIDwgMCA/IDAgOiByZXBsYXlDdXJyZW50VGltZSAtIGNhc2VTdGFydFRpbWUpIC0gOCAqIDM2MDAgKiAxMDAwKS5nZXRTZWNvbmRzKCkpfVxyXG4gICAgYCk7XHJcbiAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgJCgnLmNhc2UtdGltZScpLmh0bWwoYFxyXG4gICAgICAgICR7YWRkMChuZXcgRGF0ZSgocmVwbGF5Q3VycmVudFRpbWUgLSBjYXNlU3RhcnRUaW1lIDwgMCA/IDAgOiByZXBsYXlDdXJyZW50VGltZSAtIGNhc2VTdGFydFRpbWUpIC0gOCAqIDM2MDAgKiAxMDAwKS5nZXRIb3VycygpKX06JHthZGQwKG5ldyBEYXRlKChyZXBsYXlDdXJyZW50VGltZSAtIGNhc2VTdGFydFRpbWUgPCAwID8gMCA6IHJlcGxheUN1cnJlbnRUaW1lIC0gY2FzZVN0YXJ0VGltZSkgLSA4ICogMzYwMCAqIDEwMDApLmdldE1pbnV0ZXMoKSl9OiR7YWRkMChuZXcgRGF0ZSgocmVwbGF5Q3VycmVudFRpbWUgLSBjYXNlU3RhcnRUaW1lIDwgMCA/IDAgOiByZXBsYXlDdXJyZW50VGltZSAtIGNhc2VTdGFydFRpbWUpIC0gOCAqIDM2MDAgKiAxMDAwKS5nZXRTZWNvbmRzKCkpfVxyXG4gICAgYCk7XHJcbiAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgIHJlcGxheUN1cnJlbnRUaW1lID0gcmVwbGF5Q3VycmVudFRpbWUgKyAxMDAwO1xyXG4gICAgaWYgKHJlcGxheUN1cnJlbnRUaW1lIDwgY2FzZUVuZFRpbWUpIHtcclxuICAgICAgICBUaW1lTGluZS51cGRhdGVUaW1lTGluZShyZXBsYXlDdXJyZW50VGltZSk7XHJcbiAgICAgICAgLy90cnkge1xyXG4gICAgICAgIGlmIChkYXRhTWFwLmhpc3RvcnlEZXZCYXNlSW5mb0xpc3QubGVuZ3RoID4gMCAmJiBkZXZJbmRleCA8PSBkYXRhTWFwLmhpc3RvcnlEZXZCYXNlSW5mb0xpc3QubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICBkZXZIaXN0b3J5KGRhdGFNYXAuaGlzdG9yeURldkJhc2VJbmZvTGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vfSBjYXRjaCAoZSkgeyBjb25zb2xlLmVycm9yKGUpIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YU1hcC5oaXN0b3J5RGV2QWN0aXZlRGV0YWlsSW5mb0xpc3QgJiYgZGF0YU1hcC5oaXN0b3J5RGV2QWN0aXZlRGV0YWlsSW5mb0xpc3QubGVuZ3RoID4gMCAmJiBkZXZBY3RpdmVEZXRhaWxJbmZvSW5kZXggPD0gZGF0YU1hcC5oaXN0b3J5RGV2QWN0aXZlRGV0YWlsSW5mb0xpc3QubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgZGV2QWN0aXZlRGV0YWlsSW5mb0hpc3RvcnkoZGF0YU1hcC5oaXN0b3J5RGV2QWN0aXZlRGV0YWlsSW5mb0xpc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBjb25zb2xlLmVycm9yKGUpIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YU1hcC5oaXN0b3J5QnRzSW5mb0xpc3QubGVuZ3RoID4gMCAmJiBidHNJbmRleCA8PSBkYXRhTWFwLmhpc3RvcnlCdHNJbmZvTGlzdC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBidHNIaXN0b3J5KGRhdGFNYXAuaGlzdG9yeUJ0c0luZm9MaXN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgY29uc29sZS5lcnJvcihlKSB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGRhdGFNYXAuaGlzdG9yeURldlN0YXRlSW5mb0xpc3QubGVuZ3RoID4gMCAmJiBzdGF0dXNJbmRleCA8PSBkYXRhTWFwLmhpc3RvcnlEZXZTdGF0ZUluZm9MaXN0Lmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1c0hpc3RvcnkoZGF0YU1hcC5oaXN0b3J5RGV2U3RhdGVJbmZvTGlzdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7IGNvbnNvbGUuZXJyb3IoZSkgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhTWFwLmhpc3RvcnlUYXJnZXRDZWxsSW5mb0xpc3QubGVuZ3RoID4gMCAmJiB0YXJnZXRDZWxsSW5mb0luZGV4IDw9IGRhdGFNYXAuaGlzdG9yeVRhcmdldENlbGxJbmZvTGlzdC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRDZWxsSGlzdG9yeShkYXRhTWFwLmhpc3RvcnlUYXJnZXRDZWxsSW5mb0xpc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBjb25zb2xlLmVycm9yKGUpIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YU1hcC5oaXN0b3J5Q2F0Y2hJbmZvTGlzdCAmJiBkYXRhTWFwLmhpc3RvcnlDYXRjaEluZm9MaXN0Lmxlbmd0aCA+IDAgJiYgbHRlQ2F0Y2hJbmZvSW5kZXggPD0gZGF0YU1hcC5oaXN0b3J5Q2F0Y2hJbmZvTGlzdC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBsdGVDYXRjaEluZm9IaXN0b3J5KGRhdGFNYXAuaGlzdG9yeUNhdGNoSW5mb0xpc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBjb25zb2xlLmVycm9yKGUpIH1cclxuICAgICAgICAvLyB0cnkge1xyXG4gICAgICAgIC8vICAgICBpZiAoZGF0YU1hcC5oaXN0b3J5RGV2QWN0aXZlRGV0YWlsSW5mb0xpc3QgJiYgZGF0YU1hcC5oaXN0b3J5RGV2QWN0aXZlRGV0YWlsSW5mb0xpc3QubGVuZ3RoID4gMCAmJiBkZXZBY3RpdmVEZXRhaWxJbmZvSW5kZXggPD0gZGF0YU1hcC5oaXN0b3J5RGV2QWN0aXZlRGV0YWlsSW5mb0xpc3QubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgIC8vICAgICAgICAgZGV2QWN0aXZlRGV0YWlsSW5mb0hpc3RvcnkoZGF0YU1hcC5oaXN0b3J5RGV2QWN0aXZlRGV0YWlsSW5mb0xpc3QpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSBjYXRjaCAoZSkgeyBjb25zb2xlLmVycm9yKGUpIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YU1hcC5oaXN0b3J5RGV2VGRvYURhdGFJbmZvTGlzdCAmJiBkYXRhTWFwLmhpc3RvcnlEZXZUZG9hRGF0YUluZm9MaXN0Lmxlbmd0aCA+IDAgJiYgdGFEYXRhSW5mb0luZGV4IDw9IGRhdGFNYXAuaGlzdG9yeURldlRkb2FEYXRhSW5mb0xpc3QubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgZGV2VGRvYURhdGFJbmZvSGlzdG9yeShkYXRhTWFwLmhpc3RvcnlEZXZUZG9hRGF0YUluZm9MaXN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgY29uc29sZS5lcnJvcihlKSB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGRhdGFNYXAuaGlzdG9yeURldlRkb2FEcmF3SW5mb0xpc3QgJiYgZGF0YU1hcC5oaXN0b3J5RGV2VGRvYURyYXdJbmZvTGlzdC5sZW5ndGggPiAwICYmIHRhRHJhd0luZm9JbmRleCA8PSBkYXRhTWFwLmhpc3RvcnlEZXZUZG9hRHJhd0luZm9MaXN0Lmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIGRldlRkb2FEcmF3SW5mb0hpc3RvcnkoZGF0YU1hcC5oaXN0b3J5RGV2VGRvYURyYXdJbmZvTGlzdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7IGNvbnNvbGUuZXJyb3IoZSkgfVxyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGRhdGFNYXAuaGlzdG9yeVByZUxvY2tDZWxsSW5mb0xpc3QubGVuZ3RoID4gMCAmJiBkZXZQcmVMb2NrQ2VsbEluZm9JbmRleCA8PSBkYXRhTWFwLmhpc3RvcnlQcmVMb2NrQ2VsbEluZm9MaXN0Lmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIHByZUxvY2tDZWxsSGlzdG9yeShkYXRhTWFwLmhpc3RvcnlQcmVMb2NrQ2VsbEluZm9MaXN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgY29uc29sZS5lcnJvcihlKSB9XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICBNeUNvb2tpZS5zZXRDb29raWUoJ2NvbWJhdFJlcGxheVBsYXlUaW1lQ2FjaGUnLCByZXBsYXlDdXJyZW50VGltZSwgMzY1KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVwbGF5RW5kKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qIOaXtumXtOi9tGhvdmVy5pi+56S6dGlwcyovXHJcbmxldCBtb3VzZU1vdmVTaG93VGlwcyA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAkKCcudGltZS1saW5lLW1vdXNlLXRpcHMnKS5odG1sKG5ldyBEYXRlKGNhc2VTdGFydFRpbWUgKyAoY2FzZUVuZFRpbWUgLSBjYXNlU3RhcnRUaW1lKSAqIChlLm9mZnNldFggLyAkKHRoaXMpLndpZHRoKCkpKS5Gb3JtYXQoJ2hoOm1tOnNzJykpO1xyXG4gICAgJCgnLnRpbWUtbGluZS1tb3VzZS10aXBzJykuY3NzKCdsZWZ0JywgZS5vZmZzZXRYICsgJ3B4Jyk7XHJcbn1cclxuJChkb2N1bWVudCkub24oJ21vdXNlb3ZlciBtb3VzZW91dCcsICcudGltZS1saW5lLXByb2dyZXNzJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGlmIChlLnR5cGUgPT0gXCJtb3VzZW92ZXJcIikge1xyXG4gICAgICAgIC8v6byg5qCH5oKs5rWuXHJcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBtb3VzZU1vdmVTaG93VGlwcyk7XHJcbiAgICAgICAgJCgnLnRpbWUtbGluZS1tb3VzZS10aXBzJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICB9IGVsc2UgaWYgKGUudHlwZSA9PSBcIm1vdXNlb3V0XCIpIHtcclxuICAgICAgICAvL+m8oOagh+emu+W8gFxyXG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW91c2VNb3ZlU2hvd1RpcHMpO1xyXG4gICAgICAgICQoJy50aW1lLWxpbmUtbW91c2UtdGlwcycpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLyog5LyY5YyW5pe26Ze06L205ouW5YqoKi9cclxuJChkb2N1bWVudCkub24oJ21vdXNlZG93bicsICcudGltZS1saW5lLXNsaWRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgIHRpbWVMaW5lU2xpZGVydElzUHJlc3NlZCA9IHRydWU7XHJcbn0pO1xyXG5cclxuLyog5pe26Ze06L2054K55Ye75LqL5Lu2Ki9cclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyN0aW1lLWxpbmUtY2xpY2stY292ZXInLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgLyog5pqC5YGc5Zue5pS+Ki9cclxuICAgIGlmICh0aW1lciAhPSBudWxsKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XHJcbiAgICAgICAgdGltZXIgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgaWYgKHBsYXlTdGF0dXMgIT0gMCkge1xyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgLy8gJCgnI3BsYXktYnRuJykuaHRtbCgn5pKt5pS+Jyk7XHJcbiAgICAgICAgJCgnLnBsYXktYnRuLWNvbnRhaW5lcicpLmNzcygnYmFja2dyb3VuZCcsICd1cmwoaW1nL2ljb24vcGxheS5wbmcpJyk7XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgJCgnI3RpbWUtbGluZS1wcm9ncmVzcycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIH1cclxuICAgIHBsYXlTdGF0dXMgPSAyO1xyXG4gICAgLyog5pS+572u5Yi75bqm5YC8Ki9cclxuICAgIGxldCBjbGlja0xlZnRQZXJjID0gKGUub2Zmc2V0WCAvICQodGhpcykud2lkdGgoKSkgKiAxMDA7XHJcbiAgICBpZiAoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgPCAoY2xpY2tMZWZ0UGVyYyAvIDEwMCkgKiAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkpIHtcclxuICAgICAgICAkKCcudGltZS1saW5lLW1hcmtlcicpLmNzcygnbGVmdCcsIDEwMCAqICgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSAvICQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSkgKiAoKGNhc2VFbmRUaW1lIC0gY2FzZVN0YXJ0VGltZSkgLyAodGltZURpdmlkZXJDb3VudCAqIDYwICogMTAwMCkpICsgJyUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCgnLnRpbWUtbGluZS1tYXJrZXInKS5jc3MoJ2xlZnQnLCBjbGlja0xlZnRQZXJjICsgJyUnKTtcclxuICAgIH1cclxuICAgIHRpbWVMaW5lTWFya2V0SXNDbGlja2VkID0gdHJ1ZTtcclxuICAgIC8qIOiOt+WPluWIu+W6puaXtumXtO+8jOW5tue7mOWItuW9seWtkCovXHJcbiAgICBUaW1lTGluZS5kZXZIaXN0b3J5U2hhZG93KFRpbWVMaW5lLmdldE1hcmtlclRpbWUoKSk7XHJcbiAgICAkKCcudmlldy1kZWZhdWx0LWJ0bi1iZycpLmNzcygnYmFja2dyb3VuZC1wb3NpdGlvbicsICctMjEwcHggLTMwcHgnKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBocmVmUGxheVRpbWUoaHJlZlRpbWUpIHtcclxuICAgIHJlcGxheUN1cnJlbnRUaW1lID0gaHJlZlRpbWU7XHJcbiAgICAvKiDorr7nva7ov5vluqbmnaEqL1xyXG4gICAgbGV0IHByb2dyZXNzTmV3UGVyYyA9ICgxIC0gKGNhc2VFbmRUaW1lIC0gaHJlZlRpbWUpIC8gKGNhc2VFbmRUaW1lIC0gY2FzZVN0YXJ0VGltZSkpICogMTAwO1xyXG4gICAgJCgnI3RpbWUtbGluZS1wcm9ncmVzcycpLmNzcygnd2lkdGgnLCBwcm9ncmVzc05ld1BlcmMgKyAnJScpO1xyXG4gICAgLyog6K6+572u5pe26Ze06L20Ki9cclxuICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICBjb3VudCA9IChocmVmVGltZSAtIGNhc2VTdGFydFRpbWUpIC8gMTAwMDtcclxuICAgICQoJy50aW1lLWxpbmUtYmx1ZS1jb3ZlcicpLmNzcygnd2lkdGgnLCAnMCUnKTtcclxuICAgIGxldCBibHVlQ292ZXJXaWR0aENhY2hlID0gJCgnLnRpbWUtbGluZS1ibHVlLWNvdmVyJykud2lkdGgoKTtcclxuICAgIGJsdWVDb3ZlcldpZHRoQ2FjaGUgPSBibHVlQ292ZXJXaWR0aENhY2hlICsgKCQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAqIDAuMDI1IC8gNjApICogY291bnQ7XHJcbiAgICAkKCcudGltZS1saW5lLWJsdWUtY292ZXInKS5jc3MoJ3dpZHRoJywgKGJsdWVDb3ZlcldpZHRoQ2FjaGUgLyAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSkgKiAxMDAgKyAnJScpO1xyXG4gICAgVGltZUxpbmUucmVzZXRUaW1lTGluZU1hcmtlcigpO1xyXG4gICAgaWYgKCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpID4gJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpICYmIHBhcnNlRmxvYXQoJCgnLnRpbWUtbGluZS1tYXJrZXInKS5jc3MoJ2xlZnQnKSkgLyAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgPj0gMC44NzUpIHtcclxuICAgICAgICBpZiAoKCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpIC0gJCgnLnRpbWUtbGluZS1ibHVlLWNvdmVyJykud2lkdGgoKSkgLyAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgPiAwLjEyNSkge1xyXG4gICAgICAgICAgICAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykuY3NzKCdsZWZ0JywgLSQoJy50aW1lLWxpbmUtYmx1ZS1jb3ZlcicpLndpZHRoKCkgKyAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgKiAwLjg3NSk7XHJcbiAgICAgICAgICAgICQoJy5lbmctY29sdW1uLWNoYXJ0LWNvbnRhaW5lcicpLmNzcygnbGVmdCcsIC0kKCcudGltZS1saW5lLWJsdWUtY292ZXInKS53aWR0aCgpICsgJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpICogMC44NzUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5jc3MoJ2xlZnQnLCAtJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgKyAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkpO1xyXG4gICAgICAgICAgICAkKCcuZW5nLWNvbHVtbi1jaGFydC1jb250YWluZXInKS5jc3MoJ2xlZnQnLCAtJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgKyAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBUaW1lTGluZS5yZXNldFRpbWVMaW5lTWFya2VyKCk7XHJcbiAgICAgICAgLyog5L+u5pS55ruR5Yqo5p2hKi9cclxuICAgICAgICAkKCcudGltZS1saW5lLXNsaWRlcicpLnJhbmdlU2xpZGVyKCdvcHRpb24nLCAncmFuZ2UnLCB7XHJcbiAgICAgICAgICAgIG1pbjogKCQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAvICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpKSAqIDEwMCxcclxuICAgICAgICAgICAgbWF4OiAoJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpICogMTAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyog5omL5Yqo6K6+572u5ruR5Yqo5p2h5L2N572uKi9cclxuICAgICAgICAkKCcudWktcmFuZ2VTbGlkZXItYmFyJykuY3NzKCdsZWZ0JywgJCgnLnVpLXJhbmdlU2xpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgKiAoKCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpIC0gJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpICsgcGFyc2VGbG9hdCgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykuY3NzKCdyaWdodCcpKSkgLyAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSkpO1xyXG4gICAgICAgICQoJy51aS1yYW5nZVNsaWRlci1sZWZ0SGFuZGxlJykuY3NzKCdsZWZ0JywgJCgnLnVpLXJhbmdlU2xpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgKiAoKCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpIC0gJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpICsgcGFyc2VGbG9hdCgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykuY3NzKCdyaWdodCcpKSkgLyAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSkpO1xyXG4gICAgICAgICQoJy51aS1yYW5nZVNsaWRlci1yaWdodEhhbmRsZScpLmNzcygnbGVmdCcsICQoJy51aS1yYW5nZVNsaWRlci1jb250YWluZXInKS53aWR0aCgpICogKDEgKyBwYXJzZUZsb2F0KCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5jc3MoJ3JpZ2h0JykpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpIC0gNik7XHJcbiAgICB9XHJcbiAgICAvKiDmuIXnqbrlnLDlm74qL1xyXG4gICAgbWFwLmNsZWFyT3ZlcmxheXMoKTtcclxuICAgIGlmIChlbmRNYXJrZXIgIT0gbnVsbCkge1xyXG4gICAgICAgIG1hcC5hZGRPdmVybGF5KGVuZE1hcmtlcilcclxuICAgIH1cclxuICAgIC8qIOa4heepukxURSBDYXRjaOS/oeaBr+mdouadvyAqL1xyXG4gICAgJChgLnRhcmdldC1sdGUtaW5mby1jb250ZW50LWNvbnRhaW5lcmApLmh0bWwoJycpO1xyXG4gICAgLyog5riF56m66K6+5aSH5Li75Yqo5byP6K+m57uG5L+h5oGv6Z2i5p2/ICovXHJcbiAgICAkKGAjYWN0aXZlLWluZm8tY29udGVudC1pbmZvQXJlYWApLmh0bWwoJycpO1xyXG4gICAgJChgLmhpc3RvcnktZW5lcmd5YCkuaHRtbCgnJyk7XHJcbiAgICAkKGAudGEtaW5mby10YWJsZWApLmh0bWwoJycpO1xyXG4gICAgLyog6YeN57uY6KaG55uW54mpKi9cclxuICAgIERyYXdIcmVmTG9hZGluZ092ZXJsYXkuZHJhd0xvZGluZyhocmVmVGltZSk7XHJcbiAgICAvKiDorr7nva7lj7PkuIvop5Lml7bpl7QqL1xyXG4gICAgJCgnLmNvbnRpbm91cy10aW1lLXZhbHVlJykuaHRtbChgXHJcbiAgICAgICAgJHthZGQwKG5ldyBEYXRlKChyZXBsYXlDdXJyZW50VGltZSAtIGNhc2VTdGFydFRpbWUgPCAwID8gMCA6IHJlcGxheUN1cnJlbnRUaW1lIC0gY2FzZVN0YXJ0VGltZSkgLSA4ICogMzYwMCAqIDEwMDApLmdldEhvdXJzKCkpfToke2FkZDAobmV3IERhdGUoKHJlcGxheUN1cnJlbnRUaW1lIC0gY2FzZVN0YXJ0VGltZSA8IDAgPyAwIDogcmVwbGF5Q3VycmVudFRpbWUgLSBjYXNlU3RhcnRUaW1lKSAtIDggKiAzNjAwICogMTAwMCkuZ2V0TWludXRlcygpKX06JHthZGQwKG5ldyBEYXRlKChyZXBsYXlDdXJyZW50VGltZSAtIGNhc2VTdGFydFRpbWUgPCAwID8gMCA6IHJlcGxheUN1cnJlbnRUaW1lIC0gY2FzZVN0YXJ0VGltZSkgLSA4ICogMzYwMCAqIDEwMDApLmdldFNlY29uZHMoKSl9XHJcbiAgICBgKTtcclxuICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAkKCcuY2FzZS10aW1lJykuaHRtbChgXHJcbiAgICAke2FkZDAobmV3IERhdGUoKHJlcGxheUN1cnJlbnRUaW1lIC0gY2FzZVN0YXJ0VGltZSA8IDAgPyAwIDogcmVwbGF5Q3VycmVudFRpbWUgLSBjYXNlU3RhcnRUaW1lKSAtIDggKiAzNjAwICogMTAwMCkuZ2V0SG91cnMoKSl9OiR7YWRkMChuZXcgRGF0ZSgocmVwbGF5Q3VycmVudFRpbWUgLSBjYXNlU3RhcnRUaW1lIDwgMCA/IDAgOiByZXBsYXlDdXJyZW50VGltZSAtIGNhc2VTdGFydFRpbWUpIC0gOCAqIDM2MDAgKiAxMDAwKS5nZXRNaW51dGVzKCkpfToke2FkZDAobmV3IERhdGUoKHJlcGxheUN1cnJlbnRUaW1lIC0gY2FzZVN0YXJ0VGltZSA8IDAgPyAwIDogcmVwbGF5Q3VycmVudFRpbWUgLSBjYXNlU3RhcnRUaW1lKSAtIDggKiAzNjAwICogMTAwMCkuZ2V0U2Vjb25kcygpKX1cclxuICAgIGApO1xyXG4gICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICBNeUNvb2tpZS5zZXRDb29raWUoJ2NvbWJhdFJlcGxheVBsYXlUaW1lQ2FjaGUnLCByZXBsYXlDdXJyZW50VGltZSwgMzY1KTtcclxufVxyXG5cclxuLyog5byA5aeL5oyJ6ZKuKi9cclxuJCgnI3BsYXktYnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgc3dpdGNoIChwbGF5U3RhdHVzKSB7XHJcbiAgICAgICAgY2FzZSAwOiAvLyDlgZzmraLnirbmgIFcclxuICAgICAgICAgICAgaWYgKHJlcGxheUN1cnJlbnRUaW1lID09IDApIHtcclxuICAgICAgICAgICAgICAgIC8qIOWcqOW8gOWni+S5i+WJjea4heepuueVjOmdouS4juWPmOmHj+e8k+WtmCovXHJcbiAgICAgICAgICAgICAgICBtYXAuY2xlYXJPdmVybGF5cygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZE1hcmtlciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmFkZE92ZXJsYXkoZW5kTWFya2VyKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyog6K6+572u5qGI5Lu25byA5aeL5pe26Ze0Ki9cclxuICAgICAgICAgICAgICAgIGNhc2VTdGFydFRpbWUgPSBjb21iYXRSZXBsYXlCZWFuUXVlcnlDYWNoZS5zdGFydFRpbWU7XHJcbiAgICAgICAgICAgICAgICAvKiDorr7nva7moYjku7bnu5PmnZ/ml7bpl7QqL1xyXG4gICAgICAgICAgICAgICAgY2FzZUVuZFRpbWUgPSBjb21iYXRSZXBsYXlCZWFuUXVlcnlDYWNoZS5lbmRUaW1lO1xyXG4gICAgICAgICAgICAgICAgLyog6YeN572u6aG16Z2iKi9cclxuICAgICAgICAgICAgICAgIFBhbmVsLnJlbW92ZUFsbERldigpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmNvbnRpbm91cy10aW1lLXZhbHVlJykuaHRtbCgnMDA6MDA6MDAnKTtcclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAkKCcuY2FzZS10aW1lJykuaHRtbCgnMDA6MDA6MDAnKTtcclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICAgICAgLyog6YeN57uY5pe26Ze06L20Ki9cclxuICAgICAgICAgICAgICAgICQoJy50aW1lLWxpbmUtYXJlYScpLmh0bWwoYFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcyB0aW1lLWxpbmUtcHJvZ3Jlc3NcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWJhciBwcm9ncmVzcy1iYXItc3RyaXBlZFwiIGlkPVwidGltZS1saW5lLXByb2dyZXNzXCIgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7IHRyYW5zaXRpb246IHdpZHRoIDBzICFpbXBvcnRhbnQ7XCIgcm9sZT1cInByb2dyZXNzYmFyXCIgYXJpYS12YWx1ZW5vdz1cIjQ1XCIgYXJpYS12YWx1ZW1pbj1cIjBcIiBhcmlhLXZhbHVlbWF4PVwiMTAwXCIgc3R5bGU9XCJ3aWR0aDogMCVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVuZy1jb2x1bW4tY2hhcnRcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZS1saW5lLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZS1saW5lLWJsdWUtY292ZXJcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lLWxpbmUtbWFya2VyXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ0aW1lLWxpbmUtY2xpY2stY292ZXJcIiBzdHlsZT1cIndpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IHBvc2l0aW9uOiBhYnNvbHV0ZTtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZS1saW5lLXNsaWRlclwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lLWxpbmUtc3RhcnQtdGltZVwiPiR7bmV3IERhdGUoY2FzZVN0YXJ0VGltZSkuRm9ybWF0KCdoaDptbScpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lLWxpbmUtZW5kLXRpbWVcIj4ke25ldyBEYXRlKGNhc2VFbmRUaW1lKS5Gb3JtYXQoJ2hoOm1tJyl9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWUtbGluZS1tb3VzZS10aXBzXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgICAgIFRpbWVMaW5lLmluaXRUaW1lTGluZShjYXNlU3RhcnRUaW1lLCBjYXNlRW5kVGltZSk7XHJcbiAgICAgICAgICAgICAgICBUaW1lTGluZS5yZXNldFRpbWVMaW5lTWFya2VyKCk7XHJcbiAgICAgICAgICAgICAgICAvKiDph43nu5jpobXpnaLpnaLmnb8qL1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoaXN0b3J5SW5mb0NhY2hlLmhpc3RvcnlEZXZCYXNlSW5mb0xpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGV2RHJhd0luZm9NYXAuZ2V0KGhpc3RvcnlJbmZvQ2FjaGUuaGlzdG9yeURldkJhc2VJbmZvTGlzdFtpXS5kZXZDb2RlKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBhbmVsLmFkZE5ld0RldihoaXN0b3J5SW5mb0NhY2hlLmhpc3RvcnlEZXZCYXNlSW5mb0xpc3QsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIOWmguaenOWPquacieS4gOWPsOiuvuWkh++8jOWwseS4jeaYvuekuuWNleWFtUEv6L2m6L29QSovXHJcbiAgICAgICAgICAgICAgICBsZXQgY2FyRGV2TnVtID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBzaW5nbGVEZXZOdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZm9yRWFjaCgoZWFjaERldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZWFjaERldi5kZXZUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhckRldk51bSA9IGNhckRldk51bSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlRGV2TnVtID0gc2luZ2xlRGV2TnVtICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FyRGV2TnVtIDwgMikge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy50ZWFtLWVhY2gtZGV2LWluZGV4LWNhcicpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc2luZ2xlRGV2TnVtIDwgMikge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy50ZWFtLWVhY2gtZGV2LWluZGV4LXNpbmdsZScpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiDorr7nva7nlKjmiLflkI3kv6Hmga8qLyAvL3VzZXJJbmZvc0NhY2hlXHJcbiAgICAgICAgICAgICAgICBsZXQgdXNlckh0bWwgPSAnJztcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXNlckluZm9zQ2FjaGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VySHRtbCA9IHVzZXJIdG1sICsgYCR7dXNlckluZm9zQ2FjaGVbaV0udXNlcm5hbWV9LyR7dXNlckluZm9zQ2FjaGVbaV0uaGFuZGxlU2VxfSBgO1xyXG4gICAgICAgICAgICAgICAgICAgICQoYC51c2VyLW5hbWUtdmFsdWUtYnktaWQtJHt1c2VySW5mb3NDYWNoZVtpXS5pZH1gKS5odG1sKGAke3VzZXJJbmZvc0NhY2hlW2ldLnJlYWxuYW1lfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICQoYC51c2VyLW5hbWUtdmFsdWUtYnktaWQtJHt1c2VySW5mb3NDYWNoZVtpXS5pZH1gKS5hdHRyKCd0aXRsZScsIGAke3VzZXJJbmZvc0NhY2hlW2ldLnJlYWxuYW1lfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VySW5mb3NDYWNoZVtpXS5oZWFkQWRkciAhPSBudWxsICYmIHVzZXJJbmZvc0NhY2hlW2ldLmhlYWRBZGRyICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLnVzZXItbmFtZS12YWx1ZS1ieS1pZC0ke3VzZXJJbmZvc0NhY2hlW2ldLmlkfS1waG90b2ApLmNzcygnYmFja2dyb3VuZCcsIGB1cmwoJHt1c2VySW5mb3NDYWNoZVtpXS5oZWFkQWRkcn0pbm8tcmVwZWF0YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC51c2VyLW5hbWUtdmFsdWUtYnktaWQtJHt1c2VySW5mb3NDYWNoZVtpXS5pZH0tcGhvdG9gKS5jc3MoJ2JhY2tncm91bmQtc2l6ZScsICdjb3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBkZXZEcmF3SW5mb01hcC5mb3JFYWNoKChlYWNoRGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlYWNoRGV2LnVzZXJJZCA9PSB1c2VySW5mb3NDYWNoZVtpXS5pZCAmJiBlYWNoRGV2LnVzZXJOYW1lID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldkRyYXdJbmZvTWFwLmdldChlYWNoRGV2LmRldkNvZGUpLnVzZXJOYW1lID0gdXNlckluZm9zQ2FjaGVbaV0udXNlcm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZEcmF3SW5mb01hcC5nZXQoZWFjaERldi5kZXZDb2RlKS5yZWFsTmFtZSA9IHVzZXJJbmZvc0NhY2hlW2ldLnJlYWxuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZ2V0KGVhY2hEZXYuZGV2Q29kZSkuaGVhZEFkZHIgPSB1c2VySW5mb3NDYWNoZVtpXS5oZWFkQWRkcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJCgnI2Nhc2UtdXNlcnMnKS5odG1sKHVzZXJIdG1sKTtcclxuICAgICAgICAgICAgICAgICQoJyNjYXNlLXVzZXJzJykuYXR0cigndGl0bGUnLCAkKCcjY2FzZS11c2VycycpLmh0bWwoKSk7XHJcbiAgICAgICAgICAgICAgICAvKiDlj5HpgIHlm57miaflvZLpm7YqL1xyXG4gICAgICAgICAgICAgICAgJCgnI3Ntcy1zZW5kLXZhbHVlJykuaHRtbCgnMCcpO1xyXG4gICAgICAgICAgICAgICAgJCgnI3Ntcy1maW5pc2gtdmFsdWUnKS5odG1sKCcwJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjc21zLXJlY2VpcHQtdmFsdWUnKS5odG1sKCcwJyk7XHJcbiAgICAgICAgICAgICAgICAvKiDloavlhYXog73ph4/mnaEqL1xyXG4gICAgICAgICAgICAgICAgRW5nQ29sdW1uQ2hhcnRDb250YWluZXIuaW5pdChoaXN0b3J5SW5mb0NhY2hlLmhpc3RvcnlEZXZCYXNlSW5mb0xpc3QpO1xyXG4gICAgICAgICAgICAgICAgLyog6K6+572u5b2T5YmN5pe26Ze0Ki9cclxuICAgICAgICAgICAgICAgIHJlcGxheUN1cnJlbnRUaW1lID0gY2FzZVN0YXJ0VGltZTtcclxuICAgICAgICAgICAgICAgIC8qIOaUvue9ruWIneWni+iuvuWkhyovXHJcbiAgICAgICAgICAgICAgICBsZXQgZmlyc3REZXZJbmZvID0gUGFyc2luZ0RhdGEuRm9ybWF0RGV2RGF0YShoaXN0b3J5SW5mb0NhY2hlLmhpc3RvcnlEZXZCYXNlSW5mb0xpc3RbMF0pO1xyXG4gICAgICAgICAgICAgICAgUGFyc2luZ0RldkluZm9DUi5wYXJzaW5nRGV2SW5mbyhmaXJzdERldkluZm8sIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiAqL1xyXG4gICAgICAgICAgICAvKiDosIPnlKjnu5jliLbmlrnms5UqL1xyXG4gICAgICAgICAgICBzaG93SGlzdG9yeShoaXN0b3J5SW5mb0NhY2hlKTtcclxuICAgICAgICAgICAgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7IHNob3dIaXN0b3J5KGhpc3RvcnlJbmZvQ2FjaGUpIH0sIDEwMDAgLyBwbGF5U3BlZWQpO1xyXG4gICAgICAgICAgICAvKiDorr7nva7lnLDlm77kuK3lv4MqL1xyXG4gICAgICAgICAgICBsZXQgZGVmYXVsdExuZyA9IGhpc3RvcnlJbmZvQ2FjaGUuaGlzdG9yeURldkJhc2VJbmZvTGlzdFswXS5sbmc7XHJcbiAgICAgICAgICAgIGxldCBkZWZhdWx0TGF0ID0gaGlzdG9yeUluZm9DYWNoZS5oaXN0b3J5RGV2QmFzZUluZm9MaXN0WzBdLmxhdDtcclxuICAgICAgICAgICAgbGV0IHBvaW50Rmlyc3QgPSBHUFNUb0JhaWR1UG9pbnQuZ2V0QmFpZHVQb2ludExvY2F0aW9uKFtbZGVmYXVsdExuZywgZGVmYXVsdExhdF1dKTtcclxuICAgICAgICAgICAgbWFwLmNlbnRlckFuZFpvb20obmV3IEJNYXAuUG9pbnQocG9pbnRGaXJzdFswXS5sbmcsIHBvaW50Rmlyc3RbMF0ubGF0KSwgMTkpO1xyXG4gICAgICAgICAgICBwbGF5U3RhdHVzID0gMTtcclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgLy8gJCgnI3BsYXktYnRuJykuaHRtbCgn5pqC5YGcJyk7XHJcbiAgICAgICAgICAgICQoJy5wbGF5LWJ0bi1jb250YWluZXInKS5jc3MoJ2JhY2tncm91bmQnLCAndXJsKGltZy9pY29uL3BhdXNlLnBuZyknKTtcclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgICQoJyN0aW1lLWxpbmUtcHJvZ3Jlc3MnKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMTogLy8g5byA5aeL54q25oCB77yM5pqC5YGc5pKt5pS+XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xyXG4gICAgICAgICAgICB0aW1lciA9IG51bGw7XHJcbiAgICAgICAgICAgIHBsYXlTdGF0dXMgPSAyO1xyXG4gICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAvLyAkKCcjcGxheS1idG4nKS5odG1sKCfmkq3mlL4nKTtcclxuICAgICAgICAgICAgJCgnLnBsYXktYnRuLWNvbnRhaW5lcicpLmNzcygnYmFja2dyb3VuZCcsICd1cmwoaW1nL2ljb24vcGxheS5wbmcpJyk7XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICAkKCcjdGltZS1saW5lLXByb2dyZXNzJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6IC8vIOaaguWBnOeKtuaAge+8jOe7p+e7reaSreaUvlxyXG4gICAgICAgICAgICBwbGF5U3RhdHVzID0gMTtcclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgLy8gJCgnI3BsYXktYnRuJykuaHRtbCgn5pqC5YGcJyk7XHJcbiAgICAgICAgICAgICQoJy5wbGF5LWJ0bi1jb250YWluZXInKS5jc3MoJ2JhY2tncm91bmQnLCAndXJsKGltZy9pY29uL3BhdXNlLnBuZyknKTtcclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgICQoJyN0aW1lLWxpbmUtcHJvZ3Jlc3MnKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICQoJy5hY3RpdmVkZXYtaW5mby12YWx1ZScpLmh0bWwoXCJcIik7XHJcbiAgICAgICAgICAgICQoJy5hY3RpdmVkZXYtaW5mby10aW1lJykuaHRtbChcIlwiKTtcclxuICAgICAgICAgICAgYnRzQWN0aXZlQ2FjaGUgPSBudWxsO1xyXG4gICAgICAgICAgICAkKCcudGltZS1saW5lLXNsaWRlcicpLnJhbmdlU2xpZGVyKCdvcHRpb24nLCAncmFuZ2UnLCB7XHJcbiAgICAgICAgICAgICAgICBtaW46ICgkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgLyAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSkgKiAxMDAsXHJcbiAgICAgICAgICAgICAgICBtYXg6ICgkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgLyAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSkgKiAxMDBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG5cclxuICAgICAgICAgICAgaWYgKHRpbWVMaW5lTWFya2V0SXNDbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAvKiDojrflj5bliLvluqblsLrlr7nlupTml7bpl7QqL1xyXG4gICAgICAgICAgICAgICAgaHJlZlBsYXlUaW1lKG5ldyBEYXRlKFRpbWVMaW5lLmdldE1hcmtlclRpbWUoKSkuZ2V0VGltZSgpKTtcclxuICAgICAgICAgICAgICAgIC8qIOmHjee9ruWIu+W6puWwuiovXHJcbiAgICAgICAgICAgICAgICBUaW1lTGluZS5yZXNldFRpbWVMaW5lTWFya2VyKCk7XHJcbiAgICAgICAgICAgICAgICB0aW1lTGluZU1hcmtldElzQ2xpY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJCgnLnZpZXctZGVmYXVsdC1idG4tYmcnKS5jc3MoJ2JhY2tncm91bmQtcG9zaXRpb24nLCAnLTE4MHB4IC0zMHB4Jyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXNIcmVmUGxheUZpbmlzdEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoaXN0b3J5Um91dGVMaW5lSXNGaW5pc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpc0hyZWZQbGF5RmluaXN0SW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0hyZWZQbGF5RmluaXN0SW50ZXJ2YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0hpc3RvcnkoaGlzdG9yeUluZm9DYWNoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXBsYXlDdXJyZW50VGltZSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4geyBzaG93SGlzdG9yeShoaXN0b3J5SW5mb0NhY2hlKSB9LCAxMDAwIC8gcGxheVNwZWVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIDUwKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNob3dIaXN0b3J5KGhpc3RvcnlJbmZvQ2FjaGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcGxheUN1cnJlbnRUaW1lID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4geyBzaG93SGlzdG9yeShoaXN0b3J5SW5mb0NhY2hlKSB9LCAxMDAwIC8gcGxheVNwZWVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufSk7XHJcblxyXG5mdW5jdGlvbiByZXBsYXlFbmQoKSB7XHJcbiAgICAvKiDlgZzmraLlrprml7blmagqL1xyXG4gICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XHJcbiAgICB0aW1lciA9IG51bGw7XHJcbiAgICAvKiDlkITlj4LmlbDlvZLpm7YqL1xyXG4gICAgZGV2SW5kZXggPSAwO1xyXG4gICAgYnRzSW5kZXggPSAwO1xyXG4gICAgc3RhdHVzSW5kZXggPSAwO1xyXG4gICAgaGVhdG1hcEluZGV4ID0gMDtcclxuICAgIHRhcmdldENlbGxJbmZvSW5kZXggPSAwO1xyXG4gICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgIGRldlByZUxvY2tDZWxsSW5mb0luZGV4ID0gMDtcclxuICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICBsdGVDYXRjaEluZm9JbmRleCA9IDA7XHJcbiAgICBkZXZBY3RpdmVEZXRhaWxJbmZvSW5kZXggPSAwO1xyXG4gICAgdGFEYXRhSW5mb0luZGV4ID0gMDtcclxuICAgIHRhRHJhd0luZm9JbmRleCA9IDA7XHJcbiAgICBkZXZBY3RpdmVFbmdJbmZvTG9nQ2F0Y2ggPSBbXTtcclxuICAgIGxhc3REZXZBY3RpdmVFbmdJbmZvUmVwb3J0VGltZSA9IDA7XHJcbiAgICBkZXZUZG9hRGF0YUluZm9Mb2dDYXRjaCA9IFtdO1xyXG4gICAgdGFDaXJjbGVQcm9kT3ZlcmxheUNhY2hlID0gW107XHJcbiAgICB0YUNpcmNsZURlYnVnT3ZlcmxheUNhY2hlID0gW107XHJcbiAgICB0YVBvaW50c1Byb2RPdmVybGF5Q2FjaGUgPSBbXTtcclxuICAgIHRhUG9pbnRzRGVidWdPdmVybGF5Q2FjaGUgPSBbXTtcclxuICAgIHRhUG9seWdvblByb2RPdmVybGF5Q2FjaGUgPSBbXTtcclxuICAgIHRhUG9seWdvbkRlYnVnT3ZlcmxheUNhY2hlID0gW107XHJcbiAgICBsYXN0VGFEYXRhSW5mb1JlcG9ydFRpbWUgPSAwO1xyXG4gICAgdXNlZFNlYyA9IDA7XHJcbiAgICByZXBsYXlDdXJyZW50VGltZSA9IDA7XHJcbiAgICBwbGF5U3RhdHVzID0gMDtcclxuICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAvLyAkKCcjcGxheS1idG4nKS5odG1sKCfmkq3mlL4nKTtcclxuICAgICQoJy5wbGF5LWJ0bi1jb250YWluZXInKS5jc3MoJ2JhY2tncm91bmQnLCAndXJsKGltZy9pY29uL3BsYXkucG5nKScpO1xyXG4gICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAkKCcjcGxheS1idG4nKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xyXG4gICAgJCgnI3JlcGxheS1lbmQtbW9kYWwnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgLyoqICovXHJcbiAgICAkKCcjdGltZS1saW5lLXByb2dyZXNzJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgTXlDb29raWUuZGVsZXRlQ29va2llKCdjb21iYXRSZXBsYXlQbGF5VGltZUNhY2hlJyk7XHJcbn1cclxuXHJcbi8qIOiuvue9ruaSreaUvumAn+W6piovXHJcbiQoJy5zcGVlZC12YWx1ZScpLmNsaWNrKChlKSA9PiB7XHJcbiAgICBwbGF5U3BlZWQgPSBlLmN1cnJlbnRUYXJnZXQuY2hpbGRyZW5bMF0uaW5uZXJUZXh0O1xyXG4gICAgaWYgKE51bWJlcihwbGF5U3BlZWQpID4gMSkge1xyXG4gICAgICAgIGVuZ0F1ZGlvVHlwZSA9IDM7XHJcbiAgICAgICAgJCgnI2VuZy1hdWRpby1zZWxlY3RvcicpLmFkZENsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVuZ0F1ZGlvVHlwZSA9IGVuZ0F1ZGlvVHlwZUNhY2hlO1xyXG4gICAgICAgICQoJyNlbmctYXVkaW8tc2VsZWN0b3InKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpO1xyXG4gICAgfVxyXG4gICAgJCgnI3NwZWVkLXZhbHVlJykuaHRtbCgn6YCf5bqmJm5ic3A7eCcgKyBwbGF5U3BlZWQgKyAnIDxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+Jyk7XHJcbiAgICBpZiAocGxheVN0YXR1cyA9PSAxKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XHJcbiAgICAgICAgaWYgKHJlcGxheUN1cnJlbnRUaW1lID4gMCkge1xyXG4gICAgICAgICAgICB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHsgc2hvd0hpc3RvcnkoaGlzdG9yeUluZm9DYWNoZSkgfSwgMTAwMCAvIHBsYXlTcGVlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxuLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuJCgnLnNwZWVkLXN3aXRjaC1idG4nKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgJCgnLnNwZWVkLXN3aXRjaC1jb250ZW50JykudG9nZ2xlKCk7XHJcbiAgICBlID0gZSB8fCBldmVudDtcclxuICAgIHN0b3BGdW5jKGUpO1xyXG5cclxufSk7XHJcblxyXG5kb2N1bWVudC5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICQoXCIuc3BlZWQtc3dpdGNoLWNvbnRlbnRcIikuaGlkZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdG9wRnVuYyhlKSB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbiA/IGUuc3RvcFByb3BhZ2F0aW9uKCkgOiBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XHJcbn1cclxuXHJcbiQoJy5zcGVlZC1zd2l0Y2gtaXRlbScpLmNsaWNrKChlKSA9PiB7XHJcbiAgICBwbGF5U3BlZWQgPSBlLmN1cnJlbnRUYXJnZXQuY2hpbGRyZW5bMF0uaW5uZXJUZXh0O1xyXG4gICAgaWYgKE51bWJlcihwbGF5U3BlZWQpID4gMSkge1xyXG4gICAgICAgIGVuZ0F1ZGlvVHlwZSA9IDM7XHJcbiAgICAgICAgJCgnI2VuZy1hdWRpby1zZWxlY3RvcicpLmFkZENsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVuZ0F1ZGlvVHlwZSA9IGVuZ0F1ZGlvVHlwZUNhY2hlO1xyXG4gICAgICAgICQoJyNlbmctYXVkaW8tc2VsZWN0b3InKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpO1xyXG4gICAgfVxyXG4gICAgJCgnLnNwZWVkLXN3aXRjaC1idG4nKS5odG1sKCc8ZGl2IGNsYXNzPVwic3BlZWQtc3dpdGNoLXZhbHVlXCI+WDxzcGFuPicgKyBwbGF5U3BlZWQgKyAnPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJzcGVlZC1zd2l0Y2gtZHJvcHVwXCI+PC9kaXY+Jyk7XHJcbiAgICAkKCcuc3BlZWQtc3dpdGNoLWNvbnRlbnQnKS5oaWRlKCk7XHJcbiAgICBpZiAocGxheVN0YXR1cyA9PSAxKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XHJcbiAgICAgICAgaWYgKHJlcGxheUN1cnJlbnRUaW1lID4gMCkge1xyXG4gICAgICAgICAgICB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHsgc2hvd0hpc3RvcnkoaGlzdG9yeUluZm9DYWNoZSkgfSwgMTAwMCAvIHBsYXlTcGVlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxuLyoqYWRkIGJ5IGdhb2NoYW8gZW5kICovXHJcbi8qIOmrmOe6p+mdouadv+iuvuWkh+WIh+aNoiovXHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuYWR2YW5jZS1pbmZvLXBhbmVsLXNlbGVjdG9yLWl0ZW0nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgc2VsZWN0ZWREZXZDb2RlID0gJCh0aGlzKS5hdHRyKCdkYXRhLWRldi1jb2RlJyk7XHJcbiAgICAkKCcuYWR2YW5jZS1pbmZvLWNvbnRlbnQnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgJChgLmFkdmFuY2UtaW5mby1jb250ZW50LSR7c2VsZWN0ZWREZXZDb2RlfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgJCgnI2RlZmF1bHQtYWR2YW5jZS1pbmZvLXBhbmVsLWRldicpLmh0bWwoYFxyXG4gICAgICAgICR7c2VsZWN0ZWREZXZDb2RlfSZuYnNwOzxzcGFuIHN0eWxlPVwiY29sb3I6ICM1NjZhZTJcIj4ke2RldkRyYXdJbmZvTWFwLmdldChzZWxlY3RlZERldkNvZGUpLnVzZXJOYW1lfTwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJjYXJldFwiPjwvc3Bhbj5cclxuICAgIGApO1xyXG59KTtcclxuXHJcbi8qIOe7k+adn+ingueciyovXHJcbiQoJyNyZXNldC1zZWFyY2gtc3VibWl0JykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHRpbWVyICE9IG51bGwpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcclxuICAgICAgICB0aW1lciA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBNeUNvb2tpZS5kZWxldGVDb29raWUoJ2NvbWJhdFJlcGxheVBsYXlUaW1lQ2FjaGUnKTtcclxuICAgIE15Q29va2llLmRlbGV0ZUNvb2tpZSgnY29tYmF0UmVwbGF5UXVlcnlDYWNoZScpO1xyXG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG59KTtcclxuXHJcbi8qIGhvdmVy5pi+56S65Z+656uZaWQgKi9cclxubGV0IGhvdmVyU2hvd0J0c0lkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gJ21vdXNlb3ZlcicpIHtcclxuICAgICAgICAkKCcuYnRzLXZhbHVlLScgKyAkKHRoaXMpLmF0dHIoJ2RhdGEtYnRzLWlkJykpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgfSBlbHNlIGlmIChldmVudC50eXBlID09ICdtb3VzZW91dCcpIHtcclxuICAgICAgICAkKCcuYnRzLXZhbHVlLScgKyAkKHRoaXMpLmF0dHIoJ2RhdGEtYnRzLWlkJykpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICB9XHJcbn1cclxuJChkb2N1bWVudCkub24oJ21vdXNlb3ZlciBtb3VzZW91dCcsICcuYnRzLWltZywgLmJ0cy1oaXQtY291bnQsIC5tdWx0aS1zdWItYnRzLWltZycsICcuYnRzLXNlYXJjaC1pbWcnLCBob3ZlclNob3dCdHNJZCk7XHJcblxyXG4vKiDnm67moIfngrnlh7vmmL7npLror6bnu4bkv6Hmga8qL1xyXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmVuZE1hcmtlci1pbWcsIC5lbmRNYXJrZXItaW5mby1wYW5lbC1jbG9zZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKGAuZW5kTWFya2VySWNvbmApLmF0dHIoJ2RhdGEtb3Blbi1zdGF0dXMnKSA9PSAnb3BlbicpIHtcclxuICAgICAgICAvKiDlhbPpl60qL1xyXG4gICAgICAgICQoYC5lbmRNYXJrZXJJY29uYCkuYXR0cignZGF0YS1vcGVuLXN0YXR1cycsICdjbG9zZScpO1xyXG4gICAgICAgICQoYC5lbmRNYXJrZXItaW5mby1wYW5lbGApLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgJChgLmVuZE1hcmtlckljb25gKS5jc3MoJ3otaW5kZXgnLCAkKGAuZW5kTWFya2VySWNvbmApLmF0dHIoJ3otaW5kZXgtdGVtcCcpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLyog5omT5byAKi9cclxuICAgICAgICAkKGAuZW5kTWFya2VySWNvbmApLmF0dHIoJ3otaW5kZXgtdGVtcCcsICQoYC5lbmRNYXJrZXJJY29uYCkuY3NzKCd6LWluZGV4JykpO1xyXG4gICAgICAgICQoYC5lbmRNYXJrZXJJY29uYCkuYXR0cignZGF0YS1vcGVuLXN0YXR1cycsICdvcGVuJyk7XHJcbiAgICAgICAgJChgLmVuZE1hcmtlci1pbmZvLXBhbmVsYCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgJChgLmVuZE1hcmtlckljb25gKS5jc3MoJ3otaW5kZXgnLCA5MDAwKTtcclxuICAgIH1cclxufSk7XHJcbi8qIOWfuuermeeCueWHu+aYvuekuuivpue7huS/oeaBryovXHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuYnRzLWltZywgLmJ0cy1oaXQtY291bnQsIC5idHMtaW5mby1wYW5lbC1jbG9zZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBjbGlja2VkQnRzSWQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtYnRzLWlkJyk7XHJcbiAgICBpZiAoJChgLmJ0cy1jbGljay0ke2NsaWNrZWRCdHNJZH1gKS5hdHRyKCdkYXRhLW9wZW4tc3RhdHVzJykgPT0gJ29wZW4nKSB7XHJcbiAgICAgICAgLyog5YWz6ZetKi9cclxuICAgICAgICAkKGAuYnRzLWNsaWNrLSR7Y2xpY2tlZEJ0c0lkfWApLmF0dHIoJ2RhdGEtb3Blbi1zdGF0dXMnLCAnY2xvc2UnKTtcclxuICAgICAgICAkKGAuYnRzLXNlbGVjdGVkQ2lyY2xlLSR7Y2xpY2tlZEJ0c0lkfWApLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgJChgLmJ0cy1pbmZvLXBhbmVsLSR7Y2xpY2tlZEJ0c0lkfWApLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgJChgLmJ0cy1jbGljay0ke2NsaWNrZWRCdHNJZH1gKS5jc3MoJ3otaW5kZXgnLCAkKGAuYnRzLWNsaWNrLSR7Y2xpY2tlZEJ0c0lkfWApLmF0dHIoJ3otaW5kZXgtdGVtcCcpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLyog5omT5byAKi9cclxuICAgICAgICAkKGAuYnRzLWNsaWNrLSR7Y2xpY2tlZEJ0c0lkfWApLmF0dHIoJ3otaW5kZXgtdGVtcCcsICQoYC5idHMtY2xpY2stJHtjbGlja2VkQnRzSWR9YCkuY3NzKCd6LWluZGV4JykpO1xyXG4gICAgICAgICQoYC5idHMtY2xpY2stJHtjbGlja2VkQnRzSWR9YCkuYXR0cignZGF0YS1vcGVuLXN0YXR1cycsICdvcGVuJyk7XHJcbiAgICAgICAgJChgLmJ0cy1zZWxlY3RlZENpcmNsZS0ke2NsaWNrZWRCdHNJZH1gKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAkKGAuYnRzLWluZm8tcGFuZWwtJHtjbGlja2VkQnRzSWR9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgJChgLmJ0cy1jbGljay0ke2NsaWNrZWRCdHNJZH1gKS5jc3MoJ3otaW5kZXgnLCA5MDAwKTtcclxuICAgIH1cclxufSk7XHJcbi8q5aSN5ZCI5Z+656uZ54K55Ye75pi+56S66K+m57uG5L+h5oGvKi9cclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5tdWx0aS1idHMtaW1nLCAubXVsdGktYnRzLWhpdC1jb3VudCwgLm11bHRpLWJ0cy1pbmZvLXBhbmVsLWNsb3NlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGNsaWNrZWRCdHNJZCA9ICQodGhpcykuYXR0cignZGF0YS1idHMtaWQnKTtcclxuICAgIGlmICgkKGAubXVsdGktYnRzLWNsaWNrLSR7Y2xpY2tlZEJ0c0lkfWApLmF0dHIoJ2RhdGEtb3Blbi1zdGF0dXMnKSA9PSAnb3BlbicpIHtcclxuICAgICAgICAvKiDlhbPpl60qL1xyXG4gICAgICAgICQoYC5tdWx0aS1idHMtY2xpY2stJHtjbGlja2VkQnRzSWR9YCkuYXR0cignZGF0YS1vcGVuLXN0YXR1cycsICdjbG9zZScpO1xyXG4gICAgICAgICQoYC5tdWx0aS1idHMtaW5mby1wYW5lbC0ke2NsaWNrZWRCdHNJZH1gKS5hdHRyKCdkYXRhLW9wZW4tc3RhdHVzJywgJ2Nsb3NlJyk7XHJcbiAgICAgICAgJChgLm11bHRpLWJ0cy1zZWxlY3RlZENpcmNsZS0ke2NsaWNrZWRCdHNJZH1gKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICQoYC5tdWx0aS1idHMtaW5mby1wYW5lbC0ke2NsaWNrZWRCdHNJZH1gKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICQoYC5tdWx0aS1idHMtY2xpY2stJHtjbGlja2VkQnRzSWR9YCkuY3NzKCd6LWluZGV4JywgJzUwMDAnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLyog5omT5byAKi9cclxuICAgICAgICAkKGAubXVsdGktYnRzLWNsaWNrLSR7Y2xpY2tlZEJ0c0lkfWApLmF0dHIoJ2RhdGEtb3Blbi1zdGF0dXMnLCAnb3BlbicpO1xyXG4gICAgICAgICQoYC5tdWx0aS1idHMtaW5mby1wYW5lbC0ke2NsaWNrZWRCdHNJZH1gKS5hdHRyKCdkYXRhLW9wZW4tc3RhdHVzJywgJ29wZW4nKTtcclxuICAgICAgICAkKGAubXVsdGktYnRzLXNlbGVjdGVkQ2lyY2xlLSR7Y2xpY2tlZEJ0c0lkfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICQoYC5tdWx0aS1idHMtaW5mby1wYW5lbC0ke2NsaWNrZWRCdHNJZH1gKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICBsZXQgb2Zmc2V0V2lkdGggPSAnLScgKyAoJChgLm11bHRpLWJ0cy1pbmZvLXBhbmVsLSR7Y2xpY2tlZEJ0c0lkfWApLmNoaWxkcmVuKCkuZXEoMCkud2lkdGgoKSAvIDIgKyAyMykgKyAncHgnXHJcbiAgICAgICAgJChgLm11bHRpLWJ0cy1pbmZvLXBhbmVsLSR7Y2xpY2tlZEJ0c0lkfWApLmNoaWxkcmVuKCkuZXEoMCkuY3NzKCdsZWZ0Jywgb2Zmc2V0V2lkdGgpXHJcbiAgICAgICAgJChgLm11bHRpLWJ0cy1jbGljay0ke2NsaWNrZWRCdHNJZH1gKS5jc3MoJ3otaW5kZXgnLCAnODEwMCcpO1xyXG4gICAgfVxyXG59KTtcclxuLyog5aSN5ZCI5Z+656uZ5a2Q5Z+656uZ54K55Ye75pi+56S66K+m57uG5L+h5oGvKi9cclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5tdWx0aS1zdWItYnRzLWltZywgLm11bHRpLXN1Yi1idHMtaGl0LWNvdW50LCAubXVsdGktc3ViLWJ0cy1pbmZvLXBhbmVsLWNsb3NlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGNsaWNrZWRCdHNJZCA9ICQodGhpcykuYXR0cignZGF0YS1idHMtaWQnKTtcclxuICAgIGlmICgkKGAubXVsdGktc3ViLWJ0cy1jbGljay0ke2NsaWNrZWRCdHNJZH1gKS5hdHRyKCdkYXRhLW9wZW4tc3RhdHVzJykgPT0gJ29wZW4nKSB7XHJcbiAgICAgICAgLyog5YWz6ZetKi9cclxuICAgICAgICAkKGAubXVsdGktc3ViLWJ0cy1jbGljay0ke2NsaWNrZWRCdHNJZH1gKS5hdHRyKCdkYXRhLW9wZW4tc3RhdHVzJywgJ2Nsb3NlJyk7XHJcbiAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtc2VsZWN0ZWRDaXJjbGUtJHtjbGlja2VkQnRzSWR9YCkuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAkKGAubXVsdGktc3ViLWJ0cy1pbmZvLXBhbmVsLSR7Y2xpY2tlZEJ0c0lkfWApLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtY2xpY2stJHtjbGlja2VkQnRzSWR9YCkuY3NzKCd6LWluZGV4JywgJChgLm11bHRpLXN1Yi1idHMtY2xpY2stJHtjbGlja2VkQnRzSWR9YCkuYXR0cignei1pbmRleC10ZW1wJykpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvKiDmiZPlvIAqL1xyXG4gICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWNsaWNrLSR7Y2xpY2tlZEJ0c0lkfWApLmF0dHIoJ3otaW5kZXgtdGVtcCcsICQoYC5tdWx0aS1zdWItYnRzLWNsaWNrLSR7Y2xpY2tlZEJ0c0lkfWApLmNzcygnei1pbmRleCcpKTtcclxuICAgICAgICAkKGAubXVsdGktc3ViLWJ0cy1jbGljay0ke2NsaWNrZWRCdHNJZH1gKS5hdHRyKCdkYXRhLW9wZW4tc3RhdHVzJywgJ29wZW4nKTtcclxuICAgICAgICAkKGAubXVsdGktc3ViLWJ0cy1zZWxlY3RlZENpcmNsZS0ke2NsaWNrZWRCdHNJZH1gKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAkKGAubXVsdGktc3ViLWJ0cy1pbmZvLXBhbmVsLSR7Y2xpY2tlZEJ0c0lkfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8qIOaQnOe0ouWfuuermeeCueWHu+aYvuekuuivpue7huS/oeaBryovXHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuYnRzLXNlYXJjaC1pbWcsIC5idHMtaW5mby1wYW5lbC1zZWFyY2gtY2xvc2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgY2xpY2tlZEJ0c0lkID0gJCh0aGlzKS5hdHRyKCdkYXRhLWJ0cy1pZCcpO1xyXG4gICAgaWYgKCQoYC5idHMtY2xpY2stc2VhcmNoLSR7Y2xpY2tlZEJ0c0lkfWApLmF0dHIoJ2RhdGEtb3Blbi1zdGF0dXMnKSA9PSAnb3BlbicpIHtcclxuICAgICAgICAvKiDlhbPpl60qL1xyXG4gICAgICAgICQoYC5idHMtY2xpY2stc2VhcmNoLSR7Y2xpY2tlZEJ0c0lkfWApLmF0dHIoJ2RhdGEtb3Blbi1zdGF0dXMnLCAnY2xvc2UnKTtcclxuICAgICAgICAkKGAuYnRzLXNlbGVjdGVkQ2lyY2xlLSR7Y2xpY2tlZEJ0c0lkfWApLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgJChgLmJ0cy1pbmZvLXNlYXJjaC1wYW5lbC0ke2NsaWNrZWRCdHNJZH1gKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICQoYC5idHMtY2xpY2stc2VhcmNoLSR7Y2xpY2tlZEJ0c0lkfWApLmNzcygnei1pbmRleCcsICQoYC5idHMtY2xpY2stc2VhcmNoLSR7Y2xpY2tlZEJ0c0lkfWApLmF0dHIoJ3otaW5kZXgtdGVtcCcpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLyog5omT5byAKi9cclxuICAgICAgICAkKGAuYnRzLWNsaWNrLXNlYXJjaC0ke2NsaWNrZWRCdHNJZH1gKS5hdHRyKCd6LWluZGV4LXRlbXAnLCAkKGAuYnRzLWNsaWNrLXNlYXJjaC0ke2NsaWNrZWRCdHNJZH1gKS5jc3MoJ3otaW5kZXgnKSk7XHJcbiAgICAgICAgJChgLmJ0cy1jbGljay1zZWFyY2gtJHtjbGlja2VkQnRzSWR9YCkuYXR0cignZGF0YS1vcGVuLXN0YXR1cycsICdvcGVuJyk7XHJcbiAgICAgICAgJChgLmJ0cy1zZWxlY3RlZENpcmNsZS0ke2NsaWNrZWRCdHNJZH1gKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAkKGAuYnRzLWluZm8tc2VhcmNoLXBhbmVsLSR7Y2xpY2tlZEJ0c0lkfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICQoYC5idHMtY2xpY2stc2VhcmNoLSR7Y2xpY2tlZEJ0c0lkfWApLmNzcygnei1pbmRleCcsIDkwMDApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8qIOWfuuermeiMg+WbtOaYvuekuiovXHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuc2hvdy1yYW5nZS1idXR0b24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgY2xpY2tlZEJ0c0lkID0gJCh0aGlzKS5hdHRyKCdkYXRhLWJ0cy1pZCcpO1xyXG4gICAgaWYgKCQodGhpcykuYXR0cignZGF0YS1vcGVuLXN0YXR1cycpID09ICdvcGVuJykge1xyXG4gICAgICAgIC8qIOWFs+mXrSovXHJcbiAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLW9wZW4tc3RhdHVzJywgJ2Nsb3NlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5odG1sKCfmmL7npLrljYrlvoQnKTtcclxuICAgICAgICBtYXAucmVtb3ZlT3ZlcmxheShidHNEaXZNYXAuZ2V0KGNsaWNrZWRCdHNJZCkuYnRzUmFkaXVzKTtcclxuICAgICAgICBidHNEaXZNYXAuZ2V0KGNsaWNrZWRCdHNJZCkuYnRzUmFkaXVzID0gbnVsbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLyog5omT5byAKi9cclxuICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtb3Blbi1zdGF0dXMnLCAnb3BlbicpO1xyXG4gICAgICAgICQodGhpcykuaHRtbCgn6ZqQ6JeP5Y2K5b6EJyk7XHJcbiAgICAgICAgZHJhd0J0c1JhbmdlKGNsaWNrZWRCdHNJZCk7XHJcbiAgICB9XHJcbn0pO1xyXG4vKiDnu5jliLbln7rnq5nopobnm5bojIPlm7QgKi9cclxuZnVuY3Rpb24gZHJhd0J0c1JhbmdlKGJ0c0lkKSB7XHJcbiAgICBsZXQgYnRzSW5mbyA9IGJ0c0luZm9NYXAuZ2V0KGJ0c0lkKTtcclxuICAgIGxldCBjdXJyZW50UG9pbnQgPSBHUFNUb0JhaWR1UG9pbnQuZ2V0QmFpZHVQb2ludExvY2F0aW9uKFtbYnRzSW5mby5sbmcsIGJ0c0luZm8ubGF0XV0pWzBdO1xyXG4gICAgbGV0IGJ0c1JhbmdlQ2lyY2xlID0gbmV3IEJNYXAuQ2lyY2xlKFxyXG4gICAgICAgIG5ldyBCTWFwLlBvaW50KGJ0c0luZm8ubG5nLCBidHNJbmZvLmxhdCksIGJ0c0luZm8ucmFkaXVzLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3Ryb2tlQ29sb3I6IFwicmVkXCIsXHJcbiAgICAgICAgICAgIHN0cm9rZVdlaWdodDogMSxcclxuICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMC4zLFxyXG4gICAgICAgICAgICBmaWxsQ29sb3I6IFwicmVkXCIsXHJcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiBcIjAuMDVcIlxyXG4gICAgICAgIH1cclxuICAgICk7XHJcbiAgICBidHNEaXZNYXAuZ2V0KGJ0c0lkKS5idHNSYWRpdXMgPSBidHNSYW5nZUNpcmNsZTtcclxuICAgIG1hcC5hZGRPdmVybGF5KGJ0c1JhbmdlQ2lyY2xlKTtcclxufVxyXG5cclxuLyog5Z+656uZ6IyD5Zu05pi+56S6Ki9cclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNzaG93LXJhbmdlLWJ1dHRvbi1zZWFyY2gnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgY2xpY2tlZEJ0c0lkID0gJCh0aGlzKS5hdHRyKCdkYXRhLWJ0cy1pZCcpO1xyXG4gICAgaWYgKCQodGhpcykuYXR0cignZGF0YS1vcGVuLXN0YXR1cycpID09ICdvcGVuJykge1xyXG4gICAgICAgIC8qIOWFs+mXrSovXHJcbiAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLW9wZW4tc3RhdHVzJywgJ2Nsb3NlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5odG1sKCfmmL7npLrljYrlvoQnKTtcclxuICAgICAgICBtYXAucmVtb3ZlT3ZlcmxheShidHNTZWFyY2hEaXZNYXAuZ2V0KGNsaWNrZWRCdHNJZCkuYnRzUmFuZ2VDaXJjbGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvKiDmiZPlvIAqL1xyXG4gICAgICAgICQodGhpcykuYXR0cignZGF0YS1vcGVuLXN0YXR1cycsICdvcGVuJyk7XHJcbiAgICAgICAgJCh0aGlzKS5odG1sKCfpmpDol4/ljYrlvoQnKTtcclxuICAgICAgICBkcmF3U2VhcmNoQnRzUmFuZ2VzKGNsaWNrZWRCdHNJZCk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLyog57uY5Yi25Z+656uZ6KaG55uW6IyD5Zu0ICovXHJcbmZ1bmN0aW9uIGRyYXdTZWFyY2hCdHNSYW5nZXMoYnRzSWQpIHtcclxuICAgIGxldCBidHNSYWRpdXMgPSBidHNTZWFyY2hEaXZNYXAuZ2V0KGJ0c0lkKS5idHNSYWRpdXM7XHJcbiAgICAvL+WdkOagh+i9rOaNolxyXG4gICAgbGV0IGN1cnJlbnRQb2ludCA9IEdQU1RvQmFpZHVQb2ludC5nZXRCYWlkdVBvaW50TG9jYXRpb24oW1tidHNTZWFyY2hEaXZNYXAuZ2V0KGJ0c0lkKS5sbmcsIGJ0c1NlYXJjaERpdk1hcC5nZXQoYnRzSWQpLmxhdF1dKVswXTtcclxuICAgIGxldCBsYXQgPSBjdXJyZW50UG9pbnQubGF0O1xyXG4gICAgbGV0IGxuZyA9IGN1cnJlbnRQb2ludC5sbmc7XHJcbiAgICBsZXQgYnRzUmFuZ2VDaXJjbGUgPSBuZXcgQk1hcC5DaXJjbGUoXHJcbiAgICAgICAgbmV3IEJNYXAuUG9pbnQobG5nLCBsYXQpLCBidHNSYWRpdXMsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzdHJva2VDb2xvcjogXCJyZWRcIixcclxuICAgICAgICAgICAgc3Ryb2tlV2VpZ2h0OiAxLFxyXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjMsXHJcbiAgICAgICAgICAgIGZpbGxDb2xvcjogXCJyZWRcIixcclxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IFwiMC4wNVwiXHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBidHNTZWFyY2hEaXZNYXAuZ2V0KGJ0c0lkKS5idHNSYW5nZUNpcmNsZSA9IGJ0c1JhbmdlQ2lyY2xlO1xyXG4gICAgbWFwLmFkZE92ZXJsYXkoYnRzUmFuZ2VDaXJjbGUpO1xyXG59XHJcblxyXG4vKiDog73ph4/mjIfnpLrmgqzmta4qL1xyXG4kKGRvY3VtZW50KS5vbignbW91c2VvdmVyIG1vdXNlb3V0JywgJy5lbmVyZ3ktYXJyb3ctaG92ZXInLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgaWYgKGUudHlwZSA9PSAnbW91c2VvdmVyJykge1xyXG4gICAgICAgICQoJCh0aGlzKS5uZXh0KCkpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgfSBlbHNlIGlmIChlLnR5cGUgPT0gJ21vdXNlb3V0Jykge1xyXG4gICAgICAgICQoJCh0aGlzKS5uZXh0KCkpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLyog6ZqQ6JeP5Zyw5Zu+54mI5p2D5L+h5oGvKi9cclxuJCgnI2FsbG1hcCcpLmNzcygnaGVpZ2h0JywgJCh3aW5kb3cpLmhlaWdodCgpICsgNjApO1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnI2FsbG1hcCcpLmNzcygnaGVpZ2h0JywgJCh3aW5kb3cpLmhlaWdodCgpICsgNjApO1xyXG59LCBmYWxzZSk7XHJcbi8qIGFkZCBieSBndW9zaHVhaSBzdGFydCAqL1xyXG4vKuaJk+W8gOWFs+mXrXRh5ZCE57G75L+h5oGv5qih5oCB5qGGKi9cclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5hY3RpdmUtaW5mby1jb250YWluZXItY2xvc2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcuYWN0aXZlLWluZm8tY29udGFpbmVyJykuc2xpZGVVcCg1MCk7XHJcbn0pO1xyXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmFjdGl2ZWRldi1pbmZvLWljb24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcuYWN0aXZlLWluZm8tY29udGFpbmVyJykuc2xpZGVEb3duKDUwKTtcclxufSk7XHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuaGlzdG9yaWNhbC1lbmVyZ3ktY29udGFpbmVyLWNsb3NlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLmhpc3RvcmljYWwtZW5lcmd5LWNvbnRhaW5lcicpLnNsaWRlVXAoNTApO1xyXG59KTtcclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5hY3RpdmVkZXYtaGlzdG9yeS1lbmVyZ3ktb3BlbicsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5oaXN0b3JpY2FsLWVuZXJneS1jb250YWluZXInKS5zbGlkZURvd24oNTApO1xyXG59KTtcclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy50YS1pbmZvLWNvbnRhaW5lci1jbG9zZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy50YS1pbmZvLWNvbnRhaW5lcicpLnNsaWRlVXAoNTApO1xyXG4gICAgJCgnLmRldi1ncHMtc3BhbicpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAkKCcuYnRzLWdwcy1zcGFuJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxufSk7XHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuQ1ItdGEtdGFyZ2V0LWluZm8nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcudGEtaW5mby1jb250YWluZXInKS5zbGlkZURvd24oNTApO1xyXG4gICAgJCgnLnRhcmdldC1sdGUtaW5mby1jb250YWluZXInKS5zbGlkZURvd24oNTApO1xyXG59KTtcclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy50YXJnZXQtbHRlLWluZm8tY29udGFpbmVyLWNsb3NlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLnRhcmdldC1sdGUtaW5mby1jb250YWluZXInKS5zbGlkZVVwKDUwKTtcclxufSk7XHJcbi8q54K55Ye7Z3Bz5Zu+5qCH5pi+56S6Z3Bz5L+h5oGvKi9cclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5zaG93LWRldi1ncHMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJCh0aGlzKS5hdHRyKCdkYXRhLWRldi1ncHMtc2hvdy1zdGF0dXMnKSA9PSAwKSB7XHJcbiAgICAgICAgJCh0aGlzKS5jaGlsZHJlbihcIi5kZXYtZ3BzLXNwYW5cIikuc2hvdygpO1xyXG4gICAgICAgICQodGhpcykuYXR0cignZGF0YS1kZXYtZ3BzLXNob3ctc3RhdHVzJywgMSlcclxuICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5hdHRyKCdkYXRhLWRldi1ncHMtc2hvdy1zdGF0dXMnKSA9PSAxKSB7XHJcbiAgICAgICAgJCh0aGlzKS5jaGlsZHJlbihcIi5kZXYtZ3BzLXNwYW5cIikuaGlkZSgpO1xyXG4gICAgICAgICQodGhpcykuYXR0cignZGF0YS1kZXYtZ3BzLXNob3ctc3RhdHVzJywgMClcclxuICAgIH1cclxufSk7XHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuc2hvdy1idHMtZ3BzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCQodGhpcykuYXR0cignZGF0YS1idHMtZ3BzLXNob3ctc3RhdHVzJykgPT0gMCkge1xyXG4gICAgICAgICQodGhpcykuY2hpbGRyZW4oXCIuYnRzLWdwcy1zcGFuXCIpLnNob3coKTtcclxuICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtYnRzLWdwcy1zaG93LXN0YXR1cycsIDEpXHJcbiAgICB9IGVsc2UgaWYgKCQodGhpcykuYXR0cignZGF0YS1idHMtZ3BzLXNob3ctc3RhdHVzJykgPT0gMSkge1xyXG4gICAgICAgICQodGhpcykuY2hpbGRyZW4oXCIuYnRzLWdwcy1zcGFuXCIpLmhpZGUoKTtcclxuICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtYnRzLWdwcy1zaG93LXN0YXR1cycsIDApXHJcbiAgICB9XHJcbn0pO1xyXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmJ0cy1ncHMtc3BhbicsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbn0pO1xyXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmRldi1ncHMtc3BhbicsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbn0pO1xyXG4vKiBhZGQgYnkgZ3Vvc2h1YWkgZW5kICovXHJcbi8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcudGEtaW5mby1idG4nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcudGEtaW5mby1jb250YWluZXInKS50b2dnbGUoKTtcclxufSk7XHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcudGFyZ2V0LWx0ZS1pbmZvLWJ0bicsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy50YXJnZXQtbHRlLWluZm8tY29udGFpbmVyJykudG9nZ2xlKCk7XHJcbn0pO1xyXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnRhcmdldC1sdGUtaW5mby1jbG9zZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy50YXJnZXQtbHRlLWluZm8tY29udGFpbmVyJykudG9nZ2xlKCk7XHJcbn0pO1xyXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmFjdGl2ZWRldi1pbmZvLWJ0bicsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5hY3RpdmUtaW5mby1jb250YWluZXInKS50b2dnbGUoKTtcclxufSk7XHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuYWR2YW5jZS1pbmZvLWNvbnRhaW5lci1jbG9zZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5hZHZhbmNlLWluZm8tY29udGFpbmVycycpLnRvZ2dsZSgpO1xyXG59KTtcclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5jaGFubmVsLWluZm8tYnRuJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLmFkdmFuY2UtaW5mby1jb250YWluZXJzJykudG9nZ2xlKCk7XHJcbn0pO1xyXG5cclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5hY3RpdmUtaW5mby1zd2l0Y2gtaXRlbScsIGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBhY3RpdmVJbmZvU3dpdGNoSWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XHJcbiAgICAkKCcuYWN0aXZlLWluZm8tc3dpdGNoLWl0ZW0nKS5jc3Moe1xyXG4gICAgICAgIFwiYmFja2dyb3VuZFwiOiBcIiNmZmZcIixcclxuICAgICAgICBcImNvbG9yXCI6IFwiIzJBOENGRlwiXHJcbiAgICB9KTtcclxuICAgIGlmIChhY3RpdmVJbmZvU3dpdGNoSWQgPT0gXCJhY3RpdmUtaW5mby1iYXNlaW5mb1wiKSB7XHJcbiAgICAgICAgJCgnI2FjdGl2ZS1pbmZvLWJhc2VpbmZvJykuY3NzKHtcclxuICAgICAgICAgICAgXCJiYWNrZ3JvdW5kXCI6IFwiIzM4QTZGRVwiLFxyXG4gICAgICAgICAgICBcImNvbG9yXCI6IFwiI2ZmZmZmZlwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLmFjdGl2ZS1pbmZvLWNvbnRlbnQnKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgJCgnLmhpc3RvcnktZW5lcmd5LWluZm8nKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgIH0gZWxzZSBpZiAoYWN0aXZlSW5mb1N3aXRjaElkID09IFwiYWN0aXZlLWluZm8tZW5naGlzdG9yeVwiKSB7XHJcbiAgICAgICAgJCgnI2FjdGl2ZS1pbmZvLWVuZ2hpc3RvcnknKS5jc3Moe1xyXG4gICAgICAgICAgICBcImJhY2tncm91bmRcIjogXCIjMzhBNkZFXCIsXHJcbiAgICAgICAgICAgIFwiY29sb3JcIjogXCIjZmZmZmZmXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcuYWN0aXZlLWluZm8tY29udGVudCcpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICQoJy5oaXN0b3J5LWVuZXJneS1pbmZvJykuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgfVxyXG59KTtcclxuLyoqYWRkIGJ5IGdhb2NoYW8gZW5kICovXHJcbi8qKuWkjeWItuWKn+iDvSovXHJcbnZhciBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkSlMoJy5jbGlwYm9hcmQnKTtcclxuY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIC8vIGNvbnNvbGUuaW5mbygnQWN0aW9uOicsIGUuYWN0aW9uKTtcclxuICAgIC8vIGNvbnNvbGUuaW5mbygnVGV4dDonLCBlLnRleHQpO1xyXG4gICAgLy8gY29uc29sZS5pbmZvKCdUcmlnZ2VyOicsIGUudHJpZ2dlcik7XHJcbiAgICBsZXQgb3B0aW9ucyA9IHtcclxuICAgICAgICB0aXRsZTogJ+WfuuermUlE5bey5aSN5Yi2JyxcclxuICAgICAgICB0cmlnZ2VyOiAnbWFudWFsJyxcclxuICAgICAgICBwbGFjZW1lbnQ6ICdyaWdodCcsXHJcbiAgICAgICAgLy9jb250YWluZXI6ICdib2R5JyxcclxuICAgIH07XHJcbiAgICAkKGUudHJpZ2dlcikudG9vbHRpcChvcHRpb25zKTtcclxuICAgICQoZS50cmlnZ2VyKS50b29sdGlwKCdzaG93Jyk7XHJcbiAgICBlLmNsZWFyU2VsZWN0aW9uKCk7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgIFx0JChlLnRyaWdnZXIpLnRvb2x0aXAoJ2hpZGUnKTtcclxuICAgICAgICAkKFwiLmNsaXBib2FyZFwiKS50b29sdGlwKCdkZXN0cm95Jyk7XHJcbiAgICB9LCAxMDAwKTtcclxufSk7XHJcbmNsaXBib2FyZC5vbignZXJyb3InLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgY29uc29sZS5lcnJvcignQWN0aW9uOicsIGUuYWN0aW9uKTtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1RyaWdnZXI6JywgZS50cmlnZ2VyKTtcclxufSk7XHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuY2xpcGJvYXJkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHRleHQgPSAkKHRoaXMpLmF0dHIoXCJkYXRhLWNsaXBib2FyZC10ZXh0XCIpO1xyXG4gICAgaWYgKHRleHQgIT0gdW5kZWZpbmVkICYmIHRleHQgIT0gbnVsbCkge1xyXG4gICAgICAgIGxldCBhY3RpdmVTdGF0dXM9ICAkKHRoaXMpLmF0dHIoJ2FjdGl2ZS1zdGF0dXMnKTtcclxuICAgICAgICBNb3ZlVG9CdHModGV4dCxhY3RpdmVTdGF0dXMpO1xyXG4gICAgfVxyXG59KTtcclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5hZHZhbmNlLWluZm8tbGlzdC1jb250ZW50LUdQUy1pbWcnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgdGV4dCA9ICQodGhpcykuYXR0cihcImRhdGEtY2xpcGJvYXJkLXRleHRcIik7XHJcbiAgICBpZiAodGV4dCAhPSB1bmRlZmluZWQgJiYgdGV4dCAhPSBudWxsKSB7XHJcbiAgICAgICAgTW92ZVRvQnRzKHRleHQsJ2ZhbHNlJyk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gTW92ZVRvQnRzKGRhdGEsYWN0aXZlU3RhdHVzKSB7XHJcbiAgICBsZXQgYnRzRGF0YSA9IG51bGw7XHJcbiAgICBpZiAoYnRzTm93RmxhZ01hcmtlciAhPSBudWxsKSB7XHJcbiAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkoYnRzTm93RmxhZ01hcmtlcik7XHJcbiAgICB9XHJcbiAgICBpZihhY3RpdmVTdGF0dXMhPVwidHJ1ZVwiKXtcclxuICAgICAgICBsZXQgYnRzSW5mbyA9IGJ0c0luZm9NYXAuZ2V0KGRhdGEpO1xyXG4gICAgICAgIGxldCBtdWx0aUJ0c0luZm8gPSBtdWx0aUJ0c0luZm9NYXAuZ2V0KGRhdGEpO1xyXG4gICAgICAgIGlmIChtdWx0aUJ0c0luZm8gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBidHNEYXRhID0gbXVsdGlCdHNJbmZvO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYnRzSW5mbyAhPSB1bmRlZmluZWQgJiYgYnRzSW5mbyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBwYXJlbnRCdHNJZCA9IGJ0c0luZm8ucGFyZW50QnRzSWQ7XHJcbiAgICAgICAgICAgIGxldCBwYXJlbnRCdHNEYXRhID0gbXVsdGlCdHNJbmZvTWFwLmdldChwYXJlbnRCdHNJZCk7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnRCdHNEYXRhICE9IHVuZGVmaW5lZCAmJiBwYXJlbnRCdHNEYXRhICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGJ0c0RhdGEgPSBwYXJlbnRCdHNEYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChidHNEYXRhICE9IHVuZGVmaW5lZCAmJiBidHNEYXRhICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbWFwRm9sbG93RmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkKCcudmlldy1sb2NrLWJ0biBkaXYnKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwidXJsKGltZy9pY29uL2xvY2F0aW9uLnBuZyluby1yZXBlYXRcIik7XHJcbiAgICAgICAgICAgIG1hcC5zZXRDZW50ZXIobmV3IEJNYXAuUG9pbnQoYnRzRGF0YS5sbmcsIGJ0c0RhdGEubGF0KSk7XHJcbiAgICAgICAgICAgIG1hcC5zZXRab29tKG1hcC5nZXRab29tKCkgLSAxKTtcclxuICAgICAgICAgICAgbWFwLnNldFpvb20obWFwLmdldFpvb20oKSArIDEpO1xyXG4gICAgICAgICAgICBsZXQgcHQgPSBuZXcgQk1hcC5Qb2ludChidHNEYXRhLmxuZywgYnRzRGF0YS5sYXQpO1xyXG4gICAgICAgICAgICBsZXQgbXlJY29uID0gbmV3IEJNYXAuSWNvbihcIi4vaW1nL25vd1ZpZXcucG5nXCIsIG5ldyBCTWFwLlNpemUoNTAsIDUwKSk7XHJcbiAgICAgICAgICAgIGJ0c05vd0ZsYWdNYXJrZXIgPSBuZXcgQk1hcC5NYXJrZXIocHQsIHsgaWNvbjogbXlJY29uIH0pOyAgLy8g5Yib5bu65qCH5rOoXHJcbiAgICAgICAgICAgIG1hcC5hZGRPdmVybGF5KGJ0c05vd0ZsYWdNYXJrZXIpOyAgLy8g5bCG5qCH5rOo5re75Yqg5Yiw5Zyw5Zu+5LitXHJcbiAgICAgICAgICAgIGJ0c05vd0ZsYWdMYWJlbCA9IG5ldyBCTWFwLkxhYmVsKFwi54K55Ye76ZqQ6JePXCIse29mZnNldDpuZXcgQk1hcC5TaXplKDIwLC0xMCl9KTtcclxuICAgICAgICAgICAgYnRzTm93RmxhZ01hcmtlci5zZXRMYWJlbChidHNOb3dGbGFnTGFiZWwpO1xyXG4gICAgICAgICAgICBidHNOb3dGbGFnTWFya2VyLnNldE9mZnNldChuZXcgQk1hcC5TaXplKDYsIC02MCkpO1xyXG4gICAgICAgICAgICBidHNOb3dGbGFnTGFiZWwuaGlkZSgpO1xyXG4gICAgICAgICAgICBidHNOb3dGbGFnTWFya2VyLnNldEFuaW1hdGlvbihCTUFQX0FOSU1BVElPTl9CT1VOQ0UpO1xyXG4gICAgICAgICAgICBidHNOb3dGbGFnTWFya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkoYnRzTm93RmxhZ01hcmtlcik7XHJcbiAgICAgICAgICAgICAgICBidHNOb3dGbGFnTWFya2VyID0gbnVsbDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJ0c05vd0ZsYWdNYXJrZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYnRzTm93RmxhZ0xhYmVsLnNob3coKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJ0c05vd0ZsYWdNYXJrZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBidHNOb3dGbGFnTGFiZWwuaGlkZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKCcudGlwLWNvbnRlbnQnKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCgnLnRpcC1jb250ZW50JykuZmFkZU91dCg4MDApO1xyXG4gICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuYWR2YW5jZS1pbmZvLXN3aXRjaC1pdGVtJywgZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGFkdmFuY2VJbmZvU3dpdGNoSWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XHJcbiAgICAkKCcuYWR2YW5jZS1pbmZvLXN3aXRjaC1pdGVtJykuY3NzKHtcclxuICAgICAgICBcImJhY2tncm91bmRcIjogXCIjZmZmXCIsXHJcbiAgICAgICAgXCJjb2xvclwiOiBcIiMyQThDRkZcIlxyXG4gICAgfSk7XHJcbiAgICBpZiAoYWR2YW5jZUluZm9Td2l0Y2hJZCA9PSBcImFkdmFuY2UtaW5mby1idHMtbW9kZWxcIikge1xyXG4gICAgICAgICQoJyNhZHZhbmNlLWluZm8tYnRzLW1vZGVsJykuY3NzKHtcclxuICAgICAgICAgICAgXCJiYWNrZ3JvdW5kXCI6IFwiIzM4QTZGRVwiLFxyXG4gICAgICAgICAgICBcImNvbG9yXCI6IFwiI2ZmZmZmZlwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLmFkdmFuY2UtaW5mby1idHMtbW9kZWwtY29udGFpbmVyJykuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAgICQoJy5hZHZhbmNlLWluZm8tYnRzLWxpc3QtY29udGFpbmVyJykuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcbiAgICB9IGVsc2UgaWYgKGFkdmFuY2VJbmZvU3dpdGNoSWQgPT0gXCJhZHZhbmNlLWluZm8tYnRzLWxpc3RcIikge1xyXG4gICAgICAgICQoJyNhZHZhbmNlLWluZm8tYnRzLWxpc3QnKS5jc3Moe1xyXG4gICAgICAgICAgICBcImJhY2tncm91bmRcIjogXCIjMzhBNkZFXCIsXHJcbiAgICAgICAgICAgIFwiY29sb3JcIjogXCIjZmZmZmZmXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcuYWR2YW5jZS1pbmZvLWJ0cy1tb2RlbC1jb250YWluZXInKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgICAgICAkKCcuYWR2YW5jZS1pbmZvLWJ0cy1saXN0LWNvbnRhaW5lcicpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnI2J0cy1zZWFyY2gnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcuc2VhcmNoLWJ0cy1jb250YWluZXJzJykudG9nZ2xlKCk7XHJcbn0pO1xyXG5cclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5jbG9zZV9zZWFyY2hfbW9kYWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcuc2VhcmNoLWJ0cy1jb250YWluZXJzJykudG9nZ2xlKCk7XHJcbn0pO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL21haW4uanNcbi8vIG1vZHVsZSBpZCA9IDM1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///35\n");

/***/ }),
/* 36 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Distance_BaiduMap_js__ = __webpack_require__(9);\n\r\n\r\nclass BaiduMapDrawing {\r\n\r\n    static initDrawingTools(map) {\r\n        /* 鼠标绘制工具*/\r\n        // 鼠标绘制完成回调方法   获取各个点的经纬度\r\n        let overlays = [];\r\n        let overlaycomplete = function (e) {\r\n            overlays.push(e.overlay);\r\n            if (e.drawingMode == 'marker' && thisPageType == 'RTC') {\r\n                /* 移除上一个*/\r\n                if (overlays.length > 1) {\r\n                    map.removeOverlay(overlays[0]);\r\n                    overlays.splice(0, 1);\r\n                }\r\n                let id = new Date().getTime();\r\n                let devDivHtml = '';\r\n                let isExistCar = false;\r\n                let index = 0;\r\n                devDrawInfoMap.forEach((eachDev) => {\r\n                    if (eachDev.devType == 1) {\r\n                        isExistCar = true;\r\n                    }\r\n                });\r\n                devDrawInfoMap.forEach((eachDev) => {\r\n                    let checked = '';\r\n                    if (isExistCar) {\r\n                        if (eachDev.devType == 1 && index == 0) {\r\n                            checked = 'checked';\r\n                            index = index + 1;\r\n                        }\r\n                    } else {\r\n                        if (index == 0) {\r\n                            checked = 'checked';\r\n                            index = index + 1;\r\n                        }\r\n                    }\r\n                    devDivHtml = devDivHtml + `\r\n                        <div style=\"position: relative;\">\r\n                            <label class=\"mdui-radio\" style=\"font-weight: 100;\">\r\n                                <input class=\"target-point-radio-${id}\" type=\"radio\" data-dev-code=\"${eachDev.devCode}\" name=\"group1\"/ ${checked}>\r\n                                <i class=\"mdui-radio-icon\"></i>\r\n                                ${eachDev.devCode}(${eachDev.userName})\r\n                            </label>\r\n                        </div>\r\n                    `;\r\n                });\r\n                let infoWindowHtml = `\r\n                    <h5>发送可疑目标位置</h5>\r\n                    <div class=\"target-point-dev-selector-container\">\r\n                        <form>\r\n                            ${devDivHtml}\r\n                        </form>\r\n                    </div>\r\n                    <div class=\"target-point-send-status target-point-send-status-${id}\"></div>\r\n                    <button type=\"button\" class=\"target-point-send target-point-send-${id} btn btn-default\" onclick=\"sendPointToDev(${id})\"\r\n                            data-id=\"${id}\" data-lng=\"${e.overlay.point.lng}\" data-lat=\"${e.overlay.point.lat}\">发送</button>\r\n                `;\r\n                let infoWindow = new BMap.InfoWindow(infoWindowHtml);  // 创建信息窗口对象\r\n                e.overlay.openInfoWindow(infoWindow);\r\n                e.overlay.addEventListener('click', function (e) {\r\n                    this.openInfoWindow(infoWindow);\r\n                });\r\n            }\r\n            /**add by gaochao start */\r\n            $('#drawing-clear-last').css('background','url(img/icon/back.png)no-repeat');\r\n            $('#drawing-clear-all').css('background','url(img/icon/clear.png)no-repeat');\r\n            /**add by gaochao end*/\r\n        };\r\n        /**add by gaochao start */\r\n        let overlaycomplete_polygon = function(e){\r\n            $('#drap-polygon').css('background','url(img/icon/polygon.png)');\r\n            $('#drap-polygon').attr('data-is-open', '0');\r\n            overlays.push(e.overlay);\r\n            var path = e.overlay.getPath();//Array<Point> 返回多边型的点数组\r\n            for(var i=0;i<path.length;i++){\r\n                console.log(\"lng:\"+path[i].lng+\"\\n lat:\"+path[i].lat);\r\n            }\r\n            $('#drawing-clear-last').css('background','url(img/icon/back.png)no-repeat');\r\n            $('#drawing-clear-all').css('background','url(img/icon/clear.png)no-repeat');\r\n        };\r\n        /**add by gaochao end*/\r\n        let styleOptions = {\r\n            strokeColor: \"rgb(34,121,181)\",    //边线颜色。\r\n            fillColor: \"rgb(34,121,181)\",      //填充颜色。当参数为空时，圆形将没有填充效果。\r\n            strokeWeight: 3,       //边线的宽度，以像素为单位。\r\n            strokeOpacity: 0.8,       //边线透明度，取值范围0 - 1。\r\n            fillOpacity: 0.3,      //填充的透明度，取值范围0 - 1。\r\n            strokeStyle: 'solid' //边线的样式，solid或dashed。\r\n        }\r\n\r\n        // 实例化鼠标绘制工具\r\n        let drawingManager = new BMapLib.DrawingManager(map, {\r\n            isOpen: false, //是否开启绘制模式\r\n            enableDrawingTool: false, //是否显示工具栏\r\n            drawingToolOptions: {\r\n                anchor: BMAP_ANCHOR_TOP_RIGHT, //位置\r\n                offset: new BMap.Size(5, 5), //偏离值\r\n            },      \r\n            circleOptions: styleOptions, //圆的样式\r\n            polylineOptions: styleOptions, //线的样式\r\n            polygonOptions: styleOptions, //多边形的样式\r\n            rectangleOptions: styleOptions //矩形的样式\r\n\r\n        });\r\n        /**add by gaochao start */\r\n        let drawingManager_polygon = new BMapLib.DrawingManager(map, {\r\n            isOpen: false, //是否开启绘制模式\r\n            enableDrawingTool: false, //是否显示工具栏\r\n            drawingMode:BMAP_DRAWING_POLYGON,//绘制模式  多边形\r\n            drawingToolOptions: {\r\n                anchor: BMAP_ANCHOR_TOP_RIGHT, //位置\r\n                offset: new BMap.Size(5, 5), //偏离值\r\n                drawingModes:[\r\n                    BMAP_DRAWING_POLYGON\r\n                ]\r\n            },\r\n            polygonOptions: styleOptions //多边形的样式\r\n        });\r\n        let drawingManager_circle = new BMapLib.DrawingManager(map, {\r\n            isOpen: false, //是否开启绘制模式\r\n            enableDrawingTool: false, //是否显示工具栏\r\n            drawingMode:BMAP_DRAWING_CIRCLE,//绘制模式  圆\r\n            drawingToolOptions: {\r\n                anchor: BMAP_ANCHOR_TOP_RIGHT, //位置\r\n                offset: new BMap.Size(5, 5), //偏离值\r\n                drawingModes:[\r\n                    BMAP_DRAWING_CIRCLE\r\n                ]\r\n            },\r\n            polygonOptions: styleOptions //多边形的样式\r\n        });\r\n        /**add by gaochao end*/\r\n        map.disableDoubleClickZoom();\r\n\r\n        // 添加鼠标绘制工具监听事件，用于获取绘制结果\r\n        drawingManager.addEventListener('overlaycomplete', overlaycomplete);\r\n        /**add by gaochao start */\r\n        drawingManager_polygon.addEventListener('overlaycomplete', overlaycomplete_polygon);\r\n        drawingManager_circle.addEventListener('overlaycomplete', overlaycomplete_polygon);\r\n        /**add by gaochao end*/\r\n\r\n        /* 向服务器发送点移除*/\r\n        function removeAndSend(marker) {\r\n            // console.log(marker.getPath());\r\n            // let removeLng = marker.getPosition().lng;\r\n            // let removeLat = marker.getPosition().lat;\r\n            // let RemoveBean = function (devCode, locationType, lng, lat, radius,\r\n            //     status) {\r\n            //     this.devCode = devCode;\r\n            //     this.locationType = locationType;\r\n            //     this.lng = lng;\r\n            //     this.lat = lat;\r\n            //     this.radius = radius;\r\n            //     this.status = status;\r\n            // }\r\n            // $.ajax({\r\n            //     url: '../commandManage/realTimeCombat/sendMsgToDev',\r\n            //     type: 'POST',\r\n            //     async: true,\r\n            //     contentType: \"application/json; charset=utf-8\",\r\n            //     data: JSON.stringify(new RemoveBean(sentMarkerPointDev, 0, removeLng, removeLat, 0, -1)),\r\n            //     dataType: 'json',\r\n            //     success: function (result) { }\r\n            // });\r\n            map.removeOverlay(marker);\r\n        }\r\n\r\n        // 移除单个(撤销)\r\n        $('#drawing-clear-last').click(function () {\r\n            let i = overlays.length;\r\n            if (i > 0) {\r\n                removeAndSend(overlays[i - 1]);\r\n                overlays.length = i - 1;\r\n            }\r\n            /**add by gaochao start */\r\n            if(overlays.length == 0){\r\n                $('#drawing-clear-last').css('background','url(img/icon/back_unclick.png)no-repeat');\r\n                $('#drawing-clear-all').css('background','url(img/icon/clear_unclick.png)no-repeat');\r\n              }\r\n            /**add by gaochao end*/\r\n        });\r\n\r\n        // 移除全部\r\n        $('#drawing-clear-all').click(function () {\r\n            if(overlays.length != 0){\r\n            $('#delete-pointmarks-modal').modal('show'); // 打开确认模态框\r\n            }\r\n        });\r\n        $('#drawing-clear-all-ensure').click(function () {\r\n            for (let i = 0; i < overlays.length; i++) {\r\n                removeAndSend(overlays[i]);\r\n            }\r\n            overlays.length = 0;\r\n            $('#delete-pointmarks-modal').modal('hide'); // 关闭确认模态框\r\n            /**add by gaochao start */\r\n            $('#drawing-clear-last').css('background','url(img/icon/back_unclick.png)no-repeat');\r\n            $('#drawing-clear-all').css('background','url(img/icon/clear_unclick.png)no-repeat');\r\n            /**add by gaochao end*/\r\n        });\r\n\r\n        // 关闭绘制\r\n        function closeMapDrawing() {\r\n            drawingManager.close();\r\n            drawingManager_polygon.close();\r\n            drawingManager_circle.close();\r\n            $('.drawing-tool-btn').addClass('gray-cover');\r\n            /**add by gaochao start */\r\n            $('#draw-point').css('background','url(img/icon/point.png)');\r\n            $('#drap-polygon').css('background','url(img/icon/polygon.png)');\r\n            $('#drap-circle').css('background','url(img/icon/circle.png)');\r\n            /**add by gaochao end */\r\n            $('#drawing-remove').removeClass('gray-cover');\r\n            $('#draw-point').attr('data-is-open', '0');\r\n            $('#drap-polygon').attr('data-is-open', '0');\r\n            $('#drap-circle').attr('data-is-open', '0');\r\n        }\r\n        $('#drawing-remove').click(function () {\r\n            closeMapDrawing();\r\n            /**add by gaochao start */\r\n            // $('#distance-measurement').addClass('gray-cover');\r\n            $('#distance-measurement').css('background','url(img/icon/rule.png)');\r\n            /**add by gaochao end */        \r\n        });\r\n\r\n        // 地图绘制\r\n        $('.drawing-tool-btn').click(function () {\r\n            $('#drawing-remove').addClass('gray-cover');\r\n            $('.drawing-tool-btn').addClass('gray-cover');\r\n            $(this).removeClass('gray-cover');\r\n            drawingManager.setDrawingMode($(this).attr('data-drawing-type')); // 设置模式\r\n            drawingManager.open(); // 打开功能\r\n            map.disableDoubleClickZoom(); // 禁止双击放大\r\n        });\r\n        $('#draw-point').click(function () {\r\n            if ($(this).attr('data-is-open') == 0) {\r\n                $(this).attr('data-is-open', '1');\r\n                $('#draw-point').css('background','url(img/icon/point_active.png)');\r\n                // $(this).removeClass('gray-cover');\r\n                drawingManager.setDrawingMode($(this).attr('data-drawing-type')); // 设置模式\r\n                drawingManager.open(); // 打开功能\r\n                map.disableDoubleClickZoom(); // 禁止双击放大\r\n                $('#drap-polygon').css('background','url(img/icon/polygon.png)');\r\n                $('#drap-circle').css('background','url(img/icon/circle.png)');\r\n                $('#drap-polygon').attr('data-is-open', '0');\r\n                $('#drap-circle').attr('data-is-open', '0');\r\n                drawingManager_polygon.close();\r\n                drawingManager_circle.close();\r\n            } else {\r\n                $(this).attr('data-is-open', '0');\r\n                closeMapDrawing();\r\n            }\r\n        });\r\n\r\n        /**add by gaochao start */\r\n        $('#drap-polygon').click(function () {\r\n            if ($(this).attr('data-is-open') == 0) {\r\n                $(this).attr('data-is-open', '1');\r\n                $('#drap-polygon').css('background','url(img/icon/polygon_active.png)');\r\n                // drawingManager_polygon.setDrawingMode($(this).attr('data-drawing-type')); // 设置模式\r\n                drawingManager_polygon.open(); // 打开功能\r\n                map.disableDoubleClickZoom(); // 禁止双击放大\r\n                $('#drap-circle').css('background','url(img/icon/circle.png)');\r\n                $('#drap-circle').attr('data-is-open', '0');\r\n                $('#draw-point').css('background','url(img/icon/point.png)');\r\n                $('#draw-point').attr('data-is-open', '0');\r\n                drawingManager.close();\r\n                drawingManager_circle.close();\r\n            } else {\r\n                $(this).attr('data-is-open', '0');\r\n                closeMapDrawing();\r\n            }\r\n        });\r\n\r\n        $('#drap-circle').click(function () {\r\n            if ($(this).attr('data-is-open') == 0) {\r\n                $(this).attr('data-is-open', '1');\r\n                $('#drap-circle').css('background','url(img/icon/circle_active.png)');\r\n                // drawingManager_polygon.setDrawingMode($(this).attr('data-drawing-type')); // 设置模式\r\n                drawingManager_circle.open(); // 打开功能\r\n                map.disableDoubleClickZoom(); // 禁止双击放大\r\n                $('#drap-polygon').css('background','url(img/icon/polygon.png)');\r\n                $('#drap-polygon').attr('data-is-open', '0');\r\n                $('#draw-point').css('background','url(img/icon/point.png)');\r\n                $('#draw-point').attr('data-is-open', '0');\r\n                drawingManager.close();\r\n                drawingManager_polygon.close();\r\n            } else {\r\n                $(this).attr('data-is-open', '0');\r\n                closeMapDrawing();\r\n            }\r\n        });\r\n\r\n        /**add by gaochao end */\r\n\r\n        /* 添加地图右键点击事件*/\r\n        map.addEventListener(\"rightclick\", function () {\r\n            closeMapDrawing();\r\n            /**add by gaochao start */\r\n            // $('#distance-measurement').addClass('gray-cover');\r\n            $('#distance-measurement').css('background','url(img/icon/rule.png)');\r\n            /**add by gaochao end */\r\n            __WEBPACK_IMPORTED_MODULE_0__Distance_BaiduMap_js__[\"a\" /* BaiduMapDistance */].getDistanceToolInstance().close();\r\n        });\r\n        \r\n        /* hover事件*/\r\n        /**add by gaochao start */\r\n        // $('#drawing-clear-last, #drawing-clear-all').hover(function () {\r\n        //     $(this).removeClass('gray-cover');\r\n        // }, function () {\r\n        //     $(this).addClass('gray-cover');\r\n        // });\r\n        /**add by gaochao start */\r\n        /*-END鼠标绘制工具-*/\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = BaiduMapDrawing;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRTovQ0JDUC93b3Jrc3BhY2UvQ0JDUC9zcmMvbWFpbi93ZWJhcHAvanMvc3JjL2FwcC9jb21tb24vYmFpZHVNYXAvRHJhd2luZy5CYWlkdU1hcC5qcz9iOTQwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQXlEOztBQUVsRDs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RCw4RUFBOEU7QUFDOUUsbUVBQW1FLEdBQUcsZ0NBQWdDLGdCQUFnQixtQkFBbUIsUUFBUTtBQUNqSjtBQUNBLGtDQUFrQyxnQkFBZ0IsR0FBRyxpQkFBaUI7QUFDdEU7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSxvRkFBb0YsR0FBRztBQUN2Rix1RkFBdUYsR0FBRyw0Q0FBNEMsR0FBRztBQUN6SSx1Q0FBdUMsR0FBRyxjQUFjLG9CQUFvQixjQUFjLG9CQUFvQjtBQUM5RztBQUNBLHFFQUFxRTtBQUNyRTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQyx3QkFBd0IsY0FBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DLGdCQUFnQjtBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQSwyQkFBMkIscUJBQXFCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkU7QUFDN0Usa0NBQWtDO0FBQ2xDLHlDQUF5QztBQUN6QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRjtBQUNqRixzQ0FBc0M7QUFDdEMsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RkFBNEY7QUFDNUYsOENBQThDO0FBQzlDLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRGQUE0RjtBQUM1Riw2Q0FBNkM7QUFDN0MsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrRUFBZ0I7QUFDNUIsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBOztBQUVBLEMiLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYWlkdU1hcERpc3RhbmNlIH0gZnJvbSAnLi9EaXN0YW5jZS5CYWlkdU1hcC5qcydcclxuXHJcbmV4cG9ydCBjbGFzcyBCYWlkdU1hcERyYXdpbmcge1xyXG5cclxuICAgIHN0YXRpYyBpbml0RHJhd2luZ1Rvb2xzKG1hcCkge1xyXG4gICAgICAgIC8qIOm8oOagh+e7mOWItuW3peWFtyovXHJcbiAgICAgICAgLy8g6byg5qCH57uY5Yi25a6M5oiQ5Zue6LCD5pa55rOVICAg6I635Y+W5ZCE5Liq54K555qE57uP57qs5bqmXHJcbiAgICAgICAgbGV0IG92ZXJsYXlzID0gW107XHJcbiAgICAgICAgbGV0IG92ZXJsYXljb21wbGV0ZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIG92ZXJsYXlzLnB1c2goZS5vdmVybGF5KTtcclxuICAgICAgICAgICAgaWYgKGUuZHJhd2luZ01vZGUgPT0gJ21hcmtlcicgJiYgdGhpc1BhZ2VUeXBlID09ICdSVEMnKSB7XHJcbiAgICAgICAgICAgICAgICAvKiDnp7vpmaTkuIrkuIDkuKoqL1xyXG4gICAgICAgICAgICAgICAgaWYgKG92ZXJsYXlzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXAucmVtb3ZlT3ZlcmxheShvdmVybGF5c1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheXMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IGlkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGV2RGl2SHRtbCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzRXhpc3RDYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICBkZXZEcmF3SW5mb01hcC5mb3JFYWNoKChlYWNoRGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVhY2hEZXYuZGV2VHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRXhpc3RDYXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZm9yRWFjaCgoZWFjaERldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGVja2VkID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRXhpc3RDYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVhY2hEZXYuZGV2VHlwZSA9PSAxICYmIGluZGV4ID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQgPSAnY2hlY2tlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkID0gJ2NoZWNrZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpbmRleCArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2RGl2SHRtbCA9IGRldkRpdkh0bWwgKyBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmU7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJtZHVpLXJhZGlvXCIgc3R5bGU9XCJmb250LXdlaWdodDogMTAwO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cInRhcmdldC1wb2ludC1yYWRpby0ke2lkfVwiIHR5cGU9XCJyYWRpb1wiIGRhdGEtZGV2LWNvZGU9XCIke2VhY2hEZXYuZGV2Q29kZX1cIiBuYW1lPVwiZ3JvdXAxXCIvICR7Y2hlY2tlZH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJtZHVpLXJhZGlvLWljb25cIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtlYWNoRGV2LmRldkNvZGV9KCR7ZWFjaERldi51c2VyTmFtZX0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5mb1dpbmRvd0h0bWwgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGg1PuWPkemAgeWPr+eWkeebruagh+S9jee9rjwvaDU+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhcmdldC1wb2ludC1kZXYtc2VsZWN0b3ItY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtkZXZEaXZIdG1sfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhcmdldC1wb2ludC1zZW5kLXN0YXR1cyB0YXJnZXQtcG9pbnQtc2VuZC1zdGF0dXMtJHtpZH1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInRhcmdldC1wb2ludC1zZW5kIHRhcmdldC1wb2ludC1zZW5kLSR7aWR9IGJ0biBidG4tZGVmYXVsdFwiIG9uY2xpY2s9XCJzZW5kUG9pbnRUb0Rldigke2lkfSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1pZD1cIiR7aWR9XCIgZGF0YS1sbmc9XCIke2Uub3ZlcmxheS5wb2ludC5sbmd9XCIgZGF0YS1sYXQ9XCIke2Uub3ZlcmxheS5wb2ludC5sYXR9XCI+5Y+R6YCBPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgbGV0IGluZm9XaW5kb3cgPSBuZXcgQk1hcC5JbmZvV2luZG93KGluZm9XaW5kb3dIdG1sKTsgIC8vIOWIm+W7uuS/oeaBr+eql+WPo+WvueixoVxyXG4gICAgICAgICAgICAgICAgZS5vdmVybGF5Lm9wZW5JbmZvV2luZG93KGluZm9XaW5kb3cpO1xyXG4gICAgICAgICAgICAgICAgZS5vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5JbmZvV2luZG93KGluZm9XaW5kb3cpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgJCgnI2RyYXdpbmctY2xlYXItbGFzdCcpLmNzcygnYmFja2dyb3VuZCcsJ3VybChpbWcvaWNvbi9iYWNrLnBuZyluby1yZXBlYXQnKTtcclxuICAgICAgICAgICAgJCgnI2RyYXdpbmctY2xlYXItYWxsJykuY3NzKCdiYWNrZ3JvdW5kJywndXJsKGltZy9pY29uL2NsZWFyLnBuZyluby1yZXBlYXQnKTtcclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgbGV0IG92ZXJsYXljb21wbGV0ZV9wb2x5Z29uID0gZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgICQoJyNkcmFwLXBvbHlnb24nKS5jc3MoJ2JhY2tncm91bmQnLCd1cmwoaW1nL2ljb24vcG9seWdvbi5wbmcpJyk7XHJcbiAgICAgICAgICAgICQoJyNkcmFwLXBvbHlnb24nKS5hdHRyKCdkYXRhLWlzLW9wZW4nLCAnMCcpO1xyXG4gICAgICAgICAgICBvdmVybGF5cy5wdXNoKGUub3ZlcmxheSk7XHJcbiAgICAgICAgICAgIHZhciBwYXRoID0gZS5vdmVybGF5LmdldFBhdGgoKTsvL0FycmF5PFBvaW50PiDov5Tlm57lpJrovrnlnovnmoTngrnmlbDnu4RcclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxwYXRoLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJsbmc6XCIrcGF0aFtpXS5sbmcrXCJcXG4gbGF0OlwiK3BhdGhbaV0ubGF0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkKCcjZHJhd2luZy1jbGVhci1sYXN0JykuY3NzKCdiYWNrZ3JvdW5kJywndXJsKGltZy9pY29uL2JhY2sucG5nKW5vLXJlcGVhdCcpO1xyXG4gICAgICAgICAgICAkKCcjZHJhd2luZy1jbGVhci1hbGwnKS5jc3MoJ2JhY2tncm91bmQnLCd1cmwoaW1nL2ljb24vY2xlYXIucG5nKW5vLXJlcGVhdCcpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICBsZXQgc3R5bGVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICBzdHJva2VDb2xvcjogXCJyZ2IoMzQsMTIxLDE4MSlcIiwgICAgLy/ovrnnur/popzoibLjgIJcclxuICAgICAgICAgICAgZmlsbENvbG9yOiBcInJnYigzNCwxMjEsMTgxKVwiLCAgICAgIC8v5aGr5YWF6aKc6Imy44CC5b2T5Y+C5pWw5Li656m65pe277yM5ZyG5b2i5bCG5rKh5pyJ5aGr5YWF5pWI5p6c44CCXHJcbiAgICAgICAgICAgIHN0cm9rZVdlaWdodDogMywgICAgICAgLy/ovrnnur/nmoTlrr3luqbvvIzku6Xlg4/ntKDkuLrljZXkvY3jgIJcclxuICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMC44LCAgICAgICAvL+i+uee6v+mAj+aYjuW6pu+8jOWPluWAvOiMg+WbtDAgLSAx44CCXHJcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjMsICAgICAgLy/loavlhYXnmoTpgI/mmI7luqbvvIzlj5blgLzojIPlm7QwIC0gMeOAglxyXG4gICAgICAgICAgICBzdHJva2VTdHlsZTogJ3NvbGlkJyAvL+i+uee6v+eahOagt+W8j++8jHNvbGlk5oiWZGFzaGVk44CCXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDlrp7kvovljJbpvKDmoIfnu5jliLblt6XlhbdcclxuICAgICAgICBsZXQgZHJhd2luZ01hbmFnZXIgPSBuZXcgQk1hcExpYi5EcmF3aW5nTWFuYWdlcihtYXAsIHtcclxuICAgICAgICAgICAgaXNPcGVuOiBmYWxzZSwgLy/mmK/lkKblvIDlkK/nu5jliLbmqKHlvI9cclxuICAgICAgICAgICAgZW5hYmxlRHJhd2luZ1Rvb2w6IGZhbHNlLCAvL+aYr+WQpuaYvuekuuW3peWFt+agj1xyXG4gICAgICAgICAgICBkcmF3aW5nVG9vbE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIGFuY2hvcjogQk1BUF9BTkNIT1JfVE9QX1JJR0hULCAvL+S9jee9rlxyXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBuZXcgQk1hcC5TaXplKDUsIDUpLCAvL+WBj+emu+WAvFxyXG4gICAgICAgICAgICB9LCAgICAgIFxyXG4gICAgICAgICAgICBjaXJjbGVPcHRpb25zOiBzdHlsZU9wdGlvbnMsIC8v5ZyG55qE5qC35byPXHJcbiAgICAgICAgICAgIHBvbHlsaW5lT3B0aW9uczogc3R5bGVPcHRpb25zLCAvL+e6v+eahOagt+W8j1xyXG4gICAgICAgICAgICBwb2x5Z29uT3B0aW9uczogc3R5bGVPcHRpb25zLCAvL+Wkmui+ueW9oueahOagt+W8j1xyXG4gICAgICAgICAgICByZWN0YW5nbGVPcHRpb25zOiBzdHlsZU9wdGlvbnMgLy/nn6nlvaLnmoTmoLflvI9cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICBsZXQgZHJhd2luZ01hbmFnZXJfcG9seWdvbiA9IG5ldyBCTWFwTGliLkRyYXdpbmdNYW5hZ2VyKG1hcCwge1xyXG4gICAgICAgICAgICBpc09wZW46IGZhbHNlLCAvL+aYr+WQpuW8gOWQr+e7mOWItuaooeW8j1xyXG4gICAgICAgICAgICBlbmFibGVEcmF3aW5nVG9vbDogZmFsc2UsIC8v5piv5ZCm5pi+56S65bel5YW35qCPXHJcbiAgICAgICAgICAgIGRyYXdpbmdNb2RlOkJNQVBfRFJBV0lOR19QT0xZR09OLC8v57uY5Yi25qih5byPICDlpJrovrnlvaJcclxuICAgICAgICAgICAgZHJhd2luZ1Rvb2xPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBhbmNob3I6IEJNQVBfQU5DSE9SX1RPUF9SSUdIVCwgLy/kvY3nva5cclxuICAgICAgICAgICAgICAgIG9mZnNldDogbmV3IEJNYXAuU2l6ZSg1LCA1KSwgLy/lgY/nprvlgLxcclxuICAgICAgICAgICAgICAgIGRyYXdpbmdNb2RlczpbXHJcbiAgICAgICAgICAgICAgICAgICAgQk1BUF9EUkFXSU5HX1BPTFlHT05cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcG9seWdvbk9wdGlvbnM6IHN0eWxlT3B0aW9ucyAvL+Wkmui+ueW9oueahOagt+W8j1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBkcmF3aW5nTWFuYWdlcl9jaXJjbGUgPSBuZXcgQk1hcExpYi5EcmF3aW5nTWFuYWdlcihtYXAsIHtcclxuICAgICAgICAgICAgaXNPcGVuOiBmYWxzZSwgLy/mmK/lkKblvIDlkK/nu5jliLbmqKHlvI9cclxuICAgICAgICAgICAgZW5hYmxlRHJhd2luZ1Rvb2w6IGZhbHNlLCAvL+aYr+WQpuaYvuekuuW3peWFt+agj1xyXG4gICAgICAgICAgICBkcmF3aW5nTW9kZTpCTUFQX0RSQVdJTkdfQ0lSQ0xFLC8v57uY5Yi25qih5byPICDlnIZcclxuICAgICAgICAgICAgZHJhd2luZ1Rvb2xPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBhbmNob3I6IEJNQVBfQU5DSE9SX1RPUF9SSUdIVCwgLy/kvY3nva5cclxuICAgICAgICAgICAgICAgIG9mZnNldDogbmV3IEJNYXAuU2l6ZSg1LCA1KSwgLy/lgY/nprvlgLxcclxuICAgICAgICAgICAgICAgIGRyYXdpbmdNb2RlczpbXHJcbiAgICAgICAgICAgICAgICAgICAgQk1BUF9EUkFXSU5HX0NJUkNMRVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwb2x5Z29uT3B0aW9uczogc3R5bGVPcHRpb25zIC8v5aSa6L655b2i55qE5qC35byPXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICBtYXAuZGlzYWJsZURvdWJsZUNsaWNrWm9vbSgpO1xyXG5cclxuICAgICAgICAvLyDmt7vliqDpvKDmoIfnu5jliLblt6Xlhbfnm5HlkKzkuovku7bvvIznlKjkuo7ojrflj5bnu5jliLbnu5PmnpxcclxuICAgICAgICBkcmF3aW5nTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKCdvdmVybGF5Y29tcGxldGUnLCBvdmVybGF5Y29tcGxldGUpO1xyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgZHJhd2luZ01hbmFnZXJfcG9seWdvbi5hZGRFdmVudExpc3RlbmVyKCdvdmVybGF5Y29tcGxldGUnLCBvdmVybGF5Y29tcGxldGVfcG9seWdvbik7XHJcbiAgICAgICAgZHJhd2luZ01hbmFnZXJfY2lyY2xlLmFkZEV2ZW50TGlzdGVuZXIoJ292ZXJsYXljb21wbGV0ZScsIG92ZXJsYXljb21wbGV0ZV9wb2x5Z29uKTtcclxuICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQqL1xyXG5cclxuICAgICAgICAvKiDlkJHmnI3liqHlmajlj5HpgIHngrnnp7vpmaQqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUFuZFNlbmQobWFya2VyKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG1hcmtlci5nZXRQYXRoKCkpO1xyXG4gICAgICAgICAgICAvLyBsZXQgcmVtb3ZlTG5nID0gbWFya2VyLmdldFBvc2l0aW9uKCkubG5nO1xyXG4gICAgICAgICAgICAvLyBsZXQgcmVtb3ZlTGF0ID0gbWFya2VyLmdldFBvc2l0aW9uKCkubGF0O1xyXG4gICAgICAgICAgICAvLyBsZXQgUmVtb3ZlQmVhbiA9IGZ1bmN0aW9uIChkZXZDb2RlLCBsb2NhdGlvblR5cGUsIGxuZywgbGF0LCByYWRpdXMsXHJcbiAgICAgICAgICAgIC8vICAgICBzdGF0dXMpIHtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMuZGV2Q29kZSA9IGRldkNvZGU7XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmxvY2F0aW9uVHlwZSA9IGxvY2F0aW9uVHlwZTtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMubG5nID0gbG5nO1xyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5sYXQgPSBsYXQ7XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIC8vICQuYWpheCh7XHJcbiAgICAgICAgICAgIC8vICAgICB1cmw6ICcuLi9jb21tYW5kTWFuYWdlL3JlYWxUaW1lQ29tYmF0L3NlbmRNc2dUb0RldicsXHJcbiAgICAgICAgICAgIC8vICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIC8vICAgICBhc3luYzogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcclxuICAgICAgICAgICAgLy8gICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KG5ldyBSZW1vdmVCZWFuKHNlbnRNYXJrZXJQb2ludERldiwgMCwgcmVtb3ZlTG5nLCByZW1vdmVMYXQsIDAsIC0xKSksXHJcbiAgICAgICAgICAgIC8vICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAvLyAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkgeyB9XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICBtYXAucmVtb3ZlT3ZlcmxheShtYXJrZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g56e76Zmk5Y2V5LiqKOaSpOmUgClcclxuICAgICAgICAkKCcjZHJhd2luZy1jbGVhci1sYXN0JykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgaSA9IG92ZXJsYXlzLmxlbmd0aDtcclxuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVBbmRTZW5kKG92ZXJsYXlzW2kgLSAxXSk7XHJcbiAgICAgICAgICAgICAgICBvdmVybGF5cy5sZW5ndGggPSBpIC0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICBpZihvdmVybGF5cy5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAkKCcjZHJhd2luZy1jbGVhci1sYXN0JykuY3NzKCdiYWNrZ3JvdW5kJywndXJsKGltZy9pY29uL2JhY2tfdW5jbGljay5wbmcpbm8tcmVwZWF0Jyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjZHJhd2luZy1jbGVhci1hbGwnKS5jc3MoJ2JhY2tncm91bmQnLCd1cmwoaW1nL2ljb24vY2xlYXJfdW5jbGljay5wbmcpbm8tcmVwZWF0Jyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQqL1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyDnp7vpmaTlhajpg6hcclxuICAgICAgICAkKCcjZHJhd2luZy1jbGVhci1hbGwnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmKG92ZXJsYXlzLmxlbmd0aCAhPSAwKXtcclxuICAgICAgICAgICAgJCgnI2RlbGV0ZS1wb2ludG1hcmtzLW1vZGFsJykubW9kYWwoJ3Nob3cnKTsgLy8g5omT5byA56Gu6K6k5qih5oCB5qGGXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcjZHJhd2luZy1jbGVhci1hbGwtZW5zdXJlJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG92ZXJsYXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVBbmRTZW5kKG92ZXJsYXlzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvdmVybGF5cy5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAkKCcjZGVsZXRlLXBvaW50bWFya3MtbW9kYWwnKS5tb2RhbCgnaGlkZScpOyAvLyDlhbPpl63noa7orqTmqKHmgIHmoYZcclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgJCgnI2RyYXdpbmctY2xlYXItbGFzdCcpLmNzcygnYmFja2dyb3VuZCcsJ3VybChpbWcvaWNvbi9iYWNrX3VuY2xpY2sucG5nKW5vLXJlcGVhdCcpO1xyXG4gICAgICAgICAgICAkKCcjZHJhd2luZy1jbGVhci1hbGwnKS5jc3MoJ2JhY2tncm91bmQnLCd1cmwoaW1nL2ljb24vY2xlYXJfdW5jbGljay5wbmcpbm8tcmVwZWF0Jyk7XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIOWFs+mXree7mOWItlxyXG4gICAgICAgIGZ1bmN0aW9uIGNsb3NlTWFwRHJhd2luZygpIHtcclxuICAgICAgICAgICAgZHJhd2luZ01hbmFnZXIuY2xvc2UoKTtcclxuICAgICAgICAgICAgZHJhd2luZ01hbmFnZXJfcG9seWdvbi5jbG9zZSgpO1xyXG4gICAgICAgICAgICBkcmF3aW5nTWFuYWdlcl9jaXJjbGUuY2xvc2UoKTtcclxuICAgICAgICAgICAgJCgnLmRyYXdpbmctdG9vbC1idG4nKS5hZGRDbGFzcygnZ3JheS1jb3ZlcicpO1xyXG4gICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAkKCcjZHJhdy1wb2ludCcpLmNzcygnYmFja2dyb3VuZCcsJ3VybChpbWcvaWNvbi9wb2ludC5wbmcpJyk7XHJcbiAgICAgICAgICAgICQoJyNkcmFwLXBvbHlnb24nKS5jc3MoJ2JhY2tncm91bmQnLCd1cmwoaW1nL2ljb24vcG9seWdvbi5wbmcpJyk7XHJcbiAgICAgICAgICAgICQoJyNkcmFwLWNpcmNsZScpLmNzcygnYmFja2dyb3VuZCcsJ3VybChpbWcvaWNvbi9jaXJjbGUucG5nKScpO1xyXG4gICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgJCgnI2RyYXdpbmctcmVtb3ZlJykucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAgICAgJCgnI2RyYXctcG9pbnQnKS5hdHRyKCdkYXRhLWlzLW9wZW4nLCAnMCcpO1xyXG4gICAgICAgICAgICAkKCcjZHJhcC1wb2x5Z29uJykuYXR0cignZGF0YS1pcy1vcGVuJywgJzAnKTtcclxuICAgICAgICAgICAgJCgnI2RyYXAtY2lyY2xlJykuYXR0cignZGF0YS1pcy1vcGVuJywgJzAnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnI2RyYXdpbmctcmVtb3ZlJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjbG9zZU1hcERyYXdpbmcoKTtcclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgLy8gJCgnI2Rpc3RhbmNlLW1lYXN1cmVtZW50JykuYWRkQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAgICAgJCgnI2Rpc3RhbmNlLW1lYXN1cmVtZW50JykuY3NzKCdiYWNrZ3JvdW5kJywndXJsKGltZy9pY29uL3J1bGUucG5nKScpO1xyXG4gICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi8gICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyDlnLDlm77nu5jliLZcclxuICAgICAgICAkKCcuZHJhd2luZy10b29sLWJ0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnI2RyYXdpbmctcmVtb3ZlJykuYWRkQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAgICAgJCgnLmRyYXdpbmctdG9vbC1idG4nKS5hZGRDbGFzcygnZ3JheS1jb3ZlcicpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICAgICAgICAgIGRyYXdpbmdNYW5hZ2VyLnNldERyYXdpbmdNb2RlKCQodGhpcykuYXR0cignZGF0YS1kcmF3aW5nLXR5cGUnKSk7IC8vIOiuvue9ruaooeW8j1xyXG4gICAgICAgICAgICBkcmF3aW5nTWFuYWdlci5vcGVuKCk7IC8vIOaJk+W8gOWKn+iDvVxyXG4gICAgICAgICAgICBtYXAuZGlzYWJsZURvdWJsZUNsaWNrWm9vbSgpOyAvLyDnpoHmraLlj4zlh7vmlL7lpKdcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcjZHJhdy1wb2ludCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cignZGF0YS1pcy1vcGVuJykgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWlzLW9wZW4nLCAnMScpO1xyXG4gICAgICAgICAgICAgICAgJCgnI2RyYXctcG9pbnQnKS5jc3MoJ2JhY2tncm91bmQnLCd1cmwoaW1nL2ljb24vcG9pbnRfYWN0aXZlLnBuZyknKTtcclxuICAgICAgICAgICAgICAgIC8vICQodGhpcykucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAgICAgICAgIGRyYXdpbmdNYW5hZ2VyLnNldERyYXdpbmdNb2RlKCQodGhpcykuYXR0cignZGF0YS1kcmF3aW5nLXR5cGUnKSk7IC8vIOiuvue9ruaooeW8j1xyXG4gICAgICAgICAgICAgICAgZHJhd2luZ01hbmFnZXIub3BlbigpOyAvLyDmiZPlvIDlip/og71cclxuICAgICAgICAgICAgICAgIG1hcC5kaXNhYmxlRG91YmxlQ2xpY2tab29tKCk7IC8vIOemgeatouWPjOWHu+aUvuWkp1xyXG4gICAgICAgICAgICAgICAgJCgnI2RyYXAtcG9seWdvbicpLmNzcygnYmFja2dyb3VuZCcsJ3VybChpbWcvaWNvbi9wb2x5Z29uLnBuZyknKTtcclxuICAgICAgICAgICAgICAgICQoJyNkcmFwLWNpcmNsZScpLmNzcygnYmFja2dyb3VuZCcsJ3VybChpbWcvaWNvbi9jaXJjbGUucG5nKScpO1xyXG4gICAgICAgICAgICAgICAgJCgnI2RyYXAtcG9seWdvbicpLmF0dHIoJ2RhdGEtaXMtb3BlbicsICcwJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjZHJhcC1jaXJjbGUnKS5hdHRyKCdkYXRhLWlzLW9wZW4nLCAnMCcpO1xyXG4gICAgICAgICAgICAgICAgZHJhd2luZ01hbmFnZXJfcG9seWdvbi5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgZHJhd2luZ01hbmFnZXJfY2lyY2xlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtaXMtb3BlbicsICcwJyk7XHJcbiAgICAgICAgICAgICAgICBjbG9zZU1hcERyYXdpbmcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICQoJyNkcmFwLXBvbHlnb24nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ2RhdGEtaXMtb3BlbicpID09IDApIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1pcy1vcGVuJywgJzEnKTtcclxuICAgICAgICAgICAgICAgICQoJyNkcmFwLXBvbHlnb24nKS5jc3MoJ2JhY2tncm91bmQnLCd1cmwoaW1nL2ljb24vcG9seWdvbl9hY3RpdmUucG5nKScpO1xyXG4gICAgICAgICAgICAgICAgLy8gZHJhd2luZ01hbmFnZXJfcG9seWdvbi5zZXREcmF3aW5nTW9kZSgkKHRoaXMpLmF0dHIoJ2RhdGEtZHJhd2luZy10eXBlJykpOyAvLyDorr7nva7mqKHlvI9cclxuICAgICAgICAgICAgICAgIGRyYXdpbmdNYW5hZ2VyX3BvbHlnb24ub3BlbigpOyAvLyDmiZPlvIDlip/og71cclxuICAgICAgICAgICAgICAgIG1hcC5kaXNhYmxlRG91YmxlQ2xpY2tab29tKCk7IC8vIOemgeatouWPjOWHu+aUvuWkp1xyXG4gICAgICAgICAgICAgICAgJCgnI2RyYXAtY2lyY2xlJykuY3NzKCdiYWNrZ3JvdW5kJywndXJsKGltZy9pY29uL2NpcmNsZS5wbmcpJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjZHJhcC1jaXJjbGUnKS5hdHRyKCdkYXRhLWlzLW9wZW4nLCAnMCcpO1xyXG4gICAgICAgICAgICAgICAgJCgnI2RyYXctcG9pbnQnKS5jc3MoJ2JhY2tncm91bmQnLCd1cmwoaW1nL2ljb24vcG9pbnQucG5nKScpO1xyXG4gICAgICAgICAgICAgICAgJCgnI2RyYXctcG9pbnQnKS5hdHRyKCdkYXRhLWlzLW9wZW4nLCAnMCcpO1xyXG4gICAgICAgICAgICAgICAgZHJhd2luZ01hbmFnZXIuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIGRyYXdpbmdNYW5hZ2VyX2NpcmNsZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWlzLW9wZW4nLCAnMCcpO1xyXG4gICAgICAgICAgICAgICAgY2xvc2VNYXBEcmF3aW5nKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI2RyYXAtY2lyY2xlJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCdkYXRhLWlzLW9wZW4nKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtaXMtb3BlbicsICcxJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjZHJhcC1jaXJjbGUnKS5jc3MoJ2JhY2tncm91bmQnLCd1cmwoaW1nL2ljb24vY2lyY2xlX2FjdGl2ZS5wbmcpJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBkcmF3aW5nTWFuYWdlcl9wb2x5Z29uLnNldERyYXdpbmdNb2RlKCQodGhpcykuYXR0cignZGF0YS1kcmF3aW5nLXR5cGUnKSk7IC8vIOiuvue9ruaooeW8j1xyXG4gICAgICAgICAgICAgICAgZHJhd2luZ01hbmFnZXJfY2lyY2xlLm9wZW4oKTsgLy8g5omT5byA5Yqf6IO9XHJcbiAgICAgICAgICAgICAgICBtYXAuZGlzYWJsZURvdWJsZUNsaWNrWm9vbSgpOyAvLyDnpoHmraLlj4zlh7vmlL7lpKdcclxuICAgICAgICAgICAgICAgICQoJyNkcmFwLXBvbHlnb24nKS5jc3MoJ2JhY2tncm91bmQnLCd1cmwoaW1nL2ljb24vcG9seWdvbi5wbmcpJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjZHJhcC1wb2x5Z29uJykuYXR0cignZGF0YS1pcy1vcGVuJywgJzAnKTtcclxuICAgICAgICAgICAgICAgICQoJyNkcmF3LXBvaW50JykuY3NzKCdiYWNrZ3JvdW5kJywndXJsKGltZy9pY29uL3BvaW50LnBuZyknKTtcclxuICAgICAgICAgICAgICAgICQoJyNkcmF3LXBvaW50JykuYXR0cignZGF0YS1pcy1vcGVuJywgJzAnKTtcclxuICAgICAgICAgICAgICAgIGRyYXdpbmdNYW5hZ2VyLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICBkcmF3aW5nTWFuYWdlcl9wb2x5Z29uLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtaXMtb3BlbicsICcwJyk7XHJcbiAgICAgICAgICAgICAgICBjbG9zZU1hcERyYXdpbmcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuXHJcbiAgICAgICAgLyog5re75Yqg5Zyw5Zu+5Y+z6ZSu54K55Ye75LqL5Lu2Ki9cclxuICAgICAgICBtYXAuYWRkRXZlbnRMaXN0ZW5lcihcInJpZ2h0Y2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjbG9zZU1hcERyYXdpbmcoKTtcclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgLy8gJCgnI2Rpc3RhbmNlLW1lYXN1cmVtZW50JykuYWRkQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAgICAgJCgnI2Rpc3RhbmNlLW1lYXN1cmVtZW50JykuY3NzKCdiYWNrZ3JvdW5kJywndXJsKGltZy9pY29uL3J1bGUucG5nKScpO1xyXG4gICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgQmFpZHVNYXBEaXN0YW5jZS5nZXREaXN0YW5jZVRvb2xJbnN0YW5jZSgpLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLyogaG92ZXLkuovku7YqL1xyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgLy8gJCgnI2RyYXdpbmctY2xlYXItbGFzdCwgI2RyYXdpbmctY2xlYXItYWxsJykuaG92ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICAgICAgLy8gfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICAkKHRoaXMpLmFkZENsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAvKi1FTkTpvKDmoIfnu5jliLblt6XlhbctKi9cclxuXHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gRTovQ0JDUC93b3Jrc3BhY2UvQ0JDUC9zcmMvbWFpbi93ZWJhcHAvanMvc3JjL2FwcC9jb21tb24vYmFpZHVNYXAvRHJhd2luZy5CYWlkdU1hcC5qc1xuLy8gbW9kdWxlIGlkID0gMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///36\n");

/***/ }),
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__cookie_MyCookie_js__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_CommonUtil_js__ = __webpack_require__(11);\n\r\n\r\n\r\nclass TopHeader {\r\n\r\n    static initHeader() {\r\n        let currentUrl = window.location.pathname;\r\n        let TopHeaderHtml = '';\r\n        TopHeaderHtml = TopHeaderHtml + `\r\n            <!--delet by guoshuai 2018-9-20 -->\r\n            <img class=\"top-header-icon\" src=\"img/police_title_icon.png\">\r\n            <span class=\"top-header-title\">协同作战指挥平台(内测版)</span>\r\n            <!--delet by guoshuai 2018-9-20 -->\r\n            <!--add by guoshuai 2018-9-20-->\r\n            <!--end by guoshuai 2018-9-20-->\r\n            <!--<div class=\"top-header-logo-bata\"></div>-->\r\n            <div class=\"top-header-menu\">\r\n        `;\r\n        for (let i = 0; i < menuList.length; i++) {\r\n            if (menuList[i].name == '个人中心') {\r\n                continue;\r\n            }\r\n            if (menuList[i].childMenu != null) {\r\n                let isActive = '';\r\n                for (let j = 0; j < menuList[i].childMenu.length; j++) {\r\n                    if (currentUrl.indexOf(menuList[i].childMenu[j].url) >= 0) {\r\n                        isActive = 'header-menu-item-active';\r\n                        break;\r\n                    }\r\n                }\r\n                TopHeaderHtml = TopHeaderHtml + `\r\n                    <div class=\"header-menu-content\">\r\n                        <div class=\"header-menu-item mdui-ripple ${isActive}\" data-menu-index=\"${i}\">\r\n                            ${menuList[i].name}\r\n                            <!-- delete by guoshuai start 2018-10-8\r\n                            <i class=\"mdui-icon material-icons menu-arrow-down\">&#xe5c5;</i>\r\n                            delete by guoshuai end 2018-10-8-->\r\n                            <!--delete by guoshuai start-->\r\n                            <p style=\"width: 11px;height: 9px;background:url('img/iconpic/slide.png') no-repeat;background-size:100% 100%;position:absolute;top:14px;left:80%;\"></p>\r\n                            <!--add by guoshuai end 2018-10-8-->\r\n                        </div>\r\n                        <div class=\"header-menu-dropdown header-menu-dropdown-${i}\">\r\n                `;\r\n                for (let j = 0; j < menuList[i].childMenu.length; j++) {\r\n                    TopHeaderHtml = TopHeaderHtml + `\r\n                            <div class=\"header-menu-dropdown-item mdui-ripple\" ${currentUrl.indexOf(menuList[i].childMenu[j].url) >= 0 ? 'style=\"background:rgb(0, 97, 160)\"' : ''} onclick=\"window.location.href='${menuList[i].childMenu[j].url.substring(1, menuList[i].childMenu[j].url.length)}'\">${menuList[i].childMenu[j].name}</div>\r\n                    `;\r\n                }\r\n                TopHeaderHtml = TopHeaderHtml + `\r\n                        </div>\r\n                    </div>\r\n                `;\r\n            } else {\r\n                TopHeaderHtml = TopHeaderHtml + `\r\n                    <div class=\"header-menu-content\">\r\n                        <div class=\"header-menu-item mdui-ripple ${currentUrl.indexOf(menuList[i].url) >= 0 && menuList[i].name != '数据分析' ? 'header-menu-item-active' : ''}\" data-menu-index=\"${i}\" ${menuList[i].name != '数据分析' ? `onclick=\"window.location.href='${menuList[i].url.substring(1, menuList[i].url.length)}'\"` : ''}>${menuList[i].name}</div>\r\n                    </div>\r\n                `;\r\n            }\r\n        }\r\n        /*delete by guoshuai start 2018-9-28\r\n        TopHeaderHtml = TopHeaderHtml + `\r\n            </div>\r\n            <div class=\"login-user-name\">\r\n                <div class=\"mdui-ripple\">\r\n                    当前用户：\r\n                    ${username}\r\n                    <i class=\"mdui-icon material-icons menu-arrow-down\">&#xe5c5;</i>\r\n                </div>\r\n                <div class=\"user-option\">\r\n                    <div class=\"option-item mdui-ripple\" onclick=\"window.location.href='systemManage/userCenter'\">个人中心</div>\r\n                    <div class=\"option-item mdui-ripple\" id=\"logout-btn\">退出</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"header-current-time header-info-txt\"></div>\r\n        `;\r\n        delete by guoshuai end 2018-9-28*/\r\n        /*\r\n        let TopHeaderHtml = `\r\n            <img class=\"top-header-icon\" src=\"${pot}/img/police_title_icon.png\">\r\n            <span class=\"top-header-title\">协同作战指挥平台</span>\r\n            <div class=\"top-header-menu\">\r\n                <div class=\"header-menu-content\">\r\n                    <div id=\"home-folder\" class=\"header-menu-item mdui-ripple\" data-menu-index=\"0\" onclick=\"window.location.href='${pot}/home'\">总览</div>\r\n                </div>\r\n                <div class=\"header-menu-content\">\r\n                    <div id=\"combat-folder\" class=\"header-menu-item mdui-ripple\" data-menu-index=\"1\">\r\n                        作战指挥<i class=\"mdui-icon material-icons menu-arrow-down\">&#xe5c5;</i>\r\n                    </div>\r\n                    <div class=\"header-menu-dropdown header-menu-dropdown-1\">\r\n                        <div id=\"real-time-combat-page\" class=\"header-menu-dropdown-item mdui-ripple\" onclick=\"window.location.href='${pot}/commandManage/realTimeCombat'\">实时作战</div>\r\n                        <div id=\"combat-replay-page\" class=\"header-menu-dropdown-item mdui-ripple\" onclick=\"window.location.href='${pot}/commandManage/combatReplay'\">历史回放</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"header-menu-content\">\r\n                    <div class=\"header-menu-item mdui-ripple\" data-menu-index=\"2\">\r\n                        数据分析<i class=\"mdui-icon material-icons menu-arrow-down\">&#xe5c5;</i>\r\n                    </div>\r\n                    <div class=\"header-menu-dropdown header-menu-dropdown-2\">\r\n                        <div class=\"header-menu-dropdown-item mdui-ripple\">敬请期待</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"header-menu-content\">\r\n                    <div id=\"system-folder\" class=\"header-menu-item mdui-ripple\" data-menu-index=\"3\">\r\n                        系统管理<i class=\"mdui-icon material-icons menu-arrow-down\">&#xe5c5;</i>\r\n                    </div>\r\n                    <div class=\"header-menu-dropdown header-menu-dropdown-3\">\r\n                        <div id=\"user-manage-page\" class=\"header-menu-dropdown-item mdui-ripple\" onclick=\"window.location.href='${pot}/systemManage/userManage'\">用户管理</div>\r\n                        <div id=\"role-manage-page\" class=\"header-menu-dropdown-item mdui-ripple\" onclick=\"window.location.href='${pot}/systemManage/roleManage'\">角色管理</div>\r\n                        <div id=\"dept-manage-page\" class=\"header-menu-dropdown-item mdui-ripple\" onclick=\"window.location.href='${pot}/systemManage/deptManage'\">组织机构管理</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"login-user-name\">\r\n                <div class=\"mdui-ripple\">\r\n                    当前用户：\r\n                    ${username}\r\n                    <i class=\"mdui-icon material-icons menu-arrow-down\">&#xe5c5;</i>\r\n                </div>\r\n                <div class=\"user-option\">\r\n                    <div class=\"option-item mdui-ripple\" onclick=\"window.location.href='${pot}/systemManage/userCenter'\">个人中心</div>\r\n                    <div class=\"option-item mdui-ripple\" id=\"logout-btn\">退出</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"header-current-time header-info-txt\"></div>\r\n        `;\r\n        */\r\n        /*add by guoshuai start 2018-9-28*/\r\n        TopHeaderHtml = TopHeaderHtml + `\r\n            </div>\r\n            <div class=\"login-user-name\">\r\n                <div style=\"\r\n                    top: 16px;\r\n                    z-index:1000;\r\n                    position: absolute;\r\n                    \r\n                    width: 100%;\r\n                    \r\n                \">  \r\n                    <!--\r\n                    <div id=\"umr-mess\"></div>\r\n                    -->\r\n                    <div id=\"umr-user\"></div>\r\n                    <!--\r\n                    <i \r\n                    style=\"display:block;\r\n                    float: left;\r\n                    \" id=\"umr-x\";\r\n                    ></i>\r\n                    -->\r\n                    <span id=\"uo-sp2\" style=\"text-overflow: ellipsis; overflow:hidden;font-size: 18px;\"  title=${username}>\r\n                            ${username}\r\n                    </span>\r\n                </div>\r\n                <div class=\"user-option\">\r\n                    <!--\r\n                    <div id =\"user-text-box\"\r\n                     style=\"border-bottom:1px solid #03172f;\r\n                            width:120px;\r\n                            height:32px;\r\n                            line-height:32px;\r\n                    \">\r\n                        <span id=\"uo-sp1\"></span>\r\n                        <span id=\"uo-sp2\" style=\"text-overflow: ellipsis; overflow:hidden;font-size: 18px;\"  title=${username}>\r\n                            ${username}\r\n                        </span>\r\n                    </div>\r\n                    -->\r\n                    <div id=\"userCenter-set\" onclick=\"window.location.href='systemManage/userCenter'\"\r\n                        style=\"\r\n                            border-bottom:1px solid #03172f;\r\n                            width:120px;\r\n                            height:32px;\r\n                            line-height:32px;\r\n                            border-top: 1px solid #0e3463;\r\n                            cursor: pointer;\r\n                        \"\r\n                    >\r\n                        <span id=\"us-sp1\"></span>\r\n                        <span id=\"us-sp2\">个人设置</span>\r\n                    </div>\r\n                    <div id=\"logout-btn\"\r\n                            style=\"\r\n                                width:120px;\r\n                                height:32px;\r\n                                line-height:32px;\r\n                                border-top: 1px solid #0e3463;\r\n                                cursor: pointer;\r\n                        \">\r\n                            <span id=\"oi-sp1\"></span>\r\n                            <span id=\"oi-sp2\">退出</span>\r\n                    </div>    \r\n                </div>\r\n            </div>\r\n            <div class=\"header-current-time header-info-txt\"></div>\r\n            <div onclick=\"window.location.href='systemManage/userCenter'\" id=\"dgrzx\" class=\"option-item mdui-ripple\"></div>\r\n\t\t    <div id=\"fhdsy\" class=\"option-item mdui-ripple\"></div>\r\n        `;\r\n        /*add by guoshuai end 2018-9-28*/\r\n        $('.top-header').append(TopHeaderHtml);\r\n        function getCookie(cname) {\r\n            let name = cname + '=';\r\n            let ca = document.cookie.split(';');\r\n            for (let i = 0; i < ca.length; i++) {\r\n                let c = ca[i].trim();\r\n                if (c.indexOf(name) == 0) {\r\n                    return c.substring(name.length, c.length);\r\n                }\r\n            }\r\n            return '';\r\n        }\r\n        //获取头部图片3.获取logo信息后保存或更新到cookie——若cookie没有则新增，若有且不一致则更新\r\n        //if(!getCookie('homeLogoImgUrl')){\r\n        if( window.localStorage.homeLogoImgUrl==undefined){\r\n            $.ajax({\r\n                url: \"home/getSysLogoInfo\",\r\n                type: 'GET',\r\n                contentType: \"application/json; charset=utf-8\",\r\n                success: function (result) {\r\n                    if (result.retcode == 1 && result.dataMap && result.dataMap.data && result.dataMap.data.homeLogoImgUrl != \"\" && typeof(result.dataMap.data.homeLogoImgUrl) != \"undefined\") {\r\n                        loginLogoImgUrl = result.dataMap.data.loginLogoImgUrl;\r\n                        homeLogoImgUrl =  result.dataMap.data.homeLogoImgUrl;\r\n                        \r\n                        /* MyCookie.setCookie('homeLogoImgUrl',homeLogoImgUrl,365);\r\n                        MyCookie.setCookie('loginLogoImgUrl',loginLogoImgUrl,365); */\r\n                        window.localStorage.setItem('loginLogoImgUrl',loginLogoImgUrl);\r\n                        window.localStorage.setItem('homeLogoImgUrl',homeLogoImgUrl);\r\n                        let htmlValue=`\r\n                            <div class=\"login-title-word\" style=\"background:url('${loginLogoImgUrl}')\"></div>\r\n                        `;\r\n                        $('#login-title-word-box').append(htmlValue);\r\n                        document.getElementById('top-header').style.backgroundImage = \"url('\"+homeLogoImgUrl+\"')\";\r\n                    }else{\r\n                        homeLogoImgUrl = 'img/iconpic/logo2.png';\r\n                        document.getElementById('top-header').style.backgroundImage = \"url('\"+homeLogoImgUrl+\"')\"\r\n                        let htmlValue='<div id=\"login-title-word\"></div>';\r\n                        loginLogoImgUrl =  htmlValue; \r\n                        $('#login-title-word-box').append(htmlValue);\r\n                    }\r\n                },\r\n                error: function() {\r\n                \r\n                }\r\n            });\r\n        }else{\r\n            /* loginLogoImgUrl = getCookie('loginLogoImgUrl'); */\r\n            loginLogoImgUrl = window.localStorage.loginLogoImgUrl\r\n            let htmlValue=`\r\n                <div class=\"login-title-word\" style=\"background:url('${loginLogoImgUrl}')\"></div>\r\n            `;\r\n            $('#login-title-word-box').append(htmlValue);\r\n            /* homeLogoImgUrl = getCookie('homeLogoImgUrl'); */\r\n            homeLogoImgUrl = window.localStorage.homeLogoImgUrl;\r\n            document.getElementById('top-header').style.backgroundImage = \"url('\"+homeLogoImgUrl+\"')\";\r\n\r\n        }\r\n\r\n        $('#logout-btn').click(function () {\r\n            __WEBPACK_IMPORTED_MODULE_0__cookie_MyCookie_js__[\"a\" /* MyCookie */].deleteCookie('combatReplayQueryCache');\r\n            __WEBPACK_IMPORTED_MODULE_0__cookie_MyCookie_js__[\"a\" /* MyCookie */].deleteCookie('combatReplayPlayTimeCache');\r\n            window.location.href = `logout`;\r\n        });\r\n\r\n        /*add by guoshuai start 2018-9-28*/\r\n        $(document).on(\"click\",\"#fhdsy\",function () {\r\n            __WEBPACK_IMPORTED_MODULE_0__cookie_MyCookie_js__[\"a\" /* MyCookie */].deleteCookie('combatReplayQueryCache');\r\n            __WEBPACK_IMPORTED_MODULE_0__cookie_MyCookie_js__[\"a\" /* MyCookie */].deleteCookie('combatReplayPlayTimeCache');\r\n            window.location.href = `logout`;\r\n        });\r\n        /*add by guoshuai end 2018-9-28*/\r\n\r\n        $('.header-menu-item').click(function () {\r\n            $('.header-menu-dropdown').slideUp(300);\r\n            if ($('.header-menu-dropdown-' + $(this).attr('data-menu-index')).css('display') == 'none') {\r\n                $('.header-menu-dropdown-' + $(this).attr('data-menu-index')).slideDown(200);\r\n            }\r\n        });\r\n\r\n        $('.login-user-name').click(function () {\r\n            if ($('.user-option').css('display') == 'none') {\r\n                $('.user-option').slideDown(200);\r\n                /*add by guoshuai start 2018-9-28*/\r\n                $('#fhdsy').css('display','block');\r\n                $('#dgrzx').css('display','block');\r\n                $('.login-user-name').css('height','160px');\r\n                /*add by guoshuai end 2018-9-28*/\r\n            } else {\r\n                $('.user-option').slideUp(200);\r\n                /*add by guoshuai start 2018-9-28*/\r\n                $('#fhdsy').css('display','none');\r\n                $('#dgrzx').css('display','none');\r\n                $('.login-user-name').css('height','70px');\r\n                /*add by guoshuai end 2018-9-28*/\r\n            }\r\n        });\r\n        $('body').mousedown(function (e) {\r\n            try {\r\n                if (e.target.className.indexOf('header-menu-dropdown-item') != -1) {\r\n                    $('.user-option').slideUp(200);\r\n                    /*add by guoshuai start 2018-9-28*/\r\n                    $('#fhdsy').css('display','none');\r\n                    $('#dgrzx').css('display','none');\r\n                    $('.login-user-name').css('height','70px');\r\n                    /*add by guoshuai end 2018-9-28*/\r\n                } else if (e.target.className.indexOf('option-item') != -1) {\r\n                    $('.header-menu-dropdown').slideUp(300);\r\n                } else {\r\n                    $('.user-option').slideUp(200);\r\n                    $('.header-menu-dropdown').slideUp(300);\r\n                    /*add by guoshuai start 2018-9-28*/\r\n                    $('#fhdsy').css('display','none');\r\n                    $('#dgrzx').css('display','none');\r\n                    $('.login-user-name').css('height','70px');\r\n                    /*add by guoshuai end 2018-9-28*/\r\n                }\r\n            } catch (error) {\r\n                $('.user-option').slideUp(200);\r\n                $('.header-menu-dropdown').slideUp(300);\r\n                /*add by guoshuai start 2018-9-28*/\r\n                $('#fhdsy').css('display','none');\r\n                $('#dgrzx').css('display','none');\r\n                $('.login-user-name').css('height','70px');\r\n                /*add by guoshuai end 2018-9-28*/\r\n            }\r\n        });\r\n\r\n        let startTimeValue = __WEBPACK_IMPORTED_MODULE_1__util_CommonUtil_js__[\"a\" /* CommonUtil */].getServerDate().getTime();\r\n\r\n        let week = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'];\r\n        $('.header-current-time').html(new Date(startTimeValue).Format('yyyy-MM-dd hh:mm:ss') + '&nbsp;&nbsp;' + week[new Date(startTimeValue).getDay()]);\r\n        setInterval(function () {\r\n            startTimeValue = startTimeValue + 1000;\r\n            $('.header-current-time').html(new Date(startTimeValue).Format('yyyy-MM-dd hh:mm:ss') + '&nbsp;&nbsp;' + week[new Date(startTimeValue).getDay()]);\r\n        }, 1000);\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = TopHeader;\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRTovQ0JDUC93b3Jrc3BhY2UvQ0JDUC9zcmMvbWFpbi93ZWJhcHAvanMvc3JjL2FwcC9jb21tb24vdG9wSGVhZGVyL1RvcEhlYWRlci5qcz9hNTMxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBaUQ7QUFDRTs7QUFFNUM7O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIscUJBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isa0NBQWtDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLFNBQVMscUJBQXFCLEVBQUU7QUFDbkcsOEJBQThCO0FBQzlCO0FBQ0Esd0ZBQXdGO0FBQ3hGO0FBQ0E7QUFDQSxrREFBa0QsWUFBWSxrREFBa0QsMEJBQTBCLGtCQUFrQixTQUFTLFNBQVM7QUFDOUs7QUFDQTtBQUNBLGdGQUFnRixFQUFFO0FBQ2xGO0FBQ0EsK0JBQStCLGtDQUFrQztBQUNqRTtBQUNBLGlGQUFpRixrR0FBa0csa0NBQWtDLCtFQUErRSxLQUFLLDhCQUE4QjtBQUN2VTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLG1FQUFtRSx3R0FBd0cscUJBQXFCLEVBQUUsSUFBSSwrREFBK0QscURBQXFELFNBQVMsR0FBRyxpQkFBaUI7QUFDdlY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsZ0ZBQWdGO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsSUFBSTtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxvSUFBb0ksSUFBSTtBQUN4STtBQUNBO0FBQ0E7QUFDQSx3RkFBd0Y7QUFDeEY7QUFDQTtBQUNBLHVJQUF1SSxJQUFJO0FBQzNJLG9JQUFvSSxJQUFJO0FBQ3hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGO0FBQ3hGO0FBQ0E7QUFDQSxrSUFBa0ksSUFBSTtBQUN0SSxrSUFBa0ksSUFBSTtBQUN0SSxrSUFBa0ksSUFBSTtBQUN0STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsZ0ZBQWdGO0FBQ2hGO0FBQ0E7QUFDQSwwRkFBMEYsSUFBSTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxpQkFBaUIsZ0JBQWdCLFdBQVcsU0FBUztBQUMxSCw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxpQkFBaUIsZ0JBQWdCLFdBQVcsU0FBUztBQUM5SCw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0MsMkJBQTJCLGVBQWU7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrRkFBa0Y7QUFDbEY7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLGdCQUFnQjtBQUNuRztBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EscUQ7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBLHVFQUF1RSxnQkFBZ0I7QUFDdkY7QUFDQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBOztBQUVBOztBQUVBO0FBQ0EsWUFBWSxxRUFBUTtBQUNwQixZQUFZLHFFQUFRO0FBQ3BCO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0EsWUFBWSxxRUFBUTtBQUNwQixZQUFZLHFFQUFRO0FBQ3BCO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQsNkJBQTZCLHVFQUFVOztBQUV2QztBQUNBLHVHQUF1RyxNQUFNO0FBQzdHO0FBQ0E7QUFDQSwyR0FBMkcsTUFBTTtBQUNqSCxTQUFTOzs7O0FBSVQ7OztBQUdBLENBQUM7QUFBQTtBQUFBIiwiZmlsZSI6IjM3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTXlDb29raWUgfSBmcm9tICcuLi9jb29raWUvTXlDb29raWUuanMnO1xyXG5pbXBvcnQgeyBDb21tb25VdGlsIH0gZnJvbSAnLi4vdXRpbC9Db21tb25VdGlsLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUb3BIZWFkZXIge1xyXG5cclxuICAgIHN0YXRpYyBpbml0SGVhZGVyKCkge1xyXG4gICAgICAgIGxldCBjdXJyZW50VXJsID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xyXG4gICAgICAgIGxldCBUb3BIZWFkZXJIdG1sID0gJyc7XHJcbiAgICAgICAgVG9wSGVhZGVySHRtbCA9IFRvcEhlYWRlckh0bWwgKyBgXHJcbiAgICAgICAgICAgIDwhLS1kZWxldCBieSBndW9zaHVhaSAyMDE4LTktMjAgLS0+XHJcbiAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJ0b3AtaGVhZGVyLWljb25cIiBzcmM9XCJpbWcvcG9saWNlX3RpdGxlX2ljb24ucG5nXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidG9wLWhlYWRlci10aXRsZVwiPuWNj+WQjOS9nOaImOaMh+aMpeW5s+WPsCjlhoXmtYvniYgpPC9zcGFuPlxyXG4gICAgICAgICAgICA8IS0tZGVsZXQgYnkgZ3Vvc2h1YWkgMjAxOC05LTIwIC0tPlxyXG4gICAgICAgICAgICA8IS0tYWRkIGJ5IGd1b3NodWFpIDIwMTgtOS0yMC0tPlxyXG4gICAgICAgICAgICA8IS0tZW5kIGJ5IGd1b3NodWFpIDIwMTgtOS0yMC0tPlxyXG4gICAgICAgICAgICA8IS0tPGRpdiBjbGFzcz1cInRvcC1oZWFkZXItbG9nby1iYXRhXCI+PC9kaXY+LS0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b3AtaGVhZGVyLW1lbnVcIj5cclxuICAgICAgICBgO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVudUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKG1lbnVMaXN0W2ldLm5hbWUgPT0gJ+S4quS6uuS4reW/gycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtZW51TGlzdFtpXS5jaGlsZE1lbnUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzQWN0aXZlID0gJyc7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1lbnVMaXN0W2ldLmNoaWxkTWVudS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VXJsLmluZGV4T2YobWVudUxpc3RbaV0uY2hpbGRNZW51W2pdLnVybCkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZSA9ICdoZWFkZXItbWVudS1pdGVtLWFjdGl2ZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFRvcEhlYWRlckh0bWwgPSBUb3BIZWFkZXJIdG1sICsgYFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItbWVudS1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItbWVudS1pdGVtIG1kdWktcmlwcGxlICR7aXNBY3RpdmV9XCIgZGF0YS1tZW51LWluZGV4PVwiJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHttZW51TGlzdFtpXS5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBkZWxldGUgYnkgZ3Vvc2h1YWkgc3RhcnQgMjAxOC0xMC04XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cIm1kdWktaWNvbiBtYXRlcmlhbC1pY29ucyBtZW51LWFycm93LWRvd25cIj4mI3hlNWM1OzwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBieSBndW9zaHVhaSBlbmQgMjAxOC0xMC04LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tZGVsZXRlIGJ5IGd1b3NodWFpIHN0YXJ0LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT1cIndpZHRoOiAxMXB4O2hlaWdodDogOXB4O2JhY2tncm91bmQ6dXJsKCdpbWcvaWNvbnBpYy9zbGlkZS5wbmcnKSBuby1yZXBlYXQ7YmFja2dyb3VuZC1zaXplOjEwMCUgMTAwJTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTRweDtsZWZ0OjgwJTtcIj48L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tYWRkIGJ5IGd1b3NodWFpIGVuZCAyMDE4LTEwLTgtLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItbWVudS1kcm9wZG93biBoZWFkZXItbWVudS1kcm9wZG93bi0ke2l9XCI+XHJcbiAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtZW51TGlzdFtpXS5jaGlsZE1lbnUubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBUb3BIZWFkZXJIdG1sID0gVG9wSGVhZGVySHRtbCArIGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItbWVudS1kcm9wZG93bi1pdGVtIG1kdWktcmlwcGxlXCIgJHtjdXJyZW50VXJsLmluZGV4T2YobWVudUxpc3RbaV0uY2hpbGRNZW51W2pdLnVybCkgPj0gMCA/ICdzdHlsZT1cImJhY2tncm91bmQ6cmdiKDAsIDk3LCAxNjApXCInIDogJyd9IG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24uaHJlZj0nJHttZW51TGlzdFtpXS5jaGlsZE1lbnVbal0udXJsLnN1YnN0cmluZygxLCBtZW51TGlzdFtpXS5jaGlsZE1lbnVbal0udXJsLmxlbmd0aCl9J1wiPiR7bWVudUxpc3RbaV0uY2hpbGRNZW51W2pdLm5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFRvcEhlYWRlckh0bWwgPSBUb3BIZWFkZXJIdG1sICsgYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBUb3BIZWFkZXJIdG1sID0gVG9wSGVhZGVySHRtbCArIGBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyLW1lbnUtY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyLW1lbnUtaXRlbSBtZHVpLXJpcHBsZSAke2N1cnJlbnRVcmwuaW5kZXhPZihtZW51TGlzdFtpXS51cmwpID49IDAgJiYgbWVudUxpc3RbaV0ubmFtZSAhPSAn5pWw5o2u5YiG5p6QJyA/ICdoZWFkZXItbWVudS1pdGVtLWFjdGl2ZScgOiAnJ31cIiBkYXRhLW1lbnUtaW5kZXg9XCIke2l9XCIgJHttZW51TGlzdFtpXS5uYW1lICE9ICfmlbDmja7liIbmnpAnID8gYG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24uaHJlZj0nJHttZW51TGlzdFtpXS51cmwuc3Vic3RyaW5nKDEsIG1lbnVMaXN0W2ldLnVybC5sZW5ndGgpfSdcImAgOiAnJ30+JHttZW51TGlzdFtpXS5uYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKmRlbGV0ZSBieSBndW9zaHVhaSBzdGFydCAyMDE4LTktMjhcclxuICAgICAgICBUb3BIZWFkZXJIdG1sID0gVG9wSGVhZGVySHRtbCArIGBcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dpbi11c2VyLW5hbWVcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZHVpLXJpcHBsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIOW9k+WJjeeUqOaIt++8mlxyXG4gICAgICAgICAgICAgICAgICAgICR7dXNlcm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJtZHVpLWljb24gbWF0ZXJpYWwtaWNvbnMgbWVudS1hcnJvdy1kb3duXCI+JiN4ZTVjNTs8L2k+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1c2VyLW9wdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb24taXRlbSBtZHVpLXJpcHBsZVwiIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24uaHJlZj0nc3lzdGVtTWFuYWdlL3VzZXJDZW50ZXInXCI+5Liq5Lq65Lit5b+DPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm9wdGlvbi1pdGVtIG1kdWktcmlwcGxlXCIgaWQ9XCJsb2dvdXQtYnRuXCI+6YCA5Ye6PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItY3VycmVudC10aW1lIGhlYWRlci1pbmZvLXR4dFwiPjwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICAgICAgZGVsZXRlIGJ5IGd1b3NodWFpIGVuZCAyMDE4LTktMjgqL1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgbGV0IFRvcEhlYWRlckh0bWwgPSBgXHJcbiAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJ0b3AtaGVhZGVyLWljb25cIiBzcmM9XCIke3BvdH0vaW1nL3BvbGljZV90aXRsZV9pY29uLnBuZ1wiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRvcC1oZWFkZXItdGl0bGVcIj7ljY/lkIzkvZzmiJjmjIfmjKXlubPlj7A8L3NwYW4+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b3AtaGVhZGVyLW1lbnVcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItbWVudS1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImhvbWUtZm9sZGVyXCIgY2xhc3M9XCJoZWFkZXItbWVudS1pdGVtIG1kdWktcmlwcGxlXCIgZGF0YS1tZW51LWluZGV4PVwiMFwiIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24uaHJlZj0nJHtwb3R9L2hvbWUnXCI+5oC76KeIPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItbWVudS1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImNvbWJhdC1mb2xkZXJcIiBjbGFzcz1cImhlYWRlci1tZW51LWl0ZW0gbWR1aS1yaXBwbGVcIiBkYXRhLW1lbnUtaW5kZXg9XCIxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIOS9nOaImOaMh+aMpTxpIGNsYXNzPVwibWR1aS1pY29uIG1hdGVyaWFsLWljb25zIG1lbnUtYXJyb3ctZG93blwiPiYjeGU1YzU7PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItbWVudS1kcm9wZG93biBoZWFkZXItbWVudS1kcm9wZG93bi0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJyZWFsLXRpbWUtY29tYmF0LXBhZ2VcIiBjbGFzcz1cImhlYWRlci1tZW51LWRyb3Bkb3duLWl0ZW0gbWR1aS1yaXBwbGVcIiBvbmNsaWNrPVwid2luZG93LmxvY2F0aW9uLmhyZWY9JyR7cG90fS9jb21tYW5kTWFuYWdlL3JlYWxUaW1lQ29tYmF0J1wiPuWunuaXtuS9nOaImDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiY29tYmF0LXJlcGxheS1wYWdlXCIgY2xhc3M9XCJoZWFkZXItbWVudS1kcm9wZG93bi1pdGVtIG1kdWktcmlwcGxlXCIgb25jbGljaz1cIndpbmRvdy5sb2NhdGlvbi5ocmVmPScke3BvdH0vY29tbWFuZE1hbmFnZS9jb21iYXRSZXBsYXknXCI+5Y6G5Y+y5Zue5pS+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItbWVudS1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlci1tZW51LWl0ZW0gbWR1aS1yaXBwbGVcIiBkYXRhLW1lbnUtaW5kZXg9XCIyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIOaVsOaNruWIhuaekDxpIGNsYXNzPVwibWR1aS1pY29uIG1hdGVyaWFsLWljb25zIG1lbnUtYXJyb3ctZG93blwiPiYjeGU1YzU7PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItbWVudS1kcm9wZG93biBoZWFkZXItbWVudS1kcm9wZG93bi0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItbWVudS1kcm9wZG93bi1pdGVtIG1kdWktcmlwcGxlXCI+5pWs6K+35pyf5b6FPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItbWVudS1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cInN5c3RlbS1mb2xkZXJcIiBjbGFzcz1cImhlYWRlci1tZW51LWl0ZW0gbWR1aS1yaXBwbGVcIiBkYXRhLW1lbnUtaW5kZXg9XCIzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIOezu+e7n+euoeeQhjxpIGNsYXNzPVwibWR1aS1pY29uIG1hdGVyaWFsLWljb25zIG1lbnUtYXJyb3ctZG93blwiPiYjeGU1YzU7PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItbWVudS1kcm9wZG93biBoZWFkZXItbWVudS1kcm9wZG93bi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ1c2VyLW1hbmFnZS1wYWdlXCIgY2xhc3M9XCJoZWFkZXItbWVudS1kcm9wZG93bi1pdGVtIG1kdWktcmlwcGxlXCIgb25jbGljaz1cIndpbmRvdy5sb2NhdGlvbi5ocmVmPScke3BvdH0vc3lzdGVtTWFuYWdlL3VzZXJNYW5hZ2UnXCI+55So5oi3566h55CGPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJyb2xlLW1hbmFnZS1wYWdlXCIgY2xhc3M9XCJoZWFkZXItbWVudS1kcm9wZG93bi1pdGVtIG1kdWktcmlwcGxlXCIgb25jbGljaz1cIndpbmRvdy5sb2NhdGlvbi5ocmVmPScke3BvdH0vc3lzdGVtTWFuYWdlL3JvbGVNYW5hZ2UnXCI+6KeS6Imy566h55CGPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJkZXB0LW1hbmFnZS1wYWdlXCIgY2xhc3M9XCJoZWFkZXItbWVudS1kcm9wZG93bi1pdGVtIG1kdWktcmlwcGxlXCIgb25jbGljaz1cIndpbmRvdy5sb2NhdGlvbi5ocmVmPScke3BvdH0vc3lzdGVtTWFuYWdlL2RlcHRNYW5hZ2UnXCI+57uE57uH5py65p6E566h55CGPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dpbi11c2VyLW5hbWVcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZHVpLXJpcHBsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIOW9k+WJjeeUqOaIt++8mlxyXG4gICAgICAgICAgICAgICAgICAgICR7dXNlcm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJtZHVpLWljb24gbWF0ZXJpYWwtaWNvbnMgbWVudS1hcnJvdy1kb3duXCI+JiN4ZTVjNTs8L2k+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1c2VyLW9wdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb24taXRlbSBtZHVpLXJpcHBsZVwiIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24uaHJlZj0nJHtwb3R9L3N5c3RlbU1hbmFnZS91c2VyQ2VudGVyJ1wiPuS4quS6uuS4reW/gzwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb24taXRlbSBtZHVpLXJpcHBsZVwiIGlkPVwibG9nb3V0LWJ0blwiPumAgOWHujwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyLWN1cnJlbnQtdGltZSBoZWFkZXItaW5mby10eHRcIj48L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgLyphZGQgYnkgZ3Vvc2h1YWkgc3RhcnQgMjAxOC05LTI4Ki9cclxuICAgICAgICBUb3BIZWFkZXJIdG1sID0gVG9wSGVhZGVySHRtbCArIGBcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dpbi11c2VyLW5hbWVcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IDE2cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgei1pbmRleDoxMDAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIFwiPiAgXHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLVxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ1bXItbWVzc1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ1bXItdXNlclwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS1cclxuICAgICAgICAgICAgICAgICAgICA8aSBcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT1cImRpc3BsYXk6YmxvY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgXCIgaWQ9XCJ1bXIteFwiO1xyXG4gICAgICAgICAgICAgICAgICAgID48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJ1by1zcDJcIiBzdHlsZT1cInRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyBvdmVyZmxvdzpoaWRkZW47Zm9udC1zaXplOiAxOHB4O1wiICB0aXRsZT0ke3VzZXJuYW1lfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7dXNlcm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidXNlci1vcHRpb25cIj5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZCA9XCJ1c2VyLXRleHQtYm94XCJcclxuICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJib3JkZXItYm90dG9tOjFweCBzb2xpZCAjMDMxNzJmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6MTIwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6MzJweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OjMycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwidW8tc3AxXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD1cInVvLXNwMlwiIHN0eWxlPVwidGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IG92ZXJmbG93OmhpZGRlbjtmb250LXNpemU6IDE4cHg7XCIgIHRpdGxlPSR7dXNlcm5hbWV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt1c2VybmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ1c2VyQ2VudGVyLXNldFwiIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24uaHJlZj0nc3lzdGVtTWFuYWdlL3VzZXJDZW50ZXInXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206MXB4IHNvbGlkICMwMzE3MmY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDoxMjBweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDozMnB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6MzJweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjMGUzNDYzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJ1cy1zcDFcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwidXMtc3AyXCI+5Liq5Lq66K6+572uPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJsb2dvdXQtYnRuXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6MTIwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OjMycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6MzJweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgIzBlMzQ2MztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJvaS1zcDFcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD1cIm9pLXNwMlwiPumAgOWHujwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gICAgXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItY3VycmVudC10aW1lIGhlYWRlci1pbmZvLXR4dFwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24uaHJlZj0nc3lzdGVtTWFuYWdlL3VzZXJDZW50ZXInXCIgaWQ9XCJkZ3J6eFwiIGNsYXNzPVwib3B0aW9uLWl0ZW0gbWR1aS1yaXBwbGVcIj48L2Rpdj5cclxuXHRcdCAgICA8ZGl2IGlkPVwiZmhkc3lcIiBjbGFzcz1cIm9wdGlvbi1pdGVtIG1kdWktcmlwcGxlXCI+PC9kaXY+XHJcbiAgICAgICAgYDtcclxuICAgICAgICAvKmFkZCBieSBndW9zaHVhaSBlbmQgMjAxOC05LTI4Ki9cclxuICAgICAgICAkKCcudG9wLWhlYWRlcicpLmFwcGVuZChUb3BIZWFkZXJIdG1sKTtcclxuICAgICAgICBmdW5jdGlvbiBnZXRDb29raWUoY25hbWUpIHtcclxuICAgICAgICAgICAgbGV0IG5hbWUgPSBjbmFtZSArICc9JztcclxuICAgICAgICAgICAgbGV0IGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2EubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBjID0gY2FbaV0udHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMuc3Vic3RyaW5nKG5hbWUubGVuZ3RoLCBjLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+iOt+WPluWktOmDqOWbvueJhzMu6I635Y+WbG9nb+S/oeaBr+WQjuS/neWtmOaIluabtOaWsOWIsGNvb2tpZeKAlOKAlOiLpWNvb2tpZeayoeacieWImeaWsOWinu+8jOiLpeacieS4lOS4jeS4gOiHtOWImeabtOaWsFxyXG4gICAgICAgIC8vaWYoIWdldENvb2tpZSgnaG9tZUxvZ29JbWdVcmwnKSl7XHJcbiAgICAgICAgaWYoIHdpbmRvdy5sb2NhbFN0b3JhZ2UuaG9tZUxvZ29JbWdVcmw9PXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IFwiaG9tZS9nZXRTeXNMb2dvSW5mb1wiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXRjb2RlID09IDEgJiYgcmVzdWx0LmRhdGFNYXAgJiYgcmVzdWx0LmRhdGFNYXAuZGF0YSAmJiByZXN1bHQuZGF0YU1hcC5kYXRhLmhvbWVMb2dvSW1nVXJsICE9IFwiXCIgJiYgdHlwZW9mKHJlc3VsdC5kYXRhTWFwLmRhdGEuaG9tZUxvZ29JbWdVcmwpICE9IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9naW5Mb2dvSW1nVXJsID0gcmVzdWx0LmRhdGFNYXAuZGF0YS5sb2dpbkxvZ29JbWdVcmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvbWVMb2dvSW1nVXJsID0gIHJlc3VsdC5kYXRhTWFwLmRhdGEuaG9tZUxvZ29JbWdVcmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBNeUNvb2tpZS5zZXRDb29raWUoJ2hvbWVMb2dvSW1nVXJsJyxob21lTG9nb0ltZ1VybCwzNjUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBNeUNvb2tpZS5zZXRDb29raWUoJ2xvZ2luTG9nb0ltZ1VybCcsbG9naW5Mb2dvSW1nVXJsLDM2NSk7ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbG9naW5Mb2dvSW1nVXJsJyxsb2dpbkxvZ29JbWdVcmwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2hvbWVMb2dvSW1nVXJsJyxob21lTG9nb0ltZ1VybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBodG1sVmFsdWU9YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvZ2luLXRpdGxlLXdvcmRcIiBzdHlsZT1cImJhY2tncm91bmQ6dXJsKCcke2xvZ2luTG9nb0ltZ1VybH0nKVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjbG9naW4tdGl0bGUtd29yZC1ib3gnKS5hcHBlbmQoaHRtbFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvcC1oZWFkZXInKS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCgnXCIraG9tZUxvZ29JbWdVcmwrXCInKVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob21lTG9nb0ltZ1VybCA9ICdpbWcvaWNvbnBpYy9sb2dvMi5wbmcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9wLWhlYWRlcicpLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKCdcIitob21lTG9nb0ltZ1VybCtcIicpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGh0bWxWYWx1ZT0nPGRpdiBpZD1cImxvZ2luLXRpdGxlLXdvcmRcIj48L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dpbkxvZ29JbWdVcmwgPSAgaHRtbFZhbHVlOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2xvZ2luLXRpdGxlLXdvcmQtYm94JykuYXBwZW5kKGh0bWxWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLyogbG9naW5Mb2dvSW1nVXJsID0gZ2V0Q29va2llKCdsb2dpbkxvZ29JbWdVcmwnKTsgKi9cclxuICAgICAgICAgICAgbG9naW5Mb2dvSW1nVXJsID0gd2luZG93LmxvY2FsU3RvcmFnZS5sb2dpbkxvZ29JbWdVcmxcclxuICAgICAgICAgICAgbGV0IGh0bWxWYWx1ZT1gXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9naW4tdGl0bGUtd29yZFwiIHN0eWxlPVwiYmFja2dyb3VuZDp1cmwoJyR7bG9naW5Mb2dvSW1nVXJsfScpXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICQoJyNsb2dpbi10aXRsZS13b3JkLWJveCcpLmFwcGVuZChodG1sVmFsdWUpO1xyXG4gICAgICAgICAgICAvKiBob21lTG9nb0ltZ1VybCA9IGdldENvb2tpZSgnaG9tZUxvZ29JbWdVcmwnKTsgKi9cclxuICAgICAgICAgICAgaG9tZUxvZ29JbWdVcmwgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmhvbWVMb2dvSW1nVXJsO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9wLWhlYWRlcicpLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKCdcIitob21lTG9nb0ltZ1VybCtcIicpXCI7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJCgnI2xvZ291dC1idG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIE15Q29va2llLmRlbGV0ZUNvb2tpZSgnY29tYmF0UmVwbGF5UXVlcnlDYWNoZScpO1xyXG4gICAgICAgICAgICBNeUNvb2tpZS5kZWxldGVDb29raWUoJ2NvbWJhdFJlcGxheVBsYXlUaW1lQ2FjaGUnKTtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgbG9nb3V0YDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyphZGQgYnkgZ3Vvc2h1YWkgc3RhcnQgMjAxOC05LTI4Ki9cclxuICAgICAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsXCIjZmhkc3lcIixmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIE15Q29va2llLmRlbGV0ZUNvb2tpZSgnY29tYmF0UmVwbGF5UXVlcnlDYWNoZScpO1xyXG4gICAgICAgICAgICBNeUNvb2tpZS5kZWxldGVDb29raWUoJ2NvbWJhdFJlcGxheVBsYXlUaW1lQ2FjaGUnKTtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgbG9nb3V0YDtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKmFkZCBieSBndW9zaHVhaSBlbmQgMjAxOC05LTI4Ki9cclxuXHJcbiAgICAgICAgJCgnLmhlYWRlci1tZW51LWl0ZW0nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJy5oZWFkZXItbWVudS1kcm9wZG93bicpLnNsaWRlVXAoMzAwKTtcclxuICAgICAgICAgICAgaWYgKCQoJy5oZWFkZXItbWVudS1kcm9wZG93bi0nICsgJCh0aGlzKS5hdHRyKCdkYXRhLW1lbnUtaW5kZXgnKSkuY3NzKCdkaXNwbGF5JykgPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcuaGVhZGVyLW1lbnUtZHJvcGRvd24tJyArICQodGhpcykuYXR0cignZGF0YS1tZW51LWluZGV4JykpLnNsaWRlRG93bigyMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJy5sb2dpbi11c2VyLW5hbWUnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKCcudXNlci1vcHRpb24nKS5jc3MoJ2Rpc3BsYXknKSA9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICQoJy51c2VyLW9wdGlvbicpLnNsaWRlRG93bigyMDApO1xyXG4gICAgICAgICAgICAgICAgLyphZGQgYnkgZ3Vvc2h1YWkgc3RhcnQgMjAxOC05LTI4Ki9cclxuICAgICAgICAgICAgICAgICQoJyNmaGRzeScpLmNzcygnZGlzcGxheScsJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjZGdyengnKS5jc3MoJ2Rpc3BsYXknLCdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvZ2luLXVzZXItbmFtZScpLmNzcygnaGVpZ2h0JywnMTYwcHgnKTtcclxuICAgICAgICAgICAgICAgIC8qYWRkIGJ5IGd1b3NodWFpIGVuZCAyMDE4LTktMjgqL1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnLnVzZXItb3B0aW9uJykuc2xpZGVVcCgyMDApO1xyXG4gICAgICAgICAgICAgICAgLyphZGQgYnkgZ3Vvc2h1YWkgc3RhcnQgMjAxOC05LTI4Ki9cclxuICAgICAgICAgICAgICAgICQoJyNmaGRzeScpLmNzcygnZGlzcGxheScsJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgICQoJyNkZ3J6eCcpLmNzcygnZGlzcGxheScsJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2dpbi11c2VyLW5hbWUnKS5jc3MoJ2hlaWdodCcsJzcwcHgnKTtcclxuICAgICAgICAgICAgICAgIC8qYWRkIGJ5IGd1b3NodWFpIGVuZCAyMDE4LTktMjgqL1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnYm9keScpLm1vdXNlZG93bihmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKCdoZWFkZXItbWVudS1kcm9wZG93bi1pdGVtJykgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcudXNlci1vcHRpb24nKS5zbGlkZVVwKDIwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyphZGQgYnkgZ3Vvc2h1YWkgc3RhcnQgMjAxOC05LTI4Ki9cclxuICAgICAgICAgICAgICAgICAgICAkKCcjZmhkc3knKS5jc3MoJ2Rpc3BsYXknLCdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2Rncnp4JykuY3NzKCdkaXNwbGF5Jywnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5sb2dpbi11c2VyLW5hbWUnKS5jc3MoJ2hlaWdodCcsJzcwcHgnKTtcclxuICAgICAgICAgICAgICAgICAgICAvKmFkZCBieSBndW9zaHVhaSBlbmQgMjAxOC05LTI4Ki9cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NOYW1lLmluZGV4T2YoJ29wdGlvbi1pdGVtJykgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuaGVhZGVyLW1lbnUtZHJvcGRvd24nKS5zbGlkZVVwKDMwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy51c2VyLW9wdGlvbicpLnNsaWRlVXAoMjAwKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuaGVhZGVyLW1lbnUtZHJvcGRvd24nKS5zbGlkZVVwKDMwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyphZGQgYnkgZ3Vvc2h1YWkgc3RhcnQgMjAxOC05LTI4Ki9cclxuICAgICAgICAgICAgICAgICAgICAkKCcjZmhkc3knKS5jc3MoJ2Rpc3BsYXknLCdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2Rncnp4JykuY3NzKCdkaXNwbGF5Jywnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5sb2dpbi11c2VyLW5hbWUnKS5jc3MoJ2hlaWdodCcsJzcwcHgnKTtcclxuICAgICAgICAgICAgICAgICAgICAvKmFkZCBieSBndW9zaHVhaSBlbmQgMjAxOC05LTI4Ki9cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICQoJy51c2VyLW9wdGlvbicpLnNsaWRlVXAoMjAwKTtcclxuICAgICAgICAgICAgICAgICQoJy5oZWFkZXItbWVudS1kcm9wZG93bicpLnNsaWRlVXAoMzAwKTtcclxuICAgICAgICAgICAgICAgIC8qYWRkIGJ5IGd1b3NodWFpIHN0YXJ0IDIwMTgtOS0yOCovXHJcbiAgICAgICAgICAgICAgICAkKCcjZmhkc3knKS5jc3MoJ2Rpc3BsYXknLCdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjZGdyengnKS5jc3MoJ2Rpc3BsYXknLCdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9naW4tdXNlci1uYW1lJykuY3NzKCdoZWlnaHQnLCc3MHB4Jyk7XHJcbiAgICAgICAgICAgICAgICAvKmFkZCBieSBndW9zaHVhaSBlbmQgMjAxOC05LTI4Ki9cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgc3RhcnRUaW1lVmFsdWUgPSBDb21tb25VdGlsLmdldFNlcnZlckRhdGUoKS5nZXRUaW1lKCk7XHJcblxyXG4gICAgICAgIGxldCB3ZWVrID0gWyfmmJ/mnJ/ml6UnLCAn5pif5pyf5LiAJywgJ+aYn+acn+S6jCcsICfmmJ/mnJ/kuIknLCAn5pif5pyf5ZubJywgJ+aYn+acn+S6lCcsICfmmJ/mnJ/lha0nXTtcclxuICAgICAgICAkKCcuaGVhZGVyLWN1cnJlbnQtdGltZScpLmh0bWwobmV3IERhdGUoc3RhcnRUaW1lVmFsdWUpLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbTpzcycpICsgJyZuYnNwOyZuYnNwOycgKyB3ZWVrW25ldyBEYXRlKHN0YXJ0VGltZVZhbHVlKS5nZXREYXkoKV0pO1xyXG4gICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc3RhcnRUaW1lVmFsdWUgPSBzdGFydFRpbWVWYWx1ZSArIDEwMDA7XHJcbiAgICAgICAgICAgICQoJy5oZWFkZXItY3VycmVudC10aW1lJykuaHRtbChuZXcgRGF0ZShzdGFydFRpbWVWYWx1ZSkuRm9ybWF0KCd5eXl5LU1NLWRkIGhoOm1tOnNzJykgKyAnJm5ic3A7Jm5ic3A7JyArIHdlZWtbbmV3IERhdGUoc3RhcnRUaW1lVmFsdWUpLmdldERheSgpXSk7XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBFOi9DQkNQL3dvcmtzcGFjZS9DQkNQL3NyYy9tYWluL3dlYmFwcC9qcy9zcmMvYXBwL2NvbW1vbi90b3BIZWFkZXIvVG9wSGVhZGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///37\n");

/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_Init_BaiduMap_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__overlay_DrawMultiBtsEcharts_js__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__overlay_DrawDevOverlay_js__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__overlay_DrawBtsOverlay_js__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__energy_Energy_js__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__sound_EnergySound_js__ = __webpack_require__(6);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ParsingDevInfo {\r\n\r\n    static parsingDevInfo(devBaseInfo, isPlayEngAudio) {\r\n        Array.prototype.remove = function (dx) {\r\n            if (isNaN(dx) || dx > this.length) { return false; }\r\n            for (var i = 0, n = 0; i < this.length; i++) {\r\n                if (this[i] != this[dx]) {\r\n                    this[n++] = this[i]\r\n                }\r\n            }\r\n            this.length -= 1\r\n        }\r\n        // console.table(devBaseInfo);\r\n        // /* 授时图标，主授时1，被授时2*/\r\n        for (let i = 0; i < devBaseInfo.length; i++) {\r\n            if (devBaseInfo[i].engInfo != null) {\r\n                if (devBaseInfo[i].engInfo.syncMode == 1) {\r\n                    // $(`.team-each-dev-timeservice-${devBaseInfo[i].devCode}`).html('主授时');\r\n                    $(`.team-each-dev-timeservice-${devBaseInfo[i].devCode}`).css('background-position', '-20px -70px');\r\n                    $(`.team-each-dev-timeservice-${devBaseInfo[i].devCode}`).css('display', 'block');\r\n                    /**add by gaochao start */\r\n                    $(`#team-each-dev-timeservice-status-${devBaseInfo[i].devCode}`).css('display', 'block');\r\n                    $(`#team-each-dev-timeservice-value-${devBaseInfo[i].devCode}`).css('display', 'block');\r\n                    $(`#team-each-dev-timeservice-status-${devBaseInfo[i].devCode}`).css('background', 'url(img/icon/timeserver_main.png)');\r\n                    $(`#team-each-dev-timeservice-value-${devBaseInfo[i].devCode}`).html('主授时');\r\n                    /**add by gaochao end */\r\n                } else if (devBaseInfo[i].engInfo.syncMode == 2) {\r\n                    // $(`.team-each-dev-timeservice-${devBaseInfo[i].devCode}`).html('被授时');\r\n                    $(`.team-each-dev-timeservice-${devBaseInfo[i].devCode}`).css('background-position', '-40px -70px');\r\n                    $(`.team-each-dev-timeservice-${devBaseInfo[i].devCode}`).css('display', 'block');\r\n                    /**add by gaochao start */\r\n                    $(`#team-each-dev-timeservice-status-${devBaseInfo[i].devCode}`).css('display', 'block');\r\n                    $(`#team-each-dev-timeservice-value-${devBaseInfo[i].devCode}`).css('display', 'block');\r\n                    $(`#team-each-dev-timeservice-status-${devBaseInfo[i].devCode}`).css('background', 'url(img/icon/timeserver_passive.png)');\r\n                    $(`#team-each-dev-timeservice-value-${devBaseInfo[i].devCode}`).html('被授时');\r\n                    /**add by gaochao end */\r\n                } else {\r\n                    $(`.team-each-dev-timeservice-${devBaseInfo[i].devCode}`).css('display', 'none');\r\n                    /**add by gaochao start */\r\n                    $(`#team-each-dev-timeservice-status-${devBaseInfo[i].devCode}`).css('display', 'none');\r\n                    $(`#team-each-dev-timeservice-value-${devBaseInfo[i].devCode}`).css('display', 'none');\r\n                    /**add by gaochao end */\r\n                }\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < devBaseInfo.length; i++) {\r\n            if (devBaseInfo[i].engInfo != undefined && devBaseInfo[i].engInfo.isShow == 0) {\r\n                devBaseInfo.remove(i);\r\n            }\r\n        }\r\n        if (devBaseInfo[0] != null) {\r\n            /* 设置中心点*/\r\n            for (let i = 0; i < devBaseInfo.length; i++) { // 有车载的情况\r\n                if (devBaseInfo[i].devType == 1) {\r\n                    centerPointDevCode = devBaseInfo[i].devCode;\r\n                    break;\r\n                }\r\n            }\r\n            if (centerPointDevCode == null) { // 没有车载的情况\r\n                centerPointDevCode = devBaseInfo[0].devCode;\r\n            }\r\n            /**add by gaochao start */\r\n            for (let i = 0; i < devBaseInfo.length; i++) {\r\n                if (devBaseInfo[i].devType == 1) {\r\n                    if (devBaseInfo[i].activeSupport == 1) {\r\n                        activeSupport = 1;\r\n                        break;\r\n                    } else {\r\n                        activeSupport = 0;\r\n                    }\r\n                }\r\n            }\r\n            for (let i = 0; i < devBaseInfo.length; i++) {\r\n                if (devBaseInfo[i].devType == 1) {\r\n                    if (devBaseInfo[i].activeEnable == 1) {\r\n                        activeEnable = 1;\r\n                        break;\r\n                    } else {\r\n                        activeEnable = 0;\r\n                    }\r\n                }\r\n            }\r\n            /**add by gaochao end*/\r\n            /* 主动式图标*/\r\n            for (let i = 0; i < devBaseInfo.length; i++) {\r\n                if (devBaseInfo[i].devType == 1) {\r\n                    $('.activedev-info-value').css(\"display\", \"block\");\r\n                    $('.activedev-info-time').css(\"display\", \"block\");\r\n                    $('.activedev-info-btn').css(\"display\", \"block\");\r\n                    /**edit by gaochao start */\r\n                    if (activeSupport == 0) {\r\n                        /**不支持主动式 */\r\n                        $('.activedev-info-icon-new').css('display', 'block');\r\n                        $('.activedev-info-title').css('display', 'block');\r\n                        $('.activedev-info-title').css('color', '#fff');\r\n                        $('.activedev-info-title').html('不支持主动式');\r\n                        $('.activedev-info-icon-new').css('background', 'url(img/icon/active_notsupport.png)');\r\n                    } else {\r\n                        /**支持主动式 */\r\n                        $('.activedev-info-icon-new').css('display', 'block');\r\n                        // $('.activedev-info-title').css('display', 'block');\r\n                        // $('.activedev-info-title').css('color', '#fff');\r\n                        // $('.activedev-info-title').html('主动式未开启');\r\n                        // $('.activedev-info-icon-new').css('background', 'url(img/icon/active_support.png)');\r\n                        if (devBaseInfo[i].activeEnable != 1) {\r\n                            /* 主动式关闭*/\r\n                            if (!$('.activedev-info-icon').hasClass('gray-cover')) {\r\n                                $('.activedev-info-icon').addClass('gray-cover');\r\n                                /**add by gaochao start */\r\n                                $('.activedev-info-title').css('display', 'block');\r\n                                $('.activedev-info-title').css('color', '#fff');\r\n                                // $('.activedev-info-title').html('主动式未开启');\r\n                                $('.activedev-info-icon-new').css('background', 'url(img/icon/active_support.png)');\r\n                                /**add by gaochao end */\r\n                            }\r\n                        } else {\r\n                            /* 主动式开启*/\r\n                            if ($('.activedev-info-icon').hasClass('gray-cover')) {\r\n                                $('.activedev-info-icon').removeClass('gray-cover');\r\n                                /**add by gaochao start */\r\n                                $('.activedev-info-title').css('display', 'block');\r\n                                $('.activedev-info-title').css('color', '#fff');\r\n                                // $('.activedev-info-title').html('主动式未命中');\r\n                                $('.activedev-info-icon-new').css('background', 'url(img/icon/active_active.png)');\r\n                                /**add by gaochao end */\r\n                            }\r\n                        }\r\n                    }\r\n                    /**edit by gaochao end */\r\n                }\r\n            }\r\n            /* 更新右侧面版GPS信息*/\r\n            for (let i = 0; i < devBaseInfo.length; i++) {\r\n                if (devBaseInfo[i].gpsInfo == undefined) {\r\n                    continue;\r\n                }\r\n                if (devBaseInfo[i].gpsInfo.accuracy <= 50) {\r\n                    $(`#team-each-dev-gpsstatus-${devBaseInfo[i].devCode}`).removeClass('gray-cover');\r\n                    $(`#team-each-dev-gpsstatus-${devBaseInfo[i].devCode}`).attr('title', 'GPS信号强');\r\n                    /**add by gaochao start */\r\n                    $(`#team-each-dev-gps-status-${devBaseInfo[i].devCode}`).css('background', 'url(\"img/icon/my_gps_active.png\")');\r\n                    $(`#team-each-dev-gps-value-${devBaseInfo[i].devCode}`).html('正常');\r\n                    /**add by gaochao end */\r\n                } else {\r\n                    $(`#team-each-dev-gpsstatus-${devBaseInfo[i].devCode}`).addClass('gray-cover');\r\n                    $(`#team-each-dev-gpsstatus-${devBaseInfo[i].devCode}`).attr('title', 'GPS信号弱');\r\n                    /**add by gaochao start */\r\n                    $(`#team-each-dev-gps-status-${devBaseInfo[i].devCode}`).css('background', 'url(\"img/icon/my_gps.png\")');\r\n                    $(`#team-each-dev-gps-value-${devBaseInfo[i].devCode}`).html('无信号');\r\n                    /**add by gaochao end */\r\n                }\r\n            }\r\n            /**ed by gaochao start */\r\n            for (let i = 0; i < devBaseInfo.length; i++) {\r\n                if (devBaseInfo[i].devType == 1) {\r\n                    $(`#team-each-dev-speed-value-${devBaseInfo[i].devCode}`).html(`${(devBaseInfo[i].gpsInfo == undefined || devBaseInfo[i].gpsInfo == null) ? \"\" : devBaseInfo[i].gpsInfo.speed + \"km/h\"}`);\r\n                } else {\r\n                    $(`#team-each-dev-altitude-value-${devBaseInfo[i].devCode}`).html(`${(devBaseInfo[i].gpsInfo == undefined || devBaseInfo[i].gpsInfo == null) ? \"\" : (devBaseInfo[i].gpsInfo.elevation + \"m\")}`);\r\n                    /**edit by gaochao end */\r\n                }\r\n            }\r\n            /* 主动式命中脱网*/\r\n            let passiveActiveFlag = 0;\r\n            let passiveActiveIndex = 0;\r\n            for (let i = 0; i < devBaseInfo.length; i++) {\r\n                if (devBaseInfo[i].activeHit == 1 || devBaseInfo[i].activeHit == 2) {\r\n                    passiveActiveFlag = devBaseInfo[i].activeHit;\r\n                    passiveActiveIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n            /**edti by gaochao start */\r\n            if (activeSupport == 0) {\r\n                $('.activedev-info-title').css('color', '#fff');\r\n                $('.activedev-info-title').html('不支持主动式');\r\n                $('.activedev-info-icon-new').css('background', 'url(img/icon/active_notsupport.png)');\r\n            } else if (activeEnable == 0) {\r\n            \t$('.activedev-info-btn').css(\"display\", \"block\");\r\n                $('.activedev-info-title').css('display', 'block');\r\n                $('.activedev-info-title').css('color', '#fff');\r\n                // $('.activedev-info-title').html('主动式未开启');\r\n                $('.activedev-info-icon-new').css('background', 'url(img/icon/active_support.png)');\r\n            } else if (devBaseInfo[passiveActiveIndex].devType == 1) {\r\n            \t$('.activedev-info-btn').css(\"display\", \"block\");\r\n                switch (passiveActiveFlag) {\r\n                    case 0:\r\n                        /* 默认*/\r\n                        $('.activedev-info-status-value').css('background', '#999');\r\n                        $('.activedev-info-status-value').html('主动式未命中');\r\n                        /**add by gaochao start */\r\n                        $('.activedev-info-title').css('color', '#fff');\r\n                        // $('.activedev-info-title').html('主动式未命中');\r\n                        /**add by gaochao end */\r\n                        passiveActiveStatus = 0;\r\n                        break;\r\n                    case 1:\r\n                        /* 命中*/\r\n                        if ($('#passive-route-line-switch').attr('data-switch-close') == 0) {\r\n                            $('#passive-route-line-switch').attr('data-switch-close', 1);\r\n                            /**edit by gaochao start */\r\n                            $('.activedev-info-value').css(\"display\", \"block\");\r\n                            $('.activedev-info-time').css(\"display\", \"block\");\r\n                            //$('.activedev-info-btn').css(\"display\", \"block\");\r\n                            // $('#passive-route-line-switch').removeClass('gray-cover');\r\n                            $('#passive-route-line-switch').css('background', 'url(img/icon/active_load_avtive.png)');\r\n                            /**edit by gaochao end */\r\n                        }\r\n                        $('.activedev-info-status-value').css('background', '#ff0000');\r\n                        $('.activedev-info-status-value').html('主动式命中');\r\n                        /**add by gaochao start */\r\n                        $('.activedev-info-title').css('color', 'rgba(23,193,244,1)');\r\n                        $('.activedev-info-title').html('主动式命中');\r\n                        $('.activedev-info-icon-new').css('background', 'url(img/icon/active_active.png)');\r\n                        /**add by gaochao end */\r\n                        break;\r\n                    case 2:\r\n                        /* 脱网*/\r\n                        $('.activedev-info-status-value').css('background', '#999');\r\n                        $('.activedev-info-status-value').html('主动式脱网');\r\n                        /**add by gaochao start */\r\n                        $('.activedev-info-title').css('color', '#fff');\r\n                        $('.activedev-info-title').html('主动式脱网');\r\n                        $('.activedev-info-icon-new').css('background', 'url(img/icon/active_active.png)');\r\n                        /**add by gaochao end */\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n            if (activeSupport == 1) {\r\n                if (devBaseInfo[passiveActiveIndex].devType == 1) {\r\n                    /**edit by gaochao end */\r\n                    // if (lastPassiveActiveStatus != null) {\r\n                    switch (passiveActiveFlag) {\r\n                        case 0:\r\n                            /* 默认*/\r\n                            passiveActiveStatus = 0;\r\n                            break;\r\n                        case 1:\r\n                            /* 命中*/\r\n                            if (passiveActiveStatus != 1) {\r\n                                if (engAudioType != 3) {\r\n                                    __WEBPACK_IMPORTED_MODULE_6__sound_EnergySound_js__[\"a\" /* EnergySound */].playPassiveActive(true);\r\n                                }\r\n                                passiveActiveStatus = 1;\r\n                                /**add by gaochao start */\r\n                                let hitedBts = { btsId: null, dev: [] };\r\n                                __WEBPACK_IMPORTED_MODULE_2__overlay_DrawMultiBtsEcharts_js__[\"a\" /* DrawMultiBtsEcharts */].showBtsStyleCSS(hitedBts);\r\n                                /**add by gaochao end */\r\n                                /* 时间轴信息中存储主动式命中*/\r\n                                if (devBaseInfo[passiveActiveIndex].devType == 1) {\r\n                                    let bp = __WEBPACK_IMPORTED_MODULE_1__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[devBaseInfo[passiveActiveIndex].gpsInfo.lng, devBaseInfo[passiveActiveIndex].gpsInfo.lat]])[0];\r\n                                    if (devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.value == 1000) {\r\n                                        devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.value = 2001;\r\n                                    } else {\r\n                                        devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.value = 2000;\r\n                                    }\r\n                                    devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.position.lng = bp.lng;\r\n                                    devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.position.lat = bp.lat;\r\n                                    devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.position.northAngle = devBaseInfo[passiveActiveIndex].gpsInfo.northAngle;\r\n                                    if (devBaseInfo[passiveActiveIndex].energy != null) {\r\n                                        devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.detail = devBaseInfo[passiveActiveIndex].energy;\r\n                                    } else {\r\n                                        devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.detail = [0, 0, 0, 0];\r\n                                    }\r\n                                }\r\n                            }\r\n                            break;\r\n                        case 2:\r\n                            /* 脱网*/\r\n                            /**add by gaochao end */\r\n                            if (passiveActiveStatus != 2) {\r\n                                if (engAudioType != 3) {\r\n                                    __WEBPACK_IMPORTED_MODULE_6__sound_EnergySound_js__[\"a\" /* EnergySound */].playPassiveActive(false);\r\n                                }\r\n                                passiveActiveStatus = 2;\r\n                                /* 时间轴信息中存储主动式脱网*/\r\n                                if (devBaseInfo[passiveActiveIndex].devType == 1) {\r\n                                    let bp = __WEBPACK_IMPORTED_MODULE_1__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[devBaseInfo[passiveActiveIndex].gpsInfo.lng, devBaseInfo[passiveActiveIndex].gpsInfo.lat]])[0];\r\n                                    if (devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.value == 2000) {\r\n                                        devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.value = 1001;\r\n                                    } else {\r\n                                        devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.value = 1000;\r\n                                    }\r\n                                    devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.position.lng = bp.lng;\r\n                                    devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.position.lat = bp.lat;\r\n                                    devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.position.northAngle = devBaseInfo[passiveActiveIndex].gpsInfo.northAngle;\r\n                                    if (devBaseInfo[passiveActiveIndex].energy != null) {\r\n                                        devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.detail = devBaseInfo[passiveActiveIndex].energy;\r\n                                    } else {\r\n                                        devDrawInfoMap.get(devBaseInfo[passiveActiveIndex].devCode).maxEng.detail = [0, 0, 0, 0];\r\n                                    }\r\n                                }\r\n                            }\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    // }\r\n                    // lastPassiveActiveStatus = devBaseInfo[passiveActiveIndex].activeHit; // 保存上一次的信息\r\n                }\r\n            }\r\n            /* 能量语音播报*/\r\n            let engAudioInfo = { devType: null, deg: null, value: null, index: null, isPlay: false, hasA: false };\r\n            let setEngAudioInfo = function (devBaseInfo) {\r\n                /* 判断设备数量（报单兵还是单兵A等）*/\r\n                let carDevNum = 0;\r\n                let singleDevNum = 0;\r\n                devDrawInfoMap.forEach((eachDev) => {\r\n                    switch (eachDev.devType) {\r\n                        case 1:\r\n                            carDevNum = carDevNum + 1;\r\n                            break;\r\n                        case 2:\r\n                            singleDevNum = singleDevNum + 1;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                });\r\n                switch (devBaseInfo.devType) {\r\n                    case 1: // 车载能量\r\n                        if (carDevNum < 2) {\r\n                            engAudioInfo.hasA = false;\r\n                        } else {\r\n                            engAudioInfo.hasA = true;\r\n                        }\r\n                        let engArray = devBaseInfo.engInfo.eng.split(\"-\");\r\n                        if (engArray[0] == 1 && engArray[1] == 1 && engArray[2] == 1 && engArray[3] == 1) {\r\n                            engAudioInfo.devType = 1;\r\n                            engAudioInfo.value = 1;\r\n                            engAudioInfo.index = devDrawInfoMap.get(devBaseInfo.devCode).devImgIndex;\r\n                            if (devInfoMap.get(devBaseInfo.devCode) != null && devInfoMap.get(devBaseInfo.devCode).lastEngInfo != null) {\r\n                                /* 实时作战中，能量值没有变化就不报*/\r\n                                if (thisPageType == 'RTC' && devInfoMap.get(devBaseInfo.devCode).lastEngInfo.lastReportTime == devBaseInfo.engInfo.lastReportTime) {\r\n                                    engAudioInfo.isPlay = false;\r\n                                } else {\r\n                                    engAudioInfo.isPlay = true;\r\n                                }\r\n                            } else {\r\n                                engAudioInfo.isPlay = true;\r\n                            }\r\n                        } else if (engArray[0] != 0 && engArray[1] != 0 && engArray[2] != 0 && engArray[3] != 0) {\r\n                            engAudioInfo.devType = 1;\r\n                            engAudioInfo.deg = __WEBPACK_IMPORTED_MODULE_5__energy_Energy_js__[\"a\" /* Energy */].getEnergyOrientation(engArray, 0);\r\n                            engAudioInfo.value = __WEBPACK_IMPORTED_MODULE_5__energy_Energy_js__[\"a\" /* Energy */].getEnergyMaxValue(engArray);\r\n                            engAudioInfo.index = devDrawInfoMap.get(devBaseInfo.devCode).devImgIndex;\r\n                            if (devInfoMap.get(devBaseInfo.devCode) != null && devInfoMap.get(devBaseInfo.devCode).lastEngInfo != null) {\r\n                                if (thisPageType == 'RTC' && devInfoMap.get(devBaseInfo.devCode).lastEngInfo.lastReportTime == devBaseInfo.engInfo.lastReportTime) {\r\n                                    engAudioInfo.isPlay = false;\r\n                                } else {\r\n                                    engAudioInfo.isPlay = true;\r\n                                }\r\n                            } else {\r\n                                engAudioInfo.isPlay = true;\r\n                            }\r\n                        }\r\n                        break;\r\n                    case 2: // 单兵能量\r\n                        if (singleDevNum < 2) {\r\n                            engAudioInfo.hasA = false;\r\n                        } else {\r\n                            engAudioInfo.hasA = true;\r\n                        }\r\n                        engAudioInfo.devType = 2;\r\n                        engAudioInfo.value = devBaseInfo.engInfo.eng;\r\n                        engAudioInfo.index = devDrawInfoMap.get(devBaseInfo.devCode).devImgIndex;\r\n                        if (devInfoMap.get(devBaseInfo.devCode) != null && devInfoMap.get(devBaseInfo.devCode).lastEngInfo != null) {\r\n                            /* 实时作战中，能量值没有变化就不报*/\r\n                            if (thisPageType == 'RTC' && devInfoMap.get(devBaseInfo.devCode).lastEngInfo.lastReportTime == devBaseInfo.engInfo.lastReportTime) {\r\n                                engAudioInfo.isPlay = false;\r\n                            } else {\r\n                                engAudioInfo.isPlay = true;\r\n                            }\r\n                        } else {\r\n                            engAudioInfo.isPlay = true;\r\n                        }\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n            switch (engAudioType) {\r\n                case 1: // 单选\r\n                    /* 只选择当前视角的设备，不选中其它设备*/\r\n                    for (let i = 0; i < devBaseInfo.length; i++) {\r\n                        if (devDrawInfoMap.get(devBaseInfo[i].devCode).isCorrentView) {\r\n                            if (devBaseInfo[i].engInfo != null) {\r\n                                setEngAudioInfo(devBaseInfo[i]);\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    break;\r\n                case 2: // 优选\r\n                    /* 优先选择当前视角*/\r\n                    /**edti by gaochao start */\r\n                    for (let i = 0; i < devBaseInfo.length; i++) {\r\n                        if (devDrawInfoMap.get(devBaseInfo[i].devCode).isCorrentView) {\r\n                            if (devBaseInfo[i].engInfo != null) {\r\n                                if (voiceDevCode[devBaseInfo[i].devCode] != 0) {\r\n                                    setEngAudioInfo(devBaseInfo[i]);\r\n                                }\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    /* 若当前视角的设备无能量值，则选择其它设备*/\r\n                    if (!engAudioInfo.isPlay) {\r\n                        for (let i = 0; i < devBaseInfo.length; i++) {\r\n                            if (devBaseInfo[i].engInfo != null) {\r\n                                if (voiceDevCode[devBaseInfo[i].devCode] != 0) {\r\n                                    setEngAudioInfo(devBaseInfo[i]);\r\n                                }\r\n                            }\r\n                            /**edit by gaochao end */\r\n                            if (engAudioInfo.isPlay) {\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case 3: // 静音\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            if (isPlayEngAudio) {\r\n                if (!audioPlayerStatus && engAudioInfo.isPlay) {\r\n                    audioPlayerStatus = true;\r\n                    switch (engAudioInfo.devType) {\r\n                        case 1:\r\n                            __WEBPACK_IMPORTED_MODULE_6__sound_EnergySound_js__[\"a\" /* EnergySound */].playCarAudio(engAudioInfo.index, engAudioInfo.deg, engAudioInfo.value, engAudioInfo.hasA);\r\n                            break;\r\n                        case 2:\r\n                            __WEBPACK_IMPORTED_MODULE_6__sound_EnergySound_js__[\"a\" /* EnergySound */].playSingleAudio(engAudioInfo.index, engAudioInfo.value, engAudioInfo.hasA);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            /* 基站命中特效*/\r\n            if (thisPageType == 'RTC') {\r\n                let hitedBts = { btsId: null, dev: [] };\r\n                let lastReportTimeCache = 0;\r\n                for (let i = 0; i < devBaseInfo.length; i++) {\r\n                    if (devBaseInfo[i].engInfo != null && devBaseInfo[i].engInfo.btsId != '0-0-0-0') {\r\n                        if (devBaseInfo[i].engInfo.lastReportTime >= lastReportTimeCache) {\r\n                            if (hitedBts.dev.length > 0) {\r\n                                hitedBts.dev = [];\r\n                            }\r\n                            hitedBts.btsId = devBaseInfo[i].engInfo.btsId;\r\n                            hitedBts.dev.push(devBaseInfo[i].devCode);\r\n                            lastReportTimeCache = devBaseInfo[i].engInfo.lastReportTime;\r\n                        }\r\n                    }\r\n                }\r\n                /**edit by sunbing start*/\r\n                if (hitedBts.btsId != null && hitedBts.btsId != \"\") {\r\n                    /**edit by sunbing end*/\r\n                    let isEquals = 0;\r\n                    /* 如果上次数据中的命中基站和本次相同，不用重绘*/\r\n                    if (hitedBts.btsId == hitedBtsCache.btsId) {\r\n                        for (let i = 0; i < hitedBts.dev.length; i++) {\r\n                            for (let j = 0; j < hitedBtsCache.dev.length; j++) {\r\n                                if (hitedBts.dev[i] == hitedBtsCache.dev[j]) {\r\n                                    isEquals = isEquals + 1;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (isEquals < hitedBts.dev.length) {\r\n                        hitedBtsCache = hitedBts;\r\n                        if (isBtsOpen) {\r\n                            __WEBPACK_IMPORTED_MODULE_2__overlay_DrawMultiBtsEcharts_js__[\"a\" /* DrawMultiBtsEcharts */].showBtsStyleCSS(hitedBts);\r\n                        }\r\n                    }\r\n                } else {\r\n                    hitedBtsCache = hitedBts; // 存入缓存\r\n                }\r\n            }\r\n\r\n            /* 需要重绘制的小车数组*/\r\n            let devBaseInfoRefresh = [];\r\n            /* 将json信息存入map*/\r\n            for (let i = 0, len = devBaseInfo.length; i < len; i++) {\r\n                if (devInfoMap.get(devBaseInfo[i].devCode) != null) {\r\n                    /* 如果map集合中的key含该设备编号，则保存其‘设备详细信息面板是否开启’的信息，若不包含，则设置默认值false */\r\n                    devBaseInfo[i].isInfoPanelOpen = devInfoMap.get(devBaseInfo[i].devCode).isInfoPanelOpen;\r\n                    /* 上一次的GPS坐标*/\r\n                    devBaseInfo[i].lastGpsInfo = devInfoMap.get(devBaseInfo[i].devCode).lastGpsInfo;\r\n                    /* 上一次的百度坐标*/\r\n                    devBaseInfo[i].lastBaiduGpsInfo = devInfoMap.get(devBaseInfo[i].devCode).lastBaiduGpsInfo;\r\n                    /* 上一次的工作状态*/\r\n                    devBaseInfo[i].lastStatus = devInfoMap.get(devBaseInfo[i].devCode).lastStatus;\r\n                    /* 上一次的主动式命中信息*/\r\n                    devBaseInfo[i].lastActiveHit = devInfoMap.get(devBaseInfo[i].devCode).lastActiveHit;\r\n                    /* 上一次的能量值*/\r\n                    devBaseInfo[i].lastEngInfo = devInfoMap.get(devBaseInfo[i].devCode).lastEngInfo;\r\n                    /* 添加0能量值*/\r\n                    try {\r\n                        /**add by gaochao start */\r\n                        if (devBaseInfo[i].engInfo.eng == null || devBaseInfo[i].engInfo.eng == \"\") {\r\n                            /**add by gaochao end*/\r\n                            devBaseInfo[i].engInfo.isHit = false;\r\n                            if (devBaseInfo[i].devType == 1) {\r\n                                devBaseInfo[i].engInfo.eng = '0-0-0-0';\r\n                            } else {\r\n                                devBaseInfo[i].engInfo.eng = '0';\r\n                            }\r\n                        } else {\r\n                            devBaseInfo[i].engInfo.isHit = true;\r\n                        }\r\n                    } catch (error) {\r\n                        if (devBaseInfo[i].devType == 1) {\r\n                            devBaseInfo[i].engInfo = { eng: '0-0-0-0', isHit: false };\r\n                        } else {\r\n                            devBaseInfo[i].engInfo = { eng: '0', isHit: false };\r\n                        }\r\n                    }\r\n                    /* 精度值大于10，使用上一次的GPS信息*/\r\n                    if (devBaseInfo[i].gpsInfo != undefined && devBaseInfo[i].devType == 2 && devBaseInfo[i].gpsInfo.accuracy > 50) {\r\n                        devBaseInfo[i].gpsInfo.lng = devBaseInfo[i].lastGpsInfo.lng;\r\n                        devBaseInfo[i].gpsInfo.lat = devBaseInfo[i].lastGpsInfo.lat;\r\n                    }\r\n                    /* 重绘条件*/\r\n                    switch (thisPageType) {\r\n                        case 'RTC':\r\n                            if (devBaseInfo[i].lastGpsInfo.northAngle == devBaseInfo[i].gpsInfo.northAngle && devBaseInfo[i].lastGpsInfo.lng == devBaseInfo[i].gpsInfo.lng && devBaseInfo[i].lastGpsInfo.lat == devBaseInfo[i].gpsInfo.lat && devBaseInfo[i].lastStatus == devBaseInfo[i].status) {\r\n                                devBaseInfo[i].shouldRefresh = false;\r\n                                if (devBaseInfo[i].lastEngInfo.lastReportTime != devBaseInfo[i].engInfo.lastReportTime) {\r\n                                    devBaseInfo[i].shouldRefresh = true;\r\n                                    devBaseInfoRefresh.push(devBaseInfo[i]);\r\n                                }\r\n                            } else {\r\n                                devBaseInfo[i].shouldRefresh = true;\r\n                                devBaseInfoRefresh.push(devBaseInfo[i]);\r\n                            }\r\n                            break;\r\n                        case 'CR':\r\n                            devBaseInfo[i].shouldRefresh = true;\r\n                            devBaseInfoRefresh.push(devBaseInfo[i]);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                } else {\r\n                    /* 新添加的设备信息缓存初始化 */\r\n                    devBaseInfo[i].isInfoPanelOpen = false;\r\n                    devBaseInfo[i].lastGpsInfo = { lng: '0', lat: '0' };\r\n                    devBaseInfo[i].lastBaiduGpsInfo = { lng: '0', lat: '0' };\r\n                    devBaseInfo[i].lastStatus = 1;\r\n                    devBaseInfo[i].lastActiveHit = 0;\r\n                    try {\r\n                        /**edit by gaochao start */\r\n                        if (devBaseInfo[i].engInfo.eng == null || devBaseInfo[i].engInfo.eng == \"\") {\r\n                            /**edit by gaochao end */\r\n                            if (devBaseInfo[i].devType == 1) {\r\n                                devBaseInfo[i].engInfo.eng = '0-0-0-0';\r\n                                devBaseInfo[i].engInfo.isHit = false;\r\n                            } else {\r\n                                devBaseInfo[i].engInfo.eng = '0';\r\n                                devBaseInfo[i].engInfo.isHit = false;\r\n                            }\r\n                        } else {\r\n                            devBaseInfo[i].engInfo.isHit = true;\r\n                        }\r\n                    } catch (error) {\r\n                        if (devBaseInfo[i].devType == 1) {\r\n                            devBaseInfo[i].engInfo = { eng: '0-0-0-0', isHit: false };\r\n                        } else {\r\n                            devBaseInfo[i].engInfo = { eng: '0', isHit: false };\r\n                        }\r\n                    }\r\n                    if (devBaseInfo[i].devType == 1) {\r\n                        devBaseInfo[i].lastEngInfo = { eng: '0-0-0-0', isHit: false };\r\n                    } else {\r\n                        devBaseInfo[i].lastEngInfo = { eng: '0', isHit: false };\r\n                    }\r\n                    devBaseInfo[i].shouldRefresh = true;\r\n                    devBaseInfoRefresh.push(devBaseInfo[i]);\r\n                }\r\n                devInfoMap.set(devBaseInfo[i].devCode, devBaseInfo[i]);\r\n            }\r\n            this.getDevBaiduPoint(devBaseInfoRefresh);\r\n        }\r\n    }\r\n\r\n    /* GPS坐标转百度坐标 */\r\n    static getDevBaiduPoint(devBaseInfo) {\r\n        let pointArray = [];\r\n        for (let i = 0, len = devBaseInfo.length; i < len; i++) {\r\n            let point = [devBaseInfo[i].gpsInfo.lng, devBaseInfo[i].gpsInfo.lat];\r\n            pointArray.push(point);\r\n        }\r\n        __WEBPACK_IMPORTED_MODULE_1__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocationPromise(pointArray).then((point) => {\r\n            let drawArr = [];\r\n            for (let i = 0; i < point.length; i++) {\r\n                devBaseInfo[i].baiduGpsInfo = { lng: point[i].lng, lat: point[i].lat };\r\n                drawArr.push(devBaseInfo[i]);\r\n            }\r\n            this.drawDev(drawArr); // 转换完成后绘制\r\n        });\r\n    }\r\n\r\n    /*在map中存储设备信息，并执行绘制方法*/\r\n    static drawDev(devBaseInfo) {\r\n        let drawMap = new Map();\r\n        for (let i = 0, len = devBaseInfo.length; i < len; i++) {\r\n            devInfoMap.set(devBaseInfo[i].devCode, devBaseInfo[i]);\r\n            drawMap.set(devBaseInfo[i].devCode, devBaseInfo[i]);\r\n        }\r\n        __WEBPACK_IMPORTED_MODULE_3__overlay_DrawDevOverlay_js__[\"a\" /* DrawDevOverlay */].drawDev(drawMap);\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = ParsingDevInfo;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvcGFyc2luZy9QYXJzaW5nRGV2SW5mby5qcz80ZDM3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXlFO0FBQ2M7O0FBRWhCO0FBQ1Q7QUFDQTs7QUFFakI7QUFDUzs7QUFFL0M7O0FBRVA7QUFDQTtBQUNBLGdEQUFnRCxjQUFjO0FBQzlELGtDQUFrQyxpQkFBaUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix3QkFBd0I7QUFDL0M7QUFDQTtBQUNBLHVEQUF1RCx1QkFBdUI7QUFDOUUsb0RBQW9ELHVCQUF1QjtBQUMzRSxvREFBb0QsdUJBQXVCO0FBQzNFO0FBQ0EsMkRBQTJELHVCQUF1QjtBQUNsRiwwREFBMEQsdUJBQXVCO0FBQ2pGLDJEQUEyRCx1QkFBdUI7QUFDbEYsMERBQTBELHVCQUF1QjtBQUNqRjtBQUNBLGlCQUFpQjtBQUNqQix1REFBdUQsdUJBQXVCO0FBQzlFLG9EQUFvRCx1QkFBdUI7QUFDM0Usb0RBQW9ELHVCQUF1QjtBQUMzRTtBQUNBLDJEQUEyRCx1QkFBdUI7QUFDbEYsMERBQTBELHVCQUF1QjtBQUNqRiwyREFBMkQsdUJBQXVCO0FBQ2xGLDBEQUEwRCx1QkFBdUI7QUFDakY7QUFDQSxpQkFBaUI7QUFDakIsb0RBQW9ELHVCQUF1QjtBQUMzRTtBQUNBLDJEQUEyRCx1QkFBdUI7QUFDbEYsMERBQTBELHVCQUF1QjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsd0JBQXdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix3QkFBd0IsT0FBTztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix3QkFBd0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsd0JBQXdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix3QkFBd0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsd0JBQXdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHVCQUF1QjtBQUN6RSxrREFBa0QsdUJBQXVCO0FBQ3pFO0FBQ0EsbURBQW1ELHVCQUF1QjtBQUMxRSxrREFBa0QsdUJBQXVCO0FBQ3pFO0FBQ0EsaUJBQWlCO0FBQ2pCLGtEQUFrRCx1QkFBdUI7QUFDekUsa0RBQWtELHVCQUF1QjtBQUN6RTtBQUNBLG1EQUFtRCx1QkFBdUI7QUFDMUUsa0RBQWtELHVCQUF1QjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix3QkFBd0I7QUFDbkQ7QUFDQSxvREFBb0QsdUJBQXVCLFdBQVcscUhBQXFIO0FBQzNNLGlCQUFpQjtBQUNqQix1REFBdUQsdUJBQXVCLFdBQVcsd0hBQXdIO0FBQ2pOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix3QkFBd0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsMEVBQVc7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hELGdDQUFnQyw0RkFBbUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHFHQUFlO0FBQzVEO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsMEVBQVc7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMscUdBQWU7QUFDNUQ7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRkFBMkY7QUFDM0Y7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLCtDQUErQyxpRUFBTTtBQUNyRCxpREFBaUQsaUVBQU07QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx3QkFBd0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx3QkFBd0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx3QkFBd0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMEVBQVc7QUFDdkM7QUFDQTtBQUNBLDRCQUE0QiwwRUFBVztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0EsK0JBQStCLHdCQUF3QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHlCQUF5QjtBQUNoRSwyQ0FBMkMsOEJBQThCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0RkFBbUI7QUFDL0M7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiw2Q0FBNkM7QUFDN0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsU0FBUztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0Esc0RBQXNEO0FBQ3RELHlCQUF5QjtBQUN6QixzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xELHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxzREFBc0Q7QUFDdEQseUJBQXlCO0FBQ3pCLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQscUJBQXFCO0FBQ3JCLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaURBQWlELFNBQVM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxR0FBZTtBQUN2QjtBQUNBLDJCQUEyQixrQkFBa0I7QUFDN0MsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEMsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxTQUFTO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0ZBQWM7QUFDdEI7O0FBRUEsQyIsImZpbGUiOiIzOC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhaWR1TWFwSW5pdCB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9iYWlkdU1hcC9Jbml0LkJhaWR1TWFwLmpzJztcclxuaW1wb3J0IHsgR1BTVG9CYWlkdVBvaW50IH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2JhaWR1TWFwL0dQU1RvQmFpZHVQb2ludC5CYWlkdU1hcC5qcyc7XHJcblxyXG5pbXBvcnQgeyBEcmF3TXVsdGlCdHNFY2hhcnRzIH0gZnJvbSAnLi4vb3ZlcmxheS9EcmF3TXVsdGlCdHNFY2hhcnRzLmpzJ1xyXG5pbXBvcnQgeyBEcmF3RGV2T3ZlcmxheSB9IGZyb20gJy4uL292ZXJsYXkvRHJhd0Rldk92ZXJsYXkuanMnO1xyXG5pbXBvcnQgeyBEcmF3QnRzT3ZlcmxheSB9IGZyb20gJy4uL292ZXJsYXkvRHJhd0J0c092ZXJsYXkuanMnO1xyXG5cclxuaW1wb3J0IHsgRW5lcmd5IH0gZnJvbSAnLi4vZW5lcmd5L0VuZXJneS5qcyc7XHJcbmltcG9ydCB7IEVuZXJneVNvdW5kIH0gZnJvbSAnLi4vc291bmQvRW5lcmd5U291bmQuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhcnNpbmdEZXZJbmZvIHtcclxuXHJcbiAgICBzdGF0aWMgcGFyc2luZ0RldkluZm8oZGV2QmFzZUluZm8sIGlzUGxheUVuZ0F1ZGlvKSB7XHJcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChkeCkge1xyXG4gICAgICAgICAgICBpZiAoaXNOYU4oZHgpIHx8IGR4ID4gdGhpcy5sZW5ndGgpIHsgcmV0dXJuIGZhbHNlOyB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzW2ldICE9IHRoaXNbZHhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tuKytdID0gdGhpc1tpXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoIC09IDFcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29uc29sZS50YWJsZShkZXZCYXNlSW5mbyk7XHJcbiAgICAgICAgLy8gLyog5o6I5pe25Zu+5qCH77yM5Li75o6I5pe2Me+8jOiiq+aOiOaXtjIqL1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGV2QmFzZUluZm8ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmVuZ0luZm8gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmVuZ0luZm8uc3luY01vZGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICQoYC50ZWFtLWVhY2gtZGV2LXRpbWVzZXJ2aWNlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1gKS5odG1sKCfkuLvmjojml7YnKTtcclxuICAgICAgICAgICAgICAgICAgICAkKGAudGVhbS1lYWNoLWRldi10aW1lc2VydmljZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9YCkuY3NzKCdiYWNrZ3JvdW5kLXBvc2l0aW9uJywgJy0yMHB4IC03MHB4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgLnRlYW0tZWFjaC1kZXYtdGltZXNlcnZpY2UtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAgICAgJChgI3RlYW0tZWFjaC1kZXYtdGltZXNlcnZpY2Utc3RhdHVzLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1gKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICAgICAkKGAjdGVhbS1lYWNoLWRldi10aW1lc2VydmljZS12YWx1ZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgI3RlYW0tZWFjaC1kZXYtdGltZXNlcnZpY2Utc3RhdHVzLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1gKS5jc3MoJ2JhY2tncm91bmQnLCAndXJsKGltZy9pY29uL3RpbWVzZXJ2ZXJfbWFpbi5wbmcpJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgI3RlYW0tZWFjaC1kZXYtdGltZXNlcnZpY2UtdmFsdWUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfWApLmh0bWwoJ+S4u+aOiOaXticpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkZXZCYXNlSW5mb1tpXS5lbmdJbmZvLnN5bmNNb2RlID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAkKGAudGVhbS1lYWNoLWRldi10aW1lc2VydmljZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9YCkuaHRtbCgn6KKr5o6I5pe2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgLnRlYW0tZWFjaC1kZXYtdGltZXNlcnZpY2UtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfWApLmNzcygnYmFja2dyb3VuZC1wb3NpdGlvbicsICctNDBweCAtNzBweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoYC50ZWFtLWVhY2gtZGV2LXRpbWVzZXJ2aWNlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1gKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICQoYCN0ZWFtLWVhY2gtZGV2LXRpbWVzZXJ2aWNlLXN0YXR1cy0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgI3RlYW0tZWFjaC1kZXYtdGltZXNlcnZpY2UtdmFsdWUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoYCN0ZWFtLWVhY2gtZGV2LXRpbWVzZXJ2aWNlLXN0YXR1cy0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9YCkuY3NzKCdiYWNrZ3JvdW5kJywgJ3VybChpbWcvaWNvbi90aW1lc2VydmVyX3Bhc3NpdmUucG5nKScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoYCN0ZWFtLWVhY2gtZGV2LXRpbWVzZXJ2aWNlLXZhbHVlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1gKS5odG1sKCfooqvmjojml7YnKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgLnRlYW0tZWFjaC1kZXYtdGltZXNlcnZpY2UtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfWApLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICAkKGAjdGVhbS1lYWNoLWRldi10aW1lc2VydmljZS1zdGF0dXMtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfWApLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgI3RlYW0tZWFjaC1kZXYtdGltZXNlcnZpY2UtdmFsdWUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfWApLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGV2QmFzZUluZm8ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmVuZ0luZm8gIT0gdW5kZWZpbmVkICYmIGRldkJhc2VJbmZvW2ldLmVuZ0luZm8uaXNTaG93ID09IDApIHtcclxuICAgICAgICAgICAgICAgIGRldkJhc2VJbmZvLnJlbW92ZShpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGV2QmFzZUluZm9bMF0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvKiDorr7nva7kuK3lv4PngrkqL1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRldkJhc2VJbmZvLmxlbmd0aDsgaSsrKSB7IC8vIOaciei9pui9veeahOaDheWGtVxyXG4gICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlclBvaW50RGV2Q29kZSA9IGRldkJhc2VJbmZvW2ldLmRldkNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNlbnRlclBvaW50RGV2Q29kZSA9PSBudWxsKSB7IC8vIOayoeaciei9pui9veeahOaDheWGtVxyXG4gICAgICAgICAgICAgICAgY2VudGVyUG9pbnREZXZDb2RlID0gZGV2QmFzZUluZm9bMF0uZGV2Q29kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRldkJhc2VJbmZvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZGV2VHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmFjdGl2ZVN1cHBvcnQgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTdXBwb3J0ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlU3VwcG9ydCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGV2QmFzZUluZm8ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5kZXZUeXBlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uYWN0aXZlRW5hYmxlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlRW5hYmxlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlRW5hYmxlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAgICAgLyog5Li75Yqo5byP5Zu+5qCHKi9cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXZCYXNlSW5mby5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5hY3RpdmVkZXYtaW5mby12YWx1ZScpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8tdGltZScpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8tYnRuJykuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVTdXBwb3J0ID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyoq5LiN5pSv5oyB5Li75Yqo5byPICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5hY3RpdmVkZXYtaW5mby1pY29uLW5ldycpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8tdGl0bGUnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmFjdGl2ZWRldi1pbmZvLXRpdGxlJykuY3NzKCdjb2xvcicsICcjZmZmJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5hY3RpdmVkZXYtaW5mby10aXRsZScpLmh0bWwoJ+S4jeaUr+aMgeS4u+WKqOW8jycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8taWNvbi1uZXcnKS5jc3MoJ2JhY2tncm91bmQnLCAndXJsKGltZy9pY29uL2FjdGl2ZV9ub3RzdXBwb3J0LnBuZyknKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKirmlK/mjIHkuLvliqjlvI8gKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmFjdGl2ZWRldi1pbmZvLWljb24tbmV3JykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoJy5hY3RpdmVkZXYtaW5mby10aXRsZScpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkKCcuYWN0aXZlZGV2LWluZm8tdGl0bGUnKS5jc3MoJ2NvbG9yJywgJyNmZmYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJCgnLmFjdGl2ZWRldi1pbmZvLXRpdGxlJykuaHRtbCgn5Li75Yqo5byP5pyq5byA5ZCvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoJy5hY3RpdmVkZXYtaW5mby1pY29uLW5ldycpLmNzcygnYmFja2dyb3VuZCcsICd1cmwoaW1nL2ljb24vYWN0aXZlX3N1cHBvcnQucG5nKScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uYWN0aXZlRW5hYmxlICE9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIOS4u+WKqOW8j+WFs+mXrSovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISQoJy5hY3RpdmVkZXYtaW5mby1pY29uJykuaGFzQ2xhc3MoJ2dyYXktY292ZXInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5hY3RpdmVkZXYtaW5mby1pY29uJykuYWRkQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5hY3RpdmVkZXYtaW5mby10aXRsZScpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5hY3RpdmVkZXYtaW5mby10aXRsZScpLmNzcygnY29sb3InLCAnI2ZmZicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoJy5hY3RpdmVkZXYtaW5mby10aXRsZScpLmh0bWwoJ+S4u+WKqOW8j+acquW8gOWQrycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5hY3RpdmVkZXYtaW5mby1pY29uLW5ldycpLmNzcygnYmFja2dyb3VuZCcsICd1cmwoaW1nL2ljb24vYWN0aXZlX3N1cHBvcnQucG5nKScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyog5Li75Yqo5byP5byA5ZCvKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKCcuYWN0aXZlZGV2LWluZm8taWNvbicpLmhhc0NsYXNzKCdncmF5LWNvdmVyJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8taWNvbicpLnJlbW92ZUNsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8tdGl0bGUnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8tdGl0bGUnKS5jc3MoJ2NvbG9yJywgJyNmZmYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAkKCcuYWN0aXZlZGV2LWluZm8tdGl0bGUnKS5odG1sKCfkuLvliqjlvI/mnKrlkb3kuK0nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8taWNvbi1uZXcnKS5jc3MoJ2JhY2tncm91bmQnLCAndXJsKGltZy9pY29uL2FjdGl2ZV9hY3RpdmUucG5nKScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiDmm7TmlrDlj7PkvqfpnaLniYhHUFPkv6Hmga8qL1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRldkJhc2VJbmZvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZ3BzSW5mbyA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5ncHNJbmZvLmFjY3VyYWN5IDw9IDUwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgI3RlYW0tZWFjaC1kZXYtZ3Bzc3RhdHVzLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoYCN0ZWFtLWVhY2gtZGV2LWdwc3N0YXR1cy0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9YCkuYXR0cigndGl0bGUnLCAnR1BT5L+h5Y+35by6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICAkKGAjdGVhbS1lYWNoLWRldi1ncHMtc3RhdHVzLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1gKS5jc3MoJ2JhY2tncm91bmQnLCAndXJsKFwiaW1nL2ljb24vbXlfZ3BzX2FjdGl2ZS5wbmdcIiknKTtcclxuICAgICAgICAgICAgICAgICAgICAkKGAjdGVhbS1lYWNoLWRldi1ncHMtdmFsdWUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfWApLmh0bWwoJ+ato+W4uCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKGAjdGVhbS1lYWNoLWRldi1ncHNzdGF0dXMtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfWApLmFkZENsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgI3RlYW0tZWFjaC1kZXYtZ3Bzc3RhdHVzLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1gKS5hdHRyKCd0aXRsZScsICdHUFPkv6Hlj7flvLEnKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICQoYCN0ZWFtLWVhY2gtZGV2LWdwcy1zdGF0dXMtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfWApLmNzcygnYmFja2dyb3VuZCcsICd1cmwoXCJpbWcvaWNvbi9teV9ncHMucG5nXCIpJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgI3RlYW0tZWFjaC1kZXYtZ3BzLXZhbHVlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1gKS5odG1sKCfml6Dkv6Hlj7cnKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiplZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGV2QmFzZUluZm8ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5kZXZUeXBlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKGAjdGVhbS1lYWNoLWRldi1zcGVlZC12YWx1ZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9YCkuaHRtbChgJHsoZGV2QmFzZUluZm9baV0uZ3BzSW5mbyA9PSB1bmRlZmluZWQgfHwgZGV2QmFzZUluZm9baV0uZ3BzSW5mbyA9PSBudWxsKSA/IFwiXCIgOiBkZXZCYXNlSW5mb1tpXS5ncHNJbmZvLnNwZWVkICsgXCJrbS9oXCJ9YCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQoYCN0ZWFtLWVhY2gtZGV2LWFsdGl0dWRlLXZhbHVlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1gKS5odG1sKGAkeyhkZXZCYXNlSW5mb1tpXS5ncHNJbmZvID09IHVuZGVmaW5lZCB8fCBkZXZCYXNlSW5mb1tpXS5ncHNJbmZvID09IG51bGwpID8gXCJcIiA6IChkZXZCYXNlSW5mb1tpXS5ncHNJbmZvLmVsZXZhdGlvbiArIFwibVwiKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyog5Li75Yqo5byP5ZG95Lit6ISx572RKi9cclxuICAgICAgICAgICAgbGV0IHBhc3NpdmVBY3RpdmVGbGFnID0gMDtcclxuICAgICAgICAgICAgbGV0IHBhc3NpdmVBY3RpdmVJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGV2QmFzZUluZm8ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5hY3RpdmVIaXQgPT0gMSB8fCBkZXZCYXNlSW5mb1tpXS5hY3RpdmVIaXQgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhc3NpdmVBY3RpdmVGbGFnID0gZGV2QmFzZUluZm9baV0uYWN0aXZlSGl0O1xyXG4gICAgICAgICAgICAgICAgICAgIHBhc3NpdmVBY3RpdmVJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyoqZWR0aSBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgIGlmIChhY3RpdmVTdXBwb3J0ID09IDApIHtcclxuICAgICAgICAgICAgICAgICQoJy5hY3RpdmVkZXYtaW5mby10aXRsZScpLmNzcygnY29sb3InLCAnI2ZmZicpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmFjdGl2ZWRldi1pbmZvLXRpdGxlJykuaHRtbCgn5LiN5pSv5oyB5Li75Yqo5byPJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8taWNvbi1uZXcnKS5jc3MoJ2JhY2tncm91bmQnLCAndXJsKGltZy9pY29uL2FjdGl2ZV9ub3RzdXBwb3J0LnBuZyknKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChhY3RpdmVFbmFibGUgPT0gMCkge1xyXG4gICAgICAgICAgICBcdCQoJy5hY3RpdmVkZXYtaW5mby1idG4nKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8tdGl0bGUnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICQoJy5hY3RpdmVkZXYtaW5mby10aXRsZScpLmNzcygnY29sb3InLCAnI2ZmZicpO1xyXG4gICAgICAgICAgICAgICAgLy8gJCgnLmFjdGl2ZWRldi1pbmZvLXRpdGxlJykuaHRtbCgn5Li75Yqo5byP5pyq5byA5ZCvJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8taWNvbi1uZXcnKS5jc3MoJ2JhY2tncm91bmQnLCAndXJsKGltZy9pY29uL2FjdGl2ZV9zdXBwb3J0LnBuZyknKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkZXZCYXNlSW5mb1twYXNzaXZlQWN0aXZlSW5kZXhdLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICBcdCQoJy5hY3RpdmVkZXYtaW5mby1idG4nKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHBhc3NpdmVBY3RpdmVGbGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiDpu5jorqQqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8tc3RhdHVzLXZhbHVlJykuY3NzKCdiYWNrZ3JvdW5kJywgJyM5OTknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmFjdGl2ZWRldi1pbmZvLXN0YXR1cy12YWx1ZScpLmh0bWwoJ+S4u+WKqOW8j+acquWRveS4rScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8tdGl0bGUnKS5jc3MoJ2NvbG9yJywgJyNmZmYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJCgnLmFjdGl2ZWRldi1pbmZvLXRpdGxlJykuaHRtbCgn5Li75Yqo5byP5pyq5ZG95LitJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXNzaXZlQWN0aXZlU3RhdHVzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiDlkb3kuK0qL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCgnI3Bhc3NpdmUtcm91dGUtbGluZS1zd2l0Y2gnKS5hdHRyKCdkYXRhLXN3aXRjaC1jbG9zZScpID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNwYXNzaXZlLXJvdXRlLWxpbmUtc3dpdGNoJykuYXR0cignZGF0YS1zd2l0Y2gtY2xvc2UnLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmFjdGl2ZWRldi1pbmZvLXZhbHVlJykuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmFjdGl2ZWRldi1pbmZvLXRpbWUnKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyQoJy5hY3RpdmVkZXYtaW5mby1idG4nKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAkKCcjcGFzc2l2ZS1yb3V0ZS1saW5lLXN3aXRjaCcpLnJlbW92ZUNsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjcGFzc2l2ZS1yb3V0ZS1saW5lLXN3aXRjaCcpLmNzcygnYmFja2dyb3VuZCcsICd1cmwoaW1nL2ljb24vYWN0aXZlX2xvYWRfYXZ0aXZlLnBuZyknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8tc3RhdHVzLXZhbHVlJykuY3NzKCdiYWNrZ3JvdW5kJywgJyNmZjAwMDAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmFjdGl2ZWRldi1pbmZvLXN0YXR1cy12YWx1ZScpLmh0bWwoJ+S4u+WKqOW8j+WRveS4rScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8tdGl0bGUnKS5jc3MoJ2NvbG9yJywgJ3JnYmEoMjMsMTkzLDI0NCwxKScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8tdGl0bGUnKS5odG1sKCfkuLvliqjlvI/lkb3kuK0nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmFjdGl2ZWRldi1pbmZvLWljb24tbmV3JykuY3NzKCdiYWNrZ3JvdW5kJywgJ3VybChpbWcvaWNvbi9hY3RpdmVfYWN0aXZlLnBuZyknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyog6ISx572RKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmFjdGl2ZWRldi1pbmZvLXN0YXR1cy12YWx1ZScpLmNzcygnYmFja2dyb3VuZCcsICcjOTk5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5hY3RpdmVkZXYtaW5mby1zdGF0dXMtdmFsdWUnKS5odG1sKCfkuLvliqjlvI/ohLHnvZEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmFjdGl2ZWRldi1pbmZvLXRpdGxlJykuY3NzKCdjb2xvcicsICcjZmZmJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5hY3RpdmVkZXYtaW5mby10aXRsZScpLmh0bWwoJ+S4u+WKqOW8j+iEsee9kScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWN0aXZlZGV2LWluZm8taWNvbi1uZXcnKS5jc3MoJ2JhY2tncm91bmQnLCAndXJsKGltZy9pY29uL2FjdGl2ZV9hY3RpdmUucG5nKScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFjdGl2ZVN1cHBvcnQgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW3Bhc3NpdmVBY3RpdmVJbmRleF0uZGV2VHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqZWRpdCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChsYXN0UGFzc2l2ZUFjdGl2ZVN0YXR1cyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChwYXNzaXZlQWN0aXZlRmxhZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiDpu5jorqQqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2l2ZUFjdGl2ZVN0YXR1cyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyog5ZG95LitKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXNzaXZlQWN0aXZlU3RhdHVzICE9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5nQXVkaW9UeXBlICE9IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5lcmd5U291bmQucGxheVBhc3NpdmVBY3RpdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NpdmVBY3RpdmVTdGF0dXMgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdGVkQnRzID0geyBidHNJZDogbnVsbCwgZGV2OiBbXSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyYXdNdWx0aUJ0c0VjaGFydHMuc2hvd0J0c1N0eWxlQ1NTKGhpdGVkQnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiDml7bpl7TovbTkv6Hmga/kuK3lrZjlgqjkuLvliqjlvI/lkb3kuK0qL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1twYXNzaXZlQWN0aXZlSW5kZXhdLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYnAgPSBHUFNUb0JhaWR1UG9pbnQuZ2V0QmFpZHVQb2ludExvY2F0aW9uKFtbZGV2QmFzZUluZm9bcGFzc2l2ZUFjdGl2ZUluZGV4XS5ncHNJbmZvLmxuZywgZGV2QmFzZUluZm9bcGFzc2l2ZUFjdGl2ZUluZGV4XS5ncHNJbmZvLmxhdF1dKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldkRyYXdJbmZvTWFwLmdldChkZXZCYXNlSW5mb1twYXNzaXZlQWN0aXZlSW5kZXhdLmRldkNvZGUpLm1heEVuZy52YWx1ZSA9PSAxMDAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZEcmF3SW5mb01hcC5nZXQoZGV2QmFzZUluZm9bcGFzc2l2ZUFjdGl2ZUluZGV4XS5kZXZDb2RlKS5tYXhFbmcudmFsdWUgPSAyMDAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW3Bhc3NpdmVBY3RpdmVJbmRleF0uZGV2Q29kZSkubWF4RW5nLnZhbHVlID0gMjAwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZEcmF3SW5mb01hcC5nZXQoZGV2QmFzZUluZm9bcGFzc2l2ZUFjdGl2ZUluZGV4XS5kZXZDb2RlKS5tYXhFbmcucG9zaXRpb24ubG5nID0gYnAubG5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZEcmF3SW5mb01hcC5nZXQoZGV2QmFzZUluZm9bcGFzc2l2ZUFjdGl2ZUluZGV4XS5kZXZDb2RlKS5tYXhFbmcucG9zaXRpb24ubGF0ID0gYnAubGF0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZEcmF3SW5mb01hcC5nZXQoZGV2QmFzZUluZm9bcGFzc2l2ZUFjdGl2ZUluZGV4XS5kZXZDb2RlKS5tYXhFbmcucG9zaXRpb24ubm9ydGhBbmdsZSA9IGRldkJhc2VJbmZvW3Bhc3NpdmVBY3RpdmVJbmRleF0uZ3BzSW5mby5ub3J0aEFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9bcGFzc2l2ZUFjdGl2ZUluZGV4XS5lbmVyZ3kgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW3Bhc3NpdmVBY3RpdmVJbmRleF0uZGV2Q29kZSkubWF4RW5nLmRldGFpbCA9IGRldkJhc2VJbmZvW3Bhc3NpdmVBY3RpdmVJbmRleF0uZW5lcmd5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW3Bhc3NpdmVBY3RpdmVJbmRleF0uZGV2Q29kZSkubWF4RW5nLmRldGFpbCA9IFswLCAwLCAwLCAwXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiDohLHnvZEqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFzc2l2ZUFjdGl2ZVN0YXR1cyAhPSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZ0F1ZGlvVHlwZSAhPSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZXJneVNvdW5kLnBsYXlQYXNzaXZlQWN0aXZlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2l2ZUFjdGl2ZVN0YXR1cyA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyog5pe26Ze06L205L+h5oGv5Lit5a2Y5YKo5Li75Yqo5byP6ISx572RKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9bcGFzc2l2ZUFjdGl2ZUluZGV4XS5kZXZUeXBlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJwID0gR1BTVG9CYWlkdVBvaW50LmdldEJhaWR1UG9pbnRMb2NhdGlvbihbW2RldkJhc2VJbmZvW3Bhc3NpdmVBY3RpdmVJbmRleF0uZ3BzSW5mby5sbmcsIGRldkJhc2VJbmZvW3Bhc3NpdmVBY3RpdmVJbmRleF0uZ3BzSW5mby5sYXRdXSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZEcmF3SW5mb01hcC5nZXQoZGV2QmFzZUluZm9bcGFzc2l2ZUFjdGl2ZUluZGV4XS5kZXZDb2RlKS5tYXhFbmcudmFsdWUgPT0gMjAwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW3Bhc3NpdmVBY3RpdmVJbmRleF0uZGV2Q29kZSkubWF4RW5nLnZhbHVlID0gMTAwMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldkRyYXdJbmZvTWFwLmdldChkZXZCYXNlSW5mb1twYXNzaXZlQWN0aXZlSW5kZXhdLmRldkNvZGUpLm1heEVuZy52YWx1ZSA9IDEwMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW3Bhc3NpdmVBY3RpdmVJbmRleF0uZGV2Q29kZSkubWF4RW5nLnBvc2l0aW9uLmxuZyA9IGJwLmxuZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW3Bhc3NpdmVBY3RpdmVJbmRleF0uZGV2Q29kZSkubWF4RW5nLnBvc2l0aW9uLmxhdCA9IGJwLmxhdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW3Bhc3NpdmVBY3RpdmVJbmRleF0uZGV2Q29kZSkubWF4RW5nLnBvc2l0aW9uLm5vcnRoQW5nbGUgPSBkZXZCYXNlSW5mb1twYXNzaXZlQWN0aXZlSW5kZXhdLmdwc0luZm8ubm9ydGhBbmdsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW3Bhc3NpdmVBY3RpdmVJbmRleF0uZW5lcmd5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldkRyYXdJbmZvTWFwLmdldChkZXZCYXNlSW5mb1twYXNzaXZlQWN0aXZlSW5kZXhdLmRldkNvZGUpLm1heEVuZy5kZXRhaWwgPSBkZXZCYXNlSW5mb1twYXNzaXZlQWN0aXZlSW5kZXhdLmVuZXJneTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldkRyYXdJbmZvTWFwLmdldChkZXZCYXNlSW5mb1twYXNzaXZlQWN0aXZlSW5kZXhdLmRldkNvZGUpLm1heEVuZy5kZXRhaWwgPSBbMCwgMCwgMCwgMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGFzdFBhc3NpdmVBY3RpdmVTdGF0dXMgPSBkZXZCYXNlSW5mb1twYXNzaXZlQWN0aXZlSW5kZXhdLmFjdGl2ZUhpdDsgLy8g5L+d5a2Y5LiK5LiA5qyh55qE5L+h5oGvXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyog6IO96YeP6K+t6Z+z5pKt5oqlKi9cclxuICAgICAgICAgICAgbGV0IGVuZ0F1ZGlvSW5mbyA9IHsgZGV2VHlwZTogbnVsbCwgZGVnOiBudWxsLCB2YWx1ZTogbnVsbCwgaW5kZXg6IG51bGwsIGlzUGxheTogZmFsc2UsIGhhc0E6IGZhbHNlIH07XHJcbiAgICAgICAgICAgIGxldCBzZXRFbmdBdWRpb0luZm8gPSBmdW5jdGlvbiAoZGV2QmFzZUluZm8pIHtcclxuICAgICAgICAgICAgICAgIC8qIOWIpOaWreiuvuWkh+aVsOmHj++8iOaKpeWNleWFtei/mOaYr+WNleWFtUHnrYnvvIkqL1xyXG4gICAgICAgICAgICAgICAgbGV0IGNhckRldk51bSA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2luZ2xlRGV2TnVtID0gMDtcclxuICAgICAgICAgICAgICAgIGRldkRyYXdJbmZvTWFwLmZvckVhY2goKGVhY2hEZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGVhY2hEZXYuZGV2VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJEZXZOdW0gPSBjYXJEZXZOdW0gKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZURldk51bSA9IHNpbmdsZURldk51bSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChkZXZCYXNlSW5mby5kZXZUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiAvLyDovabovb3og73ph49cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhckRldk51bSA8IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ0F1ZGlvSW5mby5oYXNBID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdBdWRpb0luZm8uaGFzQSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVuZ0FycmF5ID0gZGV2QmFzZUluZm8uZW5nSW5mby5lbmcuc3BsaXQoXCItXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5nQXJyYXlbMF0gPT0gMSAmJiBlbmdBcnJheVsxXSA9PSAxICYmIGVuZ0FycmF5WzJdID09IDEgJiYgZW5nQXJyYXlbM10gPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nQXVkaW9JbmZvLmRldlR5cGUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nQXVkaW9JbmZvLnZhbHVlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ0F1ZGlvSW5mby5pbmRleCA9IGRldkRyYXdJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kZXZDb2RlKS5kZXZJbWdJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kZXZDb2RlKSAhPSBudWxsICYmIGRldkluZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRldkNvZGUpLmxhc3RFbmdJbmZvICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiDlrp7ml7bkvZzmiJjkuK3vvIzog73ph4/lgLzmsqHmnInlj5jljJblsLHkuI3miqUqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzUGFnZVR5cGUgPT0gJ1JUQycgJiYgZGV2SW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGV2Q29kZSkubGFzdEVuZ0luZm8ubGFzdFJlcG9ydFRpbWUgPT0gZGV2QmFzZUluZm8uZW5nSW5mby5sYXN0UmVwb3J0VGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdBdWRpb0luZm8uaXNQbGF5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nQXVkaW9JbmZvLmlzUGxheSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdBdWRpb0luZm8uaXNQbGF5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbmdBcnJheVswXSAhPSAwICYmIGVuZ0FycmF5WzFdICE9IDAgJiYgZW5nQXJyYXlbMl0gIT0gMCAmJiBlbmdBcnJheVszXSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdBdWRpb0luZm8uZGV2VHlwZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdBdWRpb0luZm8uZGVnID0gRW5lcmd5LmdldEVuZXJneU9yaWVudGF0aW9uKGVuZ0FycmF5LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ0F1ZGlvSW5mby52YWx1ZSA9IEVuZXJneS5nZXRFbmVyZ3lNYXhWYWx1ZShlbmdBcnJheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdBdWRpb0luZm8uaW5kZXggPSBkZXZEcmF3SW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGV2Q29kZSkuZGV2SW1nSW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV2SW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGV2Q29kZSkgIT0gbnVsbCAmJiBkZXZJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kZXZDb2RlKS5sYXN0RW5nSW5mbyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNQYWdlVHlwZSA9PSAnUlRDJyAmJiBkZXZJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kZXZDb2RlKS5sYXN0RW5nSW5mby5sYXN0UmVwb3J0VGltZSA9PSBkZXZCYXNlSW5mby5lbmdJbmZvLmxhc3RSZXBvcnRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ0F1ZGlvSW5mby5pc1BsYXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdBdWRpb0luZm8uaXNQbGF5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ0F1ZGlvSW5mby5pc1BsYXkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogLy8g5Y2V5YW16IO96YePXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaW5nbGVEZXZOdW0gPCAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdBdWRpb0luZm8uaGFzQSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nQXVkaW9JbmZvLmhhc0EgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZ0F1ZGlvSW5mby5kZXZUeXBlID0gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5nQXVkaW9JbmZvLnZhbHVlID0gZGV2QmFzZUluZm8uZW5nSW5mby5lbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZ0F1ZGlvSW5mby5pbmRleCA9IGRldkRyYXdJbmZvTWFwLmdldChkZXZCYXNlSW5mby5kZXZDb2RlKS5kZXZJbWdJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldkluZm9NYXAuZ2V0KGRldkJhc2VJbmZvLmRldkNvZGUpICE9IG51bGwgJiYgZGV2SW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGV2Q29kZSkubGFzdEVuZ0luZm8gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyog5a6e5pe25L2c5oiY5Lit77yM6IO96YeP5YC85rKh5pyJ5Y+Y5YyW5bCx5LiN5oqlKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzUGFnZVR5cGUgPT0gJ1JUQycgJiYgZGV2SW5mb01hcC5nZXQoZGV2QmFzZUluZm8uZGV2Q29kZSkubGFzdEVuZ0luZm8ubGFzdFJlcG9ydFRpbWUgPT0gZGV2QmFzZUluZm8uZW5nSW5mby5sYXN0UmVwb3J0VGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ0F1ZGlvSW5mby5pc1BsYXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nQXVkaW9JbmZvLmlzUGxheSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdBdWRpb0luZm8uaXNQbGF5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzd2l0Y2ggKGVuZ0F1ZGlvVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOiAvLyDljZXpgIlcclxuICAgICAgICAgICAgICAgICAgICAvKiDlj6rpgInmi6nlvZPliY3op4bop5LnmoTorr7lpIfvvIzkuI3pgInkuK3lhbblroPorr7lpIcqL1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGV2QmFzZUluZm8ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldkRyYXdJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5pc0NvcnJlbnRWaWV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZW5nSW5mbyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RW5nQXVkaW9JbmZvKGRldkJhc2VJbmZvW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOiAvLyDkvJjpgIlcclxuICAgICAgICAgICAgICAgICAgICAvKiDkvJjlhYjpgInmi6nlvZPliY3op4bop5IqL1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGV2QmFzZUluZm8ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldkRyYXdJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5pc0NvcnJlbnRWaWV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZW5nSW5mbyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWNlRGV2Q29kZVtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlXSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVuZ0F1ZGlvSW5mbyhkZXZCYXNlSW5mb1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLyog6Iul5b2T5YmN6KeG6KeS55qE6K6+5aSH5peg6IO96YeP5YC877yM5YiZ6YCJ5oup5YW25a6D6K6+5aSHKi9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWVuZ0F1ZGlvSW5mby5pc1BsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXZCYXNlSW5mby5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmVuZ0luZm8gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2b2ljZURldkNvZGVbZGV2QmFzZUluZm9baV0uZGV2Q29kZV0gIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFbmdBdWRpb0luZm8oZGV2QmFzZUluZm9baV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmdBdWRpb0luZm8uaXNQbGF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6IC8vIOmdmemfs1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNQbGF5RW5nQXVkaW8pIHtcclxuICAgICAgICAgICAgICAgIGlmICghYXVkaW9QbGF5ZXJTdGF0dXMgJiYgZW5nQXVkaW9JbmZvLmlzUGxheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvUGxheWVyU3RhdHVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGVuZ0F1ZGlvSW5mby5kZXZUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZXJneVNvdW5kLnBsYXlDYXJBdWRpbyhlbmdBdWRpb0luZm8uaW5kZXgsIGVuZ0F1ZGlvSW5mby5kZWcsIGVuZ0F1ZGlvSW5mby52YWx1ZSwgZW5nQXVkaW9JbmZvLmhhc0EpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZXJneVNvdW5kLnBsYXlTaW5nbGVBdWRpbyhlbmdBdWRpb0luZm8uaW5kZXgsIGVuZ0F1ZGlvSW5mby52YWx1ZSwgZW5nQXVkaW9JbmZvLmhhc0EpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyog5Z+656uZ5ZG95Lit54m55pWIKi9cclxuICAgICAgICAgICAgaWYgKHRoaXNQYWdlVHlwZSA9PSAnUlRDJykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGhpdGVkQnRzID0geyBidHNJZDogbnVsbCwgZGV2OiBbXSB9O1xyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RSZXBvcnRUaW1lQ2FjaGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXZCYXNlSW5mby5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5lbmdJbmZvICE9IG51bGwgJiYgZGV2QmFzZUluZm9baV0uZW5nSW5mby5idHNJZCAhPSAnMC0wLTAtMCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmVuZ0luZm8ubGFzdFJlcG9ydFRpbWUgPj0gbGFzdFJlcG9ydFRpbWVDYWNoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhpdGVkQnRzLmRldi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHMuZGV2ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRlZEJ0cy5idHNJZCA9IGRldkJhc2VJbmZvW2ldLmVuZ0luZm8uYnRzSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRlZEJ0cy5kZXYucHVzaChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RSZXBvcnRUaW1lQ2FjaGUgPSBkZXZCYXNlSW5mb1tpXS5lbmdJbmZvLmxhc3RSZXBvcnRUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyoqZWRpdCBieSBzdW5iaW5nIHN0YXJ0Ki9cclxuICAgICAgICAgICAgICAgIGlmIChoaXRlZEJ0cy5idHNJZCAhPSBudWxsICYmIGhpdGVkQnRzLmJ0c0lkICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiplZGl0IGJ5IHN1bmJpbmcgZW5kKi9cclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXNFcXVhbHMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIOWmguaenOS4iuasoeaVsOaNruS4reeahOWRveS4reWfuuermeWSjOacrOasoeebuOWQjO+8jOS4jeeUqOmHjee7mCovXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpdGVkQnRzLmJ0c0lkID09IGhpdGVkQnRzQ2FjaGUuYnRzSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoaXRlZEJ0cy5kZXYubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaGl0ZWRCdHNDYWNoZS5kZXYubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGl0ZWRCdHMuZGV2W2ldID09IGhpdGVkQnRzQ2FjaGUuZGV2W2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRXF1YWxzID0gaXNFcXVhbHMgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNFcXVhbHMgPCBoaXRlZEJ0cy5kZXYubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdGVkQnRzQ2FjaGUgPSBoaXRlZEJ0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQnRzT3Blbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJhd011bHRpQnRzRWNoYXJ0cy5zaG93QnRzU3R5bGVDU1MoaGl0ZWRCdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXRlZEJ0c0NhY2hlID0gaGl0ZWRCdHM7IC8vIOWtmOWFpee8k+WtmFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKiDpnIDopoHph43nu5jliLbnmoTlsI/ovabmlbDnu4QqL1xyXG4gICAgICAgICAgICBsZXQgZGV2QmFzZUluZm9SZWZyZXNoID0gW107XHJcbiAgICAgICAgICAgIC8qIOWwhmpzb27kv6Hmga/lrZjlhaVtYXAqL1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gZGV2QmFzZUluZm8ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChkZXZJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyog5aaC5p6cbWFw6ZuG5ZCI5Lit55qEa2V55ZCr6K+l6K6+5aSH57yW5Y+377yM5YiZ5L+d5a2Y5YW24oCY6K6+5aSH6K+m57uG5L+h5oGv6Z2i5p2/5piv5ZCm5byA5ZCv4oCZ55qE5L+h5oGv77yM6Iul5LiN5YyF5ZCr77yM5YiZ6K6+572u6buY6K6k5YC8ZmFsc2UgKi9cclxuICAgICAgICAgICAgICAgICAgICBkZXZCYXNlSW5mb1tpXS5pc0luZm9QYW5lbE9wZW4gPSBkZXZJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5pc0luZm9QYW5lbE9wZW47XHJcbiAgICAgICAgICAgICAgICAgICAgLyog5LiK5LiA5qyh55qER1BT5Z2Q5qCHKi9cclxuICAgICAgICAgICAgICAgICAgICBkZXZCYXNlSW5mb1tpXS5sYXN0R3BzSW5mbyA9IGRldkluZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRldkNvZGUpLmxhc3RHcHNJbmZvO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIOS4iuS4gOasoeeahOeZvuW6puWdkOaghyovXHJcbiAgICAgICAgICAgICAgICAgICAgZGV2QmFzZUluZm9baV0ubGFzdEJhaWR1R3BzSW5mbyA9IGRldkluZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRldkNvZGUpLmxhc3RCYWlkdUdwc0luZm87XHJcbiAgICAgICAgICAgICAgICAgICAgLyog5LiK5LiA5qyh55qE5bel5L2c54q25oCBKi9cclxuICAgICAgICAgICAgICAgICAgICBkZXZCYXNlSW5mb1tpXS5sYXN0U3RhdHVzID0gZGV2SW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubGFzdFN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICAvKiDkuIrkuIDmrKHnmoTkuLvliqjlvI/lkb3kuK3kv6Hmga8qL1xyXG4gICAgICAgICAgICAgICAgICAgIGRldkJhc2VJbmZvW2ldLmxhc3RBY3RpdmVIaXQgPSBkZXZJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5sYXN0QWN0aXZlSGl0O1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIOS4iuS4gOasoeeahOiDvemHj+WAvCovXHJcbiAgICAgICAgICAgICAgICAgICAgZGV2QmFzZUluZm9baV0ubGFzdEVuZ0luZm8gPSBkZXZJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5sYXN0RW5nSW5mbztcclxuICAgICAgICAgICAgICAgICAgICAvKiDmt7vliqAw6IO96YeP5YC8Ki9cclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZW5nSW5mby5lbmcgPT0gbnVsbCB8fCBkZXZCYXNlSW5mb1tpXS5lbmdJbmZvLmVuZyA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2QmFzZUluZm9baV0uZW5nSW5mby5pc0hpdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldkJhc2VJbmZvW2ldLmVuZ0luZm8uZW5nID0gJzAtMC0wLTAnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZCYXNlSW5mb1tpXS5lbmdJbmZvLmVuZyA9ICcwJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldkJhc2VJbmZvW2ldLmVuZ0luZm8uaXNIaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2QmFzZUluZm9baV0uZW5nSW5mbyA9IHsgZW5nOiAnMC0wLTAtMCcsIGlzSGl0OiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2QmFzZUluZm9baV0uZW5nSW5mbyA9IHsgZW5nOiAnMCcsIGlzSGl0OiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qIOeyvuW6puWAvOWkp+S6jjEw77yM5L2/55So5LiK5LiA5qyh55qER1BT5L+h5oGvKi9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZ3BzSW5mbyAhPSB1bmRlZmluZWQgJiYgZGV2QmFzZUluZm9baV0uZGV2VHlwZSA9PSAyICYmIGRldkJhc2VJbmZvW2ldLmdwc0luZm8uYWNjdXJhY3kgPiA1MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZCYXNlSW5mb1tpXS5ncHNJbmZvLmxuZyA9IGRldkJhc2VJbmZvW2ldLmxhc3RHcHNJbmZvLmxuZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2QmFzZUluZm9baV0uZ3BzSW5mby5sYXQgPSBkZXZCYXNlSW5mb1tpXS5sYXN0R3BzSW5mby5sYXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qIOmHjee7mOadoeS7tiovXHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzUGFnZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnUlRDJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5sYXN0R3BzSW5mby5ub3J0aEFuZ2xlID09IGRldkJhc2VJbmZvW2ldLmdwc0luZm8ubm9ydGhBbmdsZSAmJiBkZXZCYXNlSW5mb1tpXS5sYXN0R3BzSW5mby5sbmcgPT0gZGV2QmFzZUluZm9baV0uZ3BzSW5mby5sbmcgJiYgZGV2QmFzZUluZm9baV0ubGFzdEdwc0luZm8ubGF0ID09IGRldkJhc2VJbmZvW2ldLmdwc0luZm8ubGF0ICYmIGRldkJhc2VJbmZvW2ldLmxhc3RTdGF0dXMgPT0gZGV2QmFzZUluZm9baV0uc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2QmFzZUluZm9baV0uc2hvdWxkUmVmcmVzaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5sYXN0RW5nSW5mby5sYXN0UmVwb3J0VGltZSAhPSBkZXZCYXNlSW5mb1tpXS5lbmdJbmZvLmxhc3RSZXBvcnRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldkJhc2VJbmZvW2ldLnNob3VsZFJlZnJlc2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZCYXNlSW5mb1JlZnJlc2gucHVzaChkZXZCYXNlSW5mb1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZCYXNlSW5mb1tpXS5zaG91bGRSZWZyZXNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZCYXNlSW5mb1JlZnJlc2gucHVzaChkZXZCYXNlSW5mb1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnQ1InOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2QmFzZUluZm9baV0uc2hvdWxkUmVmcmVzaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZCYXNlSW5mb1JlZnJlc2gucHVzaChkZXZCYXNlSW5mb1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyog5paw5re75Yqg55qE6K6+5aSH5L+h5oGv57yT5a2Y5Yid5aeL5YyWICovXHJcbiAgICAgICAgICAgICAgICAgICAgZGV2QmFzZUluZm9baV0uaXNJbmZvUGFuZWxPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2QmFzZUluZm9baV0ubGFzdEdwc0luZm8gPSB7IGxuZzogJzAnLCBsYXQ6ICcwJyB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGRldkJhc2VJbmZvW2ldLmxhc3RCYWlkdUdwc0luZm8gPSB7IGxuZzogJzAnLCBsYXQ6ICcwJyB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGRldkJhc2VJbmZvW2ldLmxhc3RTdGF0dXMgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGRldkJhc2VJbmZvW2ldLmxhc3RBY3RpdmVIaXQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZW5nSW5mby5lbmcgPT0gbnVsbCB8fCBkZXZCYXNlSW5mb1tpXS5lbmdJbmZvLmVuZyA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZGV2VHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2QmFzZUluZm9baV0uZW5nSW5mby5lbmcgPSAnMC0wLTAtMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2QmFzZUluZm9baV0uZW5nSW5mby5pc0hpdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZCYXNlSW5mb1tpXS5lbmdJbmZvLmVuZyA9ICcwJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZCYXNlSW5mb1tpXS5lbmdJbmZvLmlzSGl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZCYXNlSW5mb1tpXS5lbmdJbmZvLmlzSGl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5kZXZUeXBlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldkJhc2VJbmZvW2ldLmVuZ0luZm8gPSB7IGVuZzogJzAtMC0wLTAnLCBpc0hpdDogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldkJhc2VJbmZvW2ldLmVuZ0luZm8gPSB7IGVuZzogJzAnLCBpc0hpdDogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZGV2VHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldkJhc2VJbmZvW2ldLmxhc3RFbmdJbmZvID0geyBlbmc6ICcwLTAtMC0wJywgaXNIaXQ6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2QmFzZUluZm9baV0ubGFzdEVuZ0luZm8gPSB7IGVuZzogJzAnLCBpc0hpdDogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2QmFzZUluZm9baV0uc2hvdWxkUmVmcmVzaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2QmFzZUluZm9SZWZyZXNoLnB1c2goZGV2QmFzZUluZm9baV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGV2SW5mb01hcC5zZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSwgZGV2QmFzZUluZm9baV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RGV2QmFpZHVQb2ludChkZXZCYXNlSW5mb1JlZnJlc2gpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiBHUFPlnZDmoIfovaznmb7luqblnZDmoIcgKi9cclxuICAgIHN0YXRpYyBnZXREZXZCYWlkdVBvaW50KGRldkJhc2VJbmZvKSB7XHJcbiAgICAgICAgbGV0IHBvaW50QXJyYXkgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gZGV2QmFzZUluZm8ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHBvaW50ID0gW2RldkJhc2VJbmZvW2ldLmdwc0luZm8ubG5nLCBkZXZCYXNlSW5mb1tpXS5ncHNJbmZvLmxhdF07XHJcbiAgICAgICAgICAgIHBvaW50QXJyYXkucHVzaChwb2ludCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEdQU1RvQmFpZHVQb2ludC5nZXRCYWlkdVBvaW50TG9jYXRpb25Qcm9taXNlKHBvaW50QXJyYXkpLnRoZW4oKHBvaW50KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBkcmF3QXJyID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGRldkJhc2VJbmZvW2ldLmJhaWR1R3BzSW5mbyA9IHsgbG5nOiBwb2ludFtpXS5sbmcsIGxhdDogcG9pbnRbaV0ubGF0IH07XHJcbiAgICAgICAgICAgICAgICBkcmF3QXJyLnB1c2goZGV2QmFzZUluZm9baV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd0RldihkcmF3QXJyKTsgLy8g6L2s5o2i5a6M5oiQ5ZCO57uY5Yi2XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyrlnKhtYXDkuK3lrZjlgqjorr7lpIfkv6Hmga/vvIzlubbmiafooYznu5jliLbmlrnms5UqL1xyXG4gICAgc3RhdGljIGRyYXdEZXYoZGV2QmFzZUluZm8pIHtcclxuICAgICAgICBsZXQgZHJhd01hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gZGV2QmFzZUluZm8ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgZGV2SW5mb01hcC5zZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSwgZGV2QmFzZUluZm9baV0pO1xyXG4gICAgICAgICAgICBkcmF3TWFwLnNldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlLCBkZXZCYXNlSW5mb1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIERyYXdEZXZPdmVybGF5LmRyYXdEZXYoZHJhd01hcCk7XHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcmVhbFRpbWVDb21iYXQvcGFyc2luZy9QYXJzaW5nRGV2SW5mby5qc1xuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///38\n");

/***/ }),
/* 39 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__ = __webpack_require__(1);\n\r\n\r\nclass CarDivOverlayConstructor {\r\n\r\n    constructor(point, energy, devCode, northAngle, isHit) {\r\n        return this.draw(point, energy, devCode, northAngle, isHit);\r\n    }\r\n\r\n    /**\r\n     * 使用百度地图API官方写法，不做任何更改\r\n     */\r\n    draw(point, energy, devCode, northAngle, isHit) {\r\n\r\n        /* 定义自定义覆盖物的构造函数 */\r\n        function carDivOverlay(point, energy, devCode, northAngle, isHit) {\r\n            this._point = point; // 设备坐标\r\n            this._energy = [Number(energy[0]), Number(energy[1]), Number(energy[2]), Number(energy[3])]; // 设备能量信息\r\n            this._devCode = devCode; // 索引（鉴别号）\r\n            this._northAngle = Number(northAngle); // 北向\r\n            this._isHit = isHit; // 是否命中\r\n        }\r\n\r\n        /* 继承API的BMap.Overlay */\r\n        carDivOverlay.prototype = new BMap.Overlay();\r\n\r\n        /* 实现初始化方法 */\r\n        carDivOverlay.prototype.initialize = function (map) {\r\n            /* 保存map对象实例 */\r\n            this._map = map;\r\n            /* 创建div元素，作为自定义覆盖物的容器 */\r\n            let div = this._div = document.createElement('div');\r\n            div.className = 'each-device each-device-' + this._devCode;\r\n            div.style.position = 'absolute';\r\n            div.style.zIndex = 8000;\r\n            div.style.display = 'inline-block';\r\n            let energyDiv = '';\r\n            if (this._energy[0] == this._energy[1] && this._energy[0] == this._energy[2] && this._energy[0] == this._energy[3]) {\r\n                energyDiv = `\r\n                    <div class=\"energy-word energy-word-0 energy-word-0-${this._devCode}\" style=\"background:${__WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__[\"a\" /* Energy */].getEnergyColor(this._energy[0], this._isHit)};\"><div class=\"energy-value\" style=\"transform:rotate(-${this._northAngle}deg)\">${this._energy[0]}</div></div><!--前方-->\r\n                    <div class=\"energy-word energy-word-1 energy-word-1-${this._devCode}\" style=\"background:${__WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__[\"a\" /* Energy */].getEnergyColor(this._energy[1], this._isHit)};\"><div class=\"energy-value\" style=\"transform:rotate(-${this._northAngle}deg)\">${this._energy[1]}</div></div><!--右方-->\r\n                    <div class=\"energy-word energy-word-2 energy-word-2-${this._devCode}\" style=\"background:${__WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__[\"a\" /* Energy */].getEnergyColor(this._energy[2], this._isHit)};\"><div class=\"energy-value\" style=\"transform:rotate(-${this._northAngle}deg)\">${this._energy[2]}</div></div><!--后方-->\r\n                    <div class=\"energy-word energy-word-3 energy-word-3-${this._devCode}\" style=\"background:${__WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__[\"a\" /* Energy */].getEnergyColor(this._energy[3], this._isHit)};\"><div class=\"energy-value\" style=\"transform:rotate(-${this._northAngle}deg)\">${this._energy[3]}</div></div><!--左方-->\r\n                `;\r\n            } else {\r\n                let maxEngVal = this._energy[0]; // 设定一个默认初始值\r\n                let maxEngIndex = 0;\r\n                /* 获取最大值*/\r\n                for (let i = 0; i < 4; i++) {\r\n                    if (maxEngVal < this._energy[i]) {\r\n                        maxEngVal = this._energy[i];\r\n                        maxEngIndex = i;\r\n                    }\r\n                }\r\n                /* 最大值可能有多个，存储数组索引*/\r\n                let maxEngArr = [];\r\n                for (let i = 0; i < 4; i++) {\r\n                    if (maxEngVal == this._energy[i]) {\r\n                        maxEngArr.push(i);\r\n                    }\r\n                }\r\n                for (let i = 0; i < 4; i++) {\r\n                    let textColor;\r\n                    for (let j = 0; j < maxEngArr.length; j++) {\r\n                        if (i == maxEngArr[j]) {\r\n                            /**edit by gaochao start */\r\n                            // textColor = 'color:rgb(0, 255, 0)';\r\n                            textColor = 'color:rgb(0, 0, 0)';\r\n                            /**edit by gaochao start */\r\n                            break;\r\n                        }\r\n                    }\r\n                    energyDiv = energyDiv + `\r\n                        <div class=\"energy-word energy-word-${i} energy-word-${i}-${this._devCode}\" style=\"background:${__WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__[\"a\" /* Energy */].getEnergyColor(this._energy[i], this._isHit)};${textColor}\"><div class=\"energy-value\" style=\"transform:rotate(-${this._northAngle}deg)\">${this._energy[i]}</div></div>\r\n                    `;\r\n                }\r\n            }\r\n            /* 自定义覆盖物div中的html代码 */\r\n            div.innerHTML = `\r\n                <!--设备选中框-->\r\n                <div class=\"dev-selecter-circle dev-selecter-circle-${this._devCode}\"></div>\r\n                <!--小车图片-->\r\n                <img class=\"car-img car-img-${this._devCode}\" src=\"img/car_${devDrawInfoMap.get(this._devCode).devImgIndex}.png\">\r\n                <!--小车设备编号-->\r\n                <div class=\"dev-team-info dev-team-info-${this._devCode}\" style=\"top:55px;\">\r\n                    <span style=\"color: rgb(255, 255, 100)\">${this._devCode}</span>\r\n                </div>\r\n                <!--小车信息面板-->\r\n                <div class=\"dev-info-panel dev-info-panel-${this._devCode}\">\r\n                    <div class=\"dev-info-panel-close dev-info-panel-close-${this._devCode}\">\r\n                        <span class=\"glyphicon iconfont icon-close\"></span>\r\n                    </div>\r\n                    <span class=\"dev-name-value\">设备名称：${this._devCode}</span><br>\r\n                    <!--<span class=\"dev-group-value\">所在组：</span><br>-->\r\n                    <!--<span class=\"dev-leader-value\">负责人：</span><br>-->\r\n                    <!--<span class=\"dev-phone-value\">手机号：</span><br>-->\r\n                    <!--<button class=\"myCosButton-inner show-energy-panel-button show-energy-panel-button-${this._devCode}\">查看能量历史信息</button>-->\r\n                    <div class=\"dev-info-panel-bot-decoration\"></div>\r\n                </div>\r\n                <!--四向能量-->\r\n                <div class=\"energy-value-container\" id=\"energy-value-${this._devCode}\" style=\"transform:rotate(${this._northAngle}deg);display:${__WEBPACK_IMPORTED_MODULE_0__energy_Energy_js__[\"a\" /* Energy */].getEnergyDisplay(this._isHit)}\">\r\n                    ${energyDiv}    \r\n                <div>\r\n            `;\r\n            /* 将div添加到覆盖物容器中 */\r\n            map.getPanes().labelPane.appendChild(div);\r\n            /* 保存div实例 */\r\n            this._div = div;\r\n            /* 需要将div元素作为方法的返回值 */\r\n            return div;\r\n        }\r\n\r\n        /* 绘制覆盖物,实现绘制方法 */\r\n        carDivOverlay.prototype.draw = function () {\r\n            /* 根据地理坐标转换为像素坐标，并设置给容器 */\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n\r\n        return new carDivOverlay(point, energy, devCode, northAngle, isHit);\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = CarDivOverlayConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9DYXJEaXZPdmVybGF5Q29uc3RydWN0b3IuanM/MzUyMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUE2Qzs7QUFFdEM7O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEMsd0dBQXdHO0FBQ3hHLG9DQUFvQztBQUNwQyxrREFBa0Q7QUFDbEQsZ0NBQWdDO0FBQ2hDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsY0FBYyxzQkFBc0IsaUVBQU0sK0NBQStDLHVEQUF1RCxpQkFBaUIsUUFBUSxnQkFBZ0I7QUFDblEsMEVBQTBFLGNBQWMsc0JBQXNCLGlFQUFNLCtDQUErQyx1REFBdUQsaUJBQWlCLFFBQVEsZ0JBQWdCO0FBQ25RLDBFQUEwRSxjQUFjLHNCQUFzQixpRUFBTSwrQ0FBK0MsdURBQXVELGlCQUFpQixRQUFRLGdCQUFnQjtBQUNuUSwwRUFBMEUsY0FBYyxzQkFBc0IsaUVBQU0sK0NBQStDLHVEQUF1RCxpQkFBaUIsUUFBUSxnQkFBZ0I7QUFDblE7QUFDQSxhQUFhO0FBQ2IsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQSwrQkFBK0IsT0FBTztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixPQUFPO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLE9BQU87QUFDdEM7QUFDQSxtQ0FBbUMsc0JBQXNCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxFQUFFLGVBQWUsRUFBRSxHQUFHLGNBQWMsc0JBQXNCLGlFQUFNLCtDQUErQyxFQUFFLFVBQVUsdURBQXVELGlCQUFpQixRQUFRLGdCQUFnQjtBQUN6UjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsY0FBYztBQUNwRjtBQUNBLDhDQUE4QyxjQUFjLGlCQUFpQiw4Q0FBOEM7QUFDM0g7QUFDQSwwREFBMEQsY0FBYyxrQkFBa0I7QUFDMUYsOERBQThELGNBQWM7QUFDNUU7QUFDQTtBQUNBLDREQUE0RCxjQUFjO0FBQzFFLDRFQUE0RSxjQUFjO0FBQzFGO0FBQ0E7QUFDQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7QUFDQSw2R0FBNkcsY0FBYztBQUMzSDtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsY0FBYyw0QkFBNEIsaUJBQWlCLEtBQUssVUFBVSxpRUFBTSwrQkFBK0I7QUFDdEwsc0JBQXNCLFU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLEMiLCJmaWxlIjoiMzkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbmVyZ3kgfSBmcm9tICcuLi9lbmVyZ3kvRW5lcmd5LmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDYXJEaXZPdmVybGF5Q29uc3RydWN0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBvaW50LCBlbmVyZ3ksIGRldkNvZGUsIG5vcnRoQW5nbGUsIGlzSGl0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhdyhwb2ludCwgZW5lcmd5LCBkZXZDb2RlLCBub3J0aEFuZ2xlLCBpc0hpdCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkvb/nlKjnmb7luqblnLDlm75BUEnlrpjmlrnlhpnms5XvvIzkuI3lgZrku7vkvZXmm7TmlLlcclxuICAgICAqL1xyXG4gICAgZHJhdyhwb2ludCwgZW5lcmd5LCBkZXZDb2RlLCBub3J0aEFuZ2xlLCBpc0hpdCkge1xyXG5cclxuICAgICAgICAvKiDlrprkuYnoh6rlrprkuYnopobnm5bniannmoTmnoTpgKDlh73mlbAgKi9cclxuICAgICAgICBmdW5jdGlvbiBjYXJEaXZPdmVybGF5KHBvaW50LCBlbmVyZ3ksIGRldkNvZGUsIG5vcnRoQW5nbGUsIGlzSGl0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvaW50ID0gcG9pbnQ7IC8vIOiuvuWkh+WdkOagh1xyXG4gICAgICAgICAgICB0aGlzLl9lbmVyZ3kgPSBbTnVtYmVyKGVuZXJneVswXSksIE51bWJlcihlbmVyZ3lbMV0pLCBOdW1iZXIoZW5lcmd5WzJdKSwgTnVtYmVyKGVuZXJneVszXSldOyAvLyDorr7lpIfog73ph4/kv6Hmga9cclxuICAgICAgICAgICAgdGhpcy5fZGV2Q29kZSA9IGRldkNvZGU7IC8vIOe0ouW8le+8iOmJtOWIq+WPt++8iVxyXG4gICAgICAgICAgICB0aGlzLl9ub3J0aEFuZ2xlID0gTnVtYmVyKG5vcnRoQW5nbGUpOyAvLyDljJflkJFcclxuICAgICAgICAgICAgdGhpcy5faXNIaXQgPSBpc0hpdDsgLy8g5piv5ZCm5ZG95LitXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiDnu6fmib9BUEnnmoRCTWFwLk92ZXJsYXkgKi9cclxuICAgICAgICBjYXJEaXZPdmVybGF5LnByb3RvdHlwZSA9IG5ldyBCTWFwLk92ZXJsYXkoKTtcclxuXHJcbiAgICAgICAgLyog5a6e546w5Yid5aeL5YyW5pa55rOVICovXHJcbiAgICAgICAgY2FyRGl2T3ZlcmxheS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChtYXApIHtcclxuICAgICAgICAgICAgLyog5L+d5a2YbWFw5a+56LGh5a6e5L6LICovXHJcbiAgICAgICAgICAgIHRoaXMuX21hcCA9IG1hcDtcclxuICAgICAgICAgICAgLyog5Yib5bu6ZGl25YWD57Sg77yM5L2c5Li66Ieq5a6a5LmJ6KaG55uW54mp55qE5a655ZmoICovXHJcbiAgICAgICAgICAgIGxldCBkaXYgPSB0aGlzLl9kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdlYWNoLWRldmljZSBlYWNoLWRldmljZS0nICsgdGhpcy5fZGV2Q29kZTtcclxuICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IDgwMDA7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XHJcbiAgICAgICAgICAgIGxldCBlbmVyZ3lEaXYgPSAnJztcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuZXJneVswXSA9PSB0aGlzLl9lbmVyZ3lbMV0gJiYgdGhpcy5fZW5lcmd5WzBdID09IHRoaXMuX2VuZXJneVsyXSAmJiB0aGlzLl9lbmVyZ3lbMF0gPT0gdGhpcy5fZW5lcmd5WzNdKSB7XHJcbiAgICAgICAgICAgICAgICBlbmVyZ3lEaXYgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVuZXJneS13b3JkIGVuZXJneS13b3JkLTAgZW5lcmd5LXdvcmQtMC0ke3RoaXMuX2RldkNvZGV9XCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiR7RW5lcmd5LmdldEVuZXJneUNvbG9yKHRoaXMuX2VuZXJneVswXSwgdGhpcy5faXNIaXQpfTtcIj48ZGl2IGNsYXNzPVwiZW5lcmd5LXZhbHVlXCIgc3R5bGU9XCJ0cmFuc2Zvcm06cm90YXRlKC0ke3RoaXMuX25vcnRoQW5nbGV9ZGVnKVwiPiR7dGhpcy5fZW5lcmd5WzBdfTwvZGl2PjwvZGl2PjwhLS3liY3mlrktLT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZW5lcmd5LXdvcmQgZW5lcmd5LXdvcmQtMSBlbmVyZ3ktd29yZC0xLSR7dGhpcy5fZGV2Q29kZX1cIiBzdHlsZT1cImJhY2tncm91bmQ6JHtFbmVyZ3kuZ2V0RW5lcmd5Q29sb3IodGhpcy5fZW5lcmd5WzFdLCB0aGlzLl9pc0hpdCl9O1wiPjxkaXYgY2xhc3M9XCJlbmVyZ3ktdmFsdWVcIiBzdHlsZT1cInRyYW5zZm9ybTpyb3RhdGUoLSR7dGhpcy5fbm9ydGhBbmdsZX1kZWcpXCI+JHt0aGlzLl9lbmVyZ3lbMV19PC9kaXY+PC9kaXY+PCEtLeWPs+aWuS0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbmVyZ3ktd29yZCBlbmVyZ3ktd29yZC0yIGVuZXJneS13b3JkLTItJHt0aGlzLl9kZXZDb2RlfVwiIHN0eWxlPVwiYmFja2dyb3VuZDoke0VuZXJneS5nZXRFbmVyZ3lDb2xvcih0aGlzLl9lbmVyZ3lbMl0sIHRoaXMuX2lzSGl0KX07XCI+PGRpdiBjbGFzcz1cImVuZXJneS12YWx1ZVwiIHN0eWxlPVwidHJhbnNmb3JtOnJvdGF0ZSgtJHt0aGlzLl9ub3J0aEFuZ2xlfWRlZylcIj4ke3RoaXMuX2VuZXJneVsyXX08L2Rpdj48L2Rpdj48IS0t5ZCO5pa5LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVuZXJneS13b3JkIGVuZXJneS13b3JkLTMgZW5lcmd5LXdvcmQtMy0ke3RoaXMuX2RldkNvZGV9XCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiR7RW5lcmd5LmdldEVuZXJneUNvbG9yKHRoaXMuX2VuZXJneVszXSwgdGhpcy5faXNIaXQpfTtcIj48ZGl2IGNsYXNzPVwiZW5lcmd5LXZhbHVlXCIgc3R5bGU9XCJ0cmFuc2Zvcm06cm90YXRlKC0ke3RoaXMuX25vcnRoQW5nbGV9ZGVnKVwiPiR7dGhpcy5fZW5lcmd5WzNdfTwvZGl2PjwvZGl2PjwhLS3lt6bmlrktLT5cclxuICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWF4RW5nVmFsID0gdGhpcy5fZW5lcmd5WzBdOyAvLyDorr7lrprkuIDkuKrpu5jorqTliJ3lp4vlgLxcclxuICAgICAgICAgICAgICAgIGxldCBtYXhFbmdJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAvKiDojrflj5bmnIDlpKflgLwqL1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF4RW5nVmFsIDwgdGhpcy5fZW5lcmd5W2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEVuZ1ZhbCA9IHRoaXMuX2VuZXJneVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4RW5nSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIOacgOWkp+WAvOWPr+iDveacieWkmuS4qu+8jOWtmOWCqOaVsOe7hOe0ouW8lSovXHJcbiAgICAgICAgICAgICAgICBsZXQgbWF4RW5nQXJyID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXhFbmdWYWwgPT0gdGhpcy5fZW5lcmd5W2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEVuZ0Fyci5wdXNoKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRleHRDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1heEVuZ0Fyci5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSBtYXhFbmdBcnJbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGV4dENvbG9yID0gJ2NvbG9yOnJnYigwLCAyNTUsIDApJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvciA9ICdjb2xvcjpyZ2IoMCwgMCwgMCknO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqZWRpdCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbmVyZ3lEaXYgPSBlbmVyZ3lEaXYgKyBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbmVyZ3ktd29yZCBlbmVyZ3ktd29yZC0ke2l9IGVuZXJneS13b3JkLSR7aX0tJHt0aGlzLl9kZXZDb2RlfVwiIHN0eWxlPVwiYmFja2dyb3VuZDoke0VuZXJneS5nZXRFbmVyZ3lDb2xvcih0aGlzLl9lbmVyZ3lbaV0sIHRoaXMuX2lzSGl0KX07JHt0ZXh0Q29sb3J9XCI+PGRpdiBjbGFzcz1cImVuZXJneS12YWx1ZVwiIHN0eWxlPVwidHJhbnNmb3JtOnJvdGF0ZSgtJHt0aGlzLl9ub3J0aEFuZ2xlfWRlZylcIj4ke3RoaXMuX2VuZXJneVtpXX08L2Rpdj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIOiHquWumuS5ieimhueblueJqWRpduS4reeahGh0bWzku6PnoIEgKi9cclxuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgIDwhLS3orr7lpIfpgInkuK3moYYtLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXYtc2VsZWN0ZXItY2lyY2xlIGRldi1zZWxlY3Rlci1jaXJjbGUtJHt0aGlzLl9kZXZDb2RlfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPCEtLeWwj+i9puWbvueJhy0tPlxyXG4gICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImNhci1pbWcgY2FyLWltZy0ke3RoaXMuX2RldkNvZGV9XCIgc3JjPVwiaW1nL2Nhcl8ke2RldkRyYXdJbmZvTWFwLmdldCh0aGlzLl9kZXZDb2RlKS5kZXZJbWdJbmRleH0ucG5nXCI+XHJcbiAgICAgICAgICAgICAgICA8IS0t5bCP6L2m6K6+5aSH57yW5Y+3LS0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2LXRlYW0taW5mbyBkZXYtdGVhbS1pbmZvLSR7dGhpcy5fZGV2Q29kZX1cIiBzdHlsZT1cInRvcDo1NXB4O1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6IHJnYigyNTUsIDI1NSwgMTAwKVwiPiR7dGhpcy5fZGV2Q29kZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwhLS3lsI/ovabkv6Hmga/pnaLmnb8tLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXYtaW5mby1wYW5lbCBkZXYtaW5mby1wYW5lbC0ke3RoaXMuX2RldkNvZGV9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldi1pbmZvLXBhbmVsLWNsb3NlIGRldi1pbmZvLXBhbmVsLWNsb3NlLSR7dGhpcy5fZGV2Q29kZX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gaWNvbmZvbnQgaWNvbi1jbG9zZVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRldi1uYW1lLXZhbHVlXCI+6K6+5aSH5ZCN56ew77yaJHt0aGlzLl9kZXZDb2RlfTwvc3Bhbj48YnI+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLTxzcGFuIGNsYXNzPVwiZGV2LWdyb3VwLXZhbHVlXCI+5omA5Zyo57uE77yaPC9zcGFuPjxicj4tLT5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tPHNwYW4gY2xhc3M9XCJkZXYtbGVhZGVyLXZhbHVlXCI+6LSf6LSj5Lq677yaPC9zcGFuPjxicj4tLT5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tPHNwYW4gY2xhc3M9XCJkZXYtcGhvbmUtdmFsdWVcIj7miYvmnLrlj7fvvJo8L3NwYW4+PGJyPi0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS08YnV0dG9uIGNsYXNzPVwibXlDb3NCdXR0b24taW5uZXIgc2hvdy1lbmVyZ3ktcGFuZWwtYnV0dG9uIHNob3ctZW5lcmd5LXBhbmVsLWJ1dHRvbi0ke3RoaXMuX2RldkNvZGV9XCI+5p+l55yL6IO96YeP5Y6G5Y+y5L+h5oGvPC9idXR0b24+LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldi1pbmZvLXBhbmVsLWJvdC1kZWNvcmF0aW9uXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwhLS3lm5vlkJHog73ph48tLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbmVyZ3ktdmFsdWUtY29udGFpbmVyXCIgaWQ9XCJlbmVyZ3ktdmFsdWUtJHt0aGlzLl9kZXZDb2RlfVwiIHN0eWxlPVwidHJhbnNmb3JtOnJvdGF0ZSgke3RoaXMuX25vcnRoQW5nbGV9ZGVnKTtkaXNwbGF5OiR7RW5lcmd5LmdldEVuZXJneURpc3BsYXkodGhpcy5faXNIaXQpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7ZW5lcmd5RGl2fSAgICBcclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIC8qIOWwhmRpdua3u+WKoOWIsOimhueblueJqeWuueWZqOS4rSAqL1xyXG4gICAgICAgICAgICBtYXAuZ2V0UGFuZXMoKS5sYWJlbFBhbmUuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICAgICAgLyog5L+d5a2YZGl25a6e5L6LICovXHJcbiAgICAgICAgICAgIHRoaXMuX2RpdiA9IGRpdjtcclxuICAgICAgICAgICAgLyog6ZyA6KaB5bCGZGl25YWD57Sg5L2c5Li65pa55rOV55qE6L+U5Zue5YC8ICovXHJcbiAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiDnu5jliLbopobnm5bniaks5a6e546w57uY5Yi25pa55rOVICovXHJcbiAgICAgICAgY2FyRGl2T3ZlcmxheS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLyog5qC55o2u5Zyw55CG5Z2Q5qCH6L2s5o2i5Li65YOP57Sg5Z2Q5qCH77yM5bm26K6+572u57uZ5a655ZmoICovXHJcbiAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IHRoaXMuX21hcC5wb2ludFRvT3ZlcmxheVBpeGVsKHRoaXMuX3BvaW50KTtcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLmxlZnQgPSBwb3NpdGlvbi54ICsgJ3B4JztcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLnRvcCA9IHBvc2l0aW9uLnkgKyAncHgnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBjYXJEaXZPdmVybGF5KHBvaW50LCBlbmVyZ3ksIGRldkNvZGUsIG5vcnRoQW5nbGUsIGlzSGl0KTtcclxuXHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9DYXJEaXZPdmVybGF5Q29uc3RydWN0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///39\n");

/***/ }),
/* 40 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_Init_BaiduMap_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__energy_Energy_js__ = __webpack_require__(1);\n\r\n\r\n\r\nclass SingleOutSideOverlayConstructor {\r\n\r\n    constructor(point, energy, devCode, isHit) {\r\n        return this.draw(point, energy, devCode, isHit);\r\n    }\r\n\r\n    /**\r\n     * 使用百度地图API官方写法，不做任何更改\r\n     */\r\n    draw(point, energy, devCode, isHit) {\r\n\r\n        /* 定义自定义覆盖物的构造函数 */\r\n        function singleDivOverlay(point, energy, devCode, isHit) {\r\n            this._point = point; // 设备坐标\r\n            this._energy = energy; // 设备能量信息\r\n            this._devCode = devCode; // 索引（鉴别号）\r\n            this._isHit = isHit; // 是否命中\r\n        }\r\n\r\n        /* 继承API的BMap.Overlay */\r\n        singleDivOverlay.prototype = new BMap.Overlay();\r\n\r\n        /* 实现初始化方法 */\r\n        singleDivOverlay.prototype.initialize = function (map) {\r\n            /* 保存map对象实例 */\r\n            this._map = map;\r\n            /* 创建div元素，作为自定义覆盖物的容器 */\r\n            var div = this._div = document.createElement('div');\r\n            div.className = 'each-device each-device-' + this._devCode;\r\n            div.style.position = 'absolute';\r\n            div.style.zIndex = 8000;\r\n            div.style.display = 'inline-block';\r\n            /* 自定义覆盖物div中的html代码 */\r\n            div.innerHTML = `\r\n                <!--设备选中框-->\r\n                <div class=\"dev-selecter-circle dev-selecter-circle-${this._devCode}\"></div>\r\n                <!--单兵图片-->\r\n                <div class=\"single-img single-img-${this._devCode}\">\r\n                    <img class=\"single-img-src-${this._devCode}\" src=\"img/outside_${devDrawInfoMap.get(this._devCode).devImgIndex}.png\" style=\"width:42px;height:36px;position:absolute;left:4px;top:4px;\">\r\n                    <div class=\"single-photo single-photo-${this._devCode}\" style=\"width:20px;height:20px;left:12px;top:10px;${(devDrawInfoMap.get(this._devCode).headAddr == null || devDrawInfoMap.get(this._devCode).headAddr == \"\") ? \"\" : `background:url(${devDrawInfoMap.get(this._devCode).headAddr});background-size:cover`}\"></div>\r\n                </div>\r\n                <!--单兵组队信息-->\r\n                <div class=\"dev-team-info dev-team-info-${this._devCode}\" style=\"top:30px; z-index:9000;\">\r\n                    <span style=\"color: rgb(0, 255, 255)\">${this._devCode}</span>\r\n                </div>\r\n                <!--单兵信息面板-->\r\n                <div class=\"dev-info-panel dev-info-panel-${this._devCode}\">\r\n                    <div class=\"dev-info-panel-close dev-info-panel-close-${this._devCode}\">\r\n                        <span class=\"glyphicon iconfont icon-close\"></span>\r\n                    </div>\r\n                    <span class=\"car-name-value\">设备名称：${this._devCode}</span><br>\r\n                    <!--<span class=\"car-group-value\">所在组：</span><br>-->\r\n                    <!--<span class=\"car-leader-value\">负责人：</span><br>-->\r\n                    <!--<span class=\"car-phone-value\">手机号：</span><br>-->\r\n                    <!--<button class=\"myCosButton-inner show-energy-panel-button show-energy-panel-button-${this._devCode}\">查看能量历史信息</button>-->\r\n                    <div class=\"dev-info-panel-bot-decoration\"></div>\r\n                </div>\r\n                <!--单兵能量-->\r\n                <div id=\"energy-value-${this._devCode}\" style=\"display:${__WEBPACK_IMPORTED_MODULE_1__energy_Energy_js__[\"a\" /* Energy */].getEnergyDisplay(this._isHit)}\">\r\n                    <div class=\"energy-word-single energy-word-0-${this._devCode}\" style=\"left:-16px;top:-50px;background:` + __WEBPACK_IMPORTED_MODULE_1__energy_Energy_js__[\"a\" /* Energy */].getEnergyColor(this._energy, this._isHit) + `\">` + this._energy + `</div><!--前方-->\r\n                <div>\r\n            `;\r\n            /* 将div添加到覆盖物容器中 */\r\n            map.getPanes().labelPane.appendChild(div);\r\n            /* 保存div实例 */\r\n            this._div = div;\r\n            /* 需要将div元素作为方法的返回值 */\r\n            return div;\r\n        }\r\n\r\n        /* 绘制覆盖物,实现绘制方法 */\r\n        singleDivOverlay.prototype.draw = function () {\r\n            /* 根据地理坐标转换为像素坐标，并设置给容器 */\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n\r\n        return new singleDivOverlay(point, energy, devCode, isHit);\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = SingleOutSideOverlayConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9TaW5nbGVPdXRTaWRlT3ZlcmxheUNvbnN0cnVjdG9yLmpzPzFkYzciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUF5RTtBQUM1Qjs7QUFFdEM7O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEMsa0NBQWtDO0FBQ2xDLG9DQUFvQztBQUNwQyxnQ0FBZ0M7QUFDaEM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxjQUFjO0FBQ3BGO0FBQ0Esb0RBQW9ELGNBQWM7QUFDbEUsaURBQWlELGNBQWMscUJBQXFCLDhDQUE4Qyx3QkFBd0IsWUFBWSxrQkFBa0IsU0FBUyxRQUFRO0FBQ3pNLDREQUE0RCxjQUFjLG9CQUFvQixZQUFZLFVBQVUsU0FBUyxFQUFFLGtJQUFrSSwyQ0FBMkMsRUFBRSx1QkFBdUI7QUFDclU7QUFDQTtBQUNBLDBEQUEwRCxjQUFjLGtCQUFrQixjQUFjO0FBQ3hHLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQSw0REFBNEQsY0FBYztBQUMxRSw0RUFBNEUsY0FBYztBQUMxRjtBQUNBO0FBQ0Esd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBO0FBQ0EsNkdBQTZHLGNBQWM7QUFDM0g7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGNBQWMsbUJBQW1CLGlFQUFNLCtCQUErQjtBQUM5RyxtRUFBbUUsY0FBYyxvQkFBb0IsVUFBVSxlQUFlLGlFQUFNO0FBQ3BJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxDIiwiZmlsZSI6IjQwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFpZHVNYXBJbml0IH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2JhaWR1TWFwL0luaXQuQmFpZHVNYXAuanMnO1xyXG5pbXBvcnQgeyBFbmVyZ3kgfSBmcm9tICcuLi9lbmVyZ3kvRW5lcmd5LmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTaW5nbGVPdXRTaWRlT3ZlcmxheUNvbnN0cnVjdG9yIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwb2ludCwgZW5lcmd5LCBkZXZDb2RlLCBpc0hpdCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRyYXcocG9pbnQsIGVuZXJneSwgZGV2Q29kZSwgaXNIaXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5L2/55So55m+5bqm5Zyw5Zu+QVBJ5a6Y5pa55YaZ5rOV77yM5LiN5YGa5Lu75L2V5pu05pS5XHJcbiAgICAgKi9cclxuICAgIGRyYXcocG9pbnQsIGVuZXJneSwgZGV2Q29kZSwgaXNIaXQpIHtcclxuXHJcbiAgICAgICAgLyog5a6a5LmJ6Ieq5a6a5LmJ6KaG55uW54mp55qE5p6E6YCg5Ye95pWwICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2luZ2xlRGl2T3ZlcmxheShwb2ludCwgZW5lcmd5LCBkZXZDb2RlLCBpc0hpdCkge1xyXG4gICAgICAgICAgICB0aGlzLl9wb2ludCA9IHBvaW50OyAvLyDorr7lpIflnZDmoIdcclxuICAgICAgICAgICAgdGhpcy5fZW5lcmd5ID0gZW5lcmd5OyAvLyDorr7lpIfog73ph4/kv6Hmga9cclxuICAgICAgICAgICAgdGhpcy5fZGV2Q29kZSA9IGRldkNvZGU7IC8vIOe0ouW8le+8iOmJtOWIq+WPt++8iVxyXG4gICAgICAgICAgICB0aGlzLl9pc0hpdCA9IGlzSGl0OyAvLyDmmK/lkKblkb3kuK1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIOe7p+aJv0FQSeeahEJNYXAuT3ZlcmxheSAqL1xyXG4gICAgICAgIHNpbmdsZURpdk92ZXJsYXkucHJvdG90eXBlID0gbmV3IEJNYXAuT3ZlcmxheSgpO1xyXG5cclxuICAgICAgICAvKiDlrp7njrDliJ3lp4vljJbmlrnms5UgKi9cclxuICAgICAgICBzaW5nbGVEaXZPdmVybGF5LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKG1hcCkge1xyXG4gICAgICAgICAgICAvKiDkv53lrZhtYXDlr7nosaHlrp7kvosgKi9cclxuICAgICAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xyXG4gICAgICAgICAgICAvKiDliJvlu7pkaXblhYPntKDvvIzkvZzkuLroh6rlrprkuYnopobnm5bniannmoTlrrnlmaggKi9cclxuICAgICAgICAgICAgdmFyIGRpdiA9IHRoaXMuX2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2VhY2gtZGV2aWNlIGVhY2gtZGV2aWNlLScgKyB0aGlzLl9kZXZDb2RlO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gODAwMDtcclxuICAgICAgICAgICAgZGl2LnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuICAgICAgICAgICAgLyog6Ieq5a6a5LmJ6KaG55uW54mpZGl25Lit55qEaHRtbOS7o+eggSAqL1xyXG4gICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICAgICAgPCEtLeiuvuWkh+mAieS4reahhi0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldi1zZWxlY3Rlci1jaXJjbGUgZGV2LXNlbGVjdGVyLWNpcmNsZS0ke3RoaXMuX2RldkNvZGV9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8IS0t5Y2V5YW15Zu+54mHLS0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2luZ2xlLWltZyBzaW5nbGUtaW1nLSR7dGhpcy5fZGV2Q29kZX1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwic2luZ2xlLWltZy1zcmMtJHt0aGlzLl9kZXZDb2RlfVwiIHNyYz1cImltZy9vdXRzaWRlXyR7ZGV2RHJhd0luZm9NYXAuZ2V0KHRoaXMuX2RldkNvZGUpLmRldkltZ0luZGV4fS5wbmdcIiBzdHlsZT1cIndpZHRoOjQycHg7aGVpZ2h0OjM2cHg7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo0cHg7dG9wOjRweDtcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2luZ2xlLXBob3RvIHNpbmdsZS1waG90by0ke3RoaXMuX2RldkNvZGV9XCIgc3R5bGU9XCJ3aWR0aDoyMHB4O2hlaWdodDoyMHB4O2xlZnQ6MTJweDt0b3A6MTBweDskeyhkZXZEcmF3SW5mb01hcC5nZXQodGhpcy5fZGV2Q29kZSkuaGVhZEFkZHIgPT0gbnVsbCB8fCBkZXZEcmF3SW5mb01hcC5nZXQodGhpcy5fZGV2Q29kZSkuaGVhZEFkZHIgPT0gXCJcIikgPyBcIlwiIDogYGJhY2tncm91bmQ6dXJsKCR7ZGV2RHJhd0luZm9NYXAuZ2V0KHRoaXMuX2RldkNvZGUpLmhlYWRBZGRyfSk7YmFja2dyb3VuZC1zaXplOmNvdmVyYH1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPCEtLeWNleWFtee7hOmYn+S/oeaBry0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldi10ZWFtLWluZm8gZGV2LXRlYW0taW5mby0ke3RoaXMuX2RldkNvZGV9XCIgc3R5bGU9XCJ0b3A6MzBweDsgei1pbmRleDo5MDAwO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6IHJnYigwLCAyNTUsIDI1NSlcIj4ke3RoaXMuX2RldkNvZGV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8IS0t5Y2V5YW15L+h5oGv6Z2i5p2/LS0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2LWluZm8tcGFuZWwgZGV2LWluZm8tcGFuZWwtJHt0aGlzLl9kZXZDb2RlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXYtaW5mby1wYW5lbC1jbG9zZSBkZXYtaW5mby1wYW5lbC1jbG9zZS0ke3RoaXMuX2RldkNvZGV9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGljb25mb250IGljb24tY2xvc2VcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjYXItbmFtZS12YWx1ZVwiPuiuvuWkh+WQjeensO+8miR7dGhpcy5fZGV2Q29kZX08L3NwYW4+PGJyPlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS08c3BhbiBjbGFzcz1cImNhci1ncm91cC12YWx1ZVwiPuaJgOWcqOe7hO+8mjwvc3Bhbj48YnI+LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLTxzcGFuIGNsYXNzPVwiY2FyLWxlYWRlci12YWx1ZVwiPui0n+i0o+S6uu+8mjwvc3Bhbj48YnI+LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLTxzcGFuIGNsYXNzPVwiY2FyLXBob25lLXZhbHVlXCI+5omL5py65Y+377yaPC9zcGFuPjxicj4tLT5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tPGJ1dHRvbiBjbGFzcz1cIm15Q29zQnV0dG9uLWlubmVyIHNob3ctZW5lcmd5LXBhbmVsLWJ1dHRvbiBzaG93LWVuZXJneS1wYW5lbC1idXR0b24tJHt0aGlzLl9kZXZDb2RlfVwiPuafpeeci+iDvemHj+WOhuWPsuS/oeaBrzwvYnV0dG9uPi0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXYtaW5mby1wYW5lbC1ib3QtZGVjb3JhdGlvblwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8IS0t5Y2V5YW16IO96YePLS0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZW5lcmd5LXZhbHVlLSR7dGhpcy5fZGV2Q29kZX1cIiBzdHlsZT1cImRpc3BsYXk6JHtFbmVyZ3kuZ2V0RW5lcmd5RGlzcGxheSh0aGlzLl9pc0hpdCl9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVuZXJneS13b3JkLXNpbmdsZSBlbmVyZ3ktd29yZC0wLSR7dGhpcy5fZGV2Q29kZX1cIiBzdHlsZT1cImxlZnQ6LTE2cHg7dG9wOi01MHB4O2JhY2tncm91bmQ6YCArIEVuZXJneS5nZXRFbmVyZ3lDb2xvcih0aGlzLl9lbmVyZ3ksIHRoaXMuX2lzSGl0KSArIGBcIj5gICsgdGhpcy5fZW5lcmd5ICsgYDwvZGl2PjwhLS3liY3mlrktLT5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIC8qIOWwhmRpdua3u+WKoOWIsOimhueblueJqeWuueWZqOS4rSAqL1xyXG4gICAgICAgICAgICBtYXAuZ2V0UGFuZXMoKS5sYWJlbFBhbmUuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICAgICAgLyog5L+d5a2YZGl25a6e5L6LICovXHJcbiAgICAgICAgICAgIHRoaXMuX2RpdiA9IGRpdjtcclxuICAgICAgICAgICAgLyog6ZyA6KaB5bCGZGl25YWD57Sg5L2c5Li65pa55rOV55qE6L+U5Zue5YC8ICovXHJcbiAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiDnu5jliLbopobnm5bniaks5a6e546w57uY5Yi25pa55rOVICovXHJcbiAgICAgICAgc2luZ2xlRGl2T3ZlcmxheS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLyog5qC55o2u5Zyw55CG5Z2Q5qCH6L2s5o2i5Li65YOP57Sg5Z2Q5qCH77yM5bm26K6+572u57uZ5a655ZmoICovXHJcbiAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IHRoaXMuX21hcC5wb2ludFRvT3ZlcmxheVBpeGVsKHRoaXMuX3BvaW50KTtcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLmxlZnQgPSBwb3NpdGlvbi54ICsgJ3B4JztcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLnRvcCA9IHBvc2l0aW9uLnkgKyAncHgnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBzaW5nbGVEaXZPdmVybGF5KHBvaW50LCBlbmVyZ3ksIGRldkNvZGUsIGlzSGl0KTtcclxuXHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9TaW5nbGVPdXRTaWRlT3ZlcmxheUNvbnN0cnVjdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///40\n");

/***/ }),
/* 41 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__overlay_BtsTargetOverlayConstructor_js__ = __webpack_require__(42);\n\r\n\r\nclass DrawBtsTargetOverlay {\r\n\r\n    static drawBts(btsInfo) {\r\n        let btsId = btsInfo.btsId;\r\n        let baiduPoint = new BMap.Point(btsInfo.lng, btsInfo.lat); // 百度地图坐标 \r\n        /* 绘制基站 */\r\n        let cover = new __WEBPACK_IMPORTED_MODULE_0__overlay_BtsTargetOverlayConstructor_js__[\"a\" /* BtsTargetOverlayConstructor */](baiduPoint, btsInfo.btsId, btsInfo.mode, btsInfo.radius, btsInfo.credibility);\r\n        map.addOverlay(cover);\r\n        /* 是否显示基站 */\r\n        //if (isBtsOpen && map.getBounds().containsPoint(baiduPoint)) {\r\n        if (isBtsOpen) {\r\n            cover.show();\r\n        } else {\r\n            cover.hide();\r\n        }\r\n        $('.bts-value-' + btsId).css('display', 'none');\r\n\r\n        let btsDiv = function () {\r\n            this.btsCover;\r\n            this.btsRadius;\r\n        }\r\n        btsDiv.btsCover = cover;\r\n        // btsDiv.btsRadius = btsRangeCircle;\r\n        btsDivMap.set(btsId, btsDiv);\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = DrawBtsTargetOverlay;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3QnRzVGFyZ2V0T3ZlcmxheS5qcz82Nzk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQXdGOztBQUVqRjs7QUFFUDtBQUNBO0FBQ0Esa0VBQWtFO0FBQ2xFO0FBQ0Esd0JBQXdCLDRHQUEyQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEMiLCJmaWxlIjoiNDEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCdHNUYXJnZXRPdmVybGF5Q29uc3RydWN0b3IgfSBmcm9tICcuLi9vdmVybGF5L0J0c1RhcmdldE92ZXJsYXlDb25zdHJ1Y3Rvci5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRHJhd0J0c1RhcmdldE92ZXJsYXkge1xyXG5cclxuICAgIHN0YXRpYyBkcmF3QnRzKGJ0c0luZm8pIHtcclxuICAgICAgICBsZXQgYnRzSWQgPSBidHNJbmZvLmJ0c0lkO1xyXG4gICAgICAgIGxldCBiYWlkdVBvaW50ID0gbmV3IEJNYXAuUG9pbnQoYnRzSW5mby5sbmcsIGJ0c0luZm8ubGF0KTsgLy8g55m+5bqm5Zyw5Zu+5Z2Q5qCHIFxyXG4gICAgICAgIC8qIOe7mOWItuWfuuermSAqL1xyXG4gICAgICAgIGxldCBjb3ZlciA9IG5ldyBCdHNUYXJnZXRPdmVybGF5Q29uc3RydWN0b3IoYmFpZHVQb2ludCwgYnRzSW5mby5idHNJZCwgYnRzSW5mby5tb2RlLCBidHNJbmZvLnJhZGl1cywgYnRzSW5mby5jcmVkaWJpbGl0eSk7XHJcbiAgICAgICAgbWFwLmFkZE92ZXJsYXkoY292ZXIpO1xyXG4gICAgICAgIC8qIOaYr+WQpuaYvuekuuWfuuermSAqL1xyXG4gICAgICAgIC8vaWYgKGlzQnRzT3BlbiAmJiBtYXAuZ2V0Qm91bmRzKCkuY29udGFpbnNQb2ludChiYWlkdVBvaW50KSkge1xyXG4gICAgICAgIGlmIChpc0J0c09wZW4pIHtcclxuICAgICAgICAgICAgY292ZXIuc2hvdygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvdmVyLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnLmJ0cy12YWx1ZS0nICsgYnRzSWQpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcblxyXG4gICAgICAgIGxldCBidHNEaXYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRzQ292ZXI7XHJcbiAgICAgICAgICAgIHRoaXMuYnRzUmFkaXVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBidHNEaXYuYnRzQ292ZXIgPSBjb3ZlcjtcclxuICAgICAgICAvLyBidHNEaXYuYnRzUmFkaXVzID0gYnRzUmFuZ2VDaXJjbGU7XHJcbiAgICAgICAgYnRzRGl2TWFwLnNldChidHNJZCwgYnRzRGl2KTtcclxuICAgIH1cclxuXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9yZWFsVGltZUNvbWJhdC9vdmVybGF5L0RyYXdCdHNUYXJnZXRPdmVybGF5LmpzXG4vLyBtb2R1bGUgaWQgPSA0MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///41\n");

/***/ }),
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__bts_BtsValue_js__ = __webpack_require__(3);\n\r\n\r\nclass BtsTargetOverlayConstructor {\r\n\r\n    constructor(point, btsId, mode, radius,credibility) {\r\n        return this.draw(point, btsId, mode, radius,credibility);\r\n    }\r\n\r\n    draw(point, btsId, mode, radius,credibility) {\r\n\r\n        /* 定义自定义覆盖物的构造函数 */\r\n        function BtsDivOverlay(point, btsId, mode, radius,credibility) {\r\n            this._point = point;\r\n            this._btsId = btsId;\r\n            this._mode = mode;\r\n            this._radius = radius;\r\n            this._credibility = credibility;\r\n            this._mnc = btsId.split('-')[1] + '';\r\n        }\r\n        /* 继承API的BMap.Overlay */\r\n        BtsDivOverlay.prototype = new BMap.Overlay();\r\n        /* 实现初始化方法 */\r\n        BtsDivOverlay.prototype.initialize = function (map) {\r\n            /* 保存map对象实例 */\r\n            this._map = map;\r\n            /* 创建div元素，作为自定义覆盖物的容器 */\r\n            let div = this._div = document.createElement('div');\r\n            div.style.position = 'absolute';\r\n            $(div).attr('class', \"bts-click-\" + this._btsId);\r\n            /**add by gaochao start */\r\n            let btsCredibilityColor = \"#666666\";\r\n            if(this._credibility == 1){\r\n                //省厅准确基站表\r\n                btsCredibilityColor = \"#36B21D\";\r\n            }else if(this._credibility == 2){\r\n                //enodeb表\r\n                btsCredibilityColor = \"#FFD800\";\r\n            }else if(this._credibility == 3){\r\n                //手动上报的基站表\r\n                btsCredibilityColor = \"#2588B4\";\r\n            }else if(this._credibility == 4){\r\n                //TA上报的基站表\r\n                btsCredibilityColor = \"#648DA0\";\r\n            }else if(this._credibility == 5){\r\n                //计算后的基站表\r\n                btsCredibilityColor = \"#CC25E0\";\r\n            }\r\n            /**add by gaochao end*/\r\n\r\n            div.style.zIndex = 5800;\r\n            div.style.display = 'inline-block';\r\n            div.innerHTML = `\r\n                <!--基站图片-->\r\n                <img class=\"bts-img bts-img-${this._btsId}\" data-bts-id=\"${this._btsId}\" src=\"img/btsicon/btsicontarget-${this._mode}.png\">\r\n                <div class=\"bts-hit-count bts-hit-count-${this._btsId}\"  data-bts-id=\"${this._btsId}\"></div>\r\n                <div class=\"bts-hit-count-shadow bts-hit-count-shadow-${this._btsId}\"></div>\r\n                <div class=\"bts-credibility\" style=\"background:${btsCredibilityColor}\"></div>\r\n                <!--基站获取数值-->\r\n                <div style=\"z-index:1000;\" class=\"bts-value bts-value-${this._btsId}\">${this._btsId}</div>\r\n                <!--基站信息框-->\r\n                <div style=\"z-index:1000;\" class=\"bts-info-panel bts-info-panel-${this._btsId}\">\r\n                    <div class=\"bts-info-panel-close bts-info-panel-close-${this._btsId}\">\r\n                        <span class=\"glyphicon iconfont icon-close\"></span>\r\n                    </div>\r\n                    <div class=\"bts-info-panel-decoration\"></div>\r\n                    <img class=\"bts-name-icon\" src=\"img/${__WEBPACK_IMPORTED_MODULE_0__bts_BtsValue_js__[\"a\" /* BtsValue */].btsNameIcon(this._mnc)}.png\">\r\n                    <span class=\"bts-name\">${__WEBPACK_IMPORTED_MODULE_0__bts_BtsValue_js__[\"a\" /* BtsValue */].btsName(this._mnc)}&nbsp;${this._mode.toUpperCase()}</span>\r\n                    <span class=\"bts-identifier\">基站标识：${this._btsId}</span>\r\n                    <span class=\"bts-range\">覆盖范围：${this._radius}m</span>\r\n                    <button class=\"myCosButton-inner show-range-button show-range-button-${this._btsId}\">显示半径</button>\r\n                </div>\r\n            `;\r\n            /* 将div添加到覆盖物容器中 */\r\n            map.getPanes().labelPane.appendChild(div);\r\n            /* 保存div实例 */\r\n            this._div = div;\r\n            /* 需要将div元素作为方法的返回值 */\r\n            return div;\r\n        }\r\n        /* 绘制覆盖物,实现绘制方法 */\r\n        BtsDivOverlay.prototype.draw = function () {\r\n            /* 根据地理坐标转换为像素坐标，并设置给容器 */\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n\r\n        return new BtsDivOverlay(point, btsId, mode, radius,credibility);\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = BtsTargetOverlayConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9CdHNUYXJnZXRPdmVybGF5Q29uc3RydWN0b3IuanM/MDExMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUE4Qzs7QUFFdkM7O0FBRVA7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxZQUFZLGlCQUFpQixZQUFZLG1DQUFtQyxXQUFXO0FBQ3JJLDBEQUEwRCxZQUFZLGtCQUFrQixZQUFZO0FBQ3BHLHdFQUF3RSxZQUFZO0FBQ3BGLGlFQUFpRSxvQkFBb0I7QUFDckY7QUFDQSx5Q0FBeUMsK0JBQStCLFlBQVksSUFBSSxZQUFZO0FBQ3BHO0FBQ0EseUNBQXlDLHlDQUF5QyxZQUFZO0FBQzlGLDRFQUE0RSxZQUFZO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxrRUFBUSx3QkFBd0I7QUFDMUYsNkNBQTZDLGtFQUFRLG9CQUFvQixNQUFNLEVBQUUseUJBQXlCO0FBQzFHLHdEQUF3RCxZQUFZO0FBQ3BFLG1EQUFtRCxhQUFhO0FBQ2hFLDJGQUEyRixZQUFZO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLEMiLCJmaWxlIjoiNDIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCdHNWYWx1ZSB9IGZyb20gJy4uL2J0cy9CdHNWYWx1ZS5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQnRzVGFyZ2V0T3ZlcmxheUNvbnN0cnVjdG9yIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwb2ludCwgYnRzSWQsIG1vZGUsIHJhZGl1cyxjcmVkaWJpbGl0eSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRyYXcocG9pbnQsIGJ0c0lkLCBtb2RlLCByYWRpdXMsY3JlZGliaWxpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcocG9pbnQsIGJ0c0lkLCBtb2RlLCByYWRpdXMsY3JlZGliaWxpdHkpIHtcclxuXHJcbiAgICAgICAgLyog5a6a5LmJ6Ieq5a6a5LmJ6KaG55uW54mp55qE5p6E6YCg5Ye95pWwICovXHJcbiAgICAgICAgZnVuY3Rpb24gQnRzRGl2T3ZlcmxheShwb2ludCwgYnRzSWQsIG1vZGUsIHJhZGl1cyxjcmVkaWJpbGl0eSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wb2ludCA9IHBvaW50O1xyXG4gICAgICAgICAgICB0aGlzLl9idHNJZCA9IGJ0c0lkO1xyXG4gICAgICAgICAgICB0aGlzLl9tb2RlID0gbW9kZTtcclxuICAgICAgICAgICAgdGhpcy5fcmFkaXVzID0gcmFkaXVzO1xyXG4gICAgICAgICAgICB0aGlzLl9jcmVkaWJpbGl0eSA9IGNyZWRpYmlsaXR5O1xyXG4gICAgICAgICAgICB0aGlzLl9tbmMgPSBidHNJZC5zcGxpdCgnLScpWzFdICsgJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIOe7p+aJv0FQSeeahEJNYXAuT3ZlcmxheSAqL1xyXG4gICAgICAgIEJ0c0Rpdk92ZXJsYXkucHJvdG90eXBlID0gbmV3IEJNYXAuT3ZlcmxheSgpO1xyXG4gICAgICAgIC8qIOWunueOsOWIneWni+WMluaWueazlSAqL1xyXG4gICAgICAgIEJ0c0Rpdk92ZXJsYXkucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAobWFwKSB7XHJcbiAgICAgICAgICAgIC8qIOS/neWtmG1hcOWvueixoeWunuS+iyAqL1xyXG4gICAgICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XHJcbiAgICAgICAgICAgIC8qIOWIm+W7umRpduWFg+e0oO+8jOS9nOS4uuiHquWumuS5ieimhueblueJqeeahOWuueWZqCAqL1xyXG4gICAgICAgICAgICBsZXQgZGl2ID0gdGhpcy5fZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgICAgICQoZGl2KS5hdHRyKCdjbGFzcycsIFwiYnRzLWNsaWNrLVwiICsgdGhpcy5fYnRzSWQpO1xyXG4gICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICBsZXQgYnRzQ3JlZGliaWxpdHlDb2xvciA9IFwiIzY2NjY2NlwiO1xyXG4gICAgICAgICAgICBpZih0aGlzLl9jcmVkaWJpbGl0eSA9PSAxKXtcclxuICAgICAgICAgICAgICAgIC8v55yB5Y6F5YeG56Gu5Z+656uZ6KGoXHJcbiAgICAgICAgICAgICAgICBidHNDcmVkaWJpbGl0eUNvbG9yID0gXCIjMzZCMjFEXCI7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMuX2NyZWRpYmlsaXR5ID09IDIpe1xyXG4gICAgICAgICAgICAgICAgLy9lbm9kZWLooahcclxuICAgICAgICAgICAgICAgIGJ0c0NyZWRpYmlsaXR5Q29sb3IgPSBcIiNGRkQ4MDBcIjtcclxuICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5fY3JlZGliaWxpdHkgPT0gMyl7XHJcbiAgICAgICAgICAgICAgICAvL+aJi+WKqOS4iuaKpeeahOWfuuermeihqFxyXG4gICAgICAgICAgICAgICAgYnRzQ3JlZGliaWxpdHlDb2xvciA9IFwiIzI1ODhCNFwiO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih0aGlzLl9jcmVkaWJpbGl0eSA9PSA0KXtcclxuICAgICAgICAgICAgICAgIC8vVEHkuIrmiqXnmoTln7rnq5nooahcclxuICAgICAgICAgICAgICAgIGJ0c0NyZWRpYmlsaXR5Q29sb3IgPSBcIiM2NDhEQTBcIjtcclxuICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5fY3JlZGliaWxpdHkgPT0gNSl7XHJcbiAgICAgICAgICAgICAgICAvL+iuoeeul+WQjueahOWfuuermeihqFxyXG4gICAgICAgICAgICAgICAgYnRzQ3JlZGliaWxpdHlDb2xvciA9IFwiI0NDMjVFMFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcblxyXG4gICAgICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gNTgwMDtcclxuICAgICAgICAgICAgZGl2LnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgIDwhLS3ln7rnq5nlm77niYctLT5cclxuICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJidHMtaW1nIGJ0cy1pbWctJHt0aGlzLl9idHNJZH1cIiBkYXRhLWJ0cy1pZD1cIiR7dGhpcy5fYnRzSWR9XCIgc3JjPVwiaW1nL2J0c2ljb24vYnRzaWNvbnRhcmdldC0ke3RoaXMuX21vZGV9LnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0cy1oaXQtY291bnQgYnRzLWhpdC1jb3VudC0ke3RoaXMuX2J0c0lkfVwiICBkYXRhLWJ0cy1pZD1cIiR7dGhpcy5fYnRzSWR9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRzLWhpdC1jb3VudC1zaGFkb3cgYnRzLWhpdC1jb3VudC1zaGFkb3ctJHt0aGlzLl9idHNJZH1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidHMtY3JlZGliaWxpdHlcIiBzdHlsZT1cImJhY2tncm91bmQ6JHtidHNDcmVkaWJpbGl0eUNvbG9yfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPCEtLeWfuuermeiOt+WPluaVsOWAvC0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInotaW5kZXg6MTAwMDtcIiBjbGFzcz1cImJ0cy12YWx1ZSBidHMtdmFsdWUtJHt0aGlzLl9idHNJZH1cIj4ke3RoaXMuX2J0c0lkfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPCEtLeWfuuermeS/oeaBr+ahhi0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInotaW5kZXg6MTAwMDtcIiBjbGFzcz1cImJ0cy1pbmZvLXBhbmVsIGJ0cy1pbmZvLXBhbmVsLSR7dGhpcy5fYnRzSWR9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0cy1pbmZvLXBhbmVsLWNsb3NlIGJ0cy1pbmZvLXBhbmVsLWNsb3NlLSR7dGhpcy5fYnRzSWR9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGljb25mb250IGljb24tY2xvc2VcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0cy1pbmZvLXBhbmVsLWRlY29yYXRpb25cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiYnRzLW5hbWUtaWNvblwiIHNyYz1cImltZy8ke0J0c1ZhbHVlLmJ0c05hbWVJY29uKHRoaXMuX21uYyl9LnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnRzLW5hbWVcIj4ke0J0c1ZhbHVlLmJ0c05hbWUodGhpcy5fbW5jKX0mbmJzcDske3RoaXMuX21vZGUudG9VcHBlckNhc2UoKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJidHMtaWRlbnRpZmllclwiPuWfuuermeagh+ivhu+8miR7dGhpcy5fYnRzSWR9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnRzLXJhbmdlXCI+6KaG55uW6IyD5Zu077yaJHt0aGlzLl9yYWRpdXN9bTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibXlDb3NCdXR0b24taW5uZXIgc2hvdy1yYW5nZS1idXR0b24gc2hvdy1yYW5nZS1idXR0b24tJHt0aGlzLl9idHNJZH1cIj7mmL7npLrljYrlvoQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAvKiDlsIZkaXbmt7vliqDliLDopobnm5bnianlrrnlmajkuK0gKi9cclxuICAgICAgICAgICAgbWFwLmdldFBhbmVzKCkubGFiZWxQYW5lLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICAgIC8qIOS/neWtmGRpduWunuS+iyAqL1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYgPSBkaXY7XHJcbiAgICAgICAgICAgIC8qIOmcgOimgeWwhmRpduWFg+e0oOS9nOS4uuaWueazleeahOi/lOWbnuWAvCAqL1xyXG4gICAgICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiDnu5jliLbopobnm5bniaks5a6e546w57uY5Yi25pa55rOVICovXHJcbiAgICAgICAgQnRzRGl2T3ZlcmxheS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLyog5qC55o2u5Zyw55CG5Z2Q5qCH6L2s5o2i5Li65YOP57Sg5Z2Q5qCH77yM5bm26K6+572u57uZ5a655ZmoICovXHJcbiAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IHRoaXMuX21hcC5wb2ludFRvT3ZlcmxheVBpeGVsKHRoaXMuX3BvaW50KTtcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLmxlZnQgPSBwb3NpdGlvbi54ICsgJ3B4JztcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLnRvcCA9IHBvc2l0aW9uLnkgKyAncHgnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBCdHNEaXZPdmVybGF5KHBvaW50LCBidHNJZCwgbW9kZSwgcmFkaXVzLGNyZWRpYmlsaXR5KTtcclxuXHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9CdHNUYXJnZXRPdmVybGF5Q29uc3RydWN0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///42\n");

/***/ }),
/* 43 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__bts_BtsValue_js__ = __webpack_require__(3);\n\r\n\r\nclass BtsPreLockOverlayConstructor {\r\n\r\n    constructor(point, btsId, mode, radius,credibility) {\r\n        return this.draw(point, btsId, mode, radius,credibility);\r\n    }\r\n\r\n    draw(point, btsId, mode, radius,credibility) {\r\n\r\n        /* 定义自定义覆盖物的构造函数 */\r\n        function BtsDivOverlay(point, btsId, mode, radius,credibility) {\r\n            this._point = point;\r\n            this._btsId = btsId;\r\n            this._mode = mode;\r\n            this._radius = radius;\r\n            this._credibility = credibility;\r\n            this._mnc = btsId.split('-')[1] + '';\r\n        }\r\n        /* 继承API的BMap.Overlay */\r\n        BtsDivOverlay.prototype = new BMap.Overlay();\r\n        /* 实现初始化方法 */\r\n        BtsDivOverlay.prototype.initialize = function (map) {\r\n            /* 保存map对象实例 */\r\n            this._map = map;\r\n            /* 创建div元素，作为自定义覆盖物的容器 */\r\n            let div = this._div = document.createElement('div');\r\n            div.style.position = 'absolute';\r\n            $(div).attr('class', \"bts-click-\" + this._btsId);\r\n            /**add by gaochao start */\r\n            let btsCredibilityColor = \"#666666\";\r\n            if(this._credibility == 1){\r\n                //省厅准确基站表\r\n                btsCredibilityColor = \"#36B21D\";\r\n            }else if(this._credibility == 2){\r\n                //enodeb表\r\n                btsCredibilityColor = \"#FFD800\";\r\n            }else if(this._credibility == 3){\r\n                //手动上报的基站表\r\n                btsCredibilityColor = \"#2588B4\";\r\n            }else if(this._credibility == 4){\r\n                //TA上报的基站表\r\n                btsCredibilityColor = \"#648DA0\";\r\n            }else if(this._credibility == 5){\r\n                //计算后的基站表\r\n                btsCredibilityColor = \"#CC25E0\";\r\n            }\r\n            /**add by gaochao end*/\r\n\r\n            div.style.zIndex = 5800;\r\n            div.style.display = 'inline-block';\r\n            div.innerHTML = `\r\n                <!--基站图片-->\r\n                <img class=\"bts-img bts-img-${this._btsId} bts-img-unhit proLock\" data-bts-id=\"${this._btsId}\" src=\"img/btsicon/btsicontarget-${this._mode}.png\">\r\n                <div class=\"bts-hit-count bts-hit-count-${this._btsId}\"  data-bts-id=\"${this._btsId}\"></div>\r\n                <div class=\"bts-hit-count-shadow bts-hit-count-shadow-${this._btsId}\"></div>\r\n                <div class=\"bts-credibility\" style=\"background:${btsCredibilityColor}\"></div>\r\n                <img class=\"bts-active-img bts-active-img-${this._btsId}\" src=\"img/icon/activeImg.png\">\r\n                <!--基站获取数值-->\r\n                <div style=\"z-index:1000;\" class=\"bts-value bts-value-${this._btsId}\">${this._btsId}</div>\r\n                <!--基站信息框-->\r\n                <div style=\"z-index:1000;\" class=\"bts-info-panel bts-info-panel-${this._btsId}\">\r\n                    <div class=\"bts-info-panel-close bts-info-panel-close-${this._btsId}\" data-bts-id=\"${this._btsId}\">\r\n                        <span class=\"glyphicon iconfont icon-close\"></span>\r\n                    </div>\r\n                    <div class=\"bts-info-panel-decoration\"></div>\r\n                    <img class=\"bts-name-icon\" src=\"img/${__WEBPACK_IMPORTED_MODULE_0__bts_BtsValue_js__[\"a\" /* BtsValue */].btsNameIcon(this._mnc)}.png\">\r\n                    <span class=\"bts-name\">${__WEBPACK_IMPORTED_MODULE_0__bts_BtsValue_js__[\"a\" /* BtsValue */].btsName(this._mnc)}&nbsp;${this._mode.toUpperCase()}</span>\r\n                    <span class=\"bts-identifier\">基站标识：${this._btsId}</span>\r\n                    <span class=\"bts-range\">覆盖范围：${this._radius}m</span>\r\n                    <button class=\"myCosButton-inner show-range-button show-range-button-${this._btsId}\">显示半径</button>\r\n                </div>\r\n            `;\r\n            /* 将div添加到覆盖物容器中 */\r\n            map.getPanes().labelPane.appendChild(div);\r\n            /* 保存div实例 */\r\n            this._div = div;\r\n            /* 需要将div元素作为方法的返回值 */\r\n            return div;\r\n        }\r\n        /* 绘制覆盖物,实现绘制方法 */\r\n        BtsDivOverlay.prototype.draw = function () {\r\n            /* 根据地理坐标转换为像素坐标，并设置给容器 */\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n\r\n        return new BtsDivOverlay(point, btsId, mode, radius,credibility);\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = BtsPreLockOverlayConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9CdHNQcmVMb2NrT3ZlcmxheUNvbnN0cnVjdG9yLmpzPzQwMjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBOEM7O0FBRXZDOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsWUFBWSx1Q0FBdUMsWUFBWSxtQ0FBbUMsV0FBVztBQUMzSiwwREFBMEQsWUFBWSxrQkFBa0IsWUFBWTtBQUNwRyx3RUFBd0UsWUFBWTtBQUNwRixpRUFBaUUsb0JBQW9CO0FBQ3JGLDREQUE0RCxZQUFZO0FBQ3hFO0FBQ0EseUNBQXlDLCtCQUErQixZQUFZLElBQUksWUFBWTtBQUNwRztBQUNBLHlDQUF5Qyx5Q0FBeUMsWUFBWTtBQUM5Riw0RUFBNEUsWUFBWSxpQkFBaUIsWUFBWTtBQUNySDtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsa0VBQVEsd0JBQXdCO0FBQzFGLDZDQUE2QyxrRUFBUSxvQkFBb0IsTUFBTSxFQUFFLHlCQUF5QjtBQUMxRyx3REFBd0QsWUFBWTtBQUNwRSxtREFBbUQsYUFBYTtBQUNoRSwyRkFBMkYsWUFBWTtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxDIiwiZmlsZSI6IjQzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnRzVmFsdWUgfSBmcm9tICcuLi9idHMvQnRzVmFsdWUuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ0c1ByZUxvY2tPdmVybGF5Q29uc3RydWN0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBvaW50LCBidHNJZCwgbW9kZSwgcmFkaXVzLGNyZWRpYmlsaXR5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhdyhwb2ludCwgYnRzSWQsIG1vZGUsIHJhZGl1cyxjcmVkaWJpbGl0eSk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhwb2ludCwgYnRzSWQsIG1vZGUsIHJhZGl1cyxjcmVkaWJpbGl0eSkge1xyXG5cclxuICAgICAgICAvKiDlrprkuYnoh6rlrprkuYnopobnm5bniannmoTmnoTpgKDlh73mlbAgKi9cclxuICAgICAgICBmdW5jdGlvbiBCdHNEaXZPdmVybGF5KHBvaW50LCBidHNJZCwgbW9kZSwgcmFkaXVzLGNyZWRpYmlsaXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvaW50ID0gcG9pbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2J0c0lkID0gYnRzSWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX21vZGUgPSBtb2RlO1xyXG4gICAgICAgICAgICB0aGlzLl9yYWRpdXMgPSByYWRpdXM7XHJcbiAgICAgICAgICAgIHRoaXMuX2NyZWRpYmlsaXR5ID0gY3JlZGliaWxpdHk7XHJcbiAgICAgICAgICAgIHRoaXMuX21uYyA9IGJ0c0lkLnNwbGl0KCctJylbMV0gKyAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgLyog57un5om/QVBJ55qEQk1hcC5PdmVybGF5ICovXHJcbiAgICAgICAgQnRzRGl2T3ZlcmxheS5wcm90b3R5cGUgPSBuZXcgQk1hcC5PdmVybGF5KCk7XHJcbiAgICAgICAgLyog5a6e546w5Yid5aeL5YyW5pa55rOVICovXHJcbiAgICAgICAgQnRzRGl2T3ZlcmxheS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChtYXApIHtcclxuICAgICAgICAgICAgLyog5L+d5a2YbWFw5a+56LGh5a6e5L6LICovXHJcbiAgICAgICAgICAgIHRoaXMuX21hcCA9IG1hcDtcclxuICAgICAgICAgICAgLyog5Yib5bu6ZGl25YWD57Sg77yM5L2c5Li66Ieq5a6a5LmJ6KaG55uW54mp55qE5a655ZmoICovXHJcbiAgICAgICAgICAgIGxldCBkaXYgPSB0aGlzLl9kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgJChkaXYpLmF0dHIoJ2NsYXNzJywgXCJidHMtY2xpY2stXCIgKyB0aGlzLl9idHNJZCk7XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgIGxldCBidHNDcmVkaWJpbGl0eUNvbG9yID0gXCIjNjY2NjY2XCI7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuX2NyZWRpYmlsaXR5ID09IDEpe1xyXG4gICAgICAgICAgICAgICAgLy/nnIHljoXlh4bnoa7ln7rnq5nooahcclxuICAgICAgICAgICAgICAgIGJ0c0NyZWRpYmlsaXR5Q29sb3IgPSBcIiMzNkIyMURcIjtcclxuICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5fY3JlZGliaWxpdHkgPT0gMil7XHJcbiAgICAgICAgICAgICAgICAvL2Vub2RlYuihqFxyXG4gICAgICAgICAgICAgICAgYnRzQ3JlZGliaWxpdHlDb2xvciA9IFwiI0ZGRDgwMFwiO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih0aGlzLl9jcmVkaWJpbGl0eSA9PSAzKXtcclxuICAgICAgICAgICAgICAgIC8v5omL5Yqo5LiK5oql55qE5Z+656uZ6KGoXHJcbiAgICAgICAgICAgICAgICBidHNDcmVkaWJpbGl0eUNvbG9yID0gXCIjMjU4OEI0XCI7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMuX2NyZWRpYmlsaXR5ID09IDQpe1xyXG4gICAgICAgICAgICAgICAgLy9UQeS4iuaKpeeahOWfuuermeihqFxyXG4gICAgICAgICAgICAgICAgYnRzQ3JlZGliaWxpdHlDb2xvciA9IFwiIzY0OERBMFwiO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih0aGlzLl9jcmVkaWJpbGl0eSA9PSA1KXtcclxuICAgICAgICAgICAgICAgIC8v6K6h566X5ZCO55qE5Z+656uZ6KGoXHJcbiAgICAgICAgICAgICAgICBidHNDcmVkaWJpbGl0eUNvbG9yID0gXCIjQ0MyNUUwXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuXHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSA1ODAwO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG4gICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICAgICAgPCEtLeWfuuermeWbvueJhy0tPlxyXG4gICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImJ0cy1pbWcgYnRzLWltZy0ke3RoaXMuX2J0c0lkfSBidHMtaW1nLXVuaGl0IHByb0xvY2tcIiBkYXRhLWJ0cy1pZD1cIiR7dGhpcy5fYnRzSWR9XCIgc3JjPVwiaW1nL2J0c2ljb24vYnRzaWNvbnRhcmdldC0ke3RoaXMuX21vZGV9LnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0cy1oaXQtY291bnQgYnRzLWhpdC1jb3VudC0ke3RoaXMuX2J0c0lkfVwiICBkYXRhLWJ0cy1pZD1cIiR7dGhpcy5fYnRzSWR9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRzLWhpdC1jb3VudC1zaGFkb3cgYnRzLWhpdC1jb3VudC1zaGFkb3ctJHt0aGlzLl9idHNJZH1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidHMtY3JlZGliaWxpdHlcIiBzdHlsZT1cImJhY2tncm91bmQ6JHtidHNDcmVkaWJpbGl0eUNvbG9yfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImJ0cy1hY3RpdmUtaW1nIGJ0cy1hY3RpdmUtaW1nLSR7dGhpcy5fYnRzSWR9XCIgc3JjPVwiaW1nL2ljb24vYWN0aXZlSW1nLnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgPCEtLeWfuuermeiOt+WPluaVsOWAvC0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInotaW5kZXg6MTAwMDtcIiBjbGFzcz1cImJ0cy12YWx1ZSBidHMtdmFsdWUtJHt0aGlzLl9idHNJZH1cIj4ke3RoaXMuX2J0c0lkfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPCEtLeWfuuermeS/oeaBr+ahhi0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInotaW5kZXg6MTAwMDtcIiBjbGFzcz1cImJ0cy1pbmZvLXBhbmVsIGJ0cy1pbmZvLXBhbmVsLSR7dGhpcy5fYnRzSWR9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0cy1pbmZvLXBhbmVsLWNsb3NlIGJ0cy1pbmZvLXBhbmVsLWNsb3NlLSR7dGhpcy5fYnRzSWR9XCIgZGF0YS1idHMtaWQ9XCIke3RoaXMuX2J0c0lkfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBpY29uZm9udCBpY29uLWNsb3NlXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidHMtaW5mby1wYW5lbC1kZWNvcmF0aW9uXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImJ0cy1uYW1lLWljb25cIiBzcmM9XCJpbWcvJHtCdHNWYWx1ZS5idHNOYW1lSWNvbih0aGlzLl9tbmMpfS5wbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJ0cy1uYW1lXCI+JHtCdHNWYWx1ZS5idHNOYW1lKHRoaXMuX21uYyl9Jm5ic3A7JHt0aGlzLl9tb2RlLnRvVXBwZXJDYXNlKCl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnRzLWlkZW50aWZpZXJcIj7ln7rnq5nmoIfor4bvvJoke3RoaXMuX2J0c0lkfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJ0cy1yYW5nZVwiPuimhuebluiMg+WbtO+8miR7dGhpcy5fcmFkaXVzfW08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm15Q29zQnV0dG9uLWlubmVyIHNob3ctcmFuZ2UtYnV0dG9uIHNob3ctcmFuZ2UtYnV0dG9uLSR7dGhpcy5fYnRzSWR9XCI+5pi+56S65Y2K5b6EPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgLyog5bCGZGl25re75Yqg5Yiw6KaG55uW54mp5a655Zmo5LitICovXHJcbiAgICAgICAgICAgIG1hcC5nZXRQYW5lcygpLmxhYmVsUGFuZS5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgICAgICAvKiDkv53lrZhkaXblrp7kvosgKi9cclxuICAgICAgICAgICAgdGhpcy5fZGl2ID0gZGl2O1xyXG4gICAgICAgICAgICAvKiDpnIDopoHlsIZkaXblhYPntKDkvZzkuLrmlrnms5XnmoTov5Tlm57lgLwgKi9cclxuICAgICAgICAgICAgcmV0dXJuIGRpdjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyog57uY5Yi26KaG55uW54mpLOWunueOsOe7mOWItuaWueazlSAqL1xyXG4gICAgICAgIEJ0c0Rpdk92ZXJsYXkucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8qIOagueaNruWcsOeQhuWdkOagh+i9rOaNouS4uuWDj+e0oOWdkOagh++8jOW5tuiuvue9rue7meWuueWZqCAqL1xyXG4gICAgICAgICAgICBsZXQgcG9zaXRpb24gPSB0aGlzLl9tYXAucG9pbnRUb092ZXJsYXlQaXhlbCh0aGlzLl9wb2ludCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpdi5zdHlsZS5sZWZ0ID0gcG9zaXRpb24ueCArICdweCc7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpdi5zdHlsZS50b3AgPSBwb3NpdGlvbi55ICsgJ3B4JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgQnRzRGl2T3ZlcmxheShwb2ludCwgYnRzSWQsIG1vZGUsIHJhZGl1cyxjcmVkaWJpbGl0eSk7XHJcblxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L292ZXJsYXkvQnRzUHJlTG9ja092ZXJsYXlDb25zdHJ1Y3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gNDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///43\n");

/***/ }),
/* 44 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__MultiBtsOverlayConstructor_js__ = __webpack_require__(45);\n\r\n\r\nclass DrawMultiBtsOverlay {\r\n\r\n    static drawBts(btsInfo) {\r\n        /** 基站ID */\r\n        let btsId = btsInfo.btsId;\r\n        /** 坐标 */\r\n        let baiduPoint = new BMap.Point(btsInfo.lng, btsInfo.lat);\r\n        let cover = new __WEBPACK_IMPORTED_MODULE_0__MultiBtsOverlayConstructor_js__[\"a\" /* MultiBtsOverlayConstructor */](baiduPoint, btsInfo);\r\n        map.addOverlay(cover);\r\n        if (isBtsOpen) {\r\n            cover.show();\r\n        } else {\r\n            cover.hide();\r\n        }\r\n        /**存储绘制结果 */\r\n        let btsDiv = function () {\r\n            this.btsCover;\r\n            this.btsRadius;\r\n        }\r\n        btsDiv.btsCover = cover;\r\n        btsDivMap.set(btsId, btsDiv);\r\n    }\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = DrawMultiBtsOverlay;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3TXVsdGlCdHNPdmVybGF5LmpzP2U2ODUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBNkU7O0FBRXRFOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0dBQTBCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEMiLCJmaWxlIjoiNDQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNdWx0aUJ0c092ZXJsYXlDb25zdHJ1Y3RvciB9IGZyb20gJy4vTXVsdGlCdHNPdmVybGF5Q29uc3RydWN0b3IuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIERyYXdNdWx0aUJ0c092ZXJsYXkge1xyXG5cclxuICAgIHN0YXRpYyBkcmF3QnRzKGJ0c0luZm8pIHtcclxuICAgICAgICAvKiog5Z+656uZSUQgKi9cclxuICAgICAgICBsZXQgYnRzSWQgPSBidHNJbmZvLmJ0c0lkO1xyXG4gICAgICAgIC8qKiDlnZDmoIcgKi9cclxuICAgICAgICBsZXQgYmFpZHVQb2ludCA9IG5ldyBCTWFwLlBvaW50KGJ0c0luZm8ubG5nLCBidHNJbmZvLmxhdCk7XHJcbiAgICAgICAgbGV0IGNvdmVyID0gbmV3IE11bHRpQnRzT3ZlcmxheUNvbnN0cnVjdG9yKGJhaWR1UG9pbnQsIGJ0c0luZm8pO1xyXG4gICAgICAgIG1hcC5hZGRPdmVybGF5KGNvdmVyKTtcclxuICAgICAgICBpZiAoaXNCdHNPcGVuKSB7XHJcbiAgICAgICAgICAgIGNvdmVyLnNob3coKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb3Zlci5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKuWtmOWCqOe7mOWItue7k+aenCAqL1xyXG4gICAgICAgIGxldCBidHNEaXYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRzQ292ZXI7XHJcbiAgICAgICAgICAgIHRoaXMuYnRzUmFkaXVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBidHNEaXYuYnRzQ292ZXIgPSBjb3ZlcjtcclxuICAgICAgICBidHNEaXZNYXAuc2V0KGJ0c0lkLCBidHNEaXYpO1xyXG4gICAgfVxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3TXVsdGlCdHNPdmVybGF5LmpzXG4vLyBtb2R1bGUgaWQgPSA0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///44\n");

/***/ }),
/* 45 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_Init_BaiduMap_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__ = __webpack_require__(3);\n\r\n\r\n\r\nclass MultiBtsOverlayConstructor {\r\n\r\n    constructor(point, data) {\r\n        let type = data.type;\r\n        if(type == 1) {\r\n            //普通基站\r\n            return this.drawNormalBts(point, data.mcc, data.mnc, data.mode, data.sid, data.nid, data.bid, data.lacTac, data.radius, data.cellId, data.btsId, data.hitTimes, data.dlHitTimes, data.credibility);\r\n        }else if(type == 2) {\r\n            //复合基站\r\n            return this.drawMultiBts(point, data.mcc, data.mnc, data.mode, data.sid, data.nid, data.bid, data.lacTac, data.radius, data.cellId, data.btsId, data.hitTimes, data.dlHitTimes, data.child, data.credibility);\r\n        }\r\n    }\r\n    /**\r\n     * 绘制普通基站\r\n     */\r\n    drawNormalBts(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId, hitTimes, dlHitTimes, credibility) {\r\n         /* 自定义覆盖物的构造函数 */\r\n         function BtsDivOverlay(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId, hitTimes, dlHitTimes, credibility) {\r\n            this._point = point;\r\n            this._mcc = mcc;\r\n            this._mnc = mnc;\r\n            this._mode = mode;\r\n            this._sid = sid;\r\n            this._nid = nid;\r\n            this._bid = bid;\r\n            this._lacTac = lacTac;\r\n            this._radius = radius;\r\n            this._cellId = cellId;\r\n            this._btsId = btsId;\r\n            this._hitTimes = hitTimes;\r\n            this._dlHitTimes = dlHitTimes;\r\n            this._credibility = credibility;\r\n        }\r\n        /* 继承API的BMap.Overlay */\r\n        BtsDivOverlay.prototype = new BMap.Overlay();\r\n        /* 实现初始化方法 */\r\n        BtsDivOverlay.prototype.initialize = function (map) {\r\n            /* 保存map对象实例 */\r\n            this._map = map;\r\n            /* 创建div元素，作为自定义覆盖物的容器 */\r\n            let div = this._div = document.createElement('div');\r\n            let btsCredibilityColor = \"#666666\";\r\n            switch(this._credibility) {\r\n                case 1:\r\n                    //省厅准确基站表\r\n                    btsCredibilityColor = \"#36B21D\";\r\n                    break;\r\n                case 2:\r\n                    //enodeb表\r\n                    btsCredibilityColor = \"#FFD800\";\r\n                    break;\r\n                case 3:\r\n                    //手动上报的基站表\r\n                    btsCredibilityColor = \"#2588B4\";\r\n                    break;\r\n                case 4:\r\n                    //TA上报的基站表\r\n                    btsCredibilityColor = \"#648DA0\";\r\n                    break;\r\n                case 5:\r\n                    //计算后的基站表\r\n                    btsCredibilityColor = \"#CC25E0\";\r\n                    break;\r\n                default:\r\n                    break;    \r\n            }\r\n            div.style.position = 'absolute';\r\n            div.style.zIndex = 5000;\r\n            $(div).attr('class', `bts-click-unhit bts-click-${this._btsId}`);\r\n            $(div).attr('data-open-status', 'close');\r\n            div.style.display = 'inline-block';\r\n            let btsImg = '';\r\n            let btsHitStatus = '';\r\n            let btsHitGray = '';\r\n            let hitTimesValue = '';\r\n            if (this._hitTimes == 0 || this._hitTimes == null) {\r\n                btsImg = 'btsicon'; // 默认图片为蓝色\r\n                btsHitStatus = 'bts-img-unhit';\r\n                btsHitGray = 'gray-cover'\r\n            } else {\r\n                btsImg = 'btsiconhit'; // 命中后图片为红色\r\n                hitTimesValue = this._hitTimes;\r\n            }\r\n            let dlHitTimesValue = '';\r\n            if (this._dlHitTimes == 0 || this._dlHitTimes == null) {\r\n            } else {\r\n                btsImg = 'btsiconhit'; // 命中后图片为红色\r\n                dlHitTimesValue = this._dlHitTimes;\r\n            }\r\n            div.innerHTML = `\r\n                <!--基站图片-->\r\n                <img class=\"bts-img bts-img-${this._btsId} ${btsHitStatus} ${btsHitGray}\" data-bts-mode=\"${this._mode}\" data-bts-id=\"${this._btsId}\" src=\"img/btsicon/${btsImg}-${this._mode}.png\">\r\n                <div class=\"bts-hit-count bts-hit-count-${this._btsId}\" data-bts-id=\"${this._btsId}\">${(hitTimesValue == '' && dlHitTimesValue == \"\") ? \"\" : (hitTimesValue == \"\" ? 0 : hitTimesValue) + \"/\" + (dlHitTimesValue == \"\" ? 0 : dlHitTimesValue)}</div>\r\n                <div class=\"bts-hit-count-shadow bts-hit-count-shadow-${this._btsId}\"></div>\r\n                <div class=\"bts-credibility\" style=\"background:${btsCredibilityColor}\"></div>\r\n                <img class=\"bts-active-img bts-active-img-${this._btsId}\" src=\"img/icon/activeImg.png\">\r\n                <!--选中框-->\r\n                <div class=\"bts-selectedCircle bts-selectedCircle-${this._btsId}\" style=\"display:none;\"></div>\r\n                <!--基站获取数值-->\r\n                <div style=\"z-index:8000;\" class=\"bts-value bts-value-${this._btsId}\" style=\"display:none;\">${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsTag(this._mode, this._mcc, this._mnc, this._lacTac, this._sid, this._nid, this._bid, this._cellId)}</div>\r\n                <!--基站信息框-->\r\n                <div style=\"z-index:8000;\" class=\"bts-info-panel bts-info-panel-${this._btsId}\" style=\"display:none;\">\r\n                    <div class=\"bts-info-panel-close bts-info-panel-close-${this._btsId}\" data-bts-id=\"${this._btsId}\">\r\n                        <span class=\"glyphicon iconfont icon-close\"></span>\r\n                    </div>\r\n                    <div class=\"bts-info-panel-decoration\"></div>\r\n                    <img class=\"bts-name-icon\" src=\"img/${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsNameIcon(this._mnc)}.png\">\r\n                    <span class=\"bts-name\">${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsName(this._mnc)}&nbsp;${this._mode.toUpperCase()}</span>\r\n                    <span class=\"bts-identifier\">基站标识：${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsTag(this._mode, this._mcc, this._mnc, this._lacTac, this._sid, this._nid, this._bid, this._cellId)}</span>\r\n                    <span class=\"bts-range\">覆盖范围：${this._radius}m</span>\r\n                    <button class=\"myCosButton-inner show-range-button show-range-button-${this._btsId}\" data-bts-id=\"${this._btsId}\" data-open-status=\"close\">显示半径</button>\r\n                </div>\r\n            `;\r\n            /* 将div添加到覆盖物容器中 */\r\n            map.getPanes().labelPane.appendChild(div);\r\n            /* 保存div实例 */\r\n            this._div = div;\r\n            /* 需要将div元素作为方法的返回值 */\r\n            return div;\r\n        }\r\n         /* 绘制覆盖物,实现绘制方法 */\r\n         BtsDivOverlay.prototype.draw = function () {\r\n            /* 根据地理坐标转换为像素坐标，并设置给容器 */\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n\r\n        return new BtsDivOverlay(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId, hitTimes, dlHitTimes, credibility);\r\n    }\r\n    /**\r\n     * 绘制多基站\r\n     * 复合基站图标则以子基站优先级顺序显示红(带特效)   红   粉红   黄   蓝   灰\r\n     */\r\n    drawMultiBts(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId, hitTimes, dlHitTimes, childBts, credibility) {\r\n        function BtsDivOverlay(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId, hitTimes, dlHitTimes, childBts, credibility) {\r\n            this._point = point;\r\n            this._mcc = mcc;\r\n            this._mnc = mnc;\r\n            this._mode = mode;\r\n            this._sid = sid;\r\n            this._nid = nid;\r\n            this._bid = bid;\r\n            this._lacTac = lacTac;\r\n            this._radius = radius;\r\n            this._cellId = cellId;\r\n            this._btsId = btsId;\r\n            this._hitTimes = hitTimes;\r\n            this._dlHitTimes = dlHitTimes;\r\n            this._childBts = childBts;\r\n            this._credibility = credibility;\r\n        }\r\n         /* 继承API的BMap.Overlay */\r\n         BtsDivOverlay.prototype = new BMap.Overlay();\r\n         /* 实现初始化方法 */\r\n         BtsDivOverlay.prototype.initialize = function (map) {\r\n             /* 保存map对象实例 */\r\n             this._map = map;\r\n             /* 创建div元素，作为自定义覆盖物的容器 */\r\n             let div = this._div = document.createElement('div');\r\n             div.style.position = 'absolute';\r\n             div.style.zIndex = 5000;\r\n             $(div).attr('class', `multi-bts-click-unhit multi-bts-click-${this._btsId}`);\r\n             $(div).attr('data-open-status', 'close');\r\n             div.style.display = 'inline-block';\r\n             let maxCredibility = this._credibility;\r\n             let maxHitTimes = this._hitTimes;\r\n             let maxDlHitTimes = this._dlHitTimes;\r\n             //生成子基站内置html\r\n             let childBtsHTML = '';\r\n             if(this._childBts.length > 0) {\r\n                for(let i = 0; i < this._childBts.length; i++) {\r\n                    let childBts = this._childBts[i];\r\n                    let childBtsCredibilityColor = \"#666666\";\r\n                    switch(childBts.credibility) {\r\n                        case 1:\r\n                            //省厅准确基站表\r\n                            childBtsCredibilityColor = \"#36B21D\";\r\n                            break;\r\n                        case 2:\r\n                            //enodeb表\r\n                            childBtsCredibilityColor = \"#FFD800\";\r\n                            break;\r\n                        case 3:\r\n                            //手动上报的基站表\r\n                            childBtsCredibilityColor = \"#2588B4\";\r\n                            break;\r\n                        case 4:\r\n                            //TA上报的基站表\r\n                            childBtsCredibilityColor = \"#648DA0\";\r\n                            break;\r\n                        case 5:\r\n                            //计算后的基站表\r\n                            childBtsCredibilityColor = \"#CC25E0\";\r\n                            break;\r\n                        default:\r\n                            break;    \r\n                    }\r\n                    if(maxCredibility > childBts.credibility) {\r\n                        maxCredibility = childBts.credibility;\r\n                    }\r\n                    let childBtsImg = '';\r\n                    let childBtsHitStatus = '';\r\n                    let childBtsHitGray = '';\r\n                    let childHitTimesValue = '';\r\n                    if (childBts.hitTimes == 0 || childBts.hitTimes == null) {\r\n                        childBtsImg = 'btsicon'; // 默认图片为蓝色\r\n                        childBtsHitStatus = 'bts-img-unhit';\r\n                        childBtsHitGray = 'gray-cover'\r\n                    } else {\r\n                        childBtsImg = 'btsiconhit'; // 命中后图片为红色\r\n                        childHitTimesValue = childBts.hitTimes;\r\n                        //以hitTimes最大值基站优先级最高\r\n                        if(maxHitTimes < childBts.hitTimes) {\r\n                            maxHitTimes = childBts.hitTimes;\r\n                            maxDlHitTimes = childBts.dlHitTimes;\r\n                        }\r\n                    }\r\n                    let childDlHitTimesValue = '';\r\n                    if (childBts.dlHitTimes == 0 || childBts.dlHitTimes == null) {\r\n                    } else {\r\n                        childBtsImg = 'btsiconhit'; // 命中后图片为红色\r\n                        childBtsHitStatus = '';\r\n                        childBtsHitGray = '';\r\n                        childDlHitTimesValue = childBts.dlHitTimes;\r\n                    }\r\n                    childBtsHTML += `\r\n                    <div class=\"multi-sub-bts bts-click-unhit multi-sub-bts-click-${childBts.btsId}\" data-open-status=\"close\" style=\"display:block;left:6px;position:relative;top:8px;width:100px;height:100px\">\r\n                        <!--基站图片-->\r\n                        <img class=\"multi-sub-bts-img bts-img-${childBts.btsId} ${childBtsHitStatus} ${childBtsHitGray}\" source-color=\"${childBtsCredibilityColor}\" data-bts-mode=\"${childBts.mode}\" data-bts-id=\"${childBts.btsId}\"  data-bts-repetition=\"${childBtsImg}\" src=\"img/btsicon/${childBtsImg}-${childBts.mode}.png\">\r\n                        <div class=\"multi-sub-bts-hit-count multi-sub-bts-hit-count-${childBts.btsId}\" data-bts-id=\"${childBts.btsId}\">${(childHitTimesValue == '' && childDlHitTimesValue == \"\") ? \"\" : (childHitTimesValue == \"\" ? 0 : childHitTimesValue) + \"/\" + (childDlHitTimesValue == \"\" ? 0 : childDlHitTimesValue)}</div>\r\n                        <div class=\"multi-sub-bts-hit-count-shadow multi-sub-bts-hit-count-shadow-${childBts.btsId}\"></div>\r\n                        <div class=\"multi-sub-bts-credibility\" style=\"background:${childBtsCredibilityColor}\"></div>\r\n                        <img class=\"multi-sub-bts-active-img multi-sub-active-img-${childBts.btsId}\" src=\"img/icon/activeImg.png\">\r\n                        <div class=\"multi-sub-bts-ci\">${childBts.btsId.split(\"-\")[3]}</div>\r\n                        <div class=\"add-bts-hit-effection hot-id-${childBts.btsId}\"></div>\r\n                        <!--选中框-->\r\n                        <div class=\"multi-sub-bts-selectedCircle multi-sub-bts-selectedCircle-${childBts.btsId}\" style=\"display:none;\"></div>\r\n                        <!--基站获取数值-->\r\n                        <div style=\"z-index:9000;\" class=\"multi-sub-bts-value bts-value-${childBts.btsId}\" style=\"display:none;\">${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsTag(childBts.mode, childBts.mcc, childBts.mnc, childBts.lacTac, childBts.sid, childBts.nid, childBts.bid, childBts.cellId)}</div>\r\n                        <!--基站信息框-->\r\n                        <div style=\"z-index:9000;\" class=\"multi-sub-bts-info-panel multi-sub-bts-info-panel-${childBts.btsId}\" style=\"display:none;\">\r\n                            <div class=\"multi-sub-bts-info-panel-close multi-sub-bts-info-panel-close-${childBts.btsId}\" data-bts-id=\"${childBts.btsId}\">\r\n                                <span class=\"glyphicon iconfont icon-close\"></span>\r\n                            </div>\r\n                            <div class=\"bts-info-panel-decoration\"></div>\r\n                            <img class=\"bts-name-icon\" src=\"img/${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsNameIcon(childBts.mnc)}.png\">\r\n                            <span class=\"bts-name\">${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsName(childBts.mnc)}&nbsp;${childBts.mode.toUpperCase()}</span>\r\n                            <span class=\"bts-identifier\">基站标识：${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsTag(childBts.mode, childBts.mcc, childBts.mnc, childBts.lacTac,childBts.sid, childBts.nid, childBts.bid, childBts.cellId)}</span>\r\n                            <span class=\"bts-range\">覆盖范围：${childBts.radius}m</span>\r\n                            <button class=\"myCosButton-inner show-range-button show-range-button-${childBts.btsId}\" data-bts-id=\"${childBts.btsId}\" data-open-status=\"close\">显示半径</button>\r\n                        </div>\r\n                    </div>\r\n                        `;\r\n                }\r\n             }\r\n             let btsCredibilityColor = \"#666666\";\r\n             switch(maxCredibility) {\r\n                case 1:\r\n                    //省厅准确基站表\r\n                    btsCredibilityColor = \"#36B21D\";\r\n                    break;\r\n                case 2:\r\n                    //enodeb表\r\n                    btsCredibilityColor = \"#FFD800\";\r\n                    break;\r\n                case 3:\r\n                    //手动上报的基站表\r\n                    btsCredibilityColor = \"#2588B4\";\r\n                    break;\r\n                case 4:\r\n                    //TA上报的基站表\r\n                    btsCredibilityColor = \"#648DA0\";\r\n                    break;\r\n                case 5:\r\n                    //计算后的基站表\r\n                    btsCredibilityColor = \"#CC25E0\";\r\n                    break;\r\n                default:\r\n                    break;    \r\n            }\r\n             let btsImg = '';\r\n             let btsHitStatus = '';\r\n             let btsHitGray = '';\r\n             let hitTimesValue = '';\r\n             if (maxHitTimes == 0 || maxHitTimes == null) {\r\n                 btsImg = 'btsicon'; // 默认图片为蓝色\r\n                 btsHitStatus = 'bts-img-unhit';\r\n                 btsHitGray = 'gray-cover'\r\n             } else {\r\n                 btsImg = 'btsiconhit'; // 命中后图片为红色\r\n                 hitTimesValue = maxHitTimes;\r\n             }\r\n             let dlHitTimesValue = '';\r\n             if (maxDlHitTimes == 0 || maxDlHitTimes == null) {\r\n             } else {\r\n                 btsImg = 'btsiconhit'; // 命中后图片为红色\r\n                 dlHitTimesValue = maxDlHitTimes;\r\n             }\r\n             div.innerHTML = `\r\n                 <!--基站图片-->\r\n                 <img class=\"multi-bts-img multi-bts-img-${this._btsId} ${btsHitStatus} ${btsHitGray}\" data-bts-mode=\"${this._mode}\" data-bts-id=\"${this._btsId}\" src=\"img/multibtsicon/${btsImg}-${this._mode}.png\">\r\n                 <!--<img class=\"multi-bts-img multi-bts-img-${this._btsId} ${btsHitStatus} ${btsHitGray}\" btsicontarget-sum=\"0\"  btsicon-sum=\"0\" source-color=\"${btsCredibilityColor}\" style=\"z-index:6050;height: 42px;left: -29px;top: -38px;cursor: pointer;\"  data-bts-mode=\"${this._mode}\" data-bts-id=\"${this._btsId}\" src=\"img/multibtsicon/${btsImg}-${this._mode}.png\">-->\r\n                 <div class=\"multi-bts-hit-count multi-bts-hit-count-${this._btsId}\" data-bts-id=\"${this._btsId}\"></div>\r\n                 <div class=\"multi-bts-hit-count-shadow multi-bts-hit-count-shadow-${this._btsId}\"></div>\r\n                 <div class=\"multi-bts-credibility\" style=\"background:${btsCredibilityColor}\"></div>\r\n                 <img class=\"multi-bts-active-img multi-bts-active-img-${this._btsId}\" src=\"img/icon/activeImg.png\">\r\n                 <!--选中框-->\r\n                 <div class=\"multi-bts-selectedCircle multi-bts-selectedCircle-${this._btsId}\" style=\"display:none;\"></div>\r\n                 <!--基站获取数值-->\r\n                 <div style=\"z-index:8000;\" class=\"bts-value bts-value-${this._btsId}\" style=\"display:none;\">${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsTag(this._mode, this._mcc, this._mnc, this._lacTac, this._sid, this._nid, this._bid, this._cellId)}</div>\r\n                 <!--基站信息框-->\r\n                 <div style=\"z-index:8000;display:none;\" class=\"multi-bts-info-panel multi-bts-info-panel-${this._btsId}\"  data-open-status=\"close\">\r\n                    <div style=\"display: flex;background: #fff;position: absolute;left:-128px;top: -190px;  border-radius: 5px;box-shadow:0px 0px 20px 4px #ccc;height:140px;padding-right: 32px;padding-top:10px;z-index:6100\">\r\n                    <div class=\"multi-bts-info-panel-close multi-bts-info-panel-close-${this._btsId}\" data-bts-id=\"${this._btsId}\">\r\n                        <span class=\"icon-close\"></span>\r\n                    </div>\r\n                        ${childBtsHTML}\r\n                    <div class=\"bts-info-panel-decoration\" style=\"border-top:10px solid #fff;left:50%;top:100%\"></div>\r\n                 </div>   \r\n                `;\r\n                /** \r\n            div.innerHTML = `\r\n                <!--基站图片-->\r\n                <img class=\"bts-img bts-img-${this._btsId} ${btsHitStatus} ${btsHitGray}\" data-bts-mode=\"${this._mode}\" data-bts-id=\"${this._btsId}\" src=\"img/btsicon/${btsImg}-${this._mode}.png\">\r\n                <div class=\"bts-hit-count bts-hit-count-${this._btsId}\" data-bts-id=\"${this._btsId}\">${(hitTimesValue == '' && dlHitTimesValue == \"\") ? \"\" : (hitTimesValue == \"\" ? 0 : hitTimesValue) + \"/\" + (dlHitTimesValue == \"\" ? 0 : dlHitTimesValue)}</div>\r\n                <div class=\"bts-hit-count-shadow bts-hit-count-shadow-${this._btsId}\"></div>\r\n                <div class=\"bts-credibility\" style=\"background:${btsCredibilityColor}\"></div>\r\n                <!--选中框-->\r\n                <div class=\"bts-selectedCircle bts-selectedCircle-${this._btsId}\" style=\"display:none;\"></div>\r\n                <!--基站获取数值-->\r\n                <div style=\"z-index:8000;\" class=\"bts-value bts-value-${this._btsId}\" style=\"display:none;\">${BtsValue.btsTag(this._mode, this._mcc, this._mnc, this._lacTac, this._sid, this._nid, this._bid, this._cellId)}</div>\r\n                <!--基站信息框-->\r\n                <div style=\"z-index:8000;\" class=\"bts-info-panel bts-info-panel-${this._btsId}\" style=\"display:none;\">\r\n                    <div class=\"bts-info-panel-close bts-info-panel-close-${this._btsId}\" data-bts-id=\"${this._btsId}\">\r\n                        <span class=\"glyphicon iconfont icon-close\"></span>\r\n                    </div>\r\n                    <div class=\"bts-info-panel-decoration\"></div>\r\n                    <img class=\"bts-name-icon\" src=\"img/${BtsValue.btsNameIcon(this._mnc)}.png\">\r\n                    <span class=\"bts-name\">${BtsValue.btsName(this._mnc)}&nbsp;${this._mode.toUpperCase()}</span>\r\n                    <span class=\"bts-identifier\">基站标识：${BtsValue.btsTag(this._mode, this._mcc, this._mnc, this._lacTac, this._sid, this._nid, this._bid, this._cellId)}</span>\r\n                    <span class=\"bts-range\">覆盖范围：${this._radius}m</span>\r\n                    <button class=\"myCosButton-inner show-range-button show-range-button-${this._btsId}\" data-bts-id=\"${this._btsId}\" data-open-status=\"close\">显示半径</button>\r\n                </div>\r\n            `;*/\r\n             /* 将div添加到覆盖物容器中 */\r\n             map.getPanes().labelPane.appendChild(div);\r\n             /* 保存div实例 */\r\n             this._div = div;\r\n             /* 需要将div元素作为方法的返回值 */\r\n             return div;\r\n         }\r\n          /* 绘制覆盖物,实现绘制方法 */\r\n          BtsDivOverlay.prototype.draw = function () {\r\n             /* 根据地理坐标转换为像素坐标，并设置给容器 */\r\n             let position = this._map.pointToOverlayPixel(this._point);\r\n             this._div.style.left = position.x + 'px';\r\n             this._div.style.top = position.y + 'px';\r\n         }\r\n         return new BtsDivOverlay(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId, hitTimes, dlHitTimes, childBts, credibility);        \r\n    }\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = MultiBtsOverlayConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9NdWx0aUJ0c092ZXJsYXlDb25zdHJ1Y3Rvci5qcz9hNjg2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBeUU7QUFDM0I7O0FBRXZDOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELFlBQVk7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBLGFBQWE7QUFDYixzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFlBQVksR0FBRyxhQUFhLEdBQUcsV0FBVyxtQkFBbUIsV0FBVyxpQkFBaUIsWUFBWSxxQkFBcUIsT0FBTyxHQUFHLFdBQVc7QUFDN0wsMERBQTBELFlBQVksaUJBQWlCLFlBQVksSUFBSSxzSkFBc0o7QUFDN1Asd0VBQXdFLFlBQVk7QUFDcEYsaUVBQWlFLG9CQUFvQjtBQUNyRiw0REFBNEQsWUFBWTtBQUN4RTtBQUNBLG9FQUFvRSxZQUFZLHNCQUFzQjtBQUN0RztBQUNBLHlDQUF5QywrQkFBK0IsWUFBWSxzQkFBc0IsSUFBSSxrRUFBUSx1R0FBdUc7QUFDN047QUFDQSx5Q0FBeUMseUNBQXlDLFlBQVksc0JBQXNCO0FBQ3BILDRFQUE0RSxZQUFZLGlCQUFpQixZQUFZO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxrRUFBUSx3QkFBd0I7QUFDMUYsNkNBQTZDLGtFQUFRLG9CQUFvQixNQUFNLEVBQUUseUJBQXlCO0FBQzFHLHdEQUF3RCxrRUFBUSx1R0FBdUc7QUFDdkssbURBQW1ELGFBQWE7QUFDaEUsMkZBQTJGLFlBQVksaUJBQWlCLFlBQVk7QUFDcEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsWUFBWTtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDJCQUEyQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRkFBb0YsZUFBZSxnREFBZ0QsU0FBUyxrQkFBa0IsUUFBUSxZQUFZO0FBQ2xNO0FBQ0EsZ0VBQWdFLGVBQWUsR0FBRyxrQkFBa0IsR0FBRyxnQkFBZ0Isa0JBQWtCLHlCQUF5QixtQkFBbUIsY0FBYyxpQkFBaUIsZUFBZSwwQkFBMEIsWUFBWSxxQkFBcUIsWUFBWSxHQUFHLGNBQWM7QUFDM1Qsc0ZBQXNGLGVBQWUsaUJBQWlCLGVBQWUsSUFBSSxvTEFBb0w7QUFDN1Qsb0dBQW9HLGVBQWU7QUFDbkgsbUZBQW1GLHlCQUF5QjtBQUM1RyxvRkFBb0YsZUFBZTtBQUNuRyx3REFBd0QsNkJBQTZCO0FBQ3JGLG1FQUFtRSxlQUFlO0FBQ2xGO0FBQ0EsZ0dBQWdHLGVBQWUsc0JBQXNCO0FBQ3JJO0FBQ0EsaURBQWlELHlDQUF5QyxlQUFlLHNCQUFzQixJQUFJLGtFQUFRLCtIQUErSDtBQUMxUTtBQUNBLGlEQUFpRCw2REFBNkQsZUFBZSxzQkFBc0I7QUFDbkosd0dBQXdHLGVBQWUsaUJBQWlCLGVBQWU7QUFDdko7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLGtFQUFRLDJCQUEyQjtBQUNyRyxxREFBcUQsa0VBQVEsdUJBQXVCLE1BQU0sRUFBRSw0QkFBNEI7QUFDeEgsZ0VBQWdFLGtFQUFRLDhIQUE4SDtBQUN0TSwyREFBMkQsZ0JBQWdCO0FBQzNFLG1HQUFtRyxlQUFlLGlCQUFpQixlQUFlO0FBQ2xKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBLGNBQWM7QUFDZCx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELFlBQVksR0FBRyxhQUFhLEdBQUcsV0FBVyxtQkFBbUIsV0FBVyxpQkFBaUIsWUFBWSwwQkFBMEIsT0FBTyxHQUFHLFdBQVc7QUFDL00sK0RBQStELFlBQVksR0FBRyxhQUFhLEdBQUcsV0FBVyx5REFBeUQsb0JBQW9CLHNCQUFzQixhQUFhLFlBQVksV0FBVyxnQkFBZ0Isb0JBQW9CLFdBQVcsaUJBQWlCLFlBQVksMEJBQTBCLE9BQU8sR0FBRyxXQUFXO0FBQzNXLHVFQUF1RSxZQUFZLGlCQUFpQixZQUFZO0FBQ2hILHFGQUFxRixZQUFZO0FBQ2pHLHdFQUF3RSxvQkFBb0I7QUFDNUYseUVBQXlFLFlBQVk7QUFDckY7QUFDQSxpRkFBaUYsWUFBWSxzQkFBc0I7QUFDbkg7QUFDQSwwQ0FBMEMsK0JBQStCLFlBQVksc0JBQXNCLElBQUksa0VBQVEsdUdBQXVHO0FBQzlOO0FBQ0EsMENBQTBDLGFBQWEscURBQXFELFlBQVk7QUFDeEgsOENBQThDLGlCQUFpQixtQkFBbUIsWUFBWSxZQUFZLHFCQUFxQixpQ0FBaUMsYUFBYSxvQkFBb0IsaUJBQWlCO0FBQ2xOLHdGQUF3RixZQUFZLGlCQUFpQixZQUFZO0FBQ2pJO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsNkZBQTZGLFNBQVM7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxZQUFZLEdBQUcsYUFBYSxHQUFHLFdBQVcsbUJBQW1CLFdBQVcsaUJBQWlCLFlBQVkscUJBQXFCLE9BQU8sR0FBRyxXQUFXO0FBQzdMLDBEQUEwRCxZQUFZLGlCQUFpQixZQUFZLElBQUksc0pBQXNKO0FBQzdQLHdFQUF3RSxZQUFZO0FBQ3BGLGlFQUFpRSxvQkFBb0I7QUFDckY7QUFDQSxvRUFBb0UsWUFBWSxzQkFBc0I7QUFDdEc7QUFDQSx5Q0FBeUMsK0JBQStCLFlBQVksc0JBQXNCLElBQUksK0dBQStHO0FBQzdOO0FBQ0EseUNBQXlDLHlDQUF5QyxZQUFZLHNCQUFzQjtBQUNwSCw0RUFBNEUsWUFBWSxpQkFBaUIsWUFBWTtBQUNySDtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsZ0NBQWdDO0FBQzFGLDZDQUE2Qyw0QkFBNEIsTUFBTSxFQUFFLHlCQUF5QjtBQUMxRyx3REFBd0QsK0dBQStHO0FBQ3ZLLG1EQUFtRCxhQUFhO0FBQ2hFLDJGQUEyRixZQUFZLGlCQUFpQixZQUFZO0FBQ3BJO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvSjtBQUNBO0FBQ0EsQyIsImZpbGUiOiI0NS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhaWR1TWFwSW5pdCB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9iYWlkdU1hcC9Jbml0LkJhaWR1TWFwLmpzJztcclxuaW1wb3J0IHsgQnRzVmFsdWUgfSBmcm9tICcuLi9idHMvQnRzVmFsdWUuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE11bHRpQnRzT3ZlcmxheUNvbnN0cnVjdG9yIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwb2ludCwgZGF0YSkge1xyXG4gICAgICAgIGxldCB0eXBlID0gZGF0YS50eXBlO1xyXG4gICAgICAgIGlmKHR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAvL+aZrumAmuWfuuermVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kcmF3Tm9ybWFsQnRzKHBvaW50LCBkYXRhLm1jYywgZGF0YS5tbmMsIGRhdGEubW9kZSwgZGF0YS5zaWQsIGRhdGEubmlkLCBkYXRhLmJpZCwgZGF0YS5sYWNUYWMsIGRhdGEucmFkaXVzLCBkYXRhLmNlbGxJZCwgZGF0YS5idHNJZCwgZGF0YS5oaXRUaW1lcywgZGF0YS5kbEhpdFRpbWVzLCBkYXRhLmNyZWRpYmlsaXR5KTtcclxuICAgICAgICB9ZWxzZSBpZih0eXBlID09IDIpIHtcclxuICAgICAgICAgICAgLy/lpI3lkIjln7rnq5lcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHJhd011bHRpQnRzKHBvaW50LCBkYXRhLm1jYywgZGF0YS5tbmMsIGRhdGEubW9kZSwgZGF0YS5zaWQsIGRhdGEubmlkLCBkYXRhLmJpZCwgZGF0YS5sYWNUYWMsIGRhdGEucmFkaXVzLCBkYXRhLmNlbGxJZCwgZGF0YS5idHNJZCwgZGF0YS5oaXRUaW1lcywgZGF0YS5kbEhpdFRpbWVzLCBkYXRhLmNoaWxkLCBkYXRhLmNyZWRpYmlsaXR5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOe7mOWItuaZrumAmuWfuuermVxyXG4gICAgICovXHJcbiAgICBkcmF3Tm9ybWFsQnRzKHBvaW50LCBtY2MsIG1uYywgbW9kZSwgc2lkLCBuaWQsIGJpZCwgbGFjVGFjLCByYWRpdXMsIGNlbGxJZCwgYnRzSWQsIGhpdFRpbWVzLCBkbEhpdFRpbWVzLCBjcmVkaWJpbGl0eSkge1xyXG4gICAgICAgICAvKiDoh6rlrprkuYnopobnm5bniannmoTmnoTpgKDlh73mlbAgKi9cclxuICAgICAgICAgZnVuY3Rpb24gQnRzRGl2T3ZlcmxheShwb2ludCwgbWNjLCBtbmMsIG1vZGUsIHNpZCwgbmlkLCBiaWQsIGxhY1RhYywgcmFkaXVzLCBjZWxsSWQsIGJ0c0lkLCBoaXRUaW1lcywgZGxIaXRUaW1lcywgY3JlZGliaWxpdHkpIHtcclxuICAgICAgICAgICAgdGhpcy5fcG9pbnQgPSBwb2ludDtcclxuICAgICAgICAgICAgdGhpcy5fbWNjID0gbWNjO1xyXG4gICAgICAgICAgICB0aGlzLl9tbmMgPSBtbmM7XHJcbiAgICAgICAgICAgIHRoaXMuX21vZGUgPSBtb2RlO1xyXG4gICAgICAgICAgICB0aGlzLl9zaWQgPSBzaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX25pZCA9IG5pZDtcclxuICAgICAgICAgICAgdGhpcy5fYmlkID0gYmlkO1xyXG4gICAgICAgICAgICB0aGlzLl9sYWNUYWMgPSBsYWNUYWM7XHJcbiAgICAgICAgICAgIHRoaXMuX3JhZGl1cyA9IHJhZGl1cztcclxuICAgICAgICAgICAgdGhpcy5fY2VsbElkID0gY2VsbElkO1xyXG4gICAgICAgICAgICB0aGlzLl9idHNJZCA9IGJ0c0lkO1xyXG4gICAgICAgICAgICB0aGlzLl9oaXRUaW1lcyA9IGhpdFRpbWVzO1xyXG4gICAgICAgICAgICB0aGlzLl9kbEhpdFRpbWVzID0gZGxIaXRUaW1lcztcclxuICAgICAgICAgICAgdGhpcy5fY3JlZGliaWxpdHkgPSBjcmVkaWJpbGl0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyog57un5om/QVBJ55qEQk1hcC5PdmVybGF5ICovXHJcbiAgICAgICAgQnRzRGl2T3ZlcmxheS5wcm90b3R5cGUgPSBuZXcgQk1hcC5PdmVybGF5KCk7XHJcbiAgICAgICAgLyog5a6e546w5Yid5aeL5YyW5pa55rOVICovXHJcbiAgICAgICAgQnRzRGl2T3ZlcmxheS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChtYXApIHtcclxuICAgICAgICAgICAgLyog5L+d5a2YbWFw5a+56LGh5a6e5L6LICovXHJcbiAgICAgICAgICAgIHRoaXMuX21hcCA9IG1hcDtcclxuICAgICAgICAgICAgLyog5Yib5bu6ZGl25YWD57Sg77yM5L2c5Li66Ieq5a6a5LmJ6KaG55uW54mp55qE5a655ZmoICovXHJcbiAgICAgICAgICAgIGxldCBkaXYgPSB0aGlzLl9kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgbGV0IGJ0c0NyZWRpYmlsaXR5Q29sb3IgPSBcIiM2NjY2NjZcIjtcclxuICAgICAgICAgICAgc3dpdGNoKHRoaXMuX2NyZWRpYmlsaXR5KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgLy/nnIHljoXlh4bnoa7ln7rnq5nooahcclxuICAgICAgICAgICAgICAgICAgICBidHNDcmVkaWJpbGl0eUNvbG9yID0gXCIjMzZCMjFEXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lbm9kZWLooahcclxuICAgICAgICAgICAgICAgICAgICBidHNDcmVkaWJpbGl0eUNvbG9yID0gXCIjRkZEODAwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgLy/miYvliqjkuIrmiqXnmoTln7rnq5nooahcclxuICAgICAgICAgICAgICAgICAgICBidHNDcmVkaWJpbGl0eUNvbG9yID0gXCIjMjU4OEI0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgLy9UQeS4iuaKpeeahOWfuuermeihqFxyXG4gICAgICAgICAgICAgICAgICAgIGJ0c0NyZWRpYmlsaXR5Q29sb3IgPSBcIiM2NDhEQTBcIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAvL+iuoeeul+WQjueahOWfuuermeihqFxyXG4gICAgICAgICAgICAgICAgICAgIGJ0c0NyZWRpYmlsaXR5Q29sb3IgPSBcIiNDQzI1RTBcIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7ICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSA1MDAwO1xyXG4gICAgICAgICAgICAkKGRpdikuYXR0cignY2xhc3MnLCBgYnRzLWNsaWNrLXVuaGl0IGJ0cy1jbGljay0ke3RoaXMuX2J0c0lkfWApO1xyXG4gICAgICAgICAgICAkKGRpdikuYXR0cignZGF0YS1vcGVuLXN0YXR1cycsICdjbG9zZScpO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG4gICAgICAgICAgICBsZXQgYnRzSW1nID0gJyc7XHJcbiAgICAgICAgICAgIGxldCBidHNIaXRTdGF0dXMgPSAnJztcclxuICAgICAgICAgICAgbGV0IGJ0c0hpdEdyYXkgPSAnJztcclxuICAgICAgICAgICAgbGV0IGhpdFRpbWVzVmFsdWUgPSAnJztcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2hpdFRpbWVzID09IDAgfHwgdGhpcy5faGl0VGltZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYnRzSW1nID0gJ2J0c2ljb24nOyAvLyDpu5jorqTlm77niYfkuLrok53oibJcclxuICAgICAgICAgICAgICAgIGJ0c0hpdFN0YXR1cyA9ICdidHMtaW1nLXVuaGl0JztcclxuICAgICAgICAgICAgICAgIGJ0c0hpdEdyYXkgPSAnZ3JheS1jb3ZlcidcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJ0c0ltZyA9ICdidHNpY29uaGl0JzsgLy8g5ZG95Lit5ZCO5Zu+54mH5Li657qi6ImyXHJcbiAgICAgICAgICAgICAgICBoaXRUaW1lc1ZhbHVlID0gdGhpcy5faGl0VGltZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGRsSGl0VGltZXNWYWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGxIaXRUaW1lcyA9PSAwIHx8IHRoaXMuX2RsSGl0VGltZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnRzSW1nID0gJ2J0c2ljb25oaXQnOyAvLyDlkb3kuK3lkI7lm77niYfkuLrnuqLoibJcclxuICAgICAgICAgICAgICAgIGRsSGl0VGltZXNWYWx1ZSA9IHRoaXMuX2RsSGl0VGltZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgIDwhLS3ln7rnq5nlm77niYctLT5cclxuICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJidHMtaW1nIGJ0cy1pbWctJHt0aGlzLl9idHNJZH0gJHtidHNIaXRTdGF0dXN9ICR7YnRzSGl0R3JheX1cIiBkYXRhLWJ0cy1tb2RlPVwiJHt0aGlzLl9tb2RlfVwiIGRhdGEtYnRzLWlkPVwiJHt0aGlzLl9idHNJZH1cIiBzcmM9XCJpbWcvYnRzaWNvbi8ke2J0c0ltZ30tJHt0aGlzLl9tb2RlfS5wbmdcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidHMtaGl0LWNvdW50IGJ0cy1oaXQtY291bnQtJHt0aGlzLl9idHNJZH1cIiBkYXRhLWJ0cy1pZD1cIiR7dGhpcy5fYnRzSWR9XCI+JHsoaGl0VGltZXNWYWx1ZSA9PSAnJyAmJiBkbEhpdFRpbWVzVmFsdWUgPT0gXCJcIikgPyBcIlwiIDogKGhpdFRpbWVzVmFsdWUgPT0gXCJcIiA/IDAgOiBoaXRUaW1lc1ZhbHVlKSArIFwiL1wiICsgKGRsSGl0VGltZXNWYWx1ZSA9PSBcIlwiID8gMCA6IGRsSGl0VGltZXNWYWx1ZSl9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRzLWhpdC1jb3VudC1zaGFkb3cgYnRzLWhpdC1jb3VudC1zaGFkb3ctJHt0aGlzLl9idHNJZH1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidHMtY3JlZGliaWxpdHlcIiBzdHlsZT1cImJhY2tncm91bmQ6JHtidHNDcmVkaWJpbGl0eUNvbG9yfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImJ0cy1hY3RpdmUtaW1nIGJ0cy1hY3RpdmUtaW1nLSR7dGhpcy5fYnRzSWR9XCIgc3JjPVwiaW1nL2ljb24vYWN0aXZlSW1nLnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgPCEtLemAieS4reahhi0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0cy1zZWxlY3RlZENpcmNsZSBidHMtc2VsZWN0ZWRDaXJjbGUtJHt0aGlzLl9idHNJZH1cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwhLS3ln7rnq5nojrflj5bmlbDlgLwtLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ6LWluZGV4OjgwMDA7XCIgY2xhc3M9XCJidHMtdmFsdWUgYnRzLXZhbHVlLSR7dGhpcy5fYnRzSWR9XCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+JHtCdHNWYWx1ZS5idHNUYWcodGhpcy5fbW9kZSwgdGhpcy5fbWNjLCB0aGlzLl9tbmMsIHRoaXMuX2xhY1RhYywgdGhpcy5fc2lkLCB0aGlzLl9uaWQsIHRoaXMuX2JpZCwgdGhpcy5fY2VsbElkKX08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwhLS3ln7rnq5nkv6Hmga/moYYtLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ6LWluZGV4OjgwMDA7XCIgY2xhc3M9XCJidHMtaW5mby1wYW5lbCBidHMtaW5mby1wYW5lbC0ke3RoaXMuX2J0c0lkfVwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidHMtaW5mby1wYW5lbC1jbG9zZSBidHMtaW5mby1wYW5lbC1jbG9zZS0ke3RoaXMuX2J0c0lkfVwiIGRhdGEtYnRzLWlkPVwiJHt0aGlzLl9idHNJZH1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gaWNvbmZvbnQgaWNvbi1jbG9zZVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRzLWluZm8tcGFuZWwtZGVjb3JhdGlvblwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJidHMtbmFtZS1pY29uXCIgc3JjPVwiaW1nLyR7QnRzVmFsdWUuYnRzTmFtZUljb24odGhpcy5fbW5jKX0ucG5nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJidHMtbmFtZVwiPiR7QnRzVmFsdWUuYnRzTmFtZSh0aGlzLl9tbmMpfSZuYnNwOyR7dGhpcy5fbW9kZS50b1VwcGVyQ2FzZSgpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJ0cy1pZGVudGlmaWVyXCI+5Z+656uZ5qCH6K+G77yaJHtCdHNWYWx1ZS5idHNUYWcodGhpcy5fbW9kZSwgdGhpcy5fbWNjLCB0aGlzLl9tbmMsIHRoaXMuX2xhY1RhYywgdGhpcy5fc2lkLCB0aGlzLl9uaWQsIHRoaXMuX2JpZCwgdGhpcy5fY2VsbElkKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJidHMtcmFuZ2VcIj7opobnm5bojIPlm7TvvJoke3RoaXMuX3JhZGl1c31tPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJteUNvc0J1dHRvbi1pbm5lciBzaG93LXJhbmdlLWJ1dHRvbiBzaG93LXJhbmdlLWJ1dHRvbi0ke3RoaXMuX2J0c0lkfVwiIGRhdGEtYnRzLWlkPVwiJHt0aGlzLl9idHNJZH1cIiBkYXRhLW9wZW4tc3RhdHVzPVwiY2xvc2VcIj7mmL7npLrljYrlvoQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAvKiDlsIZkaXbmt7vliqDliLDopobnm5bnianlrrnlmajkuK0gKi9cclxuICAgICAgICAgICAgbWFwLmdldFBhbmVzKCkubGFiZWxQYW5lLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICAgIC8qIOS/neWtmGRpduWunuS+iyAqL1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYgPSBkaXY7XHJcbiAgICAgICAgICAgIC8qIOmcgOimgeWwhmRpduWFg+e0oOS9nOS4uuaWueazleeahOi/lOWbnuWAvCAqL1xyXG4gICAgICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgICAgIH1cclxuICAgICAgICAgLyog57uY5Yi26KaG55uW54mpLOWunueOsOe7mOWItuaWueazlSAqL1xyXG4gICAgICAgICBCdHNEaXZPdmVybGF5LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvKiDmoLnmja7lnLDnkIblnZDmoIfovazmjaLkuLrlg4/ntKDlnZDmoIfvvIzlubborr7nva7nu5nlrrnlmaggKi9cclxuICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gdGhpcy5fbWFwLnBvaW50VG9PdmVybGF5UGl4ZWwodGhpcy5fcG9pbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYuc3R5bGUubGVmdCA9IHBvc2l0aW9uLnggKyAncHgnO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYuc3R5bGUudG9wID0gcG9zaXRpb24ueSArICdweCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IEJ0c0Rpdk92ZXJsYXkocG9pbnQsIG1jYywgbW5jLCBtb2RlLCBzaWQsIG5pZCwgYmlkLCBsYWNUYWMsIHJhZGl1cywgY2VsbElkLCBidHNJZCwgaGl0VGltZXMsIGRsSGl0VGltZXMsIGNyZWRpYmlsaXR5KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog57uY5Yi25aSa5Z+656uZXHJcbiAgICAgKiDlpI3lkIjln7rnq5nlm77moIfliJnku6XlrZDln7rnq5nkvJjlhYjnuqfpobrluo/mmL7npLrnuqIo5bim54m55pWIKSAgIOe6oiAgIOeyiee6oiAgIOm7hCAgIOiTnSAgIOeBsFxyXG4gICAgICovXHJcbiAgICBkcmF3TXVsdGlCdHMocG9pbnQsIG1jYywgbW5jLCBtb2RlLCBzaWQsIG5pZCwgYmlkLCBsYWNUYWMsIHJhZGl1cywgY2VsbElkLCBidHNJZCwgaGl0VGltZXMsIGRsSGl0VGltZXMsIGNoaWxkQnRzLCBjcmVkaWJpbGl0eSkge1xyXG4gICAgICAgIGZ1bmN0aW9uIEJ0c0Rpdk92ZXJsYXkocG9pbnQsIG1jYywgbW5jLCBtb2RlLCBzaWQsIG5pZCwgYmlkLCBsYWNUYWMsIHJhZGl1cywgY2VsbElkLCBidHNJZCwgaGl0VGltZXMsIGRsSGl0VGltZXMsIGNoaWxkQnRzLCBjcmVkaWJpbGl0eSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wb2ludCA9IHBvaW50O1xyXG4gICAgICAgICAgICB0aGlzLl9tY2MgPSBtY2M7XHJcbiAgICAgICAgICAgIHRoaXMuX21uYyA9IG1uYztcclxuICAgICAgICAgICAgdGhpcy5fbW9kZSA9IG1vZGU7XHJcbiAgICAgICAgICAgIHRoaXMuX3NpZCA9IHNpZDtcclxuICAgICAgICAgICAgdGhpcy5fbmlkID0gbmlkO1xyXG4gICAgICAgICAgICB0aGlzLl9iaWQgPSBiaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2xhY1RhYyA9IGxhY1RhYztcclxuICAgICAgICAgICAgdGhpcy5fcmFkaXVzID0gcmFkaXVzO1xyXG4gICAgICAgICAgICB0aGlzLl9jZWxsSWQgPSBjZWxsSWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2J0c0lkID0gYnRzSWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpdFRpbWVzID0gaGl0VGltZXM7XHJcbiAgICAgICAgICAgIHRoaXMuX2RsSGl0VGltZXMgPSBkbEhpdFRpbWVzO1xyXG4gICAgICAgICAgICB0aGlzLl9jaGlsZEJ0cyA9IGNoaWxkQnRzO1xyXG4gICAgICAgICAgICB0aGlzLl9jcmVkaWJpbGl0eSA9IGNyZWRpYmlsaXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICAgLyog57un5om/QVBJ55qEQk1hcC5PdmVybGF5ICovXHJcbiAgICAgICAgIEJ0c0Rpdk92ZXJsYXkucHJvdG90eXBlID0gbmV3IEJNYXAuT3ZlcmxheSgpO1xyXG4gICAgICAgICAvKiDlrp7njrDliJ3lp4vljJbmlrnms5UgKi9cclxuICAgICAgICAgQnRzRGl2T3ZlcmxheS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChtYXApIHtcclxuICAgICAgICAgICAgIC8qIOS/neWtmG1hcOWvueixoeWunuS+iyAqL1xyXG4gICAgICAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xyXG4gICAgICAgICAgICAgLyog5Yib5bu6ZGl25YWD57Sg77yM5L2c5Li66Ieq5a6a5LmJ6KaG55uW54mp55qE5a655ZmoICovXHJcbiAgICAgICAgICAgICBsZXQgZGl2ID0gdGhpcy5fZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IDUwMDA7XHJcbiAgICAgICAgICAgICAkKGRpdikuYXR0cignY2xhc3MnLCBgbXVsdGktYnRzLWNsaWNrLXVuaGl0IG11bHRpLWJ0cy1jbGljay0ke3RoaXMuX2J0c0lkfWApO1xyXG4gICAgICAgICAgICAgJChkaXYpLmF0dHIoJ2RhdGEtb3Blbi1zdGF0dXMnLCAnY2xvc2UnKTtcclxuICAgICAgICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XHJcbiAgICAgICAgICAgICBsZXQgbWF4Q3JlZGliaWxpdHkgPSB0aGlzLl9jcmVkaWJpbGl0eTtcclxuICAgICAgICAgICAgIGxldCBtYXhIaXRUaW1lcyA9IHRoaXMuX2hpdFRpbWVzO1xyXG4gICAgICAgICAgICAgbGV0IG1heERsSGl0VGltZXMgPSB0aGlzLl9kbEhpdFRpbWVzO1xyXG4gICAgICAgICAgICAgLy/nlJ/miJDlrZDln7rnq5nlhoXnva5odG1sXHJcbiAgICAgICAgICAgICBsZXQgY2hpbGRCdHNIVE1MID0gJyc7XHJcbiAgICAgICAgICAgICBpZih0aGlzLl9jaGlsZEJ0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5fY2hpbGRCdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRCdHMgPSB0aGlzLl9jaGlsZEJ0c1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRCdHNDcmVkaWJpbGl0eUNvbG9yID0gXCIjNjY2NjY2XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKGNoaWxkQnRzLmNyZWRpYmlsaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v55yB5Y6F5YeG56Gu5Z+656uZ6KGoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZEJ0c0NyZWRpYmlsaXR5Q29sb3IgPSBcIiMzNkIyMURcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Vub2RlYuihqFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRCdHNDcmVkaWJpbGl0eUNvbG9yID0gXCIjRkZEODAwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/miYvliqjkuIrmiqXnmoTln7rnq5nooahcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkQnRzQ3JlZGliaWxpdHlDb2xvciA9IFwiIzI1ODhCNFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVEHkuIrmiqXnmoTln7rnq5nooahcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkQnRzQ3JlZGliaWxpdHlDb2xvciA9IFwiIzY0OERBMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6K6h566X5ZCO55qE5Z+656uZ6KGoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZEJ0c0NyZWRpYmlsaXR5Q29sb3IgPSBcIiNDQzI1RTBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7ICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZihtYXhDcmVkaWJpbGl0eSA+IGNoaWxkQnRzLmNyZWRpYmlsaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heENyZWRpYmlsaXR5ID0gY2hpbGRCdHMuY3JlZGliaWxpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZEJ0c0ltZyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZEJ0c0hpdFN0YXR1cyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZEJ0c0hpdEdyYXkgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRIaXRUaW1lc1ZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkQnRzLmhpdFRpbWVzID09IDAgfHwgY2hpbGRCdHMuaGl0VGltZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZEJ0c0ltZyA9ICdidHNpY29uJzsgLy8g6buY6K6k5Zu+54mH5Li66JOd6ImyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkQnRzSGl0U3RhdHVzID0gJ2J0cy1pbWctdW5oaXQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZEJ0c0hpdEdyYXkgPSAnZ3JheS1jb3ZlcidcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZEJ0c0ltZyA9ICdidHNpY29uaGl0JzsgLy8g5ZG95Lit5ZCO5Zu+54mH5Li657qi6ImyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkSGl0VGltZXNWYWx1ZSA9IGNoaWxkQnRzLmhpdFRpbWVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+S7pWhpdFRpbWVz5pyA5aSn5YC85Z+656uZ5LyY5YWI57qn5pyA6auYXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG1heEhpdFRpbWVzIDwgY2hpbGRCdHMuaGl0VGltZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEhpdFRpbWVzID0gY2hpbGRCdHMuaGl0VGltZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhEbEhpdFRpbWVzID0gY2hpbGRCdHMuZGxIaXRUaW1lcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGREbEhpdFRpbWVzVmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRCdHMuZGxIaXRUaW1lcyA9PSAwIHx8IGNoaWxkQnRzLmRsSGl0VGltZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkQnRzSW1nID0gJ2J0c2ljb25oaXQnOyAvLyDlkb3kuK3lkI7lm77niYfkuLrnuqLoibJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRCdHNIaXRTdGF0dXMgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRCdHNIaXRHcmF5ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkRGxIaXRUaW1lc1ZhbHVlID0gY2hpbGRCdHMuZGxIaXRUaW1lcztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRCdHNIVE1MICs9IGBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXVsdGktc3ViLWJ0cyBidHMtY2xpY2stdW5oaXQgbXVsdGktc3ViLWJ0cy1jbGljay0ke2NoaWxkQnRzLmJ0c0lkfVwiIGRhdGEtb3Blbi1zdGF0dXM9XCJjbG9zZVwiIHN0eWxlPVwiZGlzcGxheTpibG9jaztsZWZ0OjZweDtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6OHB4O3dpZHRoOjEwMHB4O2hlaWdodDoxMDBweFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0t5Z+656uZ5Zu+54mHLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJtdWx0aS1zdWItYnRzLWltZyBidHMtaW1nLSR7Y2hpbGRCdHMuYnRzSWR9ICR7Y2hpbGRCdHNIaXRTdGF0dXN9ICR7Y2hpbGRCdHNIaXRHcmF5fVwiIHNvdXJjZS1jb2xvcj1cIiR7Y2hpbGRCdHNDcmVkaWJpbGl0eUNvbG9yfVwiIGRhdGEtYnRzLW1vZGU9XCIke2NoaWxkQnRzLm1vZGV9XCIgZGF0YS1idHMtaWQ9XCIke2NoaWxkQnRzLmJ0c0lkfVwiICBkYXRhLWJ0cy1yZXBldGl0aW9uPVwiJHtjaGlsZEJ0c0ltZ31cIiBzcmM9XCJpbWcvYnRzaWNvbi8ke2NoaWxkQnRzSW1nfS0ke2NoaWxkQnRzLm1vZGV9LnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXVsdGktc3ViLWJ0cy1oaXQtY291bnQgbXVsdGktc3ViLWJ0cy1oaXQtY291bnQtJHtjaGlsZEJ0cy5idHNJZH1cIiBkYXRhLWJ0cy1pZD1cIiR7Y2hpbGRCdHMuYnRzSWR9XCI+JHsoY2hpbGRIaXRUaW1lc1ZhbHVlID09ICcnICYmIGNoaWxkRGxIaXRUaW1lc1ZhbHVlID09IFwiXCIpID8gXCJcIiA6IChjaGlsZEhpdFRpbWVzVmFsdWUgPT0gXCJcIiA/IDAgOiBjaGlsZEhpdFRpbWVzVmFsdWUpICsgXCIvXCIgKyAoY2hpbGREbEhpdFRpbWVzVmFsdWUgPT0gXCJcIiA/IDAgOiBjaGlsZERsSGl0VGltZXNWYWx1ZSl9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdWx0aS1zdWItYnRzLWhpdC1jb3VudC1zaGFkb3cgbXVsdGktc3ViLWJ0cy1oaXQtY291bnQtc2hhZG93LSR7Y2hpbGRCdHMuYnRzSWR9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdWx0aS1zdWItYnRzLWNyZWRpYmlsaXR5XCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiR7Y2hpbGRCdHNDcmVkaWJpbGl0eUNvbG9yfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwibXVsdGktc3ViLWJ0cy1hY3RpdmUtaW1nIG11bHRpLXN1Yi1hY3RpdmUtaW1nLSR7Y2hpbGRCdHMuYnRzSWR9XCIgc3JjPVwiaW1nL2ljb24vYWN0aXZlSW1nLnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXVsdGktc3ViLWJ0cy1jaVwiPiR7Y2hpbGRCdHMuYnRzSWQuc3BsaXQoXCItXCIpWzNdfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWRkLWJ0cy1oaXQtZWZmZWN0aW9uIGhvdC1pZC0ke2NoaWxkQnRzLmJ0c0lkfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0t6YCJ5Lit5qGGLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdWx0aS1zdWItYnRzLXNlbGVjdGVkQ2lyY2xlIG11bHRpLXN1Yi1idHMtc2VsZWN0ZWRDaXJjbGUtJHtjaGlsZEJ0cy5idHNJZH1cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLeWfuuermeiOt+WPluaVsOWAvC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiei1pbmRleDo5MDAwO1wiIGNsYXNzPVwibXVsdGktc3ViLWJ0cy12YWx1ZSBidHMtdmFsdWUtJHtjaGlsZEJ0cy5idHNJZH1cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj4ke0J0c1ZhbHVlLmJ0c1RhZyhjaGlsZEJ0cy5tb2RlLCBjaGlsZEJ0cy5tY2MsIGNoaWxkQnRzLm1uYywgY2hpbGRCdHMubGFjVGFjLCBjaGlsZEJ0cy5zaWQsIGNoaWxkQnRzLm5pZCwgY2hpbGRCdHMuYmlkLCBjaGlsZEJ0cy5jZWxsSWQpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0t5Z+656uZ5L+h5oGv5qGGLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ6LWluZGV4OjkwMDA7XCIgY2xhc3M9XCJtdWx0aS1zdWItYnRzLWluZm8tcGFuZWwgbXVsdGktc3ViLWJ0cy1pbmZvLXBhbmVsLSR7Y2hpbGRCdHMuYnRzSWR9XCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXVsdGktc3ViLWJ0cy1pbmZvLXBhbmVsLWNsb3NlIG11bHRpLXN1Yi1idHMtaW5mby1wYW5lbC1jbG9zZS0ke2NoaWxkQnRzLmJ0c0lkfVwiIGRhdGEtYnRzLWlkPVwiJHtjaGlsZEJ0cy5idHNJZH1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBpY29uZm9udCBpY29uLWNsb3NlXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRzLWluZm8tcGFuZWwtZGVjb3JhdGlvblwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImJ0cy1uYW1lLWljb25cIiBzcmM9XCJpbWcvJHtCdHNWYWx1ZS5idHNOYW1lSWNvbihjaGlsZEJ0cy5tbmMpfS5wbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnRzLW5hbWVcIj4ke0J0c1ZhbHVlLmJ0c05hbWUoY2hpbGRCdHMubW5jKX0mbmJzcDske2NoaWxkQnRzLm1vZGUudG9VcHBlckNhc2UoKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJ0cy1pZGVudGlmaWVyXCI+5Z+656uZ5qCH6K+G77yaJHtCdHNWYWx1ZS5idHNUYWcoY2hpbGRCdHMubW9kZSwgY2hpbGRCdHMubWNjLCBjaGlsZEJ0cy5tbmMsIGNoaWxkQnRzLmxhY1RhYyxjaGlsZEJ0cy5zaWQsIGNoaWxkQnRzLm5pZCwgY2hpbGRCdHMuYmlkLCBjaGlsZEJ0cy5jZWxsSWQpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnRzLXJhbmdlXCI+6KaG55uW6IyD5Zu077yaJHtjaGlsZEJ0cy5yYWRpdXN9bTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJteUNvc0J1dHRvbi1pbm5lciBzaG93LXJhbmdlLWJ1dHRvbiBzaG93LXJhbmdlLWJ1dHRvbi0ke2NoaWxkQnRzLmJ0c0lkfVwiIGRhdGEtYnRzLWlkPVwiJHtjaGlsZEJ0cy5idHNJZH1cIiBkYXRhLW9wZW4tc3RhdHVzPVwiY2xvc2VcIj7mmL7npLrljYrlvoQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICBsZXQgYnRzQ3JlZGliaWxpdHlDb2xvciA9IFwiIzY2NjY2NlwiO1xyXG4gICAgICAgICAgICAgc3dpdGNoKG1heENyZWRpYmlsaXR5KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgLy/nnIHljoXlh4bnoa7ln7rnq5nooahcclxuICAgICAgICAgICAgICAgICAgICBidHNDcmVkaWJpbGl0eUNvbG9yID0gXCIjMzZCMjFEXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lbm9kZWLooahcclxuICAgICAgICAgICAgICAgICAgICBidHNDcmVkaWJpbGl0eUNvbG9yID0gXCIjRkZEODAwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgLy/miYvliqjkuIrmiqXnmoTln7rnq5nooahcclxuICAgICAgICAgICAgICAgICAgICBidHNDcmVkaWJpbGl0eUNvbG9yID0gXCIjMjU4OEI0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgLy9UQeS4iuaKpeeahOWfuuermeihqFxyXG4gICAgICAgICAgICAgICAgICAgIGJ0c0NyZWRpYmlsaXR5Q29sb3IgPSBcIiM2NDhEQTBcIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAvL+iuoeeul+WQjueahOWfuuermeihqFxyXG4gICAgICAgICAgICAgICAgICAgIGJ0c0NyZWRpYmlsaXR5Q29sb3IgPSBcIiNDQzI1RTBcIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7ICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICBsZXQgYnRzSW1nID0gJyc7XHJcbiAgICAgICAgICAgICBsZXQgYnRzSGl0U3RhdHVzID0gJyc7XHJcbiAgICAgICAgICAgICBsZXQgYnRzSGl0R3JheSA9ICcnO1xyXG4gICAgICAgICAgICAgbGV0IGhpdFRpbWVzVmFsdWUgPSAnJztcclxuICAgICAgICAgICAgIGlmIChtYXhIaXRUaW1lcyA9PSAwIHx8IG1heEhpdFRpbWVzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICBidHNJbWcgPSAnYnRzaWNvbic7IC8vIOm7mOiupOWbvueJh+S4uuiTneiJslxyXG4gICAgICAgICAgICAgICAgIGJ0c0hpdFN0YXR1cyA9ICdidHMtaW1nLXVuaGl0JztcclxuICAgICAgICAgICAgICAgICBidHNIaXRHcmF5ID0gJ2dyYXktY292ZXInXHJcbiAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgIGJ0c0ltZyA9ICdidHNpY29uaGl0JzsgLy8g5ZG95Lit5ZCO5Zu+54mH5Li657qi6ImyXHJcbiAgICAgICAgICAgICAgICAgaGl0VGltZXNWYWx1ZSA9IG1heEhpdFRpbWVzO1xyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgbGV0IGRsSGl0VGltZXNWYWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICAgaWYgKG1heERsSGl0VGltZXMgPT0gMCB8fCBtYXhEbEhpdFRpbWVzID09IG51bGwpIHtcclxuICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgYnRzSW1nID0gJ2J0c2ljb25oaXQnOyAvLyDlkb3kuK3lkI7lm77niYfkuLrnuqLoibJcclxuICAgICAgICAgICAgICAgICBkbEhpdFRpbWVzVmFsdWUgPSBtYXhEbEhpdFRpbWVzO1xyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgICA8IS0t5Z+656uZ5Zu+54mHLS0+XHJcbiAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cIm11bHRpLWJ0cy1pbWcgbXVsdGktYnRzLWltZy0ke3RoaXMuX2J0c0lkfSAke2J0c0hpdFN0YXR1c30gJHtidHNIaXRHcmF5fVwiIGRhdGEtYnRzLW1vZGU9XCIke3RoaXMuX21vZGV9XCIgZGF0YS1idHMtaWQ9XCIke3RoaXMuX2J0c0lkfVwiIHNyYz1cImltZy9tdWx0aWJ0c2ljb24vJHtidHNJbWd9LSR7dGhpcy5fbW9kZX0ucG5nXCI+XHJcbiAgICAgICAgICAgICAgICAgPCEtLTxpbWcgY2xhc3M9XCJtdWx0aS1idHMtaW1nIG11bHRpLWJ0cy1pbWctJHt0aGlzLl9idHNJZH0gJHtidHNIaXRTdGF0dXN9ICR7YnRzSGl0R3JheX1cIiBidHNpY29udGFyZ2V0LXN1bT1cIjBcIiAgYnRzaWNvbi1zdW09XCIwXCIgc291cmNlLWNvbG9yPVwiJHtidHNDcmVkaWJpbGl0eUNvbG9yfVwiIHN0eWxlPVwiei1pbmRleDo2MDUwO2hlaWdodDogNDJweDtsZWZ0OiAtMjlweDt0b3A6IC0zOHB4O2N1cnNvcjogcG9pbnRlcjtcIiAgZGF0YS1idHMtbW9kZT1cIiR7dGhpcy5fbW9kZX1cIiBkYXRhLWJ0cy1pZD1cIiR7dGhpcy5fYnRzSWR9XCIgc3JjPVwiaW1nL211bHRpYnRzaWNvbi8ke2J0c0ltZ30tJHt0aGlzLl9tb2RlfS5wbmdcIj4tLT5cclxuICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXVsdGktYnRzLWhpdC1jb3VudCBtdWx0aS1idHMtaGl0LWNvdW50LSR7dGhpcy5fYnRzSWR9XCIgZGF0YS1idHMtaWQ9XCIke3RoaXMuX2J0c0lkfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdWx0aS1idHMtaGl0LWNvdW50LXNoYWRvdyBtdWx0aS1idHMtaGl0LWNvdW50LXNoYWRvdy0ke3RoaXMuX2J0c0lkfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdWx0aS1idHMtY3JlZGliaWxpdHlcIiBzdHlsZT1cImJhY2tncm91bmQ6JHtidHNDcmVkaWJpbGl0eUNvbG9yfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJtdWx0aS1idHMtYWN0aXZlLWltZyBtdWx0aS1idHMtYWN0aXZlLWltZy0ke3RoaXMuX2J0c0lkfVwiIHNyYz1cImltZy9pY29uL2FjdGl2ZUltZy5wbmdcIj5cclxuICAgICAgICAgICAgICAgICA8IS0t6YCJ5Lit5qGGLS0+XHJcbiAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm11bHRpLWJ0cy1zZWxlY3RlZENpcmNsZSBtdWx0aS1idHMtc2VsZWN0ZWRDaXJjbGUtJHt0aGlzLl9idHNJZH1cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICA8IS0t5Z+656uZ6I635Y+W5pWw5YC8LS0+XHJcbiAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInotaW5kZXg6ODAwMDtcIiBjbGFzcz1cImJ0cy12YWx1ZSBidHMtdmFsdWUtJHt0aGlzLl9idHNJZH1cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj4ke0J0c1ZhbHVlLmJ0c1RhZyh0aGlzLl9tb2RlLCB0aGlzLl9tY2MsIHRoaXMuX21uYywgdGhpcy5fbGFjVGFjLCB0aGlzLl9zaWQsIHRoaXMuX25pZCwgdGhpcy5fYmlkLCB0aGlzLl9jZWxsSWQpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgIDwhLS3ln7rnq5nkv6Hmga/moYYtLT5cclxuICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiei1pbmRleDo4MDAwO2Rpc3BsYXk6bm9uZTtcIiBjbGFzcz1cIm11bHRpLWJ0cy1pbmZvLXBhbmVsIG11bHRpLWJ0cy1pbmZvLXBhbmVsLSR7dGhpcy5fYnRzSWR9XCIgIGRhdGEtb3Blbi1zdGF0dXM9XCJjbG9zZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4O2JhY2tncm91bmQ6ICNmZmY7cG9zaXRpb246IGFic29sdXRlO2xlZnQ6LTEyOHB4O3RvcDogLTE5MHB4OyAgYm9yZGVyLXJhZGl1czogNXB4O2JveC1zaGFkb3c6MHB4IDBweCAyMHB4IDRweCAjY2NjO2hlaWdodDoxNDBweDtwYWRkaW5nLXJpZ2h0OiAzMnB4O3BhZGRpbmctdG9wOjEwcHg7ei1pbmRleDo2MTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm11bHRpLWJ0cy1pbmZvLXBhbmVsLWNsb3NlIG11bHRpLWJ0cy1pbmZvLXBhbmVsLWNsb3NlLSR7dGhpcy5fYnRzSWR9XCIgZGF0YS1idHMtaWQ9XCIke3RoaXMuX2J0c0lkfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImljb24tY2xvc2VcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7Y2hpbGRCdHNIVE1MfVxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidHMtaW5mby1wYW5lbC1kZWNvcmF0aW9uXCIgc3R5bGU9XCJib3JkZXItdG9wOjEwcHggc29saWQgI2ZmZjtsZWZ0OjUwJTt0b3A6MTAwJVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgIDwvZGl2PiAgIFxyXG4gICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgICAgIC8qKiBcclxuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgIDwhLS3ln7rnq5nlm77niYctLT5cclxuICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJidHMtaW1nIGJ0cy1pbWctJHt0aGlzLl9idHNJZH0gJHtidHNIaXRTdGF0dXN9ICR7YnRzSGl0R3JheX1cIiBkYXRhLWJ0cy1tb2RlPVwiJHt0aGlzLl9tb2RlfVwiIGRhdGEtYnRzLWlkPVwiJHt0aGlzLl9idHNJZH1cIiBzcmM9XCJpbWcvYnRzaWNvbi8ke2J0c0ltZ30tJHt0aGlzLl9tb2RlfS5wbmdcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidHMtaGl0LWNvdW50IGJ0cy1oaXQtY291bnQtJHt0aGlzLl9idHNJZH1cIiBkYXRhLWJ0cy1pZD1cIiR7dGhpcy5fYnRzSWR9XCI+JHsoaGl0VGltZXNWYWx1ZSA9PSAnJyAmJiBkbEhpdFRpbWVzVmFsdWUgPT0gXCJcIikgPyBcIlwiIDogKGhpdFRpbWVzVmFsdWUgPT0gXCJcIiA/IDAgOiBoaXRUaW1lc1ZhbHVlKSArIFwiL1wiICsgKGRsSGl0VGltZXNWYWx1ZSA9PSBcIlwiID8gMCA6IGRsSGl0VGltZXNWYWx1ZSl9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRzLWhpdC1jb3VudC1zaGFkb3cgYnRzLWhpdC1jb3VudC1zaGFkb3ctJHt0aGlzLl9idHNJZH1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidHMtY3JlZGliaWxpdHlcIiBzdHlsZT1cImJhY2tncm91bmQ6JHtidHNDcmVkaWJpbGl0eUNvbG9yfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPCEtLemAieS4reahhi0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0cy1zZWxlY3RlZENpcmNsZSBidHMtc2VsZWN0ZWRDaXJjbGUtJHt0aGlzLl9idHNJZH1cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwhLS3ln7rnq5nojrflj5bmlbDlgLwtLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ6LWluZGV4OjgwMDA7XCIgY2xhc3M9XCJidHMtdmFsdWUgYnRzLXZhbHVlLSR7dGhpcy5fYnRzSWR9XCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+JHtCdHNWYWx1ZS5idHNUYWcodGhpcy5fbW9kZSwgdGhpcy5fbWNjLCB0aGlzLl9tbmMsIHRoaXMuX2xhY1RhYywgdGhpcy5fc2lkLCB0aGlzLl9uaWQsIHRoaXMuX2JpZCwgdGhpcy5fY2VsbElkKX08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwhLS3ln7rnq5nkv6Hmga/moYYtLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ6LWluZGV4OjgwMDA7XCIgY2xhc3M9XCJidHMtaW5mby1wYW5lbCBidHMtaW5mby1wYW5lbC0ke3RoaXMuX2J0c0lkfVwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidHMtaW5mby1wYW5lbC1jbG9zZSBidHMtaW5mby1wYW5lbC1jbG9zZS0ke3RoaXMuX2J0c0lkfVwiIGRhdGEtYnRzLWlkPVwiJHt0aGlzLl9idHNJZH1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gaWNvbmZvbnQgaWNvbi1jbG9zZVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRzLWluZm8tcGFuZWwtZGVjb3JhdGlvblwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJidHMtbmFtZS1pY29uXCIgc3JjPVwiaW1nLyR7QnRzVmFsdWUuYnRzTmFtZUljb24odGhpcy5fbW5jKX0ucG5nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJidHMtbmFtZVwiPiR7QnRzVmFsdWUuYnRzTmFtZSh0aGlzLl9tbmMpfSZuYnNwOyR7dGhpcy5fbW9kZS50b1VwcGVyQ2FzZSgpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJ0cy1pZGVudGlmaWVyXCI+5Z+656uZ5qCH6K+G77yaJHtCdHNWYWx1ZS5idHNUYWcodGhpcy5fbW9kZSwgdGhpcy5fbWNjLCB0aGlzLl9tbmMsIHRoaXMuX2xhY1RhYywgdGhpcy5fc2lkLCB0aGlzLl9uaWQsIHRoaXMuX2JpZCwgdGhpcy5fY2VsbElkKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJidHMtcmFuZ2VcIj7opobnm5bojIPlm7TvvJoke3RoaXMuX3JhZGl1c31tPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJteUNvc0J1dHRvbi1pbm5lciBzaG93LXJhbmdlLWJ1dHRvbiBzaG93LXJhbmdlLWJ1dHRvbi0ke3RoaXMuX2J0c0lkfVwiIGRhdGEtYnRzLWlkPVwiJHt0aGlzLl9idHNJZH1cIiBkYXRhLW9wZW4tc3RhdHVzPVwiY2xvc2VcIj7mmL7npLrljYrlvoQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgOyovXHJcbiAgICAgICAgICAgICAvKiDlsIZkaXbmt7vliqDliLDopobnm5bnianlrrnlmajkuK0gKi9cclxuICAgICAgICAgICAgIG1hcC5nZXRQYW5lcygpLmxhYmVsUGFuZS5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgICAgICAgLyog5L+d5a2YZGl25a6e5L6LICovXHJcbiAgICAgICAgICAgICB0aGlzLl9kaXYgPSBkaXY7XHJcbiAgICAgICAgICAgICAvKiDpnIDopoHlsIZkaXblhYPntKDkvZzkuLrmlrnms5XnmoTov5Tlm57lgLwgKi9cclxuICAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgIC8qIOe7mOWItuimhueblueJqSzlrp7njrDnu5jliLbmlrnms5UgKi9cclxuICAgICAgICAgIEJ0c0Rpdk92ZXJsYXkucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAvKiDmoLnmja7lnLDnkIblnZDmoIfovazmjaLkuLrlg4/ntKDlnZDmoIfvvIzlubborr7nva7nu5nlrrnlmaggKi9cclxuICAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IHRoaXMuX21hcC5wb2ludFRvT3ZlcmxheVBpeGVsKHRoaXMuX3BvaW50KTtcclxuICAgICAgICAgICAgIHRoaXMuX2Rpdi5zdHlsZS5sZWZ0ID0gcG9zaXRpb24ueCArICdweCc7XHJcbiAgICAgICAgICAgICB0aGlzLl9kaXYuc3R5bGUudG9wID0gcG9zaXRpb24ueSArICdweCc7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgcmV0dXJuIG5ldyBCdHNEaXZPdmVybGF5KHBvaW50LCBtY2MsIG1uYywgbW9kZSwgc2lkLCBuaWQsIGJpZCwgbGFjVGFjLCByYWRpdXMsIGNlbGxJZCwgYnRzSWQsIGhpdFRpbWVzLCBkbEhpdFRpbWVzLCBjaGlsZEJ0cywgY3JlZGliaWxpdHkpOyAgICAgICAgXHJcbiAgICB9XHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9yZWFsVGltZUNvbWJhdC9vdmVybGF5L011bHRpQnRzT3ZlcmxheUNvbnN0cnVjdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///45\n");

/***/ }),
/* 46 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__overlay_MultiBtsAnalysisOverlayConstructor_js__ = __webpack_require__(47);\n\r\n\r\nclass DrawMultiBtsAnalysis {\r\n\r\n    static drawAnalysis(drawMap) {\r\n\r\n        /* 先移除所有地图上解析进度*/\r\n        for (let i = 0; i < btsAnalysisOverlayCache.length; i++) {\r\n            map.removeOverlay(btsAnalysisOverlayCache[i]);\r\n        }\r\n        /* 移除子基站解析进度 */\r\n        $('.multi-sub-bts').each(function(){\r\n            if($(this).children().hasClass('mutil-sub-bts-analysis-img')){\r\n                $(this).children('.mutil-sub-bts-analysis-img').remove();\r\n            }\r\n        })\r\n        /* add by sunbing start */\r\n        /** 复合基站解析权值重置 */\r\n        for (let key of multiBtsInfoMap.keys()) {\r\n            let multiBtsInfo = multiBtsInfoMap.get(key);\r\n            if(multiBtsInfo.type == 2) {\r\n                multiBtsInfo.analysisSrc = 0;\r\n                multiBtsInfo.analysisValue = 0;\r\n            }\r\n        }\r\n        /* add by sunbing end */\r\n        /* 置灰所有基站（排除红色和黄色基站）*/\r\n        $('.bts-img-unhit').not('.proLock').addClass('gray-cover'); // 所有基站置灰\r\n        $('.bts-click-unhit').css('z-index', 5000); // z轴置底\r\n        btsAnalysisOverlayCache = [];\r\n        for (let key in drawMap) {\r\n            /* 是否置灰*/\r\n            let isGray;\r\n            if (devDrawInfoMap.get(key) != null) {\r\n                isGray = devDrawInfoMap.get(key).isCorrentView;\r\n            } else {\r\n                isGray = false;\r\n            }\r\n            /* 信息列表*/\r\n            let infoList = drawMap[key].cellAnalysisInfoList;\r\n            /* */\r\n            if (infoList != null) {\r\n                for (let i = 0; i < infoList.length; i++) {\r\n                    let btsInfo = btsInfoMap.get(infoList[i].btsId);\r\n                    if(btsInfo != null) {\r\n                        let multiBtsInfo = multiBtsInfoMap.get(infoList[i].btsId);\r\n                        let broadcastPercent = infoList[i].broadcastPercent;\r\n                        let mode = infoList[i].mode;\r\n                        let dedicatedPercent;\r\n                        /* C网和W网只有一个，其余两个*/\r\n                        if (mode != 'cdma' && mode != 'wcdma') {\r\n                            dedicatedPercent = infoList[i].dedicatedPercent;\r\n                        }\r\n                        if (multiBtsInfo != null && multiBtsInfo.type == 1) {\r\n                            //单个基站\r\n                            let lng = multiBtsInfo.lng;\r\n                            let lat = multiBtsInfo.lat;\r\n                            /* 如果命中次数==0，图片替换为蓝色，不替换目标基站的颜色*/\r\n                            if (targetCellInfosCache.get(infoList[i].btsId) == null) {\r\n                                if (multiBtsInfo.hitTimes == 0 || multiBtsInfo.hitTimes == null) {\r\n                                    $(`.bts-img-${infoList[i].btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                                    $(`.bts-click-${infoList[i].btsId}`).css('z-index', 5500); // z轴置中\r\n                                    btsInfo.color = 1;\r\n                                    multiBtsInfo.color = 1;\r\n                                }\r\n                            }\r\n                            let overlay = new __WEBPACK_IMPORTED_MODULE_0__overlay_MultiBtsAnalysisOverlayConstructor_js__[\"a\" /* MultiBtsAnalysisOverlayConstructor */](new BMap.Point(lng, lat), broadcastPercent, dedicatedPercent, isGray);\r\n                            btsAnalysisOverlayCache.push(overlay);\r\n                            map.addOverlay(overlay);\r\n                            if (!isBtsOpen) {\r\n                                overlay.hide();\r\n                            }\r\n                        }else {\r\n                             /* 子基站状态 */\r\n                             /* 如果命中次数==0，图片替换为蓝色，不替换目标基站的颜色*/\r\n                             let subBtsColor = 0;\r\n                             if (targetCellInfosCache.get(infoList[i].btsId) == null) {\r\n                                if (btsInfo.hitTimes == 0 || btsInfo.hitTimes == null) {\r\n                                    $(`.bts-img-${infoList[i].btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                                    //$(`.bts-click-${infoList[i].btsId}`).css('z-index', 5500); // z轴置中\r\n                                    subBtsColor = 1;\r\n                                    btsInfo.color = 1;\r\n                                }\r\n                            }\r\n                            //复合基站下属子基站解析进度条\r\n                            if($(`.multi-sub-bts-click-${infoList[i].btsId}`).parent().parent().attr('data-open-status') == 'open') {\r\n                                let overlay = this.getMultiSubBtsAnalysisOverlay(broadcastPercent, dedicatedPercent, isGray);\r\n                                $(`.multi-sub-bts-click-${infoList[i].btsId}`).children('.mutil-sub-bts-analysis-img').remove();\r\n                                $(`.multi-sub-bts-click-${infoList[i].btsId}`).append(overlay);\r\n                            }\r\n                            /* 父基站状态 */\r\n                            let color = multiBtsInfoMap.get(btsInfo.parentBtsId).color;\r\n                            if(color <= subBtsColor) {\r\n                                $(`.multi-bts-img-${btsInfo.parentBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                                multiBtsInfoMap.get(btsInfo.parentBtsId).color = subBtsColor;\r\n                            }\r\n                            /* add by sunbing start */\r\n                            /**复合基站下面添加解析进度条 */\r\n                            //优先级：命中基站、预锁基站、解析最好的基站 (默认基站：0 预锁基站：1 命中基站：2 )\r\n                            let showFlag = false;\r\n                            let analysisSrc = 0;\r\n                            devPreLockCellInfosCache.get(infoList[i].btsId);\r\n                            if(null != devPreLockCellInfosCache.get(infoList[i].btsId)) {\r\n                                //预锁基站\r\n                                analysisSrc = 1;\r\n                            }\r\n                            if(null != btsInfo.hitTimes && btsInfo.hitTimes > 0) {\r\n                                //命中基站\r\n                                analysisSrc = 2;\r\n                            }\r\n                            let analysisValue = broadcastPercent + dedicatedPercent;\r\n                            let parentBtsInfo = multiBtsInfoMap.get(btsInfo.parentBtsId);\r\n                            let currentAnalysisValue = parentBtsInfo.analysisValue;\r\n                            let currentAnalysisSrc = parentBtsInfo.analysisSrc;\r\n                            if(analysisSrc > currentAnalysisSrc) {\r\n                                showFlag = true;\r\n                                parentBtsInfo.analysisSrc = analysisSrc;\r\n                            } else if(analysisSrc == currentAnalysisSrc) {\r\n                                if(analysisValue >= currentAnalysisValue) {\r\n                                    showFlag = true;\r\n                                    parentBtsInfo.analysisValue = analysisValue;\r\n                                }\r\n                            }\r\n                            if(showFlag) {\r\n                                let lng = parentBtsInfo.lng;\r\n                                let lat = parentBtsInfo.lat;\r\n                                let overlay = new __WEBPACK_IMPORTED_MODULE_0__overlay_MultiBtsAnalysisOverlayConstructor_js__[\"a\" /* MultiBtsAnalysisOverlayConstructor */](new BMap.Point(lng, lat), broadcastPercent, dedicatedPercent, isGray);\r\n                                btsAnalysisOverlayCache.push(overlay);\r\n                                map.addOverlay(overlay);\r\n                                if (!isBtsOpen) {\r\n                                    overlay.hide();\r\n                                }\r\n                            }\r\n                            /* add by sunbing end */\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    static getMultiSubBtsAnalysisOverlay(broadcastPercent, dedicatedPercent, isGray) {\r\n        let grayClass = '';\r\n        if (!isGray) {\r\n            grayClass = 'gray-cover';\r\n        }\r\n        /* C网和W网只有一个，其余两个*/\r\n        let imgName;\r\n        if (dedicatedPercent == null) {\r\n            let perc1 = parseInt(broadcastPercent / 10);\r\n            if (perc1 % 2 != 0) {\r\n                perc1 = perc1 - 1;\r\n            }\r\n            imgName = `crc1-${perc1}.png`;\r\n        } else {\r\n            let perc1 = parseInt(broadcastPercent / 10);\r\n            let perc2 = parseInt(dedicatedPercent / 10);\r\n            if (perc1 % 2 != 0) {\r\n                perc1 = perc1 - 1;\r\n            }\r\n            if (perc2 % 2 != 0) {\r\n                perc2 = perc2 - 1;\r\n            }\r\n            imgName = `crc2_${perc1}-${perc2}.png`;\r\n        }\r\n        let htmlValue = '';\r\n        htmlValue = `\r\n            <img class=\"mutil-sub-bts-analysis-img ${grayClass}\" src=\"img/crc/${imgName}\">\r\n        `;\r\n        return htmlValue;\r\n    }\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = DrawMultiBtsAnalysis;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3TXVsdGlCdHNBbmFseXNpcy5qcz9kMGE2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQXNHOztBQUUvRjs7QUFFUDs7QUFFQTtBQUNBLHVCQUF1QixvQ0FBb0M7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxQkFBcUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxrQkFBa0IsNkJBQTZCO0FBQ2pHLG9EQUFvRCxrQkFBa0Isd0JBQXdCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLDBIQUFrQztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsa0JBQWtCLDZCQUE2QjtBQUNqRyxzREFBc0Qsa0JBQWtCLHdCQUF3QjtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELGtCQUFrQjtBQUMzRTtBQUNBLDBEQUEwRCxrQkFBa0I7QUFDNUUsMERBQTBELGtCQUFrQjtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxvQkFBb0IsNkJBQTZCO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCwwSEFBa0M7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLE1BQU07QUFDcEMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsTUFBTSxHQUFHLE1BQU07QUFDN0M7QUFDQTtBQUNBO0FBQ0EscURBQXFELFVBQVUsaUJBQWlCLFFBQVE7QUFDeEY7QUFDQTtBQUNBO0FBQ0EsQyIsImZpbGUiOiI0Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE11bHRpQnRzQW5hbHlzaXNPdmVybGF5Q29uc3RydWN0b3IgfSBmcm9tICcuLi9vdmVybGF5L011bHRpQnRzQW5hbHlzaXNPdmVybGF5Q29uc3RydWN0b3IuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIERyYXdNdWx0aUJ0c0FuYWx5c2lzIHtcclxuXHJcbiAgICBzdGF0aWMgZHJhd0FuYWx5c2lzKGRyYXdNYXApIHtcclxuXHJcbiAgICAgICAgLyog5YWI56e76Zmk5omA5pyJ5Zyw5Zu+5LiK6Kej5p6Q6L+b5bqmKi9cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ0c0FuYWx5c2lzT3ZlcmxheUNhY2hlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG1hcC5yZW1vdmVPdmVybGF5KGJ0c0FuYWx5c2lzT3ZlcmxheUNhY2hlW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyog56e76Zmk5a2Q5Z+656uZ6Kej5p6Q6L+b5bqmICovXHJcbiAgICAgICAgJCgnLm11bHRpLXN1Yi1idHMnKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKCQodGhpcykuY2hpbGRyZW4oKS5oYXNDbGFzcygnbXV0aWwtc3ViLWJ0cy1hbmFseXNpcy1pbWcnKSl7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNoaWxkcmVuKCcubXV0aWwtc3ViLWJ0cy1hbmFseXNpcy1pbWcnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLyogYWRkIGJ5IHN1bmJpbmcgc3RhcnQgKi9cclxuICAgICAgICAvKiog5aSN5ZCI5Z+656uZ6Kej5p6Q5p2D5YC86YeN572uICovXHJcbiAgICAgICAgZm9yIChsZXQga2V5IG9mIG11bHRpQnRzSW5mb01hcC5rZXlzKCkpIHtcclxuICAgICAgICAgICAgbGV0IG11bHRpQnRzSW5mbyA9IG11bHRpQnRzSW5mb01hcC5nZXQoa2V5KTtcclxuICAgICAgICAgICAgaWYobXVsdGlCdHNJbmZvLnR5cGUgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgbXVsdGlCdHNJbmZvLmFuYWx5c2lzU3JjID0gMDtcclxuICAgICAgICAgICAgICAgIG11bHRpQnRzSW5mby5hbmFseXNpc1ZhbHVlID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBhZGQgYnkgc3VuYmluZyBlbmQgKi9cclxuICAgICAgICAvKiDnva7ngbDmiYDmnInln7rnq5nvvIjmjpLpmaTnuqLoibLlkozpu4ToibLln7rnq5nvvIkqL1xyXG4gICAgICAgICQoJy5idHMtaW1nLXVuaGl0Jykubm90KCcucHJvTG9jaycpLmFkZENsYXNzKCdncmF5LWNvdmVyJyk7IC8vIOaJgOacieWfuuermee9rueBsFxyXG4gICAgICAgICQoJy5idHMtY2xpY2stdW5oaXQnKS5jc3MoJ3otaW5kZXgnLCA1MDAwKTsgLy8geui9tOe9ruW6lVxyXG4gICAgICAgIGJ0c0FuYWx5c2lzT3ZlcmxheUNhY2hlID0gW107XHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIGRyYXdNYXApIHtcclxuICAgICAgICAgICAgLyog5piv5ZCm572u54GwKi9cclxuICAgICAgICAgICAgbGV0IGlzR3JheTtcclxuICAgICAgICAgICAgaWYgKGRldkRyYXdJbmZvTWFwLmdldChrZXkpICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlzR3JheSA9IGRldkRyYXdJbmZvTWFwLmdldChrZXkpLmlzQ29ycmVudFZpZXc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpc0dyYXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiDkv6Hmga/liJfooagqL1xyXG4gICAgICAgICAgICBsZXQgaW5mb0xpc3QgPSBkcmF3TWFwW2tleV0uY2VsbEFuYWx5c2lzSW5mb0xpc3Q7XHJcbiAgICAgICAgICAgIC8qICovXHJcbiAgICAgICAgICAgIGlmIChpbmZvTGlzdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZm9MaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJ0c0luZm8gPSBidHNJbmZvTWFwLmdldChpbmZvTGlzdFtpXS5idHNJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYnRzSW5mbyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtdWx0aUJ0c0luZm8gPSBtdWx0aUJ0c0luZm9NYXAuZ2V0KGluZm9MaXN0W2ldLmJ0c0lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJyb2FkY2FzdFBlcmNlbnQgPSBpbmZvTGlzdFtpXS5icm9hZGNhc3RQZXJjZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbW9kZSA9IGluZm9MaXN0W2ldLm1vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWRpY2F0ZWRQZXJjZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBD572R5ZKMV+e9keWPquacieS4gOS4qu+8jOWFtuS9meS4pOS4qiovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RlICE9ICdjZG1hJyAmJiBtb2RlICE9ICd3Y2RtYScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZGljYXRlZFBlcmNlbnQgPSBpbmZvTGlzdFtpXS5kZWRpY2F0ZWRQZXJjZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtdWx0aUJ0c0luZm8gIT0gbnVsbCAmJiBtdWx0aUJ0c0luZm8udHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WNleS4quWfuuermVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxuZyA9IG11bHRpQnRzSW5mby5sbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGF0ID0gbXVsdGlCdHNJbmZvLmxhdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIOWmguaenOWRveS4reasoeaVsD09MO+8jOWbvueJh+abv+aNouS4uuiTneiJsu+8jOS4jeabv+aNouebruagh+WfuuermeeahOminOiJsiovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Q2VsbEluZm9zQ2FjaGUuZ2V0KGluZm9MaXN0W2ldLmJ0c0lkKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG11bHRpQnRzSW5mby5oaXRUaW1lcyA9PSAwIHx8IG11bHRpQnRzSW5mby5oaXRUaW1lcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7aW5mb0xpc3RbaV0uYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtY2xpY2stJHtpbmZvTGlzdFtpXS5idHNJZH1gKS5jc3MoJ3otaW5kZXgnLCA1NTAwKTsgLy8geui9tOe9ruS4rVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidHNJbmZvLmNvbG9yID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlCdHNJbmZvLmNvbG9yID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3ZlcmxheSA9IG5ldyBNdWx0aUJ0c0FuYWx5c2lzT3ZlcmxheUNvbnN0cnVjdG9yKG5ldyBCTWFwLlBvaW50KGxuZywgbGF0KSwgYnJvYWRjYXN0UGVyY2VudCwgZGVkaWNhdGVkUGVyY2VudCwgaXNHcmF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0c0FuYWx5c2lzT3ZlcmxheUNhY2hlLnB1c2gob3ZlcmxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuYWRkT3ZlcmxheShvdmVybGF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNCdHNPcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiDlrZDln7rnq5nnirbmgIEgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiDlpoLmnpzlkb3kuK3mrKHmlbA9PTDvvIzlm77niYfmm7/mjaLkuLrok53oibLvvIzkuI3mm7/mjaLnm67moIfln7rnq5nnmoTpopzoibIqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdWJCdHNDb2xvciA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldENlbGxJbmZvc0NhY2hlLmdldChpbmZvTGlzdFtpXS5idHNJZCkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidHNJbmZvLmhpdFRpbWVzID09IDAgfHwgYnRzSW5mby5oaXRUaW1lcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7aW5mb0xpc3RbaV0uYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vJChgLmJ0cy1jbGljay0ke2luZm9MaXN0W2ldLmJ0c0lkfWApLmNzcygnei1pbmRleCcsIDU1MDApOyAvLyB66L20572u5LitXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YkJ0c0NvbG9yID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRzSW5mby5jb2xvciA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lpI3lkIjln7rnq5nkuIvlsZ7lrZDln7rnq5nop6PmnpDov5vluqbmnaFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCQoYC5tdWx0aS1zdWItYnRzLWNsaWNrLSR7aW5mb0xpc3RbaV0uYnRzSWR9YCkucGFyZW50KCkucGFyZW50KCkuYXR0cignZGF0YS1vcGVuLXN0YXR1cycpID09ICdvcGVuJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvdmVybGF5ID0gdGhpcy5nZXRNdWx0aVN1YkJ0c0FuYWx5c2lzT3ZlcmxheShicm9hZGNhc3RQZXJjZW50LCBkZWRpY2F0ZWRQZXJjZW50LCBpc0dyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWNsaWNrLSR7aW5mb0xpc3RbaV0uYnRzSWR9YCkuY2hpbGRyZW4oJy5tdXRpbC1zdWItYnRzLWFuYWx5c2lzLWltZycpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWNsaWNrLSR7aW5mb0xpc3RbaV0uYnRzSWR9YCkuYXBwZW5kKG92ZXJsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyog54i25Z+656uZ54q25oCBICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29sb3IgPSBtdWx0aUJ0c0luZm9NYXAuZ2V0KGJ0c0luZm8ucGFyZW50QnRzSWQpLmNvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY29sb3IgPD0gc3ViQnRzQ29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWltZy0ke2J0c0luZm8ucGFyZW50QnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlCdHNJbmZvTWFwLmdldChidHNJbmZvLnBhcmVudEJ0c0lkKS5jb2xvciA9IHN1YkJ0c0NvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogYWRkIGJ5IHN1bmJpbmcgc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKuWkjeWQiOWfuuermeS4i+mdoua3u+WKoOino+aekOi/m+W6puadoSAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/kvJjlhYjnuqfvvJrlkb3kuK3ln7rnq5njgIHpooTplIHln7rnq5njgIHop6PmnpDmnIDlpb3nmoTln7rnq5kgKOm7mOiupOWfuuerme+8mjAg6aKE6ZSB5Z+656uZ77yaMSDlkb3kuK3ln7rnq5nvvJoyIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzaG93RmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFuYWx5c2lzU3JjID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldlByZUxvY2tDZWxsSW5mb3NDYWNoZS5nZXQoaW5mb0xpc3RbaV0uYnRzSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobnVsbCAhPSBkZXZQcmVMb2NrQ2VsbEluZm9zQ2FjaGUuZ2V0KGluZm9MaXN0W2ldLmJ0c0lkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6aKE6ZSB5Z+656uZXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5hbHlzaXNTcmMgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobnVsbCAhPSBidHNJbmZvLmhpdFRpbWVzICYmIGJ0c0luZm8uaGl0VGltZXMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lkb3kuK3ln7rnq5lcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmFseXNpc1NyYyA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYW5hbHlzaXNWYWx1ZSA9IGJyb2FkY2FzdFBlcmNlbnQgKyBkZWRpY2F0ZWRQZXJjZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmVudEJ0c0luZm8gPSBtdWx0aUJ0c0luZm9NYXAuZ2V0KGJ0c0luZm8ucGFyZW50QnRzSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRBbmFseXNpc1ZhbHVlID0gcGFyZW50QnRzSW5mby5hbmFseXNpc1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRBbmFseXNpc1NyYyA9IHBhcmVudEJ0c0luZm8uYW5hbHlzaXNTcmM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihhbmFseXNpc1NyYyA+IGN1cnJlbnRBbmFseXNpc1NyYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dGbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRCdHNJbmZvLmFuYWx5c2lzU3JjID0gYW5hbHlzaXNTcmM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoYW5hbHlzaXNTcmMgPT0gY3VycmVudEFuYWx5c2lzU3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoYW5hbHlzaXNWYWx1ZSA+PSBjdXJyZW50QW5hbHlzaXNWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93RmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudEJ0c0luZm8uYW5hbHlzaXNWYWx1ZSA9IGFuYWx5c2lzVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2hvd0ZsYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbG5nID0gcGFyZW50QnRzSW5mby5sbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxhdCA9IHBhcmVudEJ0c0luZm8ubGF0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvdmVybGF5ID0gbmV3IE11bHRpQnRzQW5hbHlzaXNPdmVybGF5Q29uc3RydWN0b3IobmV3IEJNYXAuUG9pbnQobG5nLCBsYXQpLCBicm9hZGNhc3RQZXJjZW50LCBkZWRpY2F0ZWRQZXJjZW50LCBpc0dyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0c0FuYWx5c2lzT3ZlcmxheUNhY2hlLnB1c2gob3ZlcmxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLmFkZE92ZXJsYXkob3ZlcmxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0J0c09wZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogYWRkIGJ5IHN1bmJpbmcgZW5kICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldE11bHRpU3ViQnRzQW5hbHlzaXNPdmVybGF5KGJyb2FkY2FzdFBlcmNlbnQsIGRlZGljYXRlZFBlcmNlbnQsIGlzR3JheSkge1xyXG4gICAgICAgIGxldCBncmF5Q2xhc3MgPSAnJztcclxuICAgICAgICBpZiAoIWlzR3JheSkge1xyXG4gICAgICAgICAgICBncmF5Q2xhc3MgPSAnZ3JheS1jb3Zlcic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIEPnvZHlkoxX572R5Y+q5pyJ5LiA5Liq77yM5YW25L2Z5Lik5LiqKi9cclxuICAgICAgICBsZXQgaW1nTmFtZTtcclxuICAgICAgICBpZiAoZGVkaWNhdGVkUGVyY2VudCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBwZXJjMSA9IHBhcnNlSW50KGJyb2FkY2FzdFBlcmNlbnQgLyAxMCk7XHJcbiAgICAgICAgICAgIGlmIChwZXJjMSAlIDIgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcGVyYzEgPSBwZXJjMSAtIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW1nTmFtZSA9IGBjcmMxLSR7cGVyYzF9LnBuZ2A7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHBlcmMxID0gcGFyc2VJbnQoYnJvYWRjYXN0UGVyY2VudCAvIDEwKTtcclxuICAgICAgICAgICAgbGV0IHBlcmMyID0gcGFyc2VJbnQoZGVkaWNhdGVkUGVyY2VudCAvIDEwKTtcclxuICAgICAgICAgICAgaWYgKHBlcmMxICUgMiAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICBwZXJjMSA9IHBlcmMxIC0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGVyYzIgJSAyICE9IDApIHtcclxuICAgICAgICAgICAgICAgIHBlcmMyID0gcGVyYzIgLSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGltZ05hbWUgPSBgY3JjMl8ke3BlcmMxfS0ke3BlcmMyfS5wbmdgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaHRtbFZhbHVlID0gJyc7XHJcbiAgICAgICAgaHRtbFZhbHVlID0gYFxyXG4gICAgICAgICAgICA8aW1nIGNsYXNzPVwibXV0aWwtc3ViLWJ0cy1hbmFseXNpcy1pbWcgJHtncmF5Q2xhc3N9XCIgc3JjPVwiaW1nL2NyYy8ke2ltZ05hbWV9XCI+XHJcbiAgICAgICAgYDtcclxuICAgICAgICByZXR1cm4gaHRtbFZhbHVlO1xyXG4gICAgfVxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3TXVsdGlCdHNBbmFseXNpcy5qc1xuLy8gbW9kdWxlIGlkID0gNDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///46\n");

/***/ }),
/* 47 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class MultiBtsAnalysisOverlayConstructor {\r\n\r\n    constructor(point, broadcastPercent, dedicatedPercent, isGray) {\r\n        return this.draw(point, broadcastPercent, dedicatedPercent, isGray);\r\n    }\r\n\r\n    /**\r\n    * 使用百度地图API官方写法，不做任何更改\r\n    */\r\n   draw(point, broadcastPercent, dedicatedPercent, isGray) {\r\n        /* 定义自定义覆盖物的构造函数 */\r\n        function btsAnalysisOverlay(point, broadcastPercent, dedicatedPercent, isGray) {\r\n            this._point = point;\r\n            this._broadcastPercent = broadcastPercent;\r\n            this._dedicatedPercent = dedicatedPercent;\r\n            this._isGray = isGray;\r\n        }\r\n\r\n        /* 继承API的BMap.Overlay */\r\n        btsAnalysisOverlay.prototype = new BMap.Overlay();\r\n\r\n        /* 实现初始化方法 */\r\n        btsAnalysisOverlay.prototype.initialize = function (map) {\r\n            /* 保存map对象实例 */\r\n            this._map = map;\r\n            /* 创建div元素，作为自定义覆盖物的容器 */\r\n            var div = this._div = document.createElement('div');\r\n            div.style.position = 'absolute';\r\n            /* 自定义覆盖物div中的html代码 */\r\n            let grayClass = '';\r\n            if (!this._isGray) {\r\n                grayClass = 'gray-cover';\r\n            }\r\n            /* C网和W网只有一个，其余两个*/\r\n            let imgName;\r\n            if (dedicatedPercent == null) {\r\n                let perc1 = parseInt(this._broadcastPercent / 10);\r\n                if (perc1 % 2 != 0) {\r\n                    perc1 = perc1 - 1;\r\n                }\r\n                imgName = `crc1-${perc1}.png`;\r\n            } else {\r\n                let perc1 = parseInt(this._broadcastPercent / 10);\r\n                let perc2 = parseInt(this._dedicatedPercent / 10);\r\n                if (perc1 % 2 != 0) {\r\n                    perc1 = perc1 - 1;\r\n                }\r\n                if (perc2 % 2 != 0) {\r\n                    perc2 = perc2 - 1;\r\n                }\r\n                imgName = `crc2_${perc1}-${perc2}.png`;\r\n            }\r\n            div.innerHTML = `\r\n                <img class=\"bts-analysis-img ${grayClass}\" src=\"img/crc/${imgName}\">\r\n            `;\r\n            /* 将div添加到覆盖物容器中 */\r\n            map.getPanes().labelPane.appendChild(div);\r\n            /* 保存div实例 */\r\n            this._div = div;\r\n            /* 需要将div元素作为方法的返回值 */\r\n            return div;\r\n        }\r\n\r\n        /* 绘制覆盖物,实现绘制方法 */\r\n        btsAnalysisOverlay.prototype.draw = function () {\r\n            /* 根据地理坐标转换为像素坐标，并设置给容器 */\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n        return new btsAnalysisOverlay(point, broadcastPercent, dedicatedPercent, isGray);\r\n    }\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = MultiBtsAnalysisOverlayConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9NdWx0aUJ0c0FuYWx5c2lzT3ZlcmxheUNvbnN0cnVjdG9yLmpzP2QzYWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxNQUFNO0FBQ3hDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLE1BQU0sR0FBRyxNQUFNO0FBQ2pEO0FBQ0E7QUFDQSwrQ0FBK0MsVUFBVSxpQkFBaUIsUUFBUTtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEMiLCJmaWxlIjoiNDcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgTXVsdGlCdHNBbmFseXNpc092ZXJsYXlDb25zdHJ1Y3RvciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocG9pbnQsIGJyb2FkY2FzdFBlcmNlbnQsIGRlZGljYXRlZFBlcmNlbnQsIGlzR3JheSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRyYXcocG9pbnQsIGJyb2FkY2FzdFBlcmNlbnQsIGRlZGljYXRlZFBlcmNlbnQsIGlzR3JheSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOS9v+eUqOeZvuW6puWcsOWbvkFQSeWumOaWueWGmeazle+8jOS4jeWBmuS7u+S9leabtOaUuVxyXG4gICAgKi9cclxuICAgZHJhdyhwb2ludCwgYnJvYWRjYXN0UGVyY2VudCwgZGVkaWNhdGVkUGVyY2VudCwgaXNHcmF5KSB7XHJcbiAgICAgICAgLyog5a6a5LmJ6Ieq5a6a5LmJ6KaG55uW54mp55qE5p6E6YCg5Ye95pWwICovXHJcbiAgICAgICAgZnVuY3Rpb24gYnRzQW5hbHlzaXNPdmVybGF5KHBvaW50LCBicm9hZGNhc3RQZXJjZW50LCBkZWRpY2F0ZWRQZXJjZW50LCBpc0dyYXkpIHtcclxuICAgICAgICAgICAgdGhpcy5fcG9pbnQgPSBwb2ludDtcclxuICAgICAgICAgICAgdGhpcy5fYnJvYWRjYXN0UGVyY2VudCA9IGJyb2FkY2FzdFBlcmNlbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2RlZGljYXRlZFBlcmNlbnQgPSBkZWRpY2F0ZWRQZXJjZW50O1xyXG4gICAgICAgICAgICB0aGlzLl9pc0dyYXkgPSBpc0dyYXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiDnu6fmib9BUEnnmoRCTWFwLk92ZXJsYXkgKi9cclxuICAgICAgICBidHNBbmFseXNpc092ZXJsYXkucHJvdG90eXBlID0gbmV3IEJNYXAuT3ZlcmxheSgpO1xyXG5cclxuICAgICAgICAvKiDlrp7njrDliJ3lp4vljJbmlrnms5UgKi9cclxuICAgICAgICBidHNBbmFseXNpc092ZXJsYXkucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAobWFwKSB7XHJcbiAgICAgICAgICAgIC8qIOS/neWtmG1hcOWvueixoeWunuS+iyAqL1xyXG4gICAgICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XHJcbiAgICAgICAgICAgIC8qIOWIm+W7umRpduWFg+e0oO+8jOS9nOS4uuiHquWumuS5ieimhueblueJqeeahOWuueWZqCAqL1xyXG4gICAgICAgICAgICB2YXIgZGl2ID0gdGhpcy5fZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgICAgIC8qIOiHquWumuS5ieimhueblueJqWRpduS4reeahGh0bWzku6PnoIEgKi9cclxuICAgICAgICAgICAgbGV0IGdyYXlDbGFzcyA9ICcnO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzR3JheSkge1xyXG4gICAgICAgICAgICAgICAgZ3JheUNsYXNzID0gJ2dyYXktY292ZXInO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIEPnvZHlkoxX572R5Y+q5pyJ5LiA5Liq77yM5YW25L2Z5Lik5LiqKi9cclxuICAgICAgICAgICAgbGV0IGltZ05hbWU7XHJcbiAgICAgICAgICAgIGlmIChkZWRpY2F0ZWRQZXJjZW50ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwZXJjMSA9IHBhcnNlSW50KHRoaXMuX2Jyb2FkY2FzdFBlcmNlbnQgLyAxMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGVyYzEgJSAyICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBwZXJjMSA9IHBlcmMxIC0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGltZ05hbWUgPSBgY3JjMS0ke3BlcmMxfS5wbmdgO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBlcmMxID0gcGFyc2VJbnQodGhpcy5fYnJvYWRjYXN0UGVyY2VudCAvIDEwKTtcclxuICAgICAgICAgICAgICAgIGxldCBwZXJjMiA9IHBhcnNlSW50KHRoaXMuX2RlZGljYXRlZFBlcmNlbnQgLyAxMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGVyYzEgJSAyICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBwZXJjMSA9IHBlcmMxIC0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChwZXJjMiAlIDIgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlcmMyID0gcGVyYzIgLSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW1nTmFtZSA9IGBjcmMyXyR7cGVyYzF9LSR7cGVyYzJ9LnBuZ2A7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJidHMtYW5hbHlzaXMtaW1nICR7Z3JheUNsYXNzfVwiIHNyYz1cImltZy9jcmMvJHtpbWdOYW1lfVwiPlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAvKiDlsIZkaXbmt7vliqDliLDopobnm5bnianlrrnlmajkuK0gKi9cclxuICAgICAgICAgICAgbWFwLmdldFBhbmVzKCkubGFiZWxQYW5lLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICAgIC8qIOS/neWtmGRpduWunuS+iyAqL1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYgPSBkaXY7XHJcbiAgICAgICAgICAgIC8qIOmcgOimgeWwhmRpduWFg+e0oOS9nOS4uuaWueazleeahOi/lOWbnuWAvCAqL1xyXG4gICAgICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyog57uY5Yi26KaG55uW54mpLOWunueOsOe7mOWItuaWueazlSAqL1xyXG4gICAgICAgIGJ0c0FuYWx5c2lzT3ZlcmxheS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLyog5qC55o2u5Zyw55CG5Z2Q5qCH6L2s5o2i5Li65YOP57Sg5Z2Q5qCH77yM5bm26K6+572u57uZ5a655ZmoICovXHJcbiAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IHRoaXMuX21hcC5wb2ludFRvT3ZlcmxheVBpeGVsKHRoaXMuX3BvaW50KTtcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLmxlZnQgPSBwb3NpdGlvbi54ICsgJ3B4JztcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLnRvcCA9IHBvc2l0aW9uLnkgKyAncHgnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IGJ0c0FuYWx5c2lzT3ZlcmxheShwb2ludCwgYnJvYWRjYXN0UGVyY2VudCwgZGVkaWNhdGVkUGVyY2VudCwgaXNHcmF5KTtcclxuICAgIH1cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L292ZXJsYXkvTXVsdGlCdHNBbmFseXNpc092ZXJsYXlDb25zdHJ1Y3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gNDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///47\n");

/***/ }),
/* 48 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__realTimeCombat_energy_Energy_js__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__realTimeCombat_overlay_PassiveActiveMarkerOverlayConstructor_js__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__realTimeCombat_overlay_CarEngOrientationConstructor_js__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__realTimeCombat_overlay_SingleEngOrientationConstructor_js__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__parsing_ParsingDevInfoCR_js__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__parsing_PrasingBtsInfoCR_js__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__parsing_ParsingData_js__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__realTimeCombat_overlay_DrawBtsEcharts_js__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__realTimeCombat_overlay_DrawMultiBtsEcharts_js__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__realTimeCombat_table_EngPanel_js__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__realTimeCombat_parsing_PrasingLteCatchInfo_js__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__realTimeCombat_parsing_PrasingDevActiveDetailInfo_js__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__parsing_PrasingHistoryTaDataInfo_js__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__realTimeCombat_parsing_PrasingTaDrawInfo_js__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__realTimeCombat_parsing_ParsingMultiBtsInfo_js__ = __webpack_require__(5);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n // 将数据转换为实时作战所支持的格式\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass DrawHrefLoadingOverlay {\r\n\r\n    static drawLoding(endTime) {\r\n\r\n        devIndex = 0;\r\n        btsIndex = 0;\r\n        statusIndex = 0;\r\n        heatmapIndex = 0;\r\n        targetCellInfoIndex = 0;\r\n        /**add by gaochao start */\r\n        devPreLockCellInfoIndex = 0;\r\n        /**add by gaochao end*/\r\n        lteCatchInfoIndex = 0;\r\n        devActiveDetailInfoIndex = 0;\r\n        devActiveEngInfoLogCatch = [];\r\n        lastDevActiveEngInfoReportTime = 0;\r\n        taDataInfoIndex = 0;\r\n        taDrawInfoIndex = 0;\r\n        devTdoaDataInfoLogCatch = [];\r\n        lastTaDataInfoReportTime = 0;\r\n        taCircleProdOverlayCache = [];\r\n        taCircleDebugOverlayCache = [];\r\n        taPointsProdOverlayCache = [];\r\n        taPointsDebugOverlayCache = [];\r\n        taPolygonProdOverlayCache = [];\r\n        taPolygonDebugOverlayCache = [];\r\n        devInfoMap = new Map();\r\n        devDivMap = new Map();\r\n        btsInfoMap = new Map();\r\n        multiBtsInfoMap = new Map();\r\n        btsDivMap = new Map();\r\n        historyDevLineMap = new Map();\r\n        lineOverlayMap.line.forEach((eachLine) => {\r\n            eachLine.line = [];\r\n            eachLine.dataCache = [];\r\n        });\r\n        lineOverlayCountCache = new Map();\r\n        linePassive = { overlay: [], line: [], isShow: true };\r\n        heatmapOverlayCache = new Map();\r\n        passiveActiveStatus = 0;\r\n        carEngOrientationArray = { overlay: [], isShow: true };\r\n        singleEngOrientationArray = { overlay: [], isShow: true };\r\n        targetCellInfosCache = new Map();\r\n        targetCellLineCache = null;\r\n        devStateInfoMapCache = new Map();\r\n        btsAnalysisOverlayCache = [];\r\n        hitedBtsEcharts = new Map();\r\n        hitedBtsCache = { btsId: null, dev: [] };\r\n        devCellAnalysisMap = new Map();\r\n        btsHitEffectionCover = null;\r\n        centerPointDevCode = null;\r\n        // if (flashMarkerInterval != null) {\r\n        //     /* 清除定时器*/\r\n        //     clearInterval(flashMarkerInterval);\r\n        //     flashMarkerInterval = null;\r\n        //     /* 清除canvas*/\r\n        //     $('.bts-hit-canvas').remove();\r\n        // }\r\n\r\n        let _devBaseInfo = historyInfoCache.historyDevBaseInfoList;\r\n        let _btsInfo = historyInfoCache.historyBtsInfoList;\r\n        let _statusInfo = historyInfoCache.historyDevStateInfoList;\r\n        let _targetCellInfo = historyInfoCache.historyTargetCellInfoList;\r\n        /**add by gaochao start */\r\n        let _preLockCellInfo = historyInfoCache.historyPreLockCellInfoList;\r\n        /**add by gaochao end*/\r\n        let _lteCatchInfo = historyInfoCache.historyCatchInfoList;\r\n        let _devActiveDetailInfo = historyInfoCache.historyDevActiveDetailInfoList;\r\n        let _devTdoaDataInfo = historyInfoCache.historyDevTdoaDataInfoList;\r\n        let _devTdoaDrawInfo = historyInfoCache.historyDevTdoaDrawInfoList;\r\n\r\n        let historyDevInfoMap = new Map();\r\n        let cpt = { devCode: null, devType: null, lng: null, lat: null };\r\n        /* 定义中心点*/\r\n        for (let j = 0; j < _devBaseInfo.length; j++) {\r\n            if (_devBaseInfo[j].devType == 1) {\r\n                cpt.devCode = _devBaseInfo[j].devCode;\r\n                cpt.devType = 1;\r\n                cpt.lng = _devBaseInfo[j].lng;\r\n                cpt.lat = _devBaseInfo[j].lat;\r\n                break;\r\n            }\r\n        }\r\n        if (cpt.devCode == null) {\r\n            cpt.devCode = _devBaseInfo[0].devCode;\r\n            cpt.devType = 2;\r\n            cpt.lng = _devBaseInfo[0].lng;\r\n            cpt.lat = _devBaseInfo[0].lat;\r\n        }\r\n        $('.loading-word').html('加载中...');\r\n        $('.search-loading').css('display', 'block');\r\n        /**add by gaochao start */\r\n        if (btsHitTimer.length > 0) {\r\n            for (let i = 0; i < btsHitTimer.length; i++) {\r\n                clearInterval(btsHitTimer[i]);\r\n            }\r\n        }\r\n        /**add by gaochao end*/\r\n\r\n        setTimeout(() => { drawDev(_devBaseInfo, _btsInfo, _statusInfo, _targetCellInfo, _preLockCellInfo, _lteCatchInfo, _devActiveDetailInfo, _devTdoaDataInfo, _devTdoaDrawInfo); }, 50);\r\n\r\n        function drawDev(devBaseInfo, btsInfo, statusInfo, targetCellInfo, preLockCellInfo, lteCatchInfo, devActiveDetailInfo, devTdoaDataInfo, devTdoaDrawInfo) {\r\n            /* 设备*/\r\n            // for (let i = 0; i < btsInfo.length; i++) {\r\n            //     if (btsInfo[i].reportTime > endTime) {\r\n            //         btsIndex = i;\r\n            //         break;\r\n            //     }\r\n            //     let parsedBtsInfo = ParsingData.FormatBtsData(btsInfo[i]);\r\n            //     PrasingBtsInfoCR.prasingBtsInfo(parsedBtsInfo);\r\n            // }\r\n            let btsi = 0;\r\n            //基站集合\r\n            let btsInfoList = []\r\n\r\n            for (let i = 0; i < devBaseInfo.length; i++) {\r\n                while (true) {\r\n                    if (btsi >= btsInfo.length) {\r\n                        break;\r\n                    }\r\n                    if (btsInfo[btsi].reportTime <= devBaseInfo[i].reportTime) {\r\n                        let btsInfoList = [];\r\n                        let btsInfos = btsInfo.slice(0, btsi);\r\n                        for (let i = 0; i < btsInfos.length; i++) {\r\n                            btsInfoList[__WEBPACK_IMPORTED_MODULE_7__parsing_ParsingData_js__[\"a\" /* ParsingData */].FormatBtsData(btsInfos[i]).btsId] = __WEBPACK_IMPORTED_MODULE_7__parsing_ParsingData_js__[\"a\" /* ParsingData */].FormatBtsData(btsInfos[i]);\r\n                        }\r\n                        let btsInfoNew = {};\r\n                        btsInfoNew.btsInfos = btsInfoList;\r\n                        __WEBPACK_IMPORTED_MODULE_15__realTimeCombat_parsing_ParsingMultiBtsInfo_js__[\"a\" /* ParsingMultiBtsInfo */].prasingBtsInfo(btsInfoNew);\r\n                        // let parsedBtsInfo = ParsingData.FormatBtsData(btsInfo[btsi]);\r\n                        // PrasingBtsInfoCR.prasingBtsInfo(parsedBtsInfo);\r\n                        btsIndex = btsi;\r\n                        btsi = btsi + 1;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                /* 更新中心点*/\r\n                if (devBaseInfo[i].devCode == cpt.devCode) {\r\n                    cpt.lng = _devBaseInfo[i].lng;\r\n                    cpt.lat = _devBaseInfo[i].lat;\r\n                }\r\n                if (historyDevLineMap.get(devBaseInfo[i].devCode) == null) {\r\n                    historyDevLineMap.set(devBaseInfo[i].devCode, { line: [], data: [] });\r\n                }\r\n                let currentPoint = __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[devBaseInfo[i].lng, devBaseInfo[i].lat]])[0];\r\n                let currentBaiduPoint = new BMap.Point(currentPoint.lng, currentPoint.lat);\r\n                let lastBaiduPoint = null;\r\n                let lastActiveHit = null;\r\n                if (historyDevInfoMap.get(devBaseInfo[i].devCode) != null) {\r\n                    lastBaiduPoint = historyDevInfoMap.get(devBaseInfo[i].devCode).lastBaiduPoint;\r\n                    lastActiveHit = historyDevInfoMap.get(devBaseInfo[i].devCode).lastActiveHit;\r\n                    /* 精度大于10，使用上一次的GPS信息*/\r\n                    if (devBaseInfo[i].devType == 2 && devBaseInfo[i].accuracy > 50) {\r\n                        currentBaiduPoint = lastBaiduPoint;\r\n                    }\r\n                    /**add by gaochao start */\r\n                    if (devBaseInfo[i].devType == 3 && devBaseInfo[i].accuracy > 50) {\r\n                        currentBaiduPoint = lastBaiduPoint;\r\n                    }\r\n                    /**add by gaochao end*/\r\n\r\n                }\r\n                /* 绘制能量指示*/\r\n                let carEngCache = [0, 0, 0, 0];\r\n                if (devBaseInfo[i].isShow == 1) {\r\n                    switch (devBaseInfo[i].devType) {\r\n                        case 1: // 车载\r\n                            let energyArray;\r\n                            /**edit by gaochao start */\r\n                            if (devBaseInfo[i].eng != null && devBaseInfo[i].eng != \"\") {\r\n                                /**edit by gaochao end */\r\n                                let energyArrayCache = devBaseInfo[i].eng.split('-');\r\n                                energyArray = [Number(energyArrayCache[0]), Number(energyArrayCache[1]), Number(energyArrayCache[2]), Number(energyArrayCache[3])];\r\n                            }\r\n                            if (energyArray != null) {\r\n                                carEngCache = energyArray;\r\n                                if (energyArray[0] != 0 && energyArray[1] != 0 && energyArray[2] != 0 && energyArray[3] != 0) {\r\n                                    // 绘制能量指示\r\n                                    let carEngOriRedraw = true;\r\n                                    for (let j = 0; j < carEngOrientationArray.overlay.length; j++) {\r\n                                        // 去掉重复\r\n                                        let lastCarEngOriPoint = new BMap.Point(carEngOrientationArray.overlay[j].gps.lng, carEngOrientationArray.overlay[j].gps.lat);\r\n                                        let currentCarEngOriPoint = new BMap.Point(devBaseInfo[i].lng, devBaseInfo[i].lat);\r\n                                        if (map.getDistance(lastCarEngOriPoint, currentCarEngOriPoint) <= 5) {\r\n                                            carEngOriRedraw = false;\r\n                                            if (carEngOrientationArray.overlay[j].value < __WEBPACK_IMPORTED_MODULE_1__realTimeCombat_energy_Energy_js__[\"a\" /* Energy */].getEnergyMaxValue(energyArray)) {\r\n                                                map.removeOverlay(carEngOrientationArray.overlay[j].overlay);\r\n                                                carEngOrientationArray.overlay.splice(j, 1);\r\n                                                carEngOriRedraw = true;\r\n                                            }\r\n                                        }\r\n                                        // if (carEngOrientationArray.overlay[j].gps.lng == devBaseInfo[i].lng && carEngOrientationArray.overlay[j].gps.lat == devBaseInfo[i].lat) {\r\n                                        //     map.removeOverlay(carEngOrientationArray.overlay[j].overlay);\r\n                                        //     carEngOrientationArray.overlay.splice(j, 1);\r\n                                        // }\r\n                                    }\r\n                                    if (carEngOriRedraw) {\r\n                                        let carEngOrientation = new __WEBPACK_IMPORTED_MODULE_3__realTimeCombat_overlay_CarEngOrientationConstructor_js__[\"a\" /* CarEngOrientationConstructor */](currentBaiduPoint, energyArray, devBaseInfo[i].northAngle, devBaseInfo[i].devCode, devBaseInfo[i].reportTime);\r\n                                        carEngOrientationArray.overlay.push({ gps: { lng: devBaseInfo[i].lng, lat: devBaseInfo[i].lat }, overlay: carEngOrientation, value: __WEBPACK_IMPORTED_MODULE_1__realTimeCombat_energy_Energy_js__[\"a\" /* Energy */].getEnergyMaxValue(energyArray) });\r\n                                        map.addOverlay(carEngOrientation);\r\n                                        if (!carEngOrientationArray.isShow) {\r\n                                            carEngOrientation.hide();\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            break;\r\n                        case 2: // 单兵\r\n                            if (devBaseInfo[i].eng > 0) {\r\n                                // 绘制能量指示\r\n                                let singleEngOriRedraw = true;\r\n                                for (let j = 0; j < singleEngOrientationArray.overlay.length; j++) {\r\n                                    let lastSingleEngOriPoint = new BMap.Point(singleEngOrientationArray.overlay[j].gps.lng, singleEngOrientationArray.overlay[j].gps.lat);\r\n                                    let currentSingleEngOriPoint = new BMap.Point(devBaseInfo[i].lng, devBaseInfo[i].lat);\r\n                                    if (map.getDistance(lastSingleEngOriPoint, currentSingleEngOriPoint) <= 5) {\r\n                                        singleEngOriRedraw = false;\r\n                                        if (singleEngOrientationArray.overlay[j].value < devBaseInfo[i].eng) {\r\n                                            map.removeOverlay(singleEngOrientationArray.overlay[j].overlay);\r\n                                            singleEngOrientationArray.overlay.splice(j, 1);\r\n                                            singleEngOriRedraw = true;\r\n                                        }\r\n                                    }\r\n                                    // if (singleEngOrientationArray.overlay[j].gps.lng == devBaseInfo[i].lng && singleEngOrientationArray.overlay[j].gps.lat == devBaseInfo[i].lat) {\r\n                                    //     map.removeOverlay(singleEngOrientationArray.overlay[j].overlay);\r\n                                    //     singleEngOrientationArray.overlay.splice(j, 1);\r\n                                    // }\r\n                                }\r\n                                if (singleEngOriRedraw) {\r\n                                    let singleEngOrientation = new __WEBPACK_IMPORTED_MODULE_4__realTimeCombat_overlay_SingleEngOrientationConstructor_js__[\"a\" /* SingleEngOrientationConstructor */](currentBaiduPoint, devBaseInfo[i].eng, devBaseInfo[i].northAngle, devBaseInfo[i].devCode, devBaseInfo[i].reportTime);\r\n                                    singleEngOrientationArray.overlay.push({ gps: { lng: devBaseInfo[i].lng, lat: devBaseInfo[i].lat }, overlay: singleEngOrientation, value: devBaseInfo[i].eng });\r\n                                    map.addOverlay(singleEngOrientation);\r\n                                    if (!singleEngOrientationArray.isShow) {\r\n                                        singleEngOrientation.hide();\r\n                                    }\r\n                                }\r\n                            }\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n                /* 绘制路径线*/\r\n                if (lastBaiduPoint != null) {\r\n                    // if (devBaseInfo[i].status != 0 && historyDevInfoMap.get(devBaseInfo[i].devCode).lastStatus == 1) {\r\n                    if (currentBaiduPoint.lng != lastBaiduPoint.lng && currentBaiduPoint.lat != lastBaiduPoint.lat) {\r\n                        /* 中心点坐标*/\r\n                        let cpGpsBd = __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[cpt.lng, cpt.lat]])[0]\r\n                        let canDrawLine = false; // 根据中心点判断是否绘制路径线\r\n                        if (devBaseInfo[i].devType == 1) { // 车载\r\n                            canDrawLine = true;\r\n                            /**edti by gaochao start */\r\n                            // } else if (devBaseInfo[i].devType == 2) { // 单兵\r\n                        } else if (devBaseInfo[i].devType == 2 || devBaseInfo[i].devType == 3) { // 单兵\r\n                            /**edit by gaochao end */\r\n                            let setCanDrawLine = function (val) {\r\n                                if (cpt.devType == 1) {\r\n                                    /* 单兵以车载为中心*/\r\n                                    if (map.getDistance(new BMap.Point(cpGpsBd.lng, cpGpsBd.lat), currentBaiduPoint) > val) {\r\n                                        canDrawLine = true;\r\n                                    }\r\n                                    /**edti by gaochao start */\r\n                                    // } else if (cpt.devType == 2) {\r\n                                } else if (cpt.devType == 2 || cpt.devType == 3) {\r\n                                    /**edit by gaochao end */\r\n                                    /* 单兵以单兵为中心*/\r\n                                    if (cpt.devCode != devBaseInfo[i].devCode) { // 自己不是中心\r\n                                        if (map.getDistance(new BMap.Point(cpGpsBd.lng, cpGpsBd.lat), currentBaiduPoint) > val) {\r\n                                            canDrawLine = true;\r\n                                        }\r\n                                    } else { // 自己是中心 \r\n                                        canDrawLine = true;\r\n                                    }\r\n                                }\r\n                            }\r\n                            switch (devBaseInfo[i].separateFlag) {\r\n                                case 0:\r\n                                    setCanDrawLine(50);\r\n                                    break;\r\n                                case 1:\r\n                                    canDrawLine = false;\r\n                                    setCanDrawLine(100);\r\n                                    break;\r\n                                case 2:\r\n                                    canDrawLine = true;\r\n                                    break;\r\n                                default:\r\n                                    setCanDrawLine(50);\r\n                                    break;\r\n                            }\r\n                        }\r\n                        let divide = 0;\r\n                        if (devBaseInfo[i].devType == 1) {\r\n                            divide = 70;\r\n                        } else {\r\n                            divide = 35;\r\n                        }\r\n                        if (map.getDistance(currentBaiduPoint, lastBaiduPoint) <= divide) {\r\n                            if (canDrawLine) {\r\n                                historyDevLineMap.get(devBaseInfo[i].devCode).data.push([lastBaiduPoint, currentBaiduPoint]);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if (lastActiveHit != null) {\r\n                    /* 绘制主动式轨迹*/\r\n                    let drawPassiveLine = function () {\r\n                        let passiveActiveLine = new BMap.Polyline([\r\n                            lastBaiduPoint,\r\n                            currentBaiduPoint,\r\n                        ], { strokeColor: 'red', strokeWeight: 5, strokeOpacity: 0.5 });\r\n                        linePassive.line.push(passiveActiveLine);\r\n                        map.addOverlay(passiveActiveLine);\r\n                        if (!linePassive.isShow) {\r\n                            passiveActiveLine.hide();\r\n                        }\r\n                    }\r\n                    if (devBaseInfo[i].activeHit == 1 && lastActiveHit == 1 || devBaseInfo[i].activeHit != 1 && lastActiveHit == 1) {\r\n                        if (currentBaiduPoint.lng != lastBaiduPoint.lng && currentBaiduPoint.lat != lastBaiduPoint.lat) {\r\n                            drawPassiveLine();\r\n                        } else {\r\n                            if (devBaseInfo[i].activeHit == 1 && lastActiveHit != 1) {\r\n                                drawPassiveLine();\r\n                            }\r\n                        }\r\n                    }\r\n                    /* 绘制主动式命中/脱网标记*/\r\n                    let isDrawPassiveActiveMarkerOverlay = 0;\r\n                    if (devBaseInfo[i].activeHit == 1 && lastActiveHit != 1) {\r\n                        isDrawPassiveActiveMarkerOverlay = 1; // 主动式命中\r\n                    } else if (devBaseInfo[i].activeHit != 1 && lastActiveHit == 1) {\r\n                        isDrawPassiveActiveMarkerOverlay = 2; // 主动式脱网\r\n                    }\r\n                    if (isDrawPassiveActiveMarkerOverlay != 0) {\r\n                        let passiveActiveMarkerOverlay = new __WEBPACK_IMPORTED_MODULE_2__realTimeCombat_overlay_PassiveActiveMarkerOverlayConstructor_js__[\"a\" /* PassiveActiveMarkerOverlayConstructor */](currentBaiduPoint, isDrawPassiveActiveMarkerOverlay);\r\n                        linePassive.overlay.push(passiveActiveMarkerOverlay);\r\n                        map.addOverlay(passiveActiveMarkerOverlay);\r\n                        if (!linePassive.isShow) {\r\n                            passiveActiveMarkerOverlay.hide();\r\n                        }\r\n                    }\r\n                }\r\n                /* 结束绘制（放到前面会有路径线中断的问题）*/\r\n                if (i == devBaseInfo.length - 1 || devBaseInfo[i + 1].reportTime > endTime) {\r\n                    let devBaseInfoExistMap = new Map();\r\n                    /* 放置设备*/\r\n                    let isPut = false;\r\n                    for (let j = i; j > 0; j--) {\r\n                        if (devBaseInfoExistMap.get(devBaseInfo[j].devCode) == null) {\r\n                            isPut = true;\r\n                            __WEBPACK_IMPORTED_MODULE_5__parsing_ParsingDevInfoCR_js__[\"a\" /* ParsingDevInfoCR */].parsingDevInfo(__WEBPACK_IMPORTED_MODULE_7__parsing_ParsingData_js__[\"a\" /* ParsingData */].FormatDevData(devBaseInfo[j]));\r\n                            devBaseInfoExistMap.set(devBaseInfo[j].devCode, 'existed');\r\n                        }\r\n                        if (devBaseInfoExistMap.size == replayDevNumCache) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (!isPut) {\r\n                        __WEBPACK_IMPORTED_MODULE_5__parsing_ParsingDevInfoCR_js__[\"a\" /* ParsingDevInfoCR */].parsingDevInfo(__WEBPACK_IMPORTED_MODULE_7__parsing_ParsingData_js__[\"a\" /* ParsingData */].FormatDevData(devBaseInfo[0]));\r\n                    }\r\n                    devIndex = i + 1;\r\n                    /* 设置能量面板*/\r\n                    devBaseInfoExistMap = new Map();\r\n                    for (let j = i; j > 0; j--) {\r\n                        /**edit by gaochao start */\r\n                        if (devBaseInfoExistMap.get(devBaseInfo[j].devCode) == null && devBaseInfo[j].eng != null && devBaseInfo[j].eng != \"\") {\r\n                            /**edit by gaochao end */\r\n                            switch (devBaseInfo[j].devType) {\r\n                                case 1:\r\n                                    let energyArrTemp = devBaseInfo[j].eng.split(\"-\");\r\n                                    energyArrTemp = [Number(energyArrTemp[0]), Number(energyArrTemp[1]), Number(energyArrTemp[2]), Number(energyArrTemp[3])];\r\n                                    __WEBPACK_IMPORTED_MODULE_10__realTimeCombat_table_EngPanel_js__[\"a\" /* EngPanel */].showCarEng(devBaseInfo[j].devCode, energyArrTemp, devBaseInfo[j].reportTime);\r\n                                    break;\r\n                                case 2:\r\n                                    __WEBPACK_IMPORTED_MODULE_10__realTimeCombat_table_EngPanel_js__[\"a\" /* EngPanel */].showCarEng(devBaseInfo[j].devCode, devBaseInfo[j].eng, devBaseInfo[j].reportTime);\r\n                                    break;\r\n                                default:\r\n                                    break;\r\n                            }\r\n                            isPut = true;\r\n                            devBaseInfoExistMap.set(devBaseInfo[j].devCode, 'existed');\r\n                        }\r\n                        if (devBaseInfoExistMap.size == replayDevNumCache) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    /* 绘制路径线，并将当前视角的设备轨迹设置为绿色*/\r\n                    for (let [key, value] of historyDevLineMap) {\r\n                        let lintArrTemp = [];\r\n                        let devRouteLineTemp;\r\n                        for (let i = 0; i < value.data.length; i++) {\r\n                            if (lintArrTemp.length == 0) {\r\n                                lintArrTemp.push(value.data[i][0]);\r\n                                lintArrTemp.push(value.data[i][1]);\r\n                            } else {\r\n                                if (value.data[i][0].lng == value.data[i - 1][1].lng && value.data[i][0].lat == value.data[i - 1][1].lat) {\r\n                                    // lintArrTemp.push(value.data[i][0]);\r\n                                    lintArrTemp.push(value.data[i][1]);\r\n                                } else {\r\n                                    devRouteLineTemp = new BMap.Polyline(lintArrTemp, { strokeColor: '#888', strokeWeight: 5, strokeOpacity: 0.3 });\r\n                                    historyDevLineMap.get(key).line.push(devRouteLineTemp);\r\n                                    lineOverlayMap.line.get(key).line.push(devRouteLineTemp);\r\n                                    map.addOverlay(devRouteLineTemp);\r\n                                    if (!lineOverlayMap.isShow) {\r\n                                        devRouteLineTemp.hide();\r\n                                    }\r\n                                    lintArrTemp = [];\r\n                                    devRouteLineTemp = null;\r\n                                }\r\n                            }\r\n                        }\r\n                        devRouteLineTemp = new BMap.Polyline(lintArrTemp, { strokeColor: '#888', strokeWeight: 5, strokeOpacity: 0.3 });\r\n                        historyDevLineMap.get(key).line.push(devRouteLineTemp);\r\n                        lineOverlayMap.line.get(key).line.push(devRouteLineTemp);\r\n                        map.addOverlay(devRouteLineTemp);\r\n                        if (!lineOverlayMap.isShow) {\r\n                            devRouteLineTemp.hide();\r\n                        }\r\n                        lintArrTemp = [];\r\n                        devRouteLineTemp = null;\r\n                        /*---------------------*/\r\n                        historyDevLineMap.get(key).data = [];\r\n                    }\r\n                    if (historyDevLineMap.get(currentViewDevCode) != null && historyDevLineMap.get(currentViewDevCode).line != null) {\r\n                        for (let j = 0; j < historyDevLineMap.get(currentViewDevCode).line.length; j++) {\r\n                            historyDevLineMap.get(currentViewDevCode).line[j].setStrokeColor('#008030');\r\n                        }\r\n                    }\r\n                    let mapCenterPoint = __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[devBaseInfo[i].lng, devBaseInfo[i].lat]])[0];\r\n                    map.setCenter(new BMap.Point(mapCenterPoint.lng, mapCenterPoint.lat));\r\n                    $('.search-loading').css('display', 'none');\r\n                    break;\r\n                }\r\n                /* 基站命中次数，放到前面命中次数可能会多一次*/\r\n                let hitedBts = { btsId: null, dev: [] };\r\n                /**edit by sunbing start*/\r\n                if (devBaseInfo[i].eng != null && devBaseInfo[i].eng != \"\" && devBaseInfo[i].btsId != '0-0-0-0' && devBaseInfo[i].isShow == 1) {\r\n                    /**edit by sunbing end*/\r\n                    if (multiBtsInfoMap.get(devBaseInfo[i].btsId) != null && multiBtsInfoMap.get(devBaseInfo[i].btsId).type == 1) {\r\n                        if (btsInfoMap.get(devBaseInfo[i].btsId).hitTimes == null) {\r\n                            btsInfoMap.get(devBaseInfo[i].btsId).hitTimes = 0;\r\n                        }\r\n                        btsInfoMap.get(devBaseInfo[i].btsId).hitTimes = btsInfoMap.get(devBaseInfo[i].btsId).hitTimes + 1 // 更新map中的命中次数\r\n                        $(`.bts-click-${devBaseInfo[i].btsId}`).css('z-index', 6000); // z轴置顶\r\n                        $(`.bts-img-${devBaseInfo[i].btsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.bts-click-${devBaseInfo[i].btsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.bts-img-${devBaseInfo[i].btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        if (targetCellInfosCache.get(devBaseInfo[i].btsId) == null) {\r\n                            $(`.bts-img-${devBaseInfo[i].btsId}`).attr('src', `img/btsicon/btsiconhit-${btsInfoMap.get(devBaseInfo[i].btsId).mode}.png`);\r\n                            /**edti by gaochao start */\r\n                            if ((replayCurrentTime - btsInfoMap.get(devBaseInfo[i].btsId).reportTime) < 360000) {\r\n                                $(`.bts-img-${devBaseInfo[i].btsId}`).attr('src', `img/btsicon/btsiconhit-${btsInfoMap.get(devBaseInfo[i].btsId).mode}.png`);\r\n                            } else {\r\n                                $(`.bts-img-${devBaseInfo[i].btsId}`).attr('src', `img/btsicon/btslasthit-${btsInfoMap.get(devBaseInfo[i].btsId).mode}.png`);\r\n                            }\r\n                            /**edit by gaochao end */\r\n                        }\r\n                        // $(`.bts-hit-count-${devBaseInfo[i].btsId}`).html(btsInfoMap.get(devBaseInfo[i].btsId).hitTimes);\r\n                        $(`.bts-hit-count-${devBaseInfo[i].btsId}`).html((btsInfoMap.get(devBaseInfo[i].btsId).dlHitTimes == undefined || btsInfoMap.get(devBaseInfo[i].btsId).dlHitTimes == null) ? btsInfoMap.get(devBaseInfo[i].btsId).hitTimes + \"/0\" : btsInfoMap.get(devBaseInfo[i].btsId).hitTimes + \"/\" + btsInfoMap.get(devBaseInfo[i].btsId).dlHitTimes);\r\n                        /**add by gaochao start */\r\n                        if (btsInfoMap.get(devBaseInfo[i].btsId).hitTimes != 0) {\r\n                            $(`.bts-hit-count-shadow-${devBaseInfo[i].btsId}`).css('display', 'block');\r\n                        }\r\n                        /**add by gaochao end*/\r\n                        if (hitedBtsCache.btsId != devBaseInfo[i].btsId) {\r\n                            hitedBts.btsId = devBaseInfo[i].btsId;\r\n                            hitedBts.dev.push(devBaseInfo[i].devCode);\r\n                            hitedBtsCache = hitedBts;\r\n                        }\r\n                    } else if (multiBtsInfoMap.get(devBaseInfo[i].btsId) != null && multiBtsInfoMap.get(devBaseInfo[i].btsId).type == 2) {\r\n                        if (btsInfoMap.get(devBaseInfo[i].btsId).hitTimes == null) {\r\n                            btsInfoMap.get(devBaseInfo[i].btsId).hitTimes = 0;\r\n                        }\r\n                        btsInfoMap.get(devBaseInfo[i].btsId).hitTimes = btsInfoMap.get(devBaseInfo[i].btsId).hitTimes + 1 // 更新map中的命中次数\r\n                        //复合基站\r\n                        $(`.multi-bts-img-${devBaseInfo[i].btsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.multi-bts-click-${devBaseInfo[i].btsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.multi-bts-img-${devBaseInfo[i].btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.multi-bts-click-${devBaseInfo[i].btsId}`).css('z-index', 6000); // z轴置顶\r\n                        // $(`.multi-bts-hit-count-${key}`).html(btsHitInfo.hitTimes+\"/\"+btsHitInfo.dlHitTimes);\r\n                        $(`.multi-bts-img-${devBaseInfo[i].btsId}`).attr('src', `img/multibtsicon/btsiconhit-${btsInfoMap.get(devBaseInfo[i].btsId).mode}.png`);\r\n                        //子图标添加样式\r\n                        $(`.bts-img-${devBaseInfo[i].btsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.multi-sub-bts-click-${devBaseInfo[i].btsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.bts-img-${devBaseInfo[i].btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.multi-sub-bts-click-${devBaseInfo[i].btsId}`).css('z-index', 6000); // z轴置顶\r\n                        $(`.multi-sub-bts-hit-count-${devBaseInfo[i].btsId}`).html((btsInfoMap.get(devBaseInfo[i].btsId).dlHitTimes == undefined || btsInfoMap.get(devBaseInfo[i].btsId).dlHitTimes == null) ? btsInfoMap.get(devBaseInfo[i].btsId).hitTimes + \"/0\" : btsInfoMap.get(devBaseInfo[i].btsId).hitTimes + \"/\" + btsInfoMap.get(devBaseInfo[i].btsId).dlHitTimes);\r\n                        $(`.multi-sub-bts-hit-count-shadow-${devBaseInfo[i].btsId}`).css('display', 'block');\r\n                        $(`.bts-img-${devBaseInfo[i].btsId}`).attr('src', `img/btsicon/btsiconhit-${btsInfoMap.get(devBaseInfo[i].btsId).mode}.png`);\r\n                        if (hitedBtsCache.btsId != devBaseInfo[i].btsId) {\r\n                            hitedBts.btsId = devBaseInfo[i].btsId;\r\n                            hitedBts.dev.push(devBaseInfo[i].devCode);\r\n                            hitedBtsCache = hitedBts;\r\n                        }\r\n                    } else if (multiBtsInfoMap.get(devBaseInfo[i].btsId) == null && btsInfoMap.get(devBaseInfo[i].btsId) != undefined) {\r\n                        if (btsInfoMap.get(devBaseInfo[i].btsId).hitTimes == null) {\r\n                            btsInfoMap.get(devBaseInfo[i].btsId).hitTimes = 0;\r\n                        }\r\n                        btsInfoMap.get(devBaseInfo[i].btsId).hitTimes = btsInfoMap.get(devBaseInfo[i].btsId).hitTimes + 1 // 更新map中的命中次数\r\n                        let parentBtsId = btsInfoMap.get(devBaseInfo[i].btsId).parentBtsId;\r\n                        $(`.multi-bts-img-${parentBtsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.multi-bts-click-${parentBtsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.multi-bts-img-${parentBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.multi-bts-click-${parentBtsId}`).css('z-index', 6000); // z轴置顶\r\n                        // $(`.multi-bts-hit-count-${parentBtsId}`).html(btsHitInfo.hitTimes+\"/\"+btsHitInfo.dlHitTimes);\r\n                        $(`.multi-bts-img-${parentBtsId}`).attr('src', `img/multibtsicon/btsiconhit-${btsInfoMap.get(devBaseInfo[i].btsId).mode}.png`);\r\n                        //子图标添加样式\r\n                        $(`.bts-img-${devBaseInfo[i].btsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.multi-sub-bts-click-${devBaseInfo[i].btsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.bts-img-${devBaseInfo[i].btsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.multi-sub-bts-click-${devBaseInfo[i].btsId}`).css('z-index', 6000); // z轴置顶\r\n                        $(`.multi-sub-bts-hit-count-${devBaseInfo[i].btsId}`).html((btsInfoMap.get(devBaseInfo[i].btsId).dlHitTimes == undefined || btsInfoMap.get(devBaseInfo[i].btsId).dlHitTimes == null) ? btsInfoMap.get(devBaseInfo[i].btsId).hitTimes + \"/0\" : btsInfoMap.get(devBaseInfo[i].btsId).hitTimes + \"/\" + btsInfoMap.get(devBaseInfo[i].btsId).dlHitTimes);\r\n                        $(`.multi-sub-bts-hit-count-shadow-${devBaseInfo[i].btsId}`).css('display', 'block');\r\n                        $(`.bts-img-${devBaseInfo[i].btsId}`).attr('src', `img/btsicon/btsiconhit-${btsInfoMap.get(devBaseInfo[i].btsId).mode}.png`);\r\n                        if (hitedBtsCache.btsId != devBaseInfo[i].btsId) {\r\n                            hitedBts.btsId = devBaseInfo[i].btsId;\r\n                            hitedBts.dev.push(devBaseInfo[i].devCode);\r\n                            hitedBtsCache = hitedBts;\r\n                        }\r\n                    }\r\n\r\n\r\n                }\r\n\r\n                if (devBaseInfo[i].dlBtsId != undefined && devBaseInfo[i].dlBtsId != '0-0-0-0' && devBaseInfo[i].dlBtsId != '') {\r\n                    /**edit by sunbing end*/\r\n                    if (multiBtsInfoMap.get(devBaseInfo[i].dlBtsId) != null && multiBtsInfoMap.get(devBaseInfo[i].dlBtsId).type == 1) {\r\n                        if (btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes == null) {\r\n                            btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes = 0;\r\n                        }\r\n                        btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes = btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes + 1 // 更新map中的命中次数\r\n                        $(`.bts-click-${devBaseInfo[i].dlBtsId}`).css('z-index', 6000); // z轴置顶\r\n                        $(`.bts-img-${devBaseInfo[i].dlBtsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.bts-click-${devBaseInfo[i].dlBtsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.bts-img-${devBaseInfo[i].dlBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        if (targetCellInfosCache.get(devBaseInfo[i].dlBtsId) == null) {\r\n                            $(`.bts-img-${devBaseInfo[i].dlBtsId}`).attr('src', `img/btsicon/btsiconhit-${btsInfoMap.get(devBaseInfo[i].dlBtsId).mode}.png`);\r\n                            /**edti by gaochao start */\r\n                            if ((replayCurrentTime - btsInfoMap.get(devBaseInfo[i].dlBtsId).reportTime) < 360000) {\r\n                                $(`.bts-img-${devBaseInfo[i].dlBtsId}`).attr('src', `img/btsicon/btsiconhit-${btsInfoMap.get(devBaseInfo[i].dlBtsId).mode}.png`);\r\n                            } else {\r\n                                $(`.bts-img-${devBaseInfo[i].dlBtsId}`).attr('src', `img/btsicon/btslasthit-${btsInfoMap.get(devBaseInfo[i].dlBtsId).mode}.png`);\r\n                            }\r\n                            /**edit by gaochao end */\r\n                        }\r\n                        // $(`.bts-hit-count-${devBaseInfo[i].dlBtsId}`).html(btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes);\r\n                        $(`.bts-hit-count-${devBaseInfo[i].dlBtsId}`).html((btsInfoMap.get(devBaseInfo[i].dlBtsId).hitTimes == undefined || btsInfoMap.get(devBaseInfo[i].dlBtsId).hitTimes == null) ? \"/0\" + btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes : btsInfoMap.get(devBaseInfo[i].dlBtsId).hitTimes + \"/\" + btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes);\r\n\r\n                        /**add by gaochao start */\r\n                        if (btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes != 0) {\r\n                            $(`.bts-hit-count-shadow-${devBaseInfo[i].dlBtsId}`).css('display', 'block');\r\n                        }\r\n                        /**add by gaochao end*/\r\n                        if (hitedBtsCache.btsId != devBaseInfo[i].dlBtsId) {\r\n                            hitedBts.btsId = devBaseInfo[i].dlBtsId;\r\n                            hitedBts.dev.push(devBaseInfo[i].devCode);\r\n                            hitedBtsCache = hitedBts;\r\n                        }\r\n                    } else if (multiBtsInfoMap.get(devBaseInfo[i].dlBtsId) != null && multiBtsInfoMap.get(devBaseInfo[i].dlBtsId).type == 2) {\r\n                        if (btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes == null) {\r\n                            btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes = 0;\r\n                        }\r\n                        btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes = btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes + 1 // 更新map中的命中次数\r\n                        //复合基站\r\n                        $(`.multi-bts-img-${devBaseInfo[i].dlBtsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.multi-bts-click-${devBaseInfo[i].dlBtsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.multi-bts-img-${devBaseInfo[i].dlBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.multi-bts-click-${devBaseInfo[i].dlBtsId}`).css('z-index', 6000); // z轴置顶\r\n                        // $(`.multi-bts-hit-count-${key}`).html(btsHitInfo.hitTimes+\"/\"+btsHitInfo.dlHitTimes);\r\n                        $(`.multi-bts-img-${devBaseInfo[i].dlBtsId}`).attr('src', `img/multibtsicon/btsiconhit-${btsInfoMap.get(devBaseInfo[i].dlBtsId).mode}.png`);\r\n                        //子图标添加样式\r\n                        $(`.bts-img-${devBaseInfo[i].dlBtsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.multi-sub-bts-click-${devBaseInfo[i].dlBtsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.bts-img-${devBaseInfo[i].dlBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.multi-sub-bts-click-${devBaseInfo[i].dlBtsId}`).css('z-index', 6000); // z轴置顶\r\n                        $(`.multi-sub-bts-hit-count-${devBaseInfo[i].dlBtsId}`).html((btsInfoMap.get(devBaseInfo[i].dlBtsId).hitTimes == undefined || btsInfoMap.get(devBaseInfo[i].dlBtsId).hitTimes == null) ? \"/0\" + btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes : btsInfoMap.get(devBaseInfo[i].dlBtsId).hitTimes + \"/\" + btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes);\r\n                        $(`.multi-sub-bts-hit-count-shadow-${devBaseInfo[i].dlBtsId}`).css('display', 'block');\r\n                        $(`.bts-img-${devBaseInfo[i].dlBtsId}`).attr('src', `img/btsicon/btsiconhit-${btsInfoMap.get(devBaseInfo[i].dlBtsId).mode}.png`);\r\n\r\n                        if (hitedBtsCache.btsId != devBaseInfo[i].dlBtsId) {\r\n                            hitedBts.btsId = devBaseInfo[i].dlBtsId;\r\n                            hitedBts.dev.push(devBaseInfo[i].devCode);\r\n                            hitedBtsCache = hitedBts;\r\n                        }\r\n                    }\r\n                    else if (multiBtsInfoMap.get(devBaseInfo[i].dlBtsId) == null && btsInfoMap.get(devBaseInfo[i].dlBtsId) != undefined) {\r\n                        if (btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes == null) {\r\n                            btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes = 0;\r\n                        }\r\n                        btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes = btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes + 1 // 更新map中的命中次数\r\n                        let parentBtsId = btsInfoMap.get(devBaseInfo[i].dlBtsId).parentBtsId;\r\n                        $(`.multi-bts-img-${parentBtsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.multi-bts-click-${parentBtsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.multi-bts-img-${parentBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.multi-bts-click-${parentBtsId}`).css('z-index', 6000); // z轴置顶\r\n                        // $(`.multi-bts-hit-count-${parentBtsId}`).html(btsHitInfo.hitTimes+\"/\"+btsHitInfo.dlHitTimes);\r\n                        $(`.multi-bts-img-${parentBtsId}`).attr('src', `img/multibtsicon/btsiconhit-${btsInfoMap.get(devBaseInfo[i].dlBtsId).mode}.png`);\r\n                        //子图标添加样式\r\n                        $(`.bts-img-${devBaseInfo[i].dlBtsId}`).removeClass('bts-img-unhit'); // 去除未命中标记\r\n                        $(`.multi-sub-bts-click-${devBaseInfo[i].dlBtsId}`).removeClass('bts-click-unhit'); // 去除未命中标记\r\n                        $(`.bts-img-${devBaseInfo[i].dlBtsId}`).removeClass('gray-cover'); // 去除灰色滤镜\r\n                        $(`.multi-sub-bts-click-${devBaseInfo[i].dlBtsId}`).css('z-index', 6000); // z轴置顶\r\n                        $(`.multi-sub-bts-hit-count-${devBaseInfo[i].dlBtsId}`).html((btsInfoMap.get(devBaseInfo[i].dlBtsId).hitTimes == undefined || btsInfoMap.get(devBaseInfo[i].dlBtsId).hitTimes == null) ? \"/0\" + btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes : btsInfoMap.get(devBaseInfo[i].dlBtsId).hitTimes + \"/\" + btsInfoMap.get(devBaseInfo[i].dlBtsId).dlHitTimes);\r\n                        $(`.multi-sub-bts-hit-count-shadow-${devBaseInfo[i].dlBtsId}`).css('display', 'block');\r\n                        $(`.bts-img-${devBaseInfo[i].dlBtsId}`).attr('src', `img/btsicon/btsiconhit-${btsInfoMap.get(devBaseInfo[i].dlBtsId).mode}.png`);\r\n\r\n                        if (hitedBtsCache.btsId != devBaseInfo[i].dlBtsId) {\r\n                            hitedBts.btsId = devBaseInfo[i].dlBtsId;\r\n                            hitedBts.dev.push(devBaseInfo[i].devCode);\r\n                            hitedBtsCache = hitedBts;\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n\r\n\r\n                /**edit by sunbing start*/\r\n                if (hitedBts.btsId != null && hitedBts.btsId != \"\" && isBtsOpen) {\r\n                    /**edit by sunbing end*/\r\n                    __WEBPACK_IMPORTED_MODULE_9__realTimeCombat_overlay_DrawMultiBtsEcharts_js__[\"a\" /* DrawMultiBtsEcharts */].showBtsStyleCSS(hitedBts);\r\n                }\r\n                /* */\r\n                historyDevInfoMap.set(devBaseInfo[i].devCode, {\r\n                    lastBaiduPoint: currentBaiduPoint,\r\n                    lastActiveHit: devBaseInfo[i].activeHit,\r\n                    lastStatus: devBaseInfo[i].status,\r\n                });\r\n            }\r\n            /* 设备主动式详细信息 */\r\n            if (devActiveDetailInfo && devActiveDetailInfo.length > 0) {\r\n                for (let i = 0; i < devActiveDetailInfo.length; i++) {\r\n                    __WEBPACK_IMPORTED_MODULE_12__realTimeCombat_parsing_PrasingDevActiveDetailInfo_js__[\"a\" /* PrasingDevActiveDetailInfo */].showDevActiveEngLogInfo(devActiveDetailInfo[i]);\r\n                    if (new Date(devActiveDetailInfo[i].reportTime).getTime() > endTime) {\r\n                        devActiveDetailInfoIndex = i;\r\n                        __WEBPACK_IMPORTED_MODULE_12__realTimeCombat_parsing_PrasingDevActiveDetailInfo_js__[\"a\" /* PrasingDevActiveDetailInfo */].showDevActiveDetailInfo(devActiveDetailInfo[i]);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            /* 基站解析*/\r\n            for (let i = 0; i < statusInfo.length; i++) {\r\n                if (statusInfo[i].reportTime > endTime) {\r\n                    statusIndex = i;\r\n                    __WEBPACK_IMPORTED_MODULE_6__parsing_PrasingBtsInfoCR_js__[\"a\" /* PrasingBtsInfoCR */].prasingStatusInfo(statusInfo[i]);\r\n                    break;\r\n                }\r\n            }\r\n            /* 目标小区*/\r\n            for (let i = 0; i < targetCellInfo.length; i++) {\r\n                if (targetCellInfo[i].createTime > endTime) {\r\n                    targetCellInfoIndex = i;\r\n                    break;\r\n                }\r\n                targetCellInfosCache.set(targetCellInfo[i].btsId, targetCellInfo[i]);\r\n                __WEBPACK_IMPORTED_MODULE_6__parsing_PrasingBtsInfoCR_js__[\"a\" /* PrasingBtsInfoCR */].showTargetCell();\r\n            }\r\n            /**add by gaochao start */\r\n            /* 预锁基站*/\r\n            for (let i = 0; i < preLockCellInfo.length; i++) {\r\n                if (preLockCellInfo[i].createTime > endTime) {\r\n                    devPreLockCellInfoIndex = i;\r\n                    break;\r\n                }\r\n                // preLockCellInfosCache.set(preLockCellInfo[i].btsId, preLockCellInfo[i]);\r\n                // PrasingBtsInfoCR.showPreLockCell();\r\n            }\r\n            /**add by gaochao end*/\r\n            \r\n            /* 目标所在基站LTE信息（Catch）*/\r\n            if (lteCatchInfo && lteCatchInfo.length > 0) {\r\n                for (let i = 0; i < lteCatchInfo.length; i++) {\r\n                    if (new Date(lteCatchInfo[i].reportTime).getTime() > endTime) {\r\n                        lteCatchInfoIndex = i;\r\n                        __WEBPACK_IMPORTED_MODULE_11__realTimeCombat_parsing_PrasingLteCatchInfo_js__[\"a\" /* PrasingLteCatchInfo */].showLteCatchInfo(lteCatchInfo[i]);\r\n                        break;\r\n                    }\r\n                    /**/\r\n                }\r\n            }\r\n            // /* 设备主动式详细信息 */\r\n            // if (devActiveDetailInfo && devActiveDetailInfo.length > 0) {\r\n            //     for (let i = 0; i < devActiveDetailInfo.length; i++) {\r\n            //         PrasingDevActiveDetailInfo.showDevActiveEngLogInfo(devActiveDetailInfo[i]);\r\n            //         if (new Date(devActiveDetailInfo[i].reportTime).getTime() > endTime) {\r\n            //             devActiveDetailInfoIndex = i;\r\n            //             PrasingDevActiveDetailInfo.showDevActiveDetailInfo(devActiveDetailInfo[i]);\r\n            //             break;\r\n            //         }\r\n            //     }\r\n            // }\r\n\r\n            /* 设备TA Data信息 */\r\n            if (devTdoaDataInfo && devTdoaDataInfo.length > 0) {\r\n                for (let i = 0; i < devTdoaDataInfo.length; i++) {\r\n                    if (new Date(devTdoaDataInfo[i].reportTime).getTime() > endTime) {\r\n                        break;\r\n                    } else {\r\n                        __WEBPACK_IMPORTED_MODULE_13__parsing_PrasingHistoryTaDataInfo_js__[\"a\" /* PrasingHistoryTaDataInfo */].showTaDataInfo(devTdoaDataInfo[i]);\r\n                        taDataInfoIndex = i;\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            /* 设备TA Draw信息 */\r\n            if (devTdoaDrawInfo && devTdoaDrawInfo.length > 0) {\r\n                for (let i = 0; i < devTdoaDrawInfo.length; i++) {\r\n                    if (new Date(devTdoaDrawInfo[i].reportTime).getTime() > endTime) {\r\n                        if (i > 0) {\r\n                            __WEBPACK_IMPORTED_MODULE_14__realTimeCombat_parsing_PrasingTaDrawInfo_js__[\"a\" /* PrasingTaDrawInfo */].showTaDrawInfo(devTdoaDrawInfo[i]);\r\n                        }\r\n                        taDrawInfoIndex = i;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            historyRouteLineIsFinish = true;\r\n        }\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = DrawHrefLoadingOverlay;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9vdmVybGF5L0RyYXdIcmVmTG9hZGluZ092ZXJsYXkuanM/ZGM4NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF1RjtBQUN4Qjs7QUFFK0Q7QUFDbEI7QUFDTTs7QUFFaEQ7QUFDQTtBQUNWO0FBQ3dCO0FBQ1U7O0FBRXhCO0FBQ3dCO0FBQ2M7QUFDdEI7QUFDSTtBQUNJOztBQUVuRjs7QUFFUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQSx1QkFBdUIseUJBQXlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix3QkFBd0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMEJBQTBCLDBKQUEwSixFQUFFOztBQUV0TDtBQUNBO0FBQ0EsOEJBQThCLG9CQUFvQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkIsd0JBQXdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHFCQUFxQjtBQUM1RCx3Q0FBd0MsNEVBQVcscUNBQXFDLDRFQUFXO0FBQ25HO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0R0FBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLHFCQUFxQjtBQUN4RjtBQUNBLG1DQUFtQyxxR0FBZTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELDJDQUEyQztBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEZBQTBGLGdGQUFNO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsNkhBQTRCO0FBQ2hHLDZFQUE2RSxPQUFPLG1EQUFtRCxxQ0FBcUMsZ0ZBQU0saUNBQWlDO0FBQ25OO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyw4Q0FBOEM7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsbUlBQStCO0FBQ2xHLDRFQUE0RSxPQUFPLG1EQUFtRCw0REFBNEQ7QUFDbE07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscUdBQWU7QUFDckQsZ0RBQWdEO0FBQ2hELDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0EsZ0NBQWdDLHdDQUF3QztBQUN4RSx5QkFBeUIsdUVBQXVFO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxnRkFBZ0Y7QUFDaEY7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLE9BQU87QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMERBQTBEO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdELHFCQUFxQjtBQUNyQiw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBLDZEQUE2RCwrSUFBcUM7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLE9BQU87QUFDMUM7QUFDQTtBQUNBLDRCQUE0QixzRkFBZ0IsZ0JBQWdCLDRFQUFXO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNGQUFnQixnQkFBZ0IsNEVBQVc7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsT0FBTztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxvRkFBUTtBQUM1QztBQUNBO0FBQ0Esb0NBQW9DLG9GQUFRO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx1QkFBdUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyx1RkFBdUYsMkRBQTJEO0FBQ2xKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsMkRBQTJEO0FBQ3RJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywyREFBMkQ7QUFDbEc7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHFHQUFlO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxxQkFBcUIsd0JBQXdCO0FBQ3JGLHNDQUFzQyxxQkFBcUIsZ0NBQWdDO0FBQzNGLHdDQUF3QyxxQkFBcUIsa0NBQWtDO0FBQy9GLHNDQUFzQyxxQkFBcUIsNkJBQTZCO0FBQ3hGO0FBQ0EsMENBQTBDLHFCQUFxQix5Q0FBeUMsMENBQTBDO0FBQ2xKO0FBQ0E7QUFDQSw4Q0FBOEMscUJBQXFCLHlDQUF5QywwQ0FBMEM7QUFDdEosNkJBQTZCO0FBQzdCLDhDQUE4QyxxQkFBcUIseUNBQXlDLDBDQUEwQztBQUN0SjtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MscUJBQXFCO0FBQ3BFLDRDQUE0QyxxQkFBcUI7QUFDakU7QUFDQTtBQUNBLHVEQUF1RCxxQkFBcUI7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxxQkFBcUIsZ0NBQWdDO0FBQ2pHLDhDQUE4QyxxQkFBcUIsa0NBQWtDO0FBQ3JHLDRDQUE0QyxxQkFBcUIsNkJBQTZCO0FBQzlGLDhDQUE4QyxxQkFBcUIsd0JBQXdCO0FBQzNGLHFEQUFxRCxJQUFJO0FBQ3pELDRDQUE0QyxxQkFBcUIsOENBQThDLDBDQUEwQztBQUN6SjtBQUNBLHNDQUFzQyxxQkFBcUIsZ0NBQWdDO0FBQzNGLGtEQUFrRCxxQkFBcUIsa0NBQWtDO0FBQ3pHLHNDQUFzQyxxQkFBcUIsNkJBQTZCO0FBQ3hGLGtEQUFrRCxxQkFBcUIsd0JBQXdCO0FBQy9GLHNEQUFzRCxxQkFBcUI7QUFDM0UsNkRBQTZELHFCQUFxQjtBQUNsRixzQ0FBc0MscUJBQXFCLHlDQUF5QywwQ0FBMEM7QUFDOUk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFlBQVksZ0NBQWdDO0FBQ3hGLDhDQUE4QyxZQUFZLGtDQUFrQztBQUM1Riw0Q0FBNEMsWUFBWSw2QkFBNkI7QUFDckYsOENBQThDLFlBQVksd0JBQXdCO0FBQ2xGLHFEQUFxRCxZQUFZO0FBQ2pFLDRDQUE0QyxZQUFZLDhDQUE4QywwQ0FBMEM7QUFDaEo7QUFDQSxzQ0FBc0MscUJBQXFCLGdDQUFnQztBQUMzRixrREFBa0QscUJBQXFCLGtDQUFrQztBQUN6RyxzQ0FBc0MscUJBQXFCLDZCQUE2QjtBQUN4RixrREFBa0QscUJBQXFCLHdCQUF3QjtBQUMvRixzREFBc0QscUJBQXFCO0FBQzNFLDZEQUE2RCxxQkFBcUI7QUFDbEYsc0NBQXNDLHFCQUFxQix5Q0FBeUMsMENBQTBDO0FBQzlJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsdUJBQXVCLHdCQUF3QjtBQUN2RixzQ0FBc0MsdUJBQXVCLGdDQUFnQztBQUM3Rix3Q0FBd0MsdUJBQXVCLGtDQUFrQztBQUNqRyxzQ0FBc0MsdUJBQXVCLDZCQUE2QjtBQUMxRjtBQUNBLDBDQUEwQyx1QkFBdUIseUNBQXlDLDRDQUE0QztBQUN0SjtBQUNBO0FBQ0EsOENBQThDLHVCQUF1Qix5Q0FBeUMsNENBQTRDO0FBQzFKLDZCQUE2QjtBQUM3Qiw4Q0FBOEMsdUJBQXVCLHlDQUF5Qyw0Q0FBNEM7QUFDMUo7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLHVCQUF1QjtBQUN0RSw0Q0FBNEMsdUJBQXVCOztBQUVuRTtBQUNBO0FBQ0EsdURBQXVELHVCQUF1QjtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHVCQUF1QixnQ0FBZ0M7QUFDbkcsOENBQThDLHVCQUF1QixrQ0FBa0M7QUFDdkcsNENBQTRDLHVCQUF1Qiw2QkFBNkI7QUFDaEcsOENBQThDLHVCQUF1Qix3QkFBd0I7QUFDN0YscURBQXFELElBQUk7QUFDekQsNENBQTRDLHVCQUF1Qiw4Q0FBOEMsNENBQTRDO0FBQzdKO0FBQ0Esc0NBQXNDLHVCQUF1QixnQ0FBZ0M7QUFDN0Ysa0RBQWtELHVCQUF1QixrQ0FBa0M7QUFDM0csc0NBQXNDLHVCQUF1Qiw2QkFBNkI7QUFDMUYsa0RBQWtELHVCQUF1Qix3QkFBd0I7QUFDakcsc0RBQXNELHVCQUF1QjtBQUM3RSw2REFBNkQsdUJBQXVCO0FBQ3BGLHNDQUFzQyx1QkFBdUIseUNBQXlDLDRDQUE0Qzs7QUFFbEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFlBQVksZ0NBQWdDO0FBQ3hGLDhDQUE4QyxZQUFZLGtDQUFrQztBQUM1Riw0Q0FBNEMsWUFBWSw2QkFBNkI7QUFDckYsOENBQThDLFlBQVksd0JBQXdCO0FBQ2xGLHFEQUFxRCxZQUFZO0FBQ2pFLDRDQUE0QyxZQUFZLDhDQUE4Qyw0Q0FBNEM7QUFDbEo7QUFDQSxzQ0FBc0MsdUJBQXVCLGdDQUFnQztBQUM3RixrREFBa0QsdUJBQXVCLGtDQUFrQztBQUMzRyxzQ0FBc0MsdUJBQXVCLDZCQUE2QjtBQUMxRixrREFBa0QsdUJBQXVCLHdCQUF3QjtBQUNqRyxzREFBc0QsdUJBQXVCO0FBQzdFLDZEQUE2RCx1QkFBdUI7QUFDcEYsc0NBQXNDLHVCQUF1Qix5Q0FBeUMsNENBQTRDOztBQUVsSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMkdBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0NBQWdDO0FBQy9ELG9CQUFvQiwwSEFBMEI7QUFDOUM7QUFDQTtBQUNBLHdCQUF3QiwwSEFBMEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1QkFBdUI7QUFDbEQ7QUFDQTtBQUNBLG9CQUFvQixzRkFBZ0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMkJBQTJCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isc0ZBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw0QkFBNEI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCLHlCQUF5QjtBQUN4RDtBQUNBO0FBQ0Esd0JBQXdCLDRHQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxnQ0FBZ0M7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCLDRCQUE0QjtBQUMzRDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLHdCQUF3Qix1R0FBd0I7QUFDaEQ7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSwrQkFBK0IsNEJBQTRCO0FBQzNEO0FBQ0E7QUFDQSw0QkFBNEIsd0dBQWlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBLEMiLCJmaWxlIjoiNDguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHUFNUb0JhaWR1UG9pbnQgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vYmFpZHVNYXAvR1BTVG9CYWlkdVBvaW50LkJhaWR1TWFwLmpzJztcclxuaW1wb3J0IHsgRW5lcmd5IH0gZnJvbSAnLi4vLi4vcmVhbFRpbWVDb21iYXQvZW5lcmd5L0VuZXJneS5qcyc7XHJcblxyXG5pbXBvcnQgeyBQYXNzaXZlQWN0aXZlTWFya2VyT3ZlcmxheUNvbnN0cnVjdG9yIH0gZnJvbSAnLi4vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9QYXNzaXZlQWN0aXZlTWFya2VyT3ZlcmxheUNvbnN0cnVjdG9yLmpzJztcclxuaW1wb3J0IHsgQ2FyRW5nT3JpZW50YXRpb25Db25zdHJ1Y3RvciB9IGZyb20gJy4uLy4uL3JlYWxUaW1lQ29tYmF0L292ZXJsYXkvQ2FyRW5nT3JpZW50YXRpb25Db25zdHJ1Y3Rvci5qcyc7XHJcbmltcG9ydCB7IFNpbmdsZUVuZ09yaWVudGF0aW9uQ29uc3RydWN0b3IgfSBmcm9tICcuLi8uLi9yZWFsVGltZUNvbWJhdC9vdmVybGF5L1NpbmdsZUVuZ09yaWVudGF0aW9uQ29uc3RydWN0b3IuanMnO1xyXG5cclxuaW1wb3J0IHsgUGFyc2luZ0RldkluZm9DUiB9IGZyb20gJy4uL3BhcnNpbmcvUGFyc2luZ0RldkluZm9DUi5qcyc7XHJcbmltcG9ydCB7IFByYXNpbmdCdHNJbmZvQ1IgfSBmcm9tICcuLi9wYXJzaW5nL1ByYXNpbmdCdHNJbmZvQ1IuanMnO1xyXG5pbXBvcnQgeyBQYXJzaW5nRGF0YSB9IGZyb20gJy4uL3BhcnNpbmcvUGFyc2luZ0RhdGEuanMnOyAvLyDlsIbmlbDmja7ovazmjaLkuLrlrp7ml7bkvZzmiJjmiYDmlK/mjIHnmoTmoLzlvI9cclxuaW1wb3J0IHsgRHJhd0J0c0VjaGFydHMgfSBmcm9tICcuLi8uLi9yZWFsVGltZUNvbWJhdC9vdmVybGF5L0RyYXdCdHNFY2hhcnRzLmpzJztcclxuaW1wb3J0IHsgRHJhd011bHRpQnRzRWNoYXJ0cyB9IGZyb20gJy4uLy4uL3JlYWxUaW1lQ29tYmF0L292ZXJsYXkvRHJhd011bHRpQnRzRWNoYXJ0cy5qcyc7XHJcblxyXG5pbXBvcnQgeyBFbmdQYW5lbCB9IGZyb20gJy4uLy4uL3JlYWxUaW1lQ29tYmF0L3RhYmxlL0VuZ1BhbmVsLmpzJztcclxuaW1wb3J0IHsgUHJhc2luZ0x0ZUNhdGNoSW5mbyB9IGZyb20gJy4uLy4uL3JlYWxUaW1lQ29tYmF0L3BhcnNpbmcvUHJhc2luZ0x0ZUNhdGNoSW5mby5qcyc7XHJcbmltcG9ydCB7IFByYXNpbmdEZXZBY3RpdmVEZXRhaWxJbmZvIH0gZnJvbSAnLi4vLi4vcmVhbFRpbWVDb21iYXQvcGFyc2luZy9QcmFzaW5nRGV2QWN0aXZlRGV0YWlsSW5mby5qcyc7XHJcbmltcG9ydCB7IFByYXNpbmdIaXN0b3J5VGFEYXRhSW5mbyB9IGZyb20gJy4uL3BhcnNpbmcvUHJhc2luZ0hpc3RvcnlUYURhdGFJbmZvLmpzJztcclxuaW1wb3J0IHsgUHJhc2luZ1RhRHJhd0luZm8gfSBmcm9tICcuLi8uLi9yZWFsVGltZUNvbWJhdC9wYXJzaW5nL1ByYXNpbmdUYURyYXdJbmZvLmpzJztcclxuaW1wb3J0IHsgUGFyc2luZ011bHRpQnRzSW5mbyB9IGZyb20gJy4uLy4uL3JlYWxUaW1lQ29tYmF0L3BhcnNpbmcvUGFyc2luZ011bHRpQnRzSW5mby5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRHJhd0hyZWZMb2FkaW5nT3ZlcmxheSB7XHJcblxyXG4gICAgc3RhdGljIGRyYXdMb2RpbmcoZW5kVGltZSkge1xyXG5cclxuICAgICAgICBkZXZJbmRleCA9IDA7XHJcbiAgICAgICAgYnRzSW5kZXggPSAwO1xyXG4gICAgICAgIHN0YXR1c0luZGV4ID0gMDtcclxuICAgICAgICBoZWF0bWFwSW5kZXggPSAwO1xyXG4gICAgICAgIHRhcmdldENlbGxJbmZvSW5kZXggPSAwO1xyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgZGV2UHJlTG9ja0NlbGxJbmZvSW5kZXggPSAwO1xyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICAgICAgbHRlQ2F0Y2hJbmZvSW5kZXggPSAwO1xyXG4gICAgICAgIGRldkFjdGl2ZURldGFpbEluZm9JbmRleCA9IDA7XHJcbiAgICAgICAgZGV2QWN0aXZlRW5nSW5mb0xvZ0NhdGNoID0gW107XHJcbiAgICAgICAgbGFzdERldkFjdGl2ZUVuZ0luZm9SZXBvcnRUaW1lID0gMDtcclxuICAgICAgICB0YURhdGFJbmZvSW5kZXggPSAwO1xyXG4gICAgICAgIHRhRHJhd0luZm9JbmRleCA9IDA7XHJcbiAgICAgICAgZGV2VGRvYURhdGFJbmZvTG9nQ2F0Y2ggPSBbXTtcclxuICAgICAgICBsYXN0VGFEYXRhSW5mb1JlcG9ydFRpbWUgPSAwO1xyXG4gICAgICAgIHRhQ2lyY2xlUHJvZE92ZXJsYXlDYWNoZSA9IFtdO1xyXG4gICAgICAgIHRhQ2lyY2xlRGVidWdPdmVybGF5Q2FjaGUgPSBbXTtcclxuICAgICAgICB0YVBvaW50c1Byb2RPdmVybGF5Q2FjaGUgPSBbXTtcclxuICAgICAgICB0YVBvaW50c0RlYnVnT3ZlcmxheUNhY2hlID0gW107XHJcbiAgICAgICAgdGFQb2x5Z29uUHJvZE92ZXJsYXlDYWNoZSA9IFtdO1xyXG4gICAgICAgIHRhUG9seWdvbkRlYnVnT3ZlcmxheUNhY2hlID0gW107XHJcbiAgICAgICAgZGV2SW5mb01hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICBkZXZEaXZNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgYnRzSW5mb01hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICBtdWx0aUJ0c0luZm9NYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgYnRzRGl2TWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGhpc3RvcnlEZXZMaW5lTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGxpbmVPdmVybGF5TWFwLmxpbmUuZm9yRWFjaCgoZWFjaExpbmUpID0+IHtcclxuICAgICAgICAgICAgZWFjaExpbmUubGluZSA9IFtdO1xyXG4gICAgICAgICAgICBlYWNoTGluZS5kYXRhQ2FjaGUgPSBbXTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaW5lT3ZlcmxheUNvdW50Q2FjaGUgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgbGluZVBhc3NpdmUgPSB7IG92ZXJsYXk6IFtdLCBsaW5lOiBbXSwgaXNTaG93OiB0cnVlIH07XHJcbiAgICAgICAgaGVhdG1hcE92ZXJsYXlDYWNoZSA9IG5ldyBNYXAoKTtcclxuICAgICAgICBwYXNzaXZlQWN0aXZlU3RhdHVzID0gMDtcclxuICAgICAgICBjYXJFbmdPcmllbnRhdGlvbkFycmF5ID0geyBvdmVybGF5OiBbXSwgaXNTaG93OiB0cnVlIH07XHJcbiAgICAgICAgc2luZ2xlRW5nT3JpZW50YXRpb25BcnJheSA9IHsgb3ZlcmxheTogW10sIGlzU2hvdzogdHJ1ZSB9O1xyXG4gICAgICAgIHRhcmdldENlbGxJbmZvc0NhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRhcmdldENlbGxMaW5lQ2FjaGUgPSBudWxsO1xyXG4gICAgICAgIGRldlN0YXRlSW5mb01hcENhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGJ0c0FuYWx5c2lzT3ZlcmxheUNhY2hlID0gW107XHJcbiAgICAgICAgaGl0ZWRCdHNFY2hhcnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGhpdGVkQnRzQ2FjaGUgPSB7IGJ0c0lkOiBudWxsLCBkZXY6IFtdIH07XHJcbiAgICAgICAgZGV2Q2VsbEFuYWx5c2lzTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGJ0c0hpdEVmZmVjdGlvbkNvdmVyID0gbnVsbDtcclxuICAgICAgICBjZW50ZXJQb2ludERldkNvZGUgPSBudWxsO1xyXG4gICAgICAgIC8vIGlmIChmbGFzaE1hcmtlckludGVydmFsICE9IG51bGwpIHtcclxuICAgICAgICAvLyAgICAgLyog5riF6Zmk5a6a5pe25ZmoKi9cclxuICAgICAgICAvLyAgICAgY2xlYXJJbnRlcnZhbChmbGFzaE1hcmtlckludGVydmFsKTtcclxuICAgICAgICAvLyAgICAgZmxhc2hNYXJrZXJJbnRlcnZhbCA9IG51bGw7XHJcbiAgICAgICAgLy8gICAgIC8qIOa4hemZpGNhbnZhcyovXHJcbiAgICAgICAgLy8gICAgICQoJy5idHMtaGl0LWNhbnZhcycpLnJlbW92ZSgpO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgbGV0IF9kZXZCYXNlSW5mbyA9IGhpc3RvcnlJbmZvQ2FjaGUuaGlzdG9yeURldkJhc2VJbmZvTGlzdDtcclxuICAgICAgICBsZXQgX2J0c0luZm8gPSBoaXN0b3J5SW5mb0NhY2hlLmhpc3RvcnlCdHNJbmZvTGlzdDtcclxuICAgICAgICBsZXQgX3N0YXR1c0luZm8gPSBoaXN0b3J5SW5mb0NhY2hlLmhpc3RvcnlEZXZTdGF0ZUluZm9MaXN0O1xyXG4gICAgICAgIGxldCBfdGFyZ2V0Q2VsbEluZm8gPSBoaXN0b3J5SW5mb0NhY2hlLmhpc3RvcnlUYXJnZXRDZWxsSW5mb0xpc3Q7XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICBsZXQgX3ByZUxvY2tDZWxsSW5mbyA9IGhpc3RvcnlJbmZvQ2FjaGUuaGlzdG9yeVByZUxvY2tDZWxsSW5mb0xpc3Q7XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICBsZXQgX2x0ZUNhdGNoSW5mbyA9IGhpc3RvcnlJbmZvQ2FjaGUuaGlzdG9yeUNhdGNoSW5mb0xpc3Q7XHJcbiAgICAgICAgbGV0IF9kZXZBY3RpdmVEZXRhaWxJbmZvID0gaGlzdG9yeUluZm9DYWNoZS5oaXN0b3J5RGV2QWN0aXZlRGV0YWlsSW5mb0xpc3Q7XHJcbiAgICAgICAgbGV0IF9kZXZUZG9hRGF0YUluZm8gPSBoaXN0b3J5SW5mb0NhY2hlLmhpc3RvcnlEZXZUZG9hRGF0YUluZm9MaXN0O1xyXG4gICAgICAgIGxldCBfZGV2VGRvYURyYXdJbmZvID0gaGlzdG9yeUluZm9DYWNoZS5oaXN0b3J5RGV2VGRvYURyYXdJbmZvTGlzdDtcclxuXHJcbiAgICAgICAgbGV0IGhpc3RvcnlEZXZJbmZvTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGxldCBjcHQgPSB7IGRldkNvZGU6IG51bGwsIGRldlR5cGU6IG51bGwsIGxuZzogbnVsbCwgbGF0OiBudWxsIH07XHJcbiAgICAgICAgLyog5a6a5LmJ5Lit5b+D54K5Ki9cclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IF9kZXZCYXNlSW5mby5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAoX2RldkJhc2VJbmZvW2pdLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgY3B0LmRldkNvZGUgPSBfZGV2QmFzZUluZm9bal0uZGV2Q29kZTtcclxuICAgICAgICAgICAgICAgIGNwdC5kZXZUeXBlID0gMTtcclxuICAgICAgICAgICAgICAgIGNwdC5sbmcgPSBfZGV2QmFzZUluZm9bal0ubG5nO1xyXG4gICAgICAgICAgICAgICAgY3B0LmxhdCA9IF9kZXZCYXNlSW5mb1tqXS5sYXQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY3B0LmRldkNvZGUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjcHQuZGV2Q29kZSA9IF9kZXZCYXNlSW5mb1swXS5kZXZDb2RlO1xyXG4gICAgICAgICAgICBjcHQuZGV2VHlwZSA9IDI7XHJcbiAgICAgICAgICAgIGNwdC5sbmcgPSBfZGV2QmFzZUluZm9bMF0ubG5nO1xyXG4gICAgICAgICAgICBjcHQubGF0ID0gX2RldkJhc2VJbmZvWzBdLmxhdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnLmxvYWRpbmctd29yZCcpLmh0bWwoJ+WKoOi9veS4rS4uLicpO1xyXG4gICAgICAgICQoJy5zZWFyY2gtbG9hZGluZycpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgaWYgKGJ0c0hpdFRpbWVyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidHNIaXRUaW1lci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChidHNIaXRUaW1lcltpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IGRyYXdEZXYoX2RldkJhc2VJbmZvLCBfYnRzSW5mbywgX3N0YXR1c0luZm8sIF90YXJnZXRDZWxsSW5mbywgX3ByZUxvY2tDZWxsSW5mbywgX2x0ZUNhdGNoSW5mbywgX2RldkFjdGl2ZURldGFpbEluZm8sIF9kZXZUZG9hRGF0YUluZm8sIF9kZXZUZG9hRHJhd0luZm8pOyB9LCA1MCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRyYXdEZXYoZGV2QmFzZUluZm8sIGJ0c0luZm8sIHN0YXR1c0luZm8sIHRhcmdldENlbGxJbmZvLCBwcmVMb2NrQ2VsbEluZm8sIGx0ZUNhdGNoSW5mbywgZGV2QWN0aXZlRGV0YWlsSW5mbywgZGV2VGRvYURhdGFJbmZvLCBkZXZUZG9hRHJhd0luZm8pIHtcclxuICAgICAgICAgICAgLyog6K6+5aSHKi9cclxuICAgICAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBidHNJbmZvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBpZiAoYnRzSW5mb1tpXS5yZXBvcnRUaW1lID4gZW5kVGltZSkge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGJ0c0luZGV4ID0gaTtcclxuICAgICAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gICAgIGxldCBwYXJzZWRCdHNJbmZvID0gUGFyc2luZ0RhdGEuRm9ybWF0QnRzRGF0YShidHNJbmZvW2ldKTtcclxuICAgICAgICAgICAgLy8gICAgIFByYXNpbmdCdHNJbmZvQ1IucHJhc2luZ0J0c0luZm8ocGFyc2VkQnRzSW5mbyk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgbGV0IGJ0c2kgPSAwO1xyXG4gICAgICAgICAgICAvL+WfuuermembhuWQiFxyXG4gICAgICAgICAgICBsZXQgYnRzSW5mb0xpc3QgPSBbXVxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXZCYXNlSW5mby5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnRzaSA+PSBidHNJbmZvLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ0c0luZm9bYnRzaV0ucmVwb3J0VGltZSA8PSBkZXZCYXNlSW5mb1tpXS5yZXBvcnRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBidHNJbmZvTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYnRzSW5mb3MgPSBidHNJbmZvLnNsaWNlKDAsIGJ0c2kpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ0c0luZm9zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidHNJbmZvTGlzdFtQYXJzaW5nRGF0YS5Gb3JtYXRCdHNEYXRhKGJ0c0luZm9zW2ldKS5idHNJZF0gPSBQYXJzaW5nRGF0YS5Gb3JtYXRCdHNEYXRhKGJ0c0luZm9zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYnRzSW5mb05ldyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidHNJbmZvTmV3LmJ0c0luZm9zID0gYnRzSW5mb0xpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBhcnNpbmdNdWx0aUJ0c0luZm8ucHJhc2luZ0J0c0luZm8oYnRzSW5mb05ldyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCBwYXJzZWRCdHNJbmZvID0gUGFyc2luZ0RhdGEuRm9ybWF0QnRzRGF0YShidHNJbmZvW2J0c2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJhc2luZ0J0c0luZm9DUi5wcmFzaW5nQnRzSW5mbyhwYXJzZWRCdHNJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRzSW5kZXggPSBidHNpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidHNpID0gYnRzaSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyog5pu05paw5Lit5b+D54K5Ki9cclxuICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlID09IGNwdC5kZXZDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3B0LmxuZyA9IF9kZXZCYXNlSW5mb1tpXS5sbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgY3B0LmxhdCA9IF9kZXZCYXNlSW5mb1tpXS5sYXQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeURldkxpbmVNYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRldkNvZGUpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5RGV2TGluZU1hcC5zZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSwgeyBsaW5lOiBbXSwgZGF0YTogW10gfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFBvaW50ID0gR1BTVG9CYWlkdVBvaW50LmdldEJhaWR1UG9pbnRMb2NhdGlvbihbW2RldkJhc2VJbmZvW2ldLmxuZywgZGV2QmFzZUluZm9baV0ubGF0XV0pWzBdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRCYWlkdVBvaW50ID0gbmV3IEJNYXAuUG9pbnQoY3VycmVudFBvaW50LmxuZywgY3VycmVudFBvaW50LmxhdCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGFzdEJhaWR1UG9pbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RBY3RpdmVIaXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlEZXZJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdEJhaWR1UG9pbnQgPSBoaXN0b3J5RGV2SW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubGFzdEJhaWR1UG9pbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdEFjdGl2ZUhpdCA9IGhpc3RvcnlEZXZJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5sYXN0QWN0aXZlSGl0O1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIOeyvuW6puWkp+S6jjEw77yM5L2/55So5LiK5LiA5qyh55qER1BT5L+h5oGvKi9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZGV2VHlwZSA9PSAyICYmIGRldkJhc2VJbmZvW2ldLmFjY3VyYWN5ID4gNTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJhaWR1UG9pbnQgPSBsYXN0QmFpZHVQb2ludDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZGV2VHlwZSA9PSAzICYmIGRldkJhc2VJbmZvW2ldLmFjY3VyYWN5ID4gNTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJhaWR1UG9pbnQgPSBsYXN0QmFpZHVQb2ludDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiDnu5jliLbog73ph4/mjIfnpLoqL1xyXG4gICAgICAgICAgICAgICAgbGV0IGNhckVuZ0NhY2hlID0gWzAsIDAsIDAsIDBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmlzU2hvdyA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkZXZCYXNlSW5mb1tpXS5kZXZUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTogLy8g6L2m6L29XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW5lcmd5QXJyYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5lbmcgIT0gbnVsbCAmJiBkZXZCYXNlSW5mb1tpXS5lbmcgIT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW5lcmd5QXJyYXlDYWNoZSA9IGRldkJhc2VJbmZvW2ldLmVuZy5zcGxpdCgnLScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZXJneUFycmF5ID0gW051bWJlcihlbmVyZ3lBcnJheUNhY2hlWzBdKSwgTnVtYmVyKGVuZXJneUFycmF5Q2FjaGVbMV0pLCBOdW1iZXIoZW5lcmd5QXJyYXlDYWNoZVsyXSksIE51bWJlcihlbmVyZ3lBcnJheUNhY2hlWzNdKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5lcmd5QXJyYXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhckVuZ0NhY2hlID0gZW5lcmd5QXJyYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZXJneUFycmF5WzBdICE9IDAgJiYgZW5lcmd5QXJyYXlbMV0gIT0gMCAmJiBlbmVyZ3lBcnJheVsyXSAhPSAwICYmIGVuZXJneUFycmF5WzNdICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g57uY5Yi26IO96YeP5oyH56S6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYXJFbmdPcmlSZWRyYXcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNhckVuZ09yaWVudGF0aW9uQXJyYXkub3ZlcmxheS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Y675o6J6YeN5aSNXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdENhckVuZ09yaVBvaW50ID0gbmV3IEJNYXAuUG9pbnQoY2FyRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5W2pdLmdwcy5sbmcsIGNhckVuZ09yaWVudGF0aW9uQXJyYXkub3ZlcmxheVtqXS5ncHMubGF0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50Q2FyRW5nT3JpUG9pbnQgPSBuZXcgQk1hcC5Qb2ludChkZXZCYXNlSW5mb1tpXS5sbmcsIGRldkJhc2VJbmZvW2ldLmxhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFwLmdldERpc3RhbmNlKGxhc3RDYXJFbmdPcmlQb2ludCwgY3VycmVudENhckVuZ09yaVBvaW50KSA8PSA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyRW5nT3JpUmVkcmF3ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhckVuZ09yaWVudGF0aW9uQXJyYXkub3ZlcmxheVtqXS52YWx1ZSA8IEVuZXJneS5nZXRFbmVyZ3lNYXhWYWx1ZShlbmVyZ3lBcnJheSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkoY2FyRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5W2pdLm92ZXJsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJFbmdPcmllbnRhdGlvbkFycmF5Lm92ZXJsYXkuc3BsaWNlKGosIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJFbmdPcmlSZWRyYXcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChjYXJFbmdPcmllbnRhdGlvbkFycmF5Lm92ZXJsYXlbal0uZ3BzLmxuZyA9PSBkZXZCYXNlSW5mb1tpXS5sbmcgJiYgY2FyRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5W2pdLmdwcy5sYXQgPT0gZGV2QmFzZUluZm9baV0ubGF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgbWFwLnJlbW92ZU92ZXJsYXkoY2FyRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5W2pdLm92ZXJsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNhckVuZ09yaWVudGF0aW9uQXJyYXkub3ZlcmxheS5zcGxpY2UoaiwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhckVuZ09yaVJlZHJhdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhckVuZ09yaWVudGF0aW9uID0gbmV3IENhckVuZ09yaWVudGF0aW9uQ29uc3RydWN0b3IoY3VycmVudEJhaWR1UG9pbnQsIGVuZXJneUFycmF5LCBkZXZCYXNlSW5mb1tpXS5ub3J0aEFuZ2xlLCBkZXZCYXNlSW5mb1tpXS5kZXZDb2RlLCBkZXZCYXNlSW5mb1tpXS5yZXBvcnRUaW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhckVuZ09yaWVudGF0aW9uQXJyYXkub3ZlcmxheS5wdXNoKHsgZ3BzOiB7IGxuZzogZGV2QmFzZUluZm9baV0ubG5nLCBsYXQ6IGRldkJhc2VJbmZvW2ldLmxhdCB9LCBvdmVybGF5OiBjYXJFbmdPcmllbnRhdGlvbiwgdmFsdWU6IEVuZXJneS5nZXRFbmVyZ3lNYXhWYWx1ZShlbmVyZ3lBcnJheSkgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuYWRkT3ZlcmxheShjYXJFbmdPcmllbnRhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhckVuZ09yaWVudGF0aW9uQXJyYXkuaXNTaG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyRW5nT3JpZW50YXRpb24uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjogLy8g5Y2V5YW1XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZW5nID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOe7mOWItuiDvemHj+aMh+ekulxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzaW5nbGVFbmdPcmlSZWRyYXcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2luZ2xlRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsYXN0U2luZ2xlRW5nT3JpUG9pbnQgPSBuZXcgQk1hcC5Qb2ludChzaW5nbGVFbmdPcmllbnRhdGlvbkFycmF5Lm92ZXJsYXlbal0uZ3BzLmxuZywgc2luZ2xlRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5W2pdLmdwcy5sYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudFNpbmdsZUVuZ09yaVBvaW50ID0gbmV3IEJNYXAuUG9pbnQoZGV2QmFzZUluZm9baV0ubG5nLCBkZXZCYXNlSW5mb1tpXS5sYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFwLmdldERpc3RhbmNlKGxhc3RTaW5nbGVFbmdPcmlQb2ludCwgY3VycmVudFNpbmdsZUVuZ09yaVBvaW50KSA8PSA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVFbmdPcmlSZWRyYXcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaW5nbGVFbmdPcmllbnRhdGlvbkFycmF5Lm92ZXJsYXlbal0udmFsdWUgPCBkZXZCYXNlSW5mb1tpXS5lbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAucmVtb3ZlT3ZlcmxheShzaW5nbGVFbmdPcmllbnRhdGlvbkFycmF5Lm92ZXJsYXlbal0ub3ZlcmxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5LnNwbGljZShqLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVFbmdPcmlSZWRyYXcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChzaW5nbGVFbmdPcmllbnRhdGlvbkFycmF5Lm92ZXJsYXlbal0uZ3BzLmxuZyA9PSBkZXZCYXNlSW5mb1tpXS5sbmcgJiYgc2luZ2xlRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5W2pdLmdwcy5sYXQgPT0gZGV2QmFzZUluZm9baV0ubGF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBtYXAucmVtb3ZlT3ZlcmxheShzaW5nbGVFbmdPcmllbnRhdGlvbkFycmF5Lm92ZXJsYXlbal0ub3ZlcmxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBzaW5nbGVFbmdPcmllbnRhdGlvbkFycmF5Lm92ZXJsYXkuc3BsaWNlKGosIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaW5nbGVFbmdPcmlSZWRyYXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNpbmdsZUVuZ09yaWVudGF0aW9uID0gbmV3IFNpbmdsZUVuZ09yaWVudGF0aW9uQ29uc3RydWN0b3IoY3VycmVudEJhaWR1UG9pbnQsIGRldkJhc2VJbmZvW2ldLmVuZywgZGV2QmFzZUluZm9baV0ubm9ydGhBbmdsZSwgZGV2QmFzZUluZm9baV0uZGV2Q29kZSwgZGV2QmFzZUluZm9baV0ucmVwb3J0VGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZUVuZ09yaWVudGF0aW9uQXJyYXkub3ZlcmxheS5wdXNoKHsgZ3BzOiB7IGxuZzogZGV2QmFzZUluZm9baV0ubG5nLCBsYXQ6IGRldkJhc2VJbmZvW2ldLmxhdCB9LCBvdmVybGF5OiBzaW5nbGVFbmdPcmllbnRhdGlvbiwgdmFsdWU6IGRldkJhc2VJbmZvW2ldLmVuZyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLmFkZE92ZXJsYXkoc2luZ2xlRW5nT3JpZW50YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNpbmdsZUVuZ09yaWVudGF0aW9uQXJyYXkuaXNTaG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVFbmdPcmllbnRhdGlvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIOe7mOWItui3r+W+hOe6vyovXHJcbiAgICAgICAgICAgICAgICBpZiAobGFzdEJhaWR1UG9pbnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChkZXZCYXNlSW5mb1tpXS5zdGF0dXMgIT0gMCAmJiBoaXN0b3J5RGV2SW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubGFzdFN0YXR1cyA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRCYWlkdVBvaW50LmxuZyAhPSBsYXN0QmFpZHVQb2ludC5sbmcgJiYgY3VycmVudEJhaWR1UG9pbnQubGF0ICE9IGxhc3RCYWlkdVBvaW50LmxhdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiDkuK3lv4PngrnlnZDmoIcqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3BHcHNCZCA9IEdQU1RvQmFpZHVQb2ludC5nZXRCYWlkdVBvaW50TG9jYXRpb24oW1tjcHQubG5nLCBjcHQubGF0XV0pWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW5EcmF3TGluZSA9IGZhbHNlOyAvLyDmoLnmja7kuK3lv4PngrnliKTmlq3mmK/lkKbnu5jliLbot6/lvoTnur9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmRldlR5cGUgPT0gMSkgeyAvLyDovabovb1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkRyYXdMaW5lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIGlmIChkZXZCYXNlSW5mb1tpXS5kZXZUeXBlID09IDIpIHsgLy8g5Y2V5YW1XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGV2QmFzZUluZm9baV0uZGV2VHlwZSA9PSAyIHx8IGRldkJhc2VJbmZvW2ldLmRldlR5cGUgPT0gMykgeyAvLyDljZXlhbVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZXRDYW5EcmF3TGluZSA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3B0LmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiDljZXlhbXku6Xovabovb3kuLrkuK3lv4MqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFwLmdldERpc3RhbmNlKG5ldyBCTWFwLlBvaW50KGNwR3BzQmQubG5nLCBjcEdwc0JkLmxhdCksIGN1cnJlbnRCYWlkdVBvaW50KSA+IHZhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuRHJhd0xpbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYgKGNwdC5kZXZUeXBlID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNwdC5kZXZUeXBlID09IDIgfHwgY3B0LmRldlR5cGUgPT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIOWNleWFteS7peWNleWFteS4uuS4reW/gyovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcHQuZGV2Q29kZSAhPSBkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKSB7IC8vIOiHquW3seS4jeaYr+S4reW/g1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcC5nZXREaXN0YW5jZShuZXcgQk1hcC5Qb2ludChjcEdwc0JkLmxuZywgY3BHcHNCZC5sYXQpLCBjdXJyZW50QmFpZHVQb2ludCkgPiB2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5EcmF3TGluZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIOiHquW3seaYr+S4reW/gyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkRyYXdMaW5lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZGV2QmFzZUluZm9baV0uc2VwYXJhdGVGbGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYW5EcmF3TGluZSg1MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuRHJhd0xpbmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FuRHJhd0xpbmUoMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5EcmF3TGluZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhbkRyYXdMaW5lKDUwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpdmlkZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5kZXZUeXBlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdmlkZSA9IDcwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2aWRlID0gMzU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcC5nZXREaXN0YW5jZShjdXJyZW50QmFpZHVQb2ludCwgbGFzdEJhaWR1UG9pbnQpIDw9IGRpdmlkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbkRyYXdMaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeURldkxpbmVNYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRldkNvZGUpLmRhdGEucHVzaChbbGFzdEJhaWR1UG9pbnQsIGN1cnJlbnRCYWlkdVBvaW50XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobGFzdEFjdGl2ZUhpdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyog57uY5Yi25Li75Yqo5byP6L2o6L+5Ki9cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZHJhd1Bhc3NpdmVMaW5lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFzc2l2ZUFjdGl2ZUxpbmUgPSBuZXcgQk1hcC5Qb2x5bGluZShbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0QmFpZHVQb2ludCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCYWlkdVBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLCB7IHN0cm9rZUNvbG9yOiAncmVkJywgc3Ryb2tlV2VpZ2h0OiA1LCBzdHJva2VPcGFjaXR5OiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQYXNzaXZlLmxpbmUucHVzaChwYXNzaXZlQWN0aXZlTGluZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5hZGRPdmVybGF5KHBhc3NpdmVBY3RpdmVMaW5lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsaW5lUGFzc2l2ZS5pc1Nob3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NpdmVBY3RpdmVMaW5lLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uYWN0aXZlSGl0ID09IDEgJiYgbGFzdEFjdGl2ZUhpdCA9PSAxIHx8IGRldkJhc2VJbmZvW2ldLmFjdGl2ZUhpdCAhPSAxICYmIGxhc3RBY3RpdmVIaXQgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEJhaWR1UG9pbnQubG5nICE9IGxhc3RCYWlkdVBvaW50LmxuZyAmJiBjdXJyZW50QmFpZHVQb2ludC5sYXQgIT0gbGFzdEJhaWR1UG9pbnQubGF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3UGFzc2l2ZUxpbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5hY3RpdmVIaXQgPT0gMSAmJiBsYXN0QWN0aXZlSGl0ICE9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3UGFzc2l2ZUxpbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvKiDnu5jliLbkuLvliqjlvI/lkb3kuK0v6ISx572R5qCH6K6wKi9cclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXNEcmF3UGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5hY3RpdmVIaXQgPT0gMSAmJiBsYXN0QWN0aXZlSGl0ICE9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEcmF3UGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXkgPSAxOyAvLyDkuLvliqjlvI/lkb3kuK1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRldkJhc2VJbmZvW2ldLmFjdGl2ZUhpdCAhPSAxICYmIGxhc3RBY3RpdmVIaXQgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0RyYXdQYXNzaXZlQWN0aXZlTWFya2VyT3ZlcmxheSA9IDI7IC8vIOS4u+WKqOW8j+iEsee9kVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEcmF3UGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXkgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXkgPSBuZXcgUGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXlDb25zdHJ1Y3RvcihjdXJyZW50QmFpZHVQb2ludCwgaXNEcmF3UGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lUGFzc2l2ZS5vdmVybGF5LnB1c2gocGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuYWRkT3ZlcmxheShwYXNzaXZlQWN0aXZlTWFya2VyT3ZlcmxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGluZVBhc3NpdmUuaXNTaG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzaXZlQWN0aXZlTWFya2VyT3ZlcmxheS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiDnu5PmnZ/nu5jliLbvvIjmlL7liLDliY3pnaLkvJrmnInot6/lvoTnur/kuK3mlq3nmoTpl67popjvvIkqL1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gZGV2QmFzZUluZm8ubGVuZ3RoIC0gMSB8fCBkZXZCYXNlSW5mb1tpICsgMV0ucmVwb3J0VGltZSA+IGVuZFRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGV2QmFzZUluZm9FeGlzdE1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiDmlL7nva7orr7lpIcqL1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpc1B1dCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpOyBqID4gMDsgai0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb0V4aXN0TWFwLmdldChkZXZCYXNlSW5mb1tqXS5kZXZDb2RlKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1B1dCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJzaW5nRGV2SW5mb0NSLnBhcnNpbmdEZXZJbmZvKFBhcnNpbmdEYXRhLkZvcm1hdERldkRhdGEoZGV2QmFzZUluZm9bal0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldkJhc2VJbmZvRXhpc3RNYXAuc2V0KGRldkJhc2VJbmZvW2pdLmRldkNvZGUsICdleGlzdGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvRXhpc3RNYXAuc2l6ZSA9PSByZXBsYXlEZXZOdW1DYWNoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1B1dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQYXJzaW5nRGV2SW5mb0NSLnBhcnNpbmdEZXZJbmZvKFBhcnNpbmdEYXRhLkZvcm1hdERldkRhdGEoZGV2QmFzZUluZm9bMF0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2SW5kZXggPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAvKiDorr7nva7og73ph4/pnaLmnb8qL1xyXG4gICAgICAgICAgICAgICAgICAgIGRldkJhc2VJbmZvRXhpc3RNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGk7IGogPiAwOyBqLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqZWRpdCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb0V4aXN0TWFwLmdldChkZXZCYXNlSW5mb1tqXS5kZXZDb2RlKSA9PSBudWxsICYmIGRldkJhc2VJbmZvW2pdLmVuZyAhPSBudWxsICYmIGRldkJhc2VJbmZvW2pdLmVuZyAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRldkJhc2VJbmZvW2pdLmRldlR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbmVyZ3lBcnJUZW1wID0gZGV2QmFzZUluZm9bal0uZW5nLnNwbGl0KFwiLVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lcmd5QXJyVGVtcCA9IFtOdW1iZXIoZW5lcmd5QXJyVGVtcFswXSksIE51bWJlcihlbmVyZ3lBcnJUZW1wWzFdKSwgTnVtYmVyKGVuZXJneUFyclRlbXBbMl0pLCBOdW1iZXIoZW5lcmd5QXJyVGVtcFszXSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmdQYW5lbC5zaG93Q2FyRW5nKGRldkJhc2VJbmZvW2pdLmRldkNvZGUsIGVuZXJneUFyclRlbXAsIGRldkJhc2VJbmZvW2pdLnJlcG9ydFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZ1BhbmVsLnNob3dDYXJFbmcoZGV2QmFzZUluZm9bal0uZGV2Q29kZSwgZGV2QmFzZUluZm9bal0uZW5nLCBkZXZCYXNlSW5mb1tqXS5yZXBvcnRUaW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1B1dCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZCYXNlSW5mb0V4aXN0TWFwLnNldChkZXZCYXNlSW5mb1tqXS5kZXZDb2RlLCAnZXhpc3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb0V4aXN0TWFwLnNpemUgPT0gcmVwbGF5RGV2TnVtQ2FjaGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qIOe7mOWItui3r+W+hOe6v++8jOW5tuWwhuW9k+WJjeinhuinkueahOiuvuWkh+i9qOi/ueiuvue9ruS4uue7v+iJsiovXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIGhpc3RvcnlEZXZMaW5lTWFwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsaW50QXJyVGVtcCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGV2Um91dGVMaW5lVGVtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5kYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGludEFyclRlbXAubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW50QXJyVGVtcC5wdXNoKHZhbHVlLmRhdGFbaV1bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbnRBcnJUZW1wLnB1c2godmFsdWUuZGF0YVtpXVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5kYXRhW2ldWzBdLmxuZyA9PSB2YWx1ZS5kYXRhW2kgLSAxXVsxXS5sbmcgJiYgdmFsdWUuZGF0YVtpXVswXS5sYXQgPT0gdmFsdWUuZGF0YVtpIC0gMV1bMV0ubGF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpbnRBcnJUZW1wLnB1c2godmFsdWUuZGF0YVtpXVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbnRBcnJUZW1wLnB1c2godmFsdWUuZGF0YVtpXVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2Um91dGVMaW5lVGVtcCA9IG5ldyBCTWFwLlBvbHlsaW5lKGxpbnRBcnJUZW1wLCB7IHN0cm9rZUNvbG9yOiAnIzg4OCcsIHN0cm9rZVdlaWdodDogNSwgc3Ryb2tlT3BhY2l0eTogMC4zIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5RGV2TGluZU1hcC5nZXQoa2V5KS5saW5lLnB1c2goZGV2Um91dGVMaW5lVGVtcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVPdmVybGF5TWFwLmxpbmUuZ2V0KGtleSkubGluZS5wdXNoKGRldlJvdXRlTGluZVRlbXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuYWRkT3ZlcmxheShkZXZSb3V0ZUxpbmVUZW1wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsaW5lT3ZlcmxheU1hcC5pc1Nob3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldlJvdXRlTGluZVRlbXAuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbnRBcnJUZW1wID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldlJvdXRlTGluZVRlbXAgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZSb3V0ZUxpbmVUZW1wID0gbmV3IEJNYXAuUG9seWxpbmUobGludEFyclRlbXAsIHsgc3Ryb2tlQ29sb3I6ICcjODg4Jywgc3Ryb2tlV2VpZ2h0OiA1LCBzdHJva2VPcGFjaXR5OiAwLjMgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnlEZXZMaW5lTWFwLmdldChrZXkpLmxpbmUucHVzaChkZXZSb3V0ZUxpbmVUZW1wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZU92ZXJsYXlNYXAubGluZS5nZXQoa2V5KS5saW5lLnB1c2goZGV2Um91dGVMaW5lVGVtcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5hZGRPdmVybGF5KGRldlJvdXRlTGluZVRlbXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxpbmVPdmVybGF5TWFwLmlzU2hvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2Um91dGVMaW5lVGVtcC5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGludEFyclRlbXAgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2Um91dGVMaW5lVGVtcCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeURldkxpbmVNYXAuZ2V0KGtleSkuZGF0YSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeURldkxpbmVNYXAuZ2V0KGN1cnJlbnRWaWV3RGV2Q29kZSkgIT0gbnVsbCAmJiBoaXN0b3J5RGV2TGluZU1hcC5nZXQoY3VycmVudFZpZXdEZXZDb2RlKS5saW5lICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBoaXN0b3J5RGV2TGluZU1hcC5nZXQoY3VycmVudFZpZXdEZXZDb2RlKS5saW5lLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5RGV2TGluZU1hcC5nZXQoY3VycmVudFZpZXdEZXZDb2RlKS5saW5lW2pdLnNldFN0cm9rZUNvbG9yKCcjMDA4MDMwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hcENlbnRlclBvaW50ID0gR1BTVG9CYWlkdVBvaW50LmdldEJhaWR1UG9pbnRMb2NhdGlvbihbW2RldkJhc2VJbmZvW2ldLmxuZywgZGV2QmFzZUluZm9baV0ubGF0XV0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5zZXRDZW50ZXIobmV3IEJNYXAuUG9pbnQobWFwQ2VudGVyUG9pbnQubG5nLCBtYXBDZW50ZXJQb2ludC5sYXQpKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuc2VhcmNoLWxvYWRpbmcnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyog5Z+656uZ5ZG95Lit5qyh5pWw77yM5pS+5Yiw5YmN6Z2i5ZG95Lit5qyh5pWw5Y+v6IO95Lya5aSa5LiA5qyhKi9cclxuICAgICAgICAgICAgICAgIGxldCBoaXRlZEJ0cyA9IHsgYnRzSWQ6IG51bGwsIGRldjogW10gfTtcclxuICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgc3VuYmluZyBzdGFydCovXHJcbiAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZW5nICE9IG51bGwgJiYgZGV2QmFzZUluZm9baV0uZW5nICE9IFwiXCIgJiYgZGV2QmFzZUluZm9baV0uYnRzSWQgIT0gJzAtMC0wLTAnICYmIGRldkJhc2VJbmZvW2ldLmlzU2hvdyA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqZWRpdCBieSBzdW5iaW5nIGVuZCovXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG11bHRpQnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uYnRzSWQpICE9IG51bGwgJiYgbXVsdGlCdHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkudHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkuaGl0VGltZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uYnRzSWQpLmhpdFRpbWVzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkuaGl0VGltZXMgPSBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkuaGl0VGltZXMgKyAxIC8vIOabtOaWsG1hcOS4reeahOWRveS4reasoeaVsFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWNsaWNrLSR7ZGV2QmFzZUluZm9baV0uYnRzSWR9YCkuY3NzKCd6LWluZGV4JywgNjAwMCk7IC8vIHrovbTnva7pobZcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtkZXZCYXNlSW5mb1tpXS5idHNJZH1gKS5yZW1vdmVDbGFzcygnYnRzLWltZy11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1jbGljay0ke2RldkJhc2VJbmZvW2ldLmJ0c0lkfWApLnJlbW92ZUNsYXNzKCdidHMtY2xpY2stdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZGV2QmFzZUluZm9baV0uYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRDZWxsSW5mb3NDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uYnRzSWQpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZGV2QmFzZUluZm9baV0uYnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2ljb25oaXQtJHtidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiplZHRpIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocmVwbGF5Q3VycmVudFRpbWUgLSBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkucmVwb3J0VGltZSkgPCAzNjAwMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvW2ldLmJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNpY29uaGl0LSR7YnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uYnRzSWQpLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvW2ldLmJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNsYXN0aGl0LSR7YnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uYnRzSWQpLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqZWRpdCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoYC5idHMtaGl0LWNvdW50LSR7ZGV2QmFzZUluZm9baV0uYnRzSWR9YCkuaHRtbChidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkuaGl0VGltZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWhpdC1jb3VudC0ke2RldkJhc2VJbmZvW2ldLmJ0c0lkfWApLmh0bWwoKGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmJ0c0lkKS5kbEhpdFRpbWVzID09IHVuZGVmaW5lZCB8fCBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkuZGxIaXRUaW1lcyA9PSBudWxsKSA/IGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmJ0c0lkKS5oaXRUaW1lcyArIFwiLzBcIiA6IGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmJ0c0lkKS5oaXRUaW1lcyArIFwiL1wiICsgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uYnRzSWQpLmRsSGl0VGltZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uYnRzSWQpLmhpdFRpbWVzICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaGl0LWNvdW50LXNoYWRvdy0ke2RldkJhc2VJbmZvW2ldLmJ0c0lkfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoaXRlZEJ0c0NhY2hlLmJ0c0lkICE9IGRldkJhc2VJbmZvW2ldLmJ0c0lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRlZEJ0cy5idHNJZCA9IGRldkJhc2VJbmZvW2ldLmJ0c0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHMuZGV2LnB1c2goZGV2QmFzZUluZm9baV0uZGV2Q29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRlZEJ0c0NhY2hlID0gaGl0ZWRCdHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG11bHRpQnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uYnRzSWQpICE9IG51bGwgJiYgbXVsdGlCdHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkudHlwZSA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkuaGl0VGltZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uYnRzSWQpLmhpdFRpbWVzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkuaGl0VGltZXMgPSBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkuaGl0VGltZXMgKyAxIC8vIOabtOaWsG1hcOS4reeahOWRveS4reasoeaVsFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+WkjeWQiOWfuuermVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWltZy0ke2RldkJhc2VJbmZvW2ldLmJ0c0lkfWApLnJlbW92ZUNsYXNzKCdidHMtaW1nLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWNsaWNrLSR7ZGV2QmFzZUluZm9baV0uYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1jbGljay11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtkZXZCYXNlSW5mb1tpXS5idHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1jbGljay0ke2RldkJhc2VJbmZvW2ldLmJ0c0lkfWApLmNzcygnei1pbmRleCcsIDYwMDApOyAvLyB66L20572u6aG2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoYC5tdWx0aS1idHMtaGl0LWNvdW50LSR7a2V5fWApLmh0bWwoYnRzSGl0SW5mby5oaXRUaW1lcytcIi9cIitidHNIaXRJbmZvLmRsSGl0VGltZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWltZy0ke2RldkJhc2VJbmZvW2ldLmJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvbXVsdGlidHNpY29uL2J0c2ljb25oaXQtJHtidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5a2Q5Zu+5qCH5re75Yqg5qC35byPXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZGV2QmFzZUluZm9baV0uYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1pbWctdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWNsaWNrLSR7ZGV2QmFzZUluZm9baV0uYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1jbGljay11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtkZXZCYXNlSW5mb1tpXS5idHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtY2xpY2stJHtkZXZCYXNlSW5mb1tpXS5idHNJZH1gKS5jc3MoJ3otaW5kZXgnLCA2MDAwKTsgLy8geui9tOe9rumhtlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktc3ViLWJ0cy1oaXQtY291bnQtJHtkZXZCYXNlSW5mb1tpXS5idHNJZH1gKS5odG1sKChidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkuZGxIaXRUaW1lcyA9PSB1bmRlZmluZWQgfHwgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uYnRzSWQpLmRsSGl0VGltZXMgPT0gbnVsbCkgPyBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkuaGl0VGltZXMgKyBcIi8wXCIgOiBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkuaGl0VGltZXMgKyBcIi9cIiArIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmJ0c0lkKS5kbEhpdFRpbWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtaGl0LWNvdW50LXNoYWRvdy0ke2RldkJhc2VJbmZvW2ldLmJ0c0lkfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvW2ldLmJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNpY29uaGl0LSR7YnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uYnRzSWQpLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGl0ZWRCdHNDYWNoZS5idHNJZCAhPSBkZXZCYXNlSW5mb1tpXS5idHNJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHMuYnRzSWQgPSBkZXZCYXNlSW5mb1tpXS5idHNJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdGVkQnRzLmRldi5wdXNoKGRldkJhc2VJbmZvW2ldLmRldkNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHNDYWNoZSA9IGhpdGVkQnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtdWx0aUJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmJ0c0lkKSA9PSBudWxsICYmIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmJ0c0lkKSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmJ0c0lkKS5oaXRUaW1lcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkuaGl0VGltZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmJ0c0lkKS5oaXRUaW1lcyA9IGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmJ0c0lkKS5oaXRUaW1lcyArIDEgLy8g5pu05pawbWFw5Lit55qE5ZG95Lit5qyh5pWwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnRCdHNJZCA9IGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmJ0c0lkKS5wYXJlbnRCdHNJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtwYXJlbnRCdHNJZH1gKS5yZW1vdmVDbGFzcygnYnRzLWltZy11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1jbGljay0ke3BhcmVudEJ0c0lkfWApLnJlbW92ZUNsYXNzKCdidHMtY2xpY2stdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7cGFyZW50QnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtY2xpY2stJHtwYXJlbnRCdHNJZH1gKS5jc3MoJ3otaW5kZXgnLCA2MDAwKTsgLy8geui9tOe9rumhtlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkKGAubXVsdGktYnRzLWhpdC1jb3VudC0ke3BhcmVudEJ0c0lkfWApLmh0bWwoYnRzSGl0SW5mby5oaXRUaW1lcytcIi9cIitidHNIaXRJbmZvLmRsSGl0VGltZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWltZy0ke3BhcmVudEJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvbXVsdGlidHNpY29uL2J0c2ljb25oaXQtJHtidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5a2Q5Zu+5qCH5re75Yqg5qC35byPXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZGV2QmFzZUluZm9baV0uYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1pbWctdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWNsaWNrLSR7ZGV2QmFzZUluZm9baV0uYnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1jbGljay11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtkZXZCYXNlSW5mb1tpXS5idHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtY2xpY2stJHtkZXZCYXNlSW5mb1tpXS5idHNJZH1gKS5jc3MoJ3otaW5kZXgnLCA2MDAwKTsgLy8geui9tOe9rumhtlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktc3ViLWJ0cy1oaXQtY291bnQtJHtkZXZCYXNlSW5mb1tpXS5idHNJZH1gKS5odG1sKChidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkuZGxIaXRUaW1lcyA9PSB1bmRlZmluZWQgfHwgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uYnRzSWQpLmRsSGl0VGltZXMgPT0gbnVsbCkgPyBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkuaGl0VGltZXMgKyBcIi8wXCIgOiBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5idHNJZCkuaGl0VGltZXMgKyBcIi9cIiArIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmJ0c0lkKS5kbEhpdFRpbWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtaGl0LWNvdW50LXNoYWRvdy0ke2RldkJhc2VJbmZvW2ldLmJ0c0lkfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvW2ldLmJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNpY29uaGl0LSR7YnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uYnRzSWQpLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGl0ZWRCdHNDYWNoZS5idHNJZCAhPSBkZXZCYXNlSW5mb1tpXS5idHNJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHMuYnRzSWQgPSBkZXZCYXNlSW5mb1tpXS5idHNJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdGVkQnRzLmRldi5wdXNoKGRldkJhc2VJbmZvW2ldLmRldkNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHNDYWNoZSA9IGhpdGVkQnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmRsQnRzSWQgIT0gdW5kZWZpbmVkICYmIGRldkJhc2VJbmZvW2ldLmRsQnRzSWQgIT0gJzAtMC0wLTAnICYmIGRldkJhc2VJbmZvW2ldLmRsQnRzSWQgIT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiplZGl0IGJ5IHN1bmJpbmcgZW5kKi9cclxuICAgICAgICAgICAgICAgICAgICBpZiAobXVsdGlCdHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKSAhPSBudWxsICYmIG11bHRpQnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGxCdHNJZCkudHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKS5kbEhpdFRpbWVzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpLmRsSGl0VGltZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpLmRsSGl0VGltZXMgPSBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKS5kbEhpdFRpbWVzICsgMSAvLyDmm7TmlrBtYXDkuK3nmoTlkb3kuK3mrKHmlbBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1jbGljay0ke2RldkJhc2VJbmZvW2ldLmRsQnRzSWR9YCkuY3NzKCd6LWluZGV4JywgNjAwMCk7IC8vIHrovbTnva7pobZcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkfWApLnJlbW92ZUNsYXNzKCdidHMtaW1nLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWNsaWNrLSR7ZGV2QmFzZUluZm9baV0uZGxCdHNJZH1gKS5yZW1vdmVDbGFzcygnYnRzLWNsaWNrLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvW2ldLmRsQnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRDZWxsSW5mb3NDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uZGxCdHNJZCkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1pbWctJHtkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkfWApLmF0dHIoJ3NyYycsIGBpbWcvYnRzaWNvbi9idHNpY29uaGl0LSR7YnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGxCdHNJZCkubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiplZHRpIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocmVwbGF5Q3VycmVudFRpbWUgLSBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKS5yZXBvcnRUaW1lKSA8IDM2MDAwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZGV2QmFzZUluZm9baV0uZGxCdHNJZH1gKS5hdHRyKCdzcmMnLCBgaW1nL2J0c2ljb24vYnRzaWNvbmhpdC0ke2J0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvW2ldLmRsQnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2xhc3RoaXQtJHtidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKS5tb2RlfS5wbmdgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkKGAuYnRzLWhpdC1jb3VudC0ke2RldkJhc2VJbmZvW2ldLmRsQnRzSWR9YCkuaHRtbChidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKS5kbEhpdFRpbWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLmJ0cy1oaXQtY291bnQtJHtkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkfWApLmh0bWwoKGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpLmhpdFRpbWVzID09IHVuZGVmaW5lZCB8fCBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKS5oaXRUaW1lcyA9PSBudWxsKSA/IFwiLzBcIiArIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpLmRsSGl0VGltZXMgOiBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKS5oaXRUaW1lcyArIFwiL1wiICsgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGxCdHNJZCkuZGxIaXRUaW1lcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGxCdHNJZCkuZGxIaXRUaW1lcyAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWhpdC1jb3VudC1zaGFkb3ctJHtkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoaXRlZEJ0c0NhY2hlLmJ0c0lkICE9IGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdGVkQnRzLmJ0c0lkID0gZGV2QmFzZUluZm9baV0uZGxCdHNJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdGVkQnRzLmRldi5wdXNoKGRldkJhc2VJbmZvW2ldLmRldkNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHNDYWNoZSA9IGhpdGVkQnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtdWx0aUJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpICE9IG51bGwgJiYgbXVsdGlCdHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKS50eXBlID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpLmRsSGl0VGltZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGxCdHNJZCkuZGxIaXRUaW1lcyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGxCdHNJZCkuZGxIaXRUaW1lcyA9IGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpLmRsSGl0VGltZXMgKyAxIC8vIOabtOaWsG1hcOS4reeahOWRveS4reasoeaVsFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+WkjeWQiOWfuuermVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWltZy0ke2RldkJhc2VJbmZvW2ldLmRsQnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1pbWctdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtY2xpY2stJHtkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkfWApLnJlbW92ZUNsYXNzKCdidHMtY2xpY2stdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7ZGV2QmFzZUluZm9baV0uZGxCdHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1jbGljay0ke2RldkJhc2VJbmZvW2ldLmRsQnRzSWR9YCkuY3NzKCd6LWluZGV4JywgNjAwMCk7IC8vIHrovbTnva7pobZcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJChgLm11bHRpLWJ0cy1oaXQtY291bnQtJHtrZXl9YCkuaHRtbChidHNIaXRJbmZvLmhpdFRpbWVzK1wiL1wiK2J0c0hpdEluZm8uZGxIaXRUaW1lcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7ZGV2QmFzZUluZm9baV0uZGxCdHNJZH1gKS5hdHRyKCdzcmMnLCBgaW1nL211bHRpYnRzaWNvbi9idHNpY29uaGl0LSR7YnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGxCdHNJZCkubW9kZX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5a2Q5Zu+5qCH5re75Yqg5qC35byPXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZGV2QmFzZUluZm9baV0uZGxCdHNJZH1gKS5yZW1vdmVDbGFzcygnYnRzLWltZy11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtY2xpY2stJHtkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkfWApLnJlbW92ZUNsYXNzKCdidHMtY2xpY2stdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZGV2QmFzZUluZm9baV0uZGxCdHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtY2xpY2stJHtkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkfWApLmNzcygnei1pbmRleCcsIDYwMDApOyAvLyB66L20572u6aG2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWhpdC1jb3VudC0ke2RldkJhc2VJbmZvW2ldLmRsQnRzSWR9YCkuaHRtbCgoYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGxCdHNJZCkuaGl0VGltZXMgPT0gdW5kZWZpbmVkIHx8IGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpLmhpdFRpbWVzID09IG51bGwpID8gXCIvMFwiICsgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGxCdHNJZCkuZGxIaXRUaW1lcyA6IGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpLmhpdFRpbWVzICsgXCIvXCIgKyBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKS5kbEhpdFRpbWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLXN1Yi1idHMtaGl0LWNvdW50LXNoYWRvdy0ke2RldkJhc2VJbmZvW2ldLmRsQnRzSWR9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5idHMtaW1nLSR7ZGV2QmFzZUluZm9baV0uZGxCdHNJZH1gKS5hdHRyKCdzcmMnLCBgaW1nL2J0c2ljb24vYnRzaWNvbmhpdC0ke2J0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpLm1vZGV9LnBuZ2ApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhpdGVkQnRzQ2FjaGUuYnRzSWQgIT0gZGV2QmFzZUluZm9baV0uZGxCdHNJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHMuYnRzSWQgPSBkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHMuZGV2LnB1c2goZGV2QmFzZUluZm9baV0uZGV2Q29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRlZEJ0c0NhY2hlID0gaGl0ZWRCdHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobXVsdGlCdHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKSA9PSBudWxsICYmIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGxCdHNJZCkuZGxIaXRUaW1lcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKS5kbEhpdFRpbWVzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKS5kbEhpdFRpbWVzID0gYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGxCdHNJZCkuZGxIaXRUaW1lcyArIDEgLy8g5pu05pawbWFw5Lit55qE5ZG95Lit5qyh5pWwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnRCdHNJZCA9IGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpLnBhcmVudEJ0c0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWltZy0ke3BhcmVudEJ0c0lkfWApLnJlbW92ZUNsYXNzKCdidHMtaW1nLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktYnRzLWNsaWNrLSR7cGFyZW50QnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1jbGljay11bmhpdCcpOyAvLyDljrvpmaTmnKrlkb3kuK3moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1pbWctJHtwYXJlbnRCdHNJZH1gKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpOyAvLyDljrvpmaTngbDoibLmu6TplZxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChgLm11bHRpLWJ0cy1jbGljay0ke3BhcmVudEJ0c0lkfWApLmNzcygnei1pbmRleCcsIDYwMDApOyAvLyB66L20572u6aG2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoYC5tdWx0aS1idHMtaGl0LWNvdW50LSR7cGFyZW50QnRzSWR9YCkuaHRtbChidHNIaXRJbmZvLmhpdFRpbWVzK1wiL1wiK2J0c0hpdEluZm8uZGxIaXRUaW1lcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1idHMtaW1nLSR7cGFyZW50QnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9tdWx0aWJ0c2ljb24vYnRzaWNvbmhpdC0ke2J0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpLm1vZGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+WtkOWbvuagh+a3u+WKoOagt+W8j1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvW2ldLmRsQnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2J0cy1pbWctdW5oaXQnKTsgLy8g5Y676Zmk5pyq5ZG95Lit5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWNsaWNrLSR7ZGV2QmFzZUluZm9baV0uZGxCdHNJZH1gKS5yZW1vdmVDbGFzcygnYnRzLWNsaWNrLXVuaGl0Jyk7IC8vIOWOu+mZpOacquWRveS4reagh+iusFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvW2ldLmRsQnRzSWR9YCkucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTsgLy8g5Y676Zmk54Gw6Imy5ruk6ZWcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWNsaWNrLSR7ZGV2QmFzZUluZm9baV0uZGxCdHNJZH1gKS5jc3MoJ3otaW5kZXgnLCA2MDAwKTsgLy8geui9tOe9rumhtlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAubXVsdGktc3ViLWJ0cy1oaXQtY291bnQtJHtkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkfWApLmh0bWwoKGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpLmhpdFRpbWVzID09IHVuZGVmaW5lZCB8fCBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKS5oaXRUaW1lcyA9PSBudWxsKSA/IFwiLzBcIiArIGJ0c0luZm9NYXAuZ2V0KGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpLmRsSGl0VGltZXMgOiBidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKS5oaXRUaW1lcyArIFwiL1wiICsgYnRzSW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGxCdHNJZCkuZGxIaXRUaW1lcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5tdWx0aS1zdWItYnRzLWhpdC1jb3VudC1zaGFkb3ctJHtkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuYnRzLWltZy0ke2RldkJhc2VJbmZvW2ldLmRsQnRzSWR9YCkuYXR0cignc3JjJywgYGltZy9idHNpY29uL2J0c2ljb25oaXQtJHtidHNJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kbEJ0c0lkKS5tb2RlfS5wbmdgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoaXRlZEJ0c0NhY2hlLmJ0c0lkICE9IGRldkJhc2VJbmZvW2ldLmRsQnRzSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdGVkQnRzLmJ0c0lkID0gZGV2QmFzZUluZm9baV0uZGxCdHNJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdGVkQnRzLmRldi5wdXNoKGRldkJhc2VJbmZvW2ldLmRldkNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0ZWRCdHNDYWNoZSA9IGhpdGVkQnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgc3VuYmluZyBzdGFydCovXHJcbiAgICAgICAgICAgICAgICBpZiAoaGl0ZWRCdHMuYnRzSWQgIT0gbnVsbCAmJiBoaXRlZEJ0cy5idHNJZCAhPSBcIlwiICYmIGlzQnRzT3Blbikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgc3VuYmluZyBlbmQqL1xyXG4gICAgICAgICAgICAgICAgICAgIERyYXdNdWx0aUJ0c0VjaGFydHMuc2hvd0J0c1N0eWxlQ1NTKGhpdGVkQnRzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qICovXHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5RGV2SW5mb01hcC5zZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RCYWlkdVBvaW50OiBjdXJyZW50QmFpZHVQb2ludCxcclxuICAgICAgICAgICAgICAgICAgICBsYXN0QWN0aXZlSGl0OiBkZXZCYXNlSW5mb1tpXS5hY3RpdmVIaXQsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdFN0YXR1czogZGV2QmFzZUluZm9baV0uc3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyog6K6+5aSH5Li75Yqo5byP6K+m57uG5L+h5oGvICovXHJcbiAgICAgICAgICAgIGlmIChkZXZBY3RpdmVEZXRhaWxJbmZvICYmIGRldkFjdGl2ZURldGFpbEluZm8ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXZBY3RpdmVEZXRhaWxJbmZvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJhc2luZ0RldkFjdGl2ZURldGFpbEluZm8uc2hvd0RldkFjdGl2ZUVuZ0xvZ0luZm8oZGV2QWN0aXZlRGV0YWlsSW5mb1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGRldkFjdGl2ZURldGFpbEluZm9baV0ucmVwb3J0VGltZSkuZ2V0VGltZSgpID4gZW5kVGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZBY3RpdmVEZXRhaWxJbmZvSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcmFzaW5nRGV2QWN0aXZlRGV0YWlsSW5mby5zaG93RGV2QWN0aXZlRGV0YWlsSW5mbyhkZXZBY3RpdmVEZXRhaWxJbmZvW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIOWfuuermeino+aekCovXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdHVzSW5mby5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0luZm9baV0ucmVwb3J0VGltZSA+IGVuZFRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJhc2luZ0J0c0luZm9DUi5wcmFzaW5nU3RhdHVzSW5mbyhzdGF0dXNJbmZvW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiDnm67moIflsI/ljLoqL1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhcmdldENlbGxJbmZvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Q2VsbEluZm9baV0uY3JlYXRlVGltZSA+IGVuZFRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRDZWxsSW5mb0luZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRhcmdldENlbGxJbmZvc0NhY2hlLnNldCh0YXJnZXRDZWxsSW5mb1tpXS5idHNJZCwgdGFyZ2V0Q2VsbEluZm9baV0pO1xyXG4gICAgICAgICAgICAgICAgUHJhc2luZ0J0c0luZm9DUi5zaG93VGFyZ2V0Q2VsbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgIC8qIOmihOmUgeWfuuermSovXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJlTG9ja0NlbGxJbmZvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJlTG9ja0NlbGxJbmZvW2ldLmNyZWF0ZVRpbWUgPiBlbmRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2UHJlTG9ja0NlbGxJbmZvSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gcHJlTG9ja0NlbGxJbmZvc0NhY2hlLnNldChwcmVMb2NrQ2VsbEluZm9baV0uYnRzSWQsIHByZUxvY2tDZWxsSW5mb1tpXSk7XHJcbiAgICAgICAgICAgICAgICAvLyBQcmFzaW5nQnRzSW5mb0NSLnNob3dQcmVMb2NrQ2VsbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvKiDnm67moIfmiYDlnKjln7rnq5lMVEXkv6Hmga/vvIhDYXRjaO+8iSovXHJcbiAgICAgICAgICAgIGlmIChsdGVDYXRjaEluZm8gJiYgbHRlQ2F0Y2hJbmZvLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbHRlQ2F0Y2hJbmZvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGx0ZUNhdGNoSW5mb1tpXS5yZXBvcnRUaW1lKS5nZXRUaW1lKCkgPiBlbmRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGx0ZUNhdGNoSW5mb0luZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJhc2luZ0x0ZUNhdGNoSW5mby5zaG93THRlQ2F0Y2hJbmZvKGx0ZUNhdGNoSW5mb1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvKiovXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gLyog6K6+5aSH5Li75Yqo5byP6K+m57uG5L+h5oGvICovXHJcbiAgICAgICAgICAgIC8vIGlmIChkZXZBY3RpdmVEZXRhaWxJbmZvICYmIGRldkFjdGl2ZURldGFpbEluZm8ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAvLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXZBY3RpdmVEZXRhaWxJbmZvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgUHJhc2luZ0RldkFjdGl2ZURldGFpbEluZm8uc2hvd0RldkFjdGl2ZUVuZ0xvZ0luZm8oZGV2QWN0aXZlRGV0YWlsSW5mb1tpXSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgaWYgKG5ldyBEYXRlKGRldkFjdGl2ZURldGFpbEluZm9baV0ucmVwb3J0VGltZSkuZ2V0VGltZSgpID4gZW5kVGltZSkge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBkZXZBY3RpdmVEZXRhaWxJbmZvSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBQcmFzaW5nRGV2QWN0aXZlRGV0YWlsSW5mby5zaG93RGV2QWN0aXZlRGV0YWlsSW5mbyhkZXZBY3RpdmVEZXRhaWxJbmZvW2ldKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAvKiDorr7lpIdUQSBEYXRh5L+h5oGvICovXHJcbiAgICAgICAgICAgIGlmIChkZXZUZG9hRGF0YUluZm8gJiYgZGV2VGRvYURhdGFJbmZvLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGV2VGRvYURhdGFJbmZvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGRldlRkb2FEYXRhSW5mb1tpXS5yZXBvcnRUaW1lKS5nZXRUaW1lKCkgPiBlbmRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByYXNpbmdIaXN0b3J5VGFEYXRhSW5mby5zaG93VGFEYXRhSW5mbyhkZXZUZG9hRGF0YUluZm9baV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YURhdGFJbmZvSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qIOiuvuWkh1RBIERyYXfkv6Hmga8gKi9cclxuICAgICAgICAgICAgaWYgKGRldlRkb2FEcmF3SW5mbyAmJiBkZXZUZG9hRHJhd0luZm8ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXZUZG9hRHJhd0luZm8ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3IERhdGUoZGV2VGRvYURyYXdJbmZvW2ldLnJlcG9ydFRpbWUpLmdldFRpbWUoKSA+IGVuZFRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcmFzaW5nVGFEcmF3SW5mby5zaG93VGFEcmF3SW5mbyhkZXZUZG9hRHJhd0luZm9baV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhRHJhd0luZm9JbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaGlzdG9yeVJvdXRlTGluZUlzRmluaXNoID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vb3ZlcmxheS9EcmF3SHJlZkxvYWRpbmdPdmVybGF5LmpzXG4vLyBtb2R1bGUgaWQgPSA0OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///48\n");

/***/ }),
/* 49 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class DrawTaOverlay {\r\n\r\n    /* TA 绘圆形、椭圆形 */\r\n    static drawTaCircle(taCircleArray) {\r\n\t\tlet colors = [\"#ff0000\",\"#ff0000\",\"#ff9400\",\"#ffd900\",\"#6eff00\",\"#00a9ff\",\"#0062ff\",\"#a100ff\",\"#000000\"];\r\n\t\tlet prodCircles = [];\r\n\t\tlet debugCircles = [];\r\n\t\tfor(let i = 0; i < taCircleArray.length; i++) {\r\n\t\t\tif(taCircleArray[i].drawType == 1) {\r\n\t\t\t\tprodCircles.push(taCircleArray[i]);\r\n\t\t\t}else {\r\n\t\t\t\tdebugCircles.push(taCircleArray[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(prodCircles.length > 0) {\r\n\t\t\t/* 移除上次绘图信息 */\r\n\t\t\tif(taCircleProdOverlayCache.length > 0) {\r\n\t\t\t\tfor(let i = 0; i < taCircleProdOverlayCache.length; i++) {\r\n\t\t\t\t\tmap.removeOverlay(taCircleProdOverlayCache[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor(let i = 0; i < prodCircles.length; i++) {\r\n\t\t\t\tlet option = {\r\n\t\t\t\t\tstrokeColor: colors[prodCircles[i].strokeColor],    //边线颜色。\r\n\t\t\t\t\tstrokeOpacity: prodCircles[i].strokeOpacity,     //边线透明度，取值范围0 - 1\r\n\t\t\t\t\tstrokeStyle: prodCircles[i].strokeStyle == 1 ? 'solid' : 'dashed', //边线的样式，solid或dashed。\r\n\t\t\t\t\tstrokeWeight:prodCircles[i].strokeWeight,\t\t//边线宽度1~无穷大\r\n\t\t\t\t\tfillColor: prodCircles[i].fillFlag == 0 ? 'none' : colors[prodCircles[i].fillColor],   //填充颜色\r\n\t\t\t\t\tfillOpacity: prodCircles[i].fillOpacity,     //填充区透明度，取值范围0 - 1\r\n\t\t\t\t}\r\n\t\t\t\tlet overlay = getEllipseOverlay(new BMap.Point(prodCircles[i].lng, prodCircles[i].lat), prodCircles[i].majorAxis, prodCircles[i].shortAxis, prodCircles[i].rotate, prodCircles[i].stroke, option);\r\n\t\t\t\tmap.addOverlay(overlay);\r\n\t\t\t\tif(isTaDrawProdOpen) {\r\n\t\t\t\t\toverlay.show();\r\n\t\t\t\t}else {\r\n\t\t\t\t\toverlay.hide();\r\n\t\t\t\t}\r\n\t\t\t\ttaCircleProdOverlayCache.push(overlay);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(debugCircles.length > 0) {\r\n\t\t\t/* 移除上次绘图信息 */\r\n\t\t\tif(taCircleDebugOverlayCache.length > 0) {\r\n\t\t\t\tfor(let i = 0; i < taCircleDebugOverlayCache.length; i++) {\r\n\t\t\t\t\tmap.removeOverlay(taCircleDebugOverlayCache[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor(let i = 0; i < debugCircles.length; i++) {\r\n                let option = {\r\n                    strokeColor: colors[debugCircles[i].strokeColor],    //边线颜色。\r\n                    strokeOpacity: debugCircles[i].strokeOpacity,     //边线透明度，取值范围0 - 1\r\n                    strokeStyle: debugCircles[i].strokeStyle == 1 ? 'solid' : 'dashed', //边线的样式，solid或dashed。\r\n                    strokeWeight:debugCircles[i].strokeWeight,\t\t//边线宽度1~无穷大\r\n                    fillColor: debugCircles[i].fillFlag == 0 ? 'none' : colors[debugCircles[i].fillColor],   //填充颜色\r\n                    fillOpacity: debugCircles[i].fillOpacity,     //填充区透明度，取值范围0 - 1\r\n                }\r\n                let overlay = getEllipseOverlay(new BMap.Point(debugCircles[i].lng, debugCircles[i].lat), debugCircles[i].majorAxis, debugCircles[i].shortAxis, debugCircles[i].rotate, debugCircles[i].stroke, option);\r\n                map.addOverlay(overlay);\r\n                if(isTaDrawDebugOpen) {\r\n                    overlay.show();\r\n                }else {\r\n                    overlay.hide();\r\n                }\r\n                taCircleDebugOverlayCache.push(overlay);\r\n            }\r\n\t\t}\r\n        function getEllipseOverlay(center, rlong, rshort, rotate, stroke, option) {\r\n            let centerPoint = center; \r\n\t\t\tlet longPoint = destinationVincenty(centerPoint, 90, rlong / 2);\r\n\t\t\tlet shortPoint = destinationVincenty(centerPoint, 0, rshort / 2);\r\n\t\t\t// X:距中心点的横向经度,Y:距中心点的纵向纬度\r\n\t\t\tlet lng_x = Math.abs(longPoint.lng - centerPoint.lng);\r\n\t\t\tlet lat_y = Math.abs(shortPoint.lat - centerPoint.lat);\r\n\t\t\tlet assemble = [];\r\n\t\t\tlet angle;\r\n\t\t\tlet dot;\r\n\t\t\tlet tangent = lng_x / lat_y;\r\n\t\t\t/* 根据长轴短轴计算椭圆圆周的坐标点*/\r\n\t\t\tfor (let i = 0; i < 96; i++) {\r\n\t\t\t\tangle = (2 * Math.PI / 96) * i;\r\n\t\t\t\tdot = new BMap.Point(centerPoint.lng + Math.sin(angle) * lat_y * tangent, centerPoint.lat + Math.cos(angle) * lat_y);\r\n\t\t\t\tassemble.push(dot);\r\n\t\t\t}\r\n\r\n\t\t\tlet rdeg = rotate * Math.PI / 180;\r\n\t\t\tlet sina = Math.sin(rdeg);\r\n\t\t\tlet cosa = Math.cos(rdeg);\r\n\t\t\tfor (let i = 0; i < assemble.length; i++) {\r\n\t\t\t\tlet rx0 = centerPoint.lng;\r\n\t\t\t\tlet ry0 = centerPoint.lat;\r\n\t\t\t\tlet x0, y0, x1, y1;\r\n\t\t\t\tif (assemble[i].lng - centerPoint.lng >= 0 && assemble[i].lat - centerPoint.lat >= 0) {\r\n\t\t\t\t\t// 第一象限\r\n\t\t\t\t\tx0 = map.getDistance(new BMap.Point(assemble[i].lng, centerPoint.lat), new BMap.Point(centerPoint.lng, centerPoint.lat));\r\n\t\t\t\t\ty0 = map.getDistance(new BMap.Point(assemble[i].lng, centerPoint.lat), new BMap.Point(assemble[i].lng, assemble[i].lat));\r\n\t\t\t\t} else if (assemble[i].lng - centerPoint.lng < 0 && assemble[i].lat - centerPoint.lat > 0) {\r\n\t\t\t\t\t// 第二象限\r\n\t\t\t\t\tx0 = -map.getDistance(new BMap.Point(assemble[i].lng, centerPoint.lat), new BMap.Point(centerPoint.lng, centerPoint.lat));\r\n\t\t\t\t\ty0 = map.getDistance(new BMap.Point(assemble[i].lng, centerPoint.lat), new BMap.Point(assemble[i].lng, assemble[i].lat));\r\n\t\t\t\t} else if (assemble[i].lng - centerPoint.lng <= 0 && assemble[i].lat - centerPoint.lat <= 0) {\r\n\t\t\t\t\t// 第三象限\r\n\t\t\t\t\tx0 = -map.getDistance(new BMap.Point(assemble[i].lng, centerPoint.lat), new BMap.Point(centerPoint.lng, centerPoint.lat));\r\n\t\t\t\t\ty0 = -map.getDistance(new BMap.Point(assemble[i].lng, centerPoint.lat), new BMap.Point(assemble[i].lng, assemble[i].lat));\r\n\t\t\t\t} else if (assemble[i].lng - centerPoint.lng > 0 && assemble[i].lat - centerPoint.lat < 0) {\r\n\t\t\t\t\t// 第四象限\r\n\t\t\t\t\tx0 = map.getDistance(new BMap.Point(assemble[i].lng, centerPoint.lat), new BMap.Point(centerPoint.lng, centerPoint.lat));\r\n\t\t\t\t\ty0 = -map.getDistance(new BMap.Point(assemble[i].lng, centerPoint.lat), new BMap.Point(assemble[i].lng, assemble[i].lat));\r\n\t\t\t\t}\r\n\t\t\t\tx1 = x0 * cosa - y0 * sina;\r\n\t\t\t\ty1 = x0 * sina + y0 * cosa;\r\n\t\t\t\tassemble[i].lng = destinationVincenty(centerPoint, 90, x1).lng;\r\n\t\t\t\tassemble[i].lat = destinationVincenty(centerPoint, 0, y1).lat;\r\n\t\t\t}\r\n\t\t\tlet overlay = new BMap.Polygon(assemble, option);\r\n\t\t\t/* 计算椭圆圆周宽度*/\r\n\t\t\tfunction setStrokeWeight() {\r\n\t\t\t\tlet defaultPoint = { lng: 114, lat: 30 };\r\n\t\t\t\tlet topPosition = map.pointToOverlayPixel(destinationVincenty(defaultPoint, 0, stroke / 2));\r\n\t\t\t\tlet botPosition = map.pointToOverlayPixel(destinationVincenty(defaultPoint, 0, -stroke / 2));\r\n\t\t\t\toverlay.setStrokeWeight(Math.abs(topPosition.y - botPosition.y));\r\n\t\t\t}\r\n\t\t\tsetStrokeWeight();\r\n\t\t\t/* 圆周宽度随zoom变化*/\r\n\t\t\tmap.addEventListener(\"zoomend\", function () {\r\n\t\t\t\tsetStrokeWeight();\r\n\t\t\t});\r\n\t\t\treturn overlay;\r\n        }\r\n\r\n        /* 通过米数、原点GPS坐标、方向夹角，获取第二点GPS坐标*/\r\n\t\tfunction destinationVincenty(lonlat, brng, dist) {\r\n\t\t\t/* 椭圆球基础参数*/\r\n\t\t\tlet VincentyConstants = {\r\n\t\t\t\ta: 6378137,\r\n\t\t\t\tb: 6356752.3142,\r\n\t\t\t\tf: 1 / 298.257223563\r\n\t\t\t};\r\n\t\t\t/* 度换成弧度*/\r\n\t\t\tlet rad = function (d) {\r\n\t\t\t\treturn d * Math.PI / 180.0;\r\n\t\t\t};\r\n\t\t\t/* 弧度换成度*/\r\n\t\t\tlet deg = function (x) {\r\n\t\t\t\treturn x * 180 / Math.PI;\r\n\t\t\t};\r\n\t\t\tlet ct = VincentyConstants;\r\n\t\t\tlet a = ct.a, b = ct.b, f = ct.f;\r\n\t\r\n\t\t\tlet lon1 = lonlat.lng;\r\n\t\t\tlet lat1 = lonlat.lat;\r\n\t\r\n\t\t\tlet s = dist;\r\n\t\t\tlet alpha1 = rad(brng);\r\n\t\t\tlet sinAlpha1 = Math.sin(alpha1);\r\n\t\t\tlet cosAlpha1 = Math.cos(alpha1);\r\n\t\r\n\t\t\tlet tanU1 = (1 - f) * Math.tan(rad(lat1));\r\n\t\t\tlet cosU1 = 1 / Math.sqrt((1 + tanU1 * tanU1)), sinU1 = tanU1 * cosU1;\r\n\t\t\tlet sigma1 = Math.atan2(tanU1, cosAlpha1);\r\n\t\t\tlet sinAlpha = cosU1 * sinAlpha1;\r\n\t\t\tlet cosSqAlpha = 1 - sinAlpha * sinAlpha;\r\n\t\t\tlet uSq = cosSqAlpha * (a * a - b * b) / (b * b);\r\n\t\t\tlet A = 1 + uSq / 16384 * (4096 + uSq * (-768 + uSq * (320 - 175 * uSq)));\r\n\t\t\tlet B = uSq / 1024 * (256 + uSq * (-128 + uSq * (74 - 47 * uSq)));\r\n\t\r\n\t\t\tlet sigma = s / (b * A), sigmaP = 2 * Math.PI;\r\n\t\t\tlet cos2SigmaM, sinSigma, cosSigma, deltaSigma;\r\n\t\t\twhile (Math.abs(sigma - sigmaP) > 1e-12) {\r\n\t\t\t\tcos2SigmaM = Math.cos(2 * sigma1 + sigma);\r\n\t\t\t\tsinSigma = Math.sin(sigma);\r\n\t\t\t\tcosSigma = Math.cos(sigma);\r\n\t\t\t\tdeltaSigma = B * sinSigma * (cos2SigmaM + B / 4 * (cosSigma * (-1 + 2 * cos2SigmaM * cos2SigmaM) -\r\n\t\t\t\t\tB / 6 * cos2SigmaM * (-3 + 4 * sinSigma * sinSigma) * (-3 + 4 * cos2SigmaM * cos2SigmaM)));\r\n\t\t\t\tsigmaP = sigma;\r\n\t\t\t\tsigma = s / (b * A) + deltaSigma;\r\n\t\t\t}\r\n\t\r\n\t\t\tlet tmp = sinU1 * sinSigma - cosU1 * cosSigma * cosAlpha1;\r\n\t\t\tlet lat2 = Math.atan2(sinU1 * cosSigma + cosU1 * sinSigma * cosAlpha1,\r\n\t\t\t\t(1 - f) * Math.sqrt(sinAlpha * sinAlpha + tmp * tmp));\r\n\t\t\tlet lambda = Math.atan2(sinSigma * sinAlpha1, cosU1 * cosSigma - sinU1 * sinSigma * cosAlpha1);\r\n\t\t\tlet C = f / 16 * cosSqAlpha * (4 + f * (4 - 3 * cosSqAlpha));\r\n\t\t\tlet L = lambda - (1 - C) * f * sinAlpha *\r\n\t\t\t\t(sigma + C * sinSigma * (cos2SigmaM + C * cosSigma * (-1 + 2 * cos2SigmaM * cos2SigmaM)));\r\n\t\r\n\t\t\tlet revAz = Math.atan2(sinAlpha, -tmp);\r\n\t\t\treturn { lng: lon1 + deg(L), lat: deg(lat2) };\r\n\t\t}\r\n    }\r\n\r\n     /* TA 绘点 */\r\n    static drawTaPoints(taPointsArray) {\r\n\t\tlet prodPoints = [];\r\n\t\tlet debugPoints = [];\r\n\t\tfor(let i = 0; i < taPointsArray.length; i++) {\r\n\t\t\tif(taPointsArray[i].drawType == 1) {\r\n\t\t\t\tprodPoints.push(taPointsArray[i]);\r\n\t\t\t}else {\r\n\t\t\t\tdebugPoints.push(taPointsArray[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(prodPoints.length > 0) {\r\n\t\t\t/* 移除上次绘图信息 */\r\n\t\t\tif(taPointsProdOverlayCache.length > 0) {\r\n\t\t\t\tfor(let i = 0; i < taPointsProdOverlayCache.length; i++) {\r\n\t\t\t\t\tmap.removeOverlay(taPointsProdOverlayCache[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor(let i = 0; i < prodPoints.length; i++) {\r\n\t\t\t\tlet marker = getMarkerOverlay(prodPoints[i].lat, prodPoints[i].lng, prodPoints[i].color, prodPoints[i].tips);\r\n\t\t\t\tmap.addOverlay(marker);\r\n\t\t\t\tif(isTaDrawProdOpen) {\r\n\t\t\t\t\tmarker.show();\r\n\t\t\t\t}else {\r\n\t\t\t\t\tmarker.hide();\r\n\t\t\t\t}\r\n\t\t\t\ttaPointsProdOverlayCache.push(marker);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(debugPoints.length > 0) {\r\n\t\t\t /* 移除上次绘图信息 */\r\n\t\t\t if(taPointsDebugOverlayCache.length > 0) {\r\n                for(let i = 0; i < taPointsDebugOverlayCache.length; i++) {\r\n                    map.removeOverlay(taPointsDebugOverlayCache[i]);\r\n                }\r\n            }\r\n            for(let i = 0; i < debugPoints.length; i++) {\r\n                let marker = getMarkerOverlay(debugPoints[i].lat, debugPoints[i].lng, debugPoints[i].color, debugPoints[i].tips);\r\n                map.addOverlay(marker);\r\n                if(isTaDrawDebugOpen) {\r\n                    marker.show();\r\n                }else {\r\n                    marker.hide();\r\n                }\r\n                taPointsDebugOverlayCache.push(marker);\r\n            }\r\n\t\t}\r\n\r\n        function getMarkerOverlay(lat, lng, color, tips) {\r\n            let bdPoint = (lat,lng);\r\n\t\t\tlet imgPath;\r\n\t\t\tswitch (color) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\timgPath = 'img/iconpic/CR-mark1.png';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\timgPath = 'img/iconpic/CR-mark2.png';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\timgPath = 'img/iconpic/CR-mark3.png';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\timgPath = 'img/iconpic/CR-mark4.png';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\timgPath = 'img/iconpic/CR-mark5.png';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\timgPath = 'img/iconpic/CR-mark6.png';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 7:\r\n\t\t\t\t\timgPath = 'img/iconpic/CR-mark7.png';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\timgPath = 'img/iconpic/CR-mark8.png';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tlet marker = new BMap.Marker(\r\n\t\t\t\tnew BMap.Point(bdPoint.lng, bdPoint.lat),\r\n\t\t\t\t{ icon: new BMap.Icon(imgPath, new BMap.Size(19, 43)) }\r\n\t\t\t);\r\n\t\t\tvar label = new BMap.Label(tips,{offset:new BMap.Size(20,-10)});\r\n\t\t\tmarker.setLabel(label);\r\n\t\t\treturn marker;\r\n        }\r\n    }\r\n\r\n     /* TA 绘多边形 */\r\n    static drawTaPolygon(taPolygonArray) {\r\n\t\tlet prodPolygons = [];\r\n\t\tlet debugPolygons = [];\r\n\t\tfor(let i = 0; i < taPolygonArray.length; i++) {\r\n\t\t\tif(taPolygonArray[i].drawType == 1) {\r\n\t\t\t\tprodPolygons.push(taPolygonArray[i]);\r\n\t\t\t}else {\r\n\t\t\t\tdebugPolygons.push(taPolygonArray[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(prodPolygons.length > 0) {\r\n\t\t\t/* 移除上次绘图信息 */\r\n            if(taPolygonProdOverlayCache.length > 0) {\r\n                for(let i = 0; i < taPolygonProdOverlayCache.length; i++) {\r\n                    map.removeOverlay(taPolygonProdOverlayCache[i]);\r\n                }\r\n            }\r\n            for(let i = 0; i < prodPolygons.length; i++) {\r\n                let overlay = getPolygonOverlay(prodPolygons[i].strokeStyle, prodPolygons[i].strokeWeight, prodPolygons[i].strokeColor, prodPolygons[i].strokeOpacity, \r\n                    prodPolygons[i].fillFlag, prodPolygons[i].fillColor, prodPolygons[i].fillOpacity, prodPolygons[i].points);\r\n                map.addOverlay(overlay);\r\n                if(isTaDrawProdOpen) {\r\n                    overlay.show();\r\n                }else {\r\n                    overlay.hide();\r\n                }\r\n                taPolygonProdOverlayCache.push(overlay);\r\n            }\r\n\t\t}\r\n\t\tif(debugPolygons.length > 0) {\r\n\t\t\t/* 移除上次绘图信息 */\r\n            if(taPolygonDebugOverlayCache.length > 0) {\r\n                for(let i = 0; i < taPolygonDebugOverlayCache.length; i++) {\r\n                    map.removeOverlay(taPolygonDebugOverlayCache[i]);\r\n                }\r\n            }\r\n            for(let i = 0; i < debugPolygons.length; i++) {\r\n                let overlay = getPolygonOverlay(debugPolygons[i].strokeStyle, debugPolygons[i].strokeWeight, debugPolygons[i].strokeColor, debugPolygons[i].strokeOpacity, \r\n                    debugPolygons[i].fillFlag, debugPolygons[i].fillColor, debugPolygons[i].fillOpacity, debugPolygons[i].points);\r\n                map.addOverlay(overlay);\r\n                if(isTaDrawDebugOpen) {\r\n                    overlay.show();\r\n                }else {\r\n                    overlay.hide();\r\n                }\r\n                taPolygonDebugOverlayCache.push(overlay);\r\n            }\r\n\t\t}\r\n        //生成多边形 \r\n\t\tfunction getPolygonOverlay(strokeStyle, strokeWeight, strokeColor, strokeOpacity, fillFlag, fillColor, fillOpacity, points) {\r\n\t\t\tlet colors = [\"#ff0000\",\"#ff0000\",\"#ff9400\",\"#ffd900\",\"#6eff00\",\"#00a9ff\",\"#0062ff\",\"#a100ff\",\"#000000\"];\r\n\t\t\tlet bpoints = [];\r\n\t\t\tfor (let i = 0; i < points.length; i++) {\r\n\t\t\t\tlet bpoint = points[i];\r\n\t\t\t\tbpoints.push(new BMap.Point(bpoint.lng, bpoint.lat));\r\n\t\t\t}\r\n\t\t\tlet overlay = new BMap.Polygon(bpoints, {strokeStyle:strokeStyle==1?'solid':'dashed',strokeColor:colors[strokeColor], strokeWeight:strokeWeight, strokeOpacity:strokeOpacity,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfillColor:(fillFlag==0?'none':colors[fillColor]), fillOpacity:fillOpacity});  //创建多边形\r\n\t\t\treturn overlay;\r\n\t\t}\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = DrawTaOverlay;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9EcmF3VGFPdmVybGF5LmpzP2EwZDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwwQkFBMEI7QUFDMUM7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUNBQXFDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3QkFBd0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0NBQXNDO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix5QkFBeUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUJBQXFCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwwQkFBMEI7QUFDMUM7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUNBQXFDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix1QkFBdUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixzQ0FBc0M7QUFDcEU7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHdCQUF3QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQyw2QkFBNkI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkJBQTJCO0FBQzNDO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHNDQUFzQztBQUNwRTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIseUJBQXlCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix1Q0FBdUM7QUFDckU7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDBCQUEwQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtQkFBbUI7QUFDckM7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDLHVGQUF1RixFQUFFO0FBQ3pGO0FBQ0E7QUFDQTs7QUFFQSxDIiwiZmlsZSI6IjQ5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIERyYXdUYU92ZXJsYXkge1xyXG5cclxuICAgIC8qIFRBIOe7mOWchuW9ouOAgeakreWchuW9oiAqL1xyXG4gICAgc3RhdGljIGRyYXdUYUNpcmNsZSh0YUNpcmNsZUFycmF5KSB7XHJcblx0XHRsZXQgY29sb3JzID0gW1wiI2ZmMDAwMFwiLFwiI2ZmMDAwMFwiLFwiI2ZmOTQwMFwiLFwiI2ZmZDkwMFwiLFwiIzZlZmYwMFwiLFwiIzAwYTlmZlwiLFwiIzAwNjJmZlwiLFwiI2ExMDBmZlwiLFwiIzAwMDAwMFwiXTtcclxuXHRcdGxldCBwcm9kQ2lyY2xlcyA9IFtdO1xyXG5cdFx0bGV0IGRlYnVnQ2lyY2xlcyA9IFtdO1xyXG5cdFx0Zm9yKGxldCBpID0gMDsgaSA8IHRhQ2lyY2xlQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYodGFDaXJjbGVBcnJheVtpXS5kcmF3VHlwZSA9PSAxKSB7XHJcblx0XHRcdFx0cHJvZENpcmNsZXMucHVzaCh0YUNpcmNsZUFycmF5W2ldKTtcclxuXHRcdFx0fWVsc2Uge1xyXG5cdFx0XHRcdGRlYnVnQ2lyY2xlcy5wdXNoKHRhQ2lyY2xlQXJyYXlbaV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZihwcm9kQ2lyY2xlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdC8qIOenu+mZpOS4iuasoee7mOWbvuS/oeaBryAqL1xyXG5cdFx0XHRpZih0YUNpcmNsZVByb2RPdmVybGF5Q2FjaGUubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdGZvcihsZXQgaSA9IDA7IGkgPCB0YUNpcmNsZVByb2RPdmVybGF5Q2FjaGUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdG1hcC5yZW1vdmVPdmVybGF5KHRhQ2lyY2xlUHJvZE92ZXJsYXlDYWNoZVtpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGZvcihsZXQgaSA9IDA7IGkgPCBwcm9kQ2lyY2xlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGxldCBvcHRpb24gPSB7XHJcblx0XHRcdFx0XHRzdHJva2VDb2xvcjogY29sb3JzW3Byb2RDaXJjbGVzW2ldLnN0cm9rZUNvbG9yXSwgICAgLy/ovrnnur/popzoibLjgIJcclxuXHRcdFx0XHRcdHN0cm9rZU9wYWNpdHk6IHByb2RDaXJjbGVzW2ldLnN0cm9rZU9wYWNpdHksICAgICAvL+i+uee6v+mAj+aYjuW6pu+8jOWPluWAvOiMg+WbtDAgLSAxXHJcblx0XHRcdFx0XHRzdHJva2VTdHlsZTogcHJvZENpcmNsZXNbaV0uc3Ryb2tlU3R5bGUgPT0gMSA/ICdzb2xpZCcgOiAnZGFzaGVkJywgLy/ovrnnur/nmoTmoLflvI/vvIxzb2xpZOaIlmRhc2hlZOOAglxyXG5cdFx0XHRcdFx0c3Ryb2tlV2VpZ2h0OnByb2RDaXJjbGVzW2ldLnN0cm9rZVdlaWdodCxcdFx0Ly/ovrnnur/lrr3luqYxfuaXoOept+Wkp1xyXG5cdFx0XHRcdFx0ZmlsbENvbG9yOiBwcm9kQ2lyY2xlc1tpXS5maWxsRmxhZyA9PSAwID8gJ25vbmUnIDogY29sb3JzW3Byb2RDaXJjbGVzW2ldLmZpbGxDb2xvcl0sICAgLy/loavlhYXpopzoibJcclxuXHRcdFx0XHRcdGZpbGxPcGFjaXR5OiBwcm9kQ2lyY2xlc1tpXS5maWxsT3BhY2l0eSwgICAgIC8v5aGr5YWF5Yy66YCP5piO5bqm77yM5Y+W5YC86IyD5Zu0MCAtIDFcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGV0IG92ZXJsYXkgPSBnZXRFbGxpcHNlT3ZlcmxheShuZXcgQk1hcC5Qb2ludChwcm9kQ2lyY2xlc1tpXS5sbmcsIHByb2RDaXJjbGVzW2ldLmxhdCksIHByb2RDaXJjbGVzW2ldLm1ham9yQXhpcywgcHJvZENpcmNsZXNbaV0uc2hvcnRBeGlzLCBwcm9kQ2lyY2xlc1tpXS5yb3RhdGUsIHByb2RDaXJjbGVzW2ldLnN0cm9rZSwgb3B0aW9uKTtcclxuXHRcdFx0XHRtYXAuYWRkT3ZlcmxheShvdmVybGF5KTtcclxuXHRcdFx0XHRpZihpc1RhRHJhd1Byb2RPcGVuKSB7XHJcblx0XHRcdFx0XHRvdmVybGF5LnNob3coKTtcclxuXHRcdFx0XHR9ZWxzZSB7XHJcblx0XHRcdFx0XHRvdmVybGF5LmhpZGUoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGFDaXJjbGVQcm9kT3ZlcmxheUNhY2hlLnB1c2gob3ZlcmxheSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmKGRlYnVnQ2lyY2xlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdC8qIOenu+mZpOS4iuasoee7mOWbvuS/oeaBryAqL1xyXG5cdFx0XHRpZih0YUNpcmNsZURlYnVnT3ZlcmxheUNhY2hlLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRmb3IobGV0IGkgPSAwOyBpIDwgdGFDaXJjbGVEZWJ1Z092ZXJsYXlDYWNoZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0bWFwLnJlbW92ZU92ZXJsYXkodGFDaXJjbGVEZWJ1Z092ZXJsYXlDYWNoZVtpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGZvcihsZXQgaSA9IDA7IGkgPCBkZWJ1Z0NpcmNsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBvcHRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6IGNvbG9yc1tkZWJ1Z0NpcmNsZXNbaV0uc3Ryb2tlQ29sb3JdLCAgICAvL+i+uee6v+minOiJsuOAglxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IGRlYnVnQ2lyY2xlc1tpXS5zdHJva2VPcGFjaXR5LCAgICAgLy/ovrnnur/pgI/mmI7luqbvvIzlj5blgLzojIPlm7QwIC0gMVxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlOiBkZWJ1Z0NpcmNsZXNbaV0uc3Ryb2tlU3R5bGUgPT0gMSA/ICdzb2xpZCcgOiAnZGFzaGVkJywgLy/ovrnnur/nmoTmoLflvI/vvIxzb2xpZOaIlmRhc2hlZOOAglxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVdlaWdodDpkZWJ1Z0NpcmNsZXNbaV0uc3Ryb2tlV2VpZ2h0LFx0XHQvL+i+uee6v+WuveW6pjF+5peg56m35aSnXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiBkZWJ1Z0NpcmNsZXNbaV0uZmlsbEZsYWcgPT0gMCA/ICdub25lJyA6IGNvbG9yc1tkZWJ1Z0NpcmNsZXNbaV0uZmlsbENvbG9yXSwgICAvL+Whq+WFheminOiJslxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiBkZWJ1Z0NpcmNsZXNbaV0uZmlsbE9wYWNpdHksICAgICAvL+Whq+WFheWMuumAj+aYjuW6pu+8jOWPluWAvOiMg+WbtDAgLSAxXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgb3ZlcmxheSA9IGdldEVsbGlwc2VPdmVybGF5KG5ldyBCTWFwLlBvaW50KGRlYnVnQ2lyY2xlc1tpXS5sbmcsIGRlYnVnQ2lyY2xlc1tpXS5sYXQpLCBkZWJ1Z0NpcmNsZXNbaV0ubWFqb3JBeGlzLCBkZWJ1Z0NpcmNsZXNbaV0uc2hvcnRBeGlzLCBkZWJ1Z0NpcmNsZXNbaV0ucm90YXRlLCBkZWJ1Z0NpcmNsZXNbaV0uc3Ryb2tlLCBvcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgbWFwLmFkZE92ZXJsYXkob3ZlcmxheSk7XHJcbiAgICAgICAgICAgICAgICBpZihpc1RhRHJhd0RlYnVnT3Blbikge1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXkuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXkuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGFDaXJjbGVEZWJ1Z092ZXJsYXlDYWNoZS5wdXNoKG92ZXJsYXkpO1xyXG4gICAgICAgICAgICB9XHJcblx0XHR9XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0RWxsaXBzZU92ZXJsYXkoY2VudGVyLCBybG9uZywgcnNob3J0LCByb3RhdGUsIHN0cm9rZSwgb3B0aW9uKSB7XHJcbiAgICAgICAgICAgIGxldCBjZW50ZXJQb2ludCA9IGNlbnRlcjsgXHJcblx0XHRcdGxldCBsb25nUG9pbnQgPSBkZXN0aW5hdGlvblZpbmNlbnR5KGNlbnRlclBvaW50LCA5MCwgcmxvbmcgLyAyKTtcclxuXHRcdFx0bGV0IHNob3J0UG9pbnQgPSBkZXN0aW5hdGlvblZpbmNlbnR5KGNlbnRlclBvaW50LCAwLCByc2hvcnQgLyAyKTtcclxuXHRcdFx0Ly8gWDrot53kuK3lv4PngrnnmoTmqKrlkJHnu4/luqYsWTrot53kuK3lv4PngrnnmoTnurXlkJHnuqzluqZcclxuXHRcdFx0bGV0IGxuZ194ID0gTWF0aC5hYnMobG9uZ1BvaW50LmxuZyAtIGNlbnRlclBvaW50LmxuZyk7XHJcblx0XHRcdGxldCBsYXRfeSA9IE1hdGguYWJzKHNob3J0UG9pbnQubGF0IC0gY2VudGVyUG9pbnQubGF0KTtcclxuXHRcdFx0bGV0IGFzc2VtYmxlID0gW107XHJcblx0XHRcdGxldCBhbmdsZTtcclxuXHRcdFx0bGV0IGRvdDtcclxuXHRcdFx0bGV0IHRhbmdlbnQgPSBsbmdfeCAvIGxhdF95O1xyXG5cdFx0XHQvKiDmoLnmja7plb/ovbTnn63ovbTorqHnrpfmpK3lnIblnIblkajnmoTlnZDmoIfngrkqL1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IDk2OyBpKyspIHtcclxuXHRcdFx0XHRhbmdsZSA9ICgyICogTWF0aC5QSSAvIDk2KSAqIGk7XHJcblx0XHRcdFx0ZG90ID0gbmV3IEJNYXAuUG9pbnQoY2VudGVyUG9pbnQubG5nICsgTWF0aC5zaW4oYW5nbGUpICogbGF0X3kgKiB0YW5nZW50LCBjZW50ZXJQb2ludC5sYXQgKyBNYXRoLmNvcyhhbmdsZSkgKiBsYXRfeSk7XHJcblx0XHRcdFx0YXNzZW1ibGUucHVzaChkb3QpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZXQgcmRlZyA9IHJvdGF0ZSAqIE1hdGguUEkgLyAxODA7XHJcblx0XHRcdGxldCBzaW5hID0gTWF0aC5zaW4ocmRlZyk7XHJcblx0XHRcdGxldCBjb3NhID0gTWF0aC5jb3MocmRlZyk7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYXNzZW1ibGUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRsZXQgcngwID0gY2VudGVyUG9pbnQubG5nO1xyXG5cdFx0XHRcdGxldCByeTAgPSBjZW50ZXJQb2ludC5sYXQ7XHJcblx0XHRcdFx0bGV0IHgwLCB5MCwgeDEsIHkxO1xyXG5cdFx0XHRcdGlmIChhc3NlbWJsZVtpXS5sbmcgLSBjZW50ZXJQb2ludC5sbmcgPj0gMCAmJiBhc3NlbWJsZVtpXS5sYXQgLSBjZW50ZXJQb2ludC5sYXQgPj0gMCkge1xyXG5cdFx0XHRcdFx0Ly8g56ys5LiA6LGh6ZmQXHJcblx0XHRcdFx0XHR4MCA9IG1hcC5nZXREaXN0YW5jZShuZXcgQk1hcC5Qb2ludChhc3NlbWJsZVtpXS5sbmcsIGNlbnRlclBvaW50LmxhdCksIG5ldyBCTWFwLlBvaW50KGNlbnRlclBvaW50LmxuZywgY2VudGVyUG9pbnQubGF0KSk7XHJcblx0XHRcdFx0XHR5MCA9IG1hcC5nZXREaXN0YW5jZShuZXcgQk1hcC5Qb2ludChhc3NlbWJsZVtpXS5sbmcsIGNlbnRlclBvaW50LmxhdCksIG5ldyBCTWFwLlBvaW50KGFzc2VtYmxlW2ldLmxuZywgYXNzZW1ibGVbaV0ubGF0KSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChhc3NlbWJsZVtpXS5sbmcgLSBjZW50ZXJQb2ludC5sbmcgPCAwICYmIGFzc2VtYmxlW2ldLmxhdCAtIGNlbnRlclBvaW50LmxhdCA+IDApIHtcclxuXHRcdFx0XHRcdC8vIOesrOS6jOixoemZkFxyXG5cdFx0XHRcdFx0eDAgPSAtbWFwLmdldERpc3RhbmNlKG5ldyBCTWFwLlBvaW50KGFzc2VtYmxlW2ldLmxuZywgY2VudGVyUG9pbnQubGF0KSwgbmV3IEJNYXAuUG9pbnQoY2VudGVyUG9pbnQubG5nLCBjZW50ZXJQb2ludC5sYXQpKTtcclxuXHRcdFx0XHRcdHkwID0gbWFwLmdldERpc3RhbmNlKG5ldyBCTWFwLlBvaW50KGFzc2VtYmxlW2ldLmxuZywgY2VudGVyUG9pbnQubGF0KSwgbmV3IEJNYXAuUG9pbnQoYXNzZW1ibGVbaV0ubG5nLCBhc3NlbWJsZVtpXS5sYXQpKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGFzc2VtYmxlW2ldLmxuZyAtIGNlbnRlclBvaW50LmxuZyA8PSAwICYmIGFzc2VtYmxlW2ldLmxhdCAtIGNlbnRlclBvaW50LmxhdCA8PSAwKSB7XHJcblx0XHRcdFx0XHQvLyDnrKzkuInosaHpmZBcclxuXHRcdFx0XHRcdHgwID0gLW1hcC5nZXREaXN0YW5jZShuZXcgQk1hcC5Qb2ludChhc3NlbWJsZVtpXS5sbmcsIGNlbnRlclBvaW50LmxhdCksIG5ldyBCTWFwLlBvaW50KGNlbnRlclBvaW50LmxuZywgY2VudGVyUG9pbnQubGF0KSk7XHJcblx0XHRcdFx0XHR5MCA9IC1tYXAuZ2V0RGlzdGFuY2UobmV3IEJNYXAuUG9pbnQoYXNzZW1ibGVbaV0ubG5nLCBjZW50ZXJQb2ludC5sYXQpLCBuZXcgQk1hcC5Qb2ludChhc3NlbWJsZVtpXS5sbmcsIGFzc2VtYmxlW2ldLmxhdCkpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoYXNzZW1ibGVbaV0ubG5nIC0gY2VudGVyUG9pbnQubG5nID4gMCAmJiBhc3NlbWJsZVtpXS5sYXQgLSBjZW50ZXJQb2ludC5sYXQgPCAwKSB7XHJcblx0XHRcdFx0XHQvLyDnrKzlm5vosaHpmZBcclxuXHRcdFx0XHRcdHgwID0gbWFwLmdldERpc3RhbmNlKG5ldyBCTWFwLlBvaW50KGFzc2VtYmxlW2ldLmxuZywgY2VudGVyUG9pbnQubGF0KSwgbmV3IEJNYXAuUG9pbnQoY2VudGVyUG9pbnQubG5nLCBjZW50ZXJQb2ludC5sYXQpKTtcclxuXHRcdFx0XHRcdHkwID0gLW1hcC5nZXREaXN0YW5jZShuZXcgQk1hcC5Qb2ludChhc3NlbWJsZVtpXS5sbmcsIGNlbnRlclBvaW50LmxhdCksIG5ldyBCTWFwLlBvaW50KGFzc2VtYmxlW2ldLmxuZywgYXNzZW1ibGVbaV0ubGF0KSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHgxID0geDAgKiBjb3NhIC0geTAgKiBzaW5hO1xyXG5cdFx0XHRcdHkxID0geDAgKiBzaW5hICsgeTAgKiBjb3NhO1xyXG5cdFx0XHRcdGFzc2VtYmxlW2ldLmxuZyA9IGRlc3RpbmF0aW9uVmluY2VudHkoY2VudGVyUG9pbnQsIDkwLCB4MSkubG5nO1xyXG5cdFx0XHRcdGFzc2VtYmxlW2ldLmxhdCA9IGRlc3RpbmF0aW9uVmluY2VudHkoY2VudGVyUG9pbnQsIDAsIHkxKS5sYXQ7XHJcblx0XHRcdH1cclxuXHRcdFx0bGV0IG92ZXJsYXkgPSBuZXcgQk1hcC5Qb2x5Z29uKGFzc2VtYmxlLCBvcHRpb24pO1xyXG5cdFx0XHQvKiDorqHnrpfmpK3lnIblnIblkajlrr3luqYqL1xyXG5cdFx0XHRmdW5jdGlvbiBzZXRTdHJva2VXZWlnaHQoKSB7XHJcblx0XHRcdFx0bGV0IGRlZmF1bHRQb2ludCA9IHsgbG5nOiAxMTQsIGxhdDogMzAgfTtcclxuXHRcdFx0XHRsZXQgdG9wUG9zaXRpb24gPSBtYXAucG9pbnRUb092ZXJsYXlQaXhlbChkZXN0aW5hdGlvblZpbmNlbnR5KGRlZmF1bHRQb2ludCwgMCwgc3Ryb2tlIC8gMikpO1xyXG5cdFx0XHRcdGxldCBib3RQb3NpdGlvbiA9IG1hcC5wb2ludFRvT3ZlcmxheVBpeGVsKGRlc3RpbmF0aW9uVmluY2VudHkoZGVmYXVsdFBvaW50LCAwLCAtc3Ryb2tlIC8gMikpO1xyXG5cdFx0XHRcdG92ZXJsYXkuc2V0U3Ryb2tlV2VpZ2h0KE1hdGguYWJzKHRvcFBvc2l0aW9uLnkgLSBib3RQb3NpdGlvbi55KSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c2V0U3Ryb2tlV2VpZ2h0KCk7XHJcblx0XHRcdC8qIOWchuWRqOWuveW6pumaj3pvb23lj5jljJYqL1xyXG5cdFx0XHRtYXAuYWRkRXZlbnRMaXN0ZW5lcihcInpvb21lbmRcIiwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHNldFN0cm9rZVdlaWdodCgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIG92ZXJsYXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiDpgJrov4fnsbPmlbDjgIHljp/ngrlHUFPlnZDmoIfjgIHmlrnlkJHlpLnop5LvvIzojrflj5bnrKzkuozngrlHUFPlnZDmoIcqL1xyXG5cdFx0ZnVuY3Rpb24gZGVzdGluYXRpb25WaW5jZW50eShsb25sYXQsIGJybmcsIGRpc3QpIHtcclxuXHRcdFx0Lyog5qSt5ZyG55CD5Z+656GA5Y+C5pWwKi9cclxuXHRcdFx0bGV0IFZpbmNlbnR5Q29uc3RhbnRzID0ge1xyXG5cdFx0XHRcdGE6IDYzNzgxMzcsXHJcblx0XHRcdFx0YjogNjM1Njc1Mi4zMTQyLFxyXG5cdFx0XHRcdGY6IDEgLyAyOTguMjU3MjIzNTYzXHJcblx0XHRcdH07XHJcblx0XHRcdC8qIOW6puaNouaIkOW8p+W6piovXHJcblx0XHRcdGxldCByYWQgPSBmdW5jdGlvbiAoZCkge1xyXG5cdFx0XHRcdHJldHVybiBkICogTWF0aC5QSSAvIDE4MC4wO1xyXG5cdFx0XHR9O1xyXG5cdFx0XHQvKiDlvKfluqbmjaLmiJDluqYqL1xyXG5cdFx0XHRsZXQgZGVnID0gZnVuY3Rpb24gKHgpIHtcclxuXHRcdFx0XHRyZXR1cm4geCAqIDE4MCAvIE1hdGguUEk7XHJcblx0XHRcdH07XHJcblx0XHRcdGxldCBjdCA9IFZpbmNlbnR5Q29uc3RhbnRzO1xyXG5cdFx0XHRsZXQgYSA9IGN0LmEsIGIgPSBjdC5iLCBmID0gY3QuZjtcclxuXHRcclxuXHRcdFx0bGV0IGxvbjEgPSBsb25sYXQubG5nO1xyXG5cdFx0XHRsZXQgbGF0MSA9IGxvbmxhdC5sYXQ7XHJcblx0XHJcblx0XHRcdGxldCBzID0gZGlzdDtcclxuXHRcdFx0bGV0IGFscGhhMSA9IHJhZChicm5nKTtcclxuXHRcdFx0bGV0IHNpbkFscGhhMSA9IE1hdGguc2luKGFscGhhMSk7XHJcblx0XHRcdGxldCBjb3NBbHBoYTEgPSBNYXRoLmNvcyhhbHBoYTEpO1xyXG5cdFxyXG5cdFx0XHRsZXQgdGFuVTEgPSAoMSAtIGYpICogTWF0aC50YW4ocmFkKGxhdDEpKTtcclxuXHRcdFx0bGV0IGNvc1UxID0gMSAvIE1hdGguc3FydCgoMSArIHRhblUxICogdGFuVTEpKSwgc2luVTEgPSB0YW5VMSAqIGNvc1UxO1xyXG5cdFx0XHRsZXQgc2lnbWExID0gTWF0aC5hdGFuMih0YW5VMSwgY29zQWxwaGExKTtcclxuXHRcdFx0bGV0IHNpbkFscGhhID0gY29zVTEgKiBzaW5BbHBoYTE7XHJcblx0XHRcdGxldCBjb3NTcUFscGhhID0gMSAtIHNpbkFscGhhICogc2luQWxwaGE7XHJcblx0XHRcdGxldCB1U3EgPSBjb3NTcUFscGhhICogKGEgKiBhIC0gYiAqIGIpIC8gKGIgKiBiKTtcclxuXHRcdFx0bGV0IEEgPSAxICsgdVNxIC8gMTYzODQgKiAoNDA5NiArIHVTcSAqICgtNzY4ICsgdVNxICogKDMyMCAtIDE3NSAqIHVTcSkpKTtcclxuXHRcdFx0bGV0IEIgPSB1U3EgLyAxMDI0ICogKDI1NiArIHVTcSAqICgtMTI4ICsgdVNxICogKDc0IC0gNDcgKiB1U3EpKSk7XHJcblx0XHJcblx0XHRcdGxldCBzaWdtYSA9IHMgLyAoYiAqIEEpLCBzaWdtYVAgPSAyICogTWF0aC5QSTtcclxuXHRcdFx0bGV0IGNvczJTaWdtYU0sIHNpblNpZ21hLCBjb3NTaWdtYSwgZGVsdGFTaWdtYTtcclxuXHRcdFx0d2hpbGUgKE1hdGguYWJzKHNpZ21hIC0gc2lnbWFQKSA+IDFlLTEyKSB7XHJcblx0XHRcdFx0Y29zMlNpZ21hTSA9IE1hdGguY29zKDIgKiBzaWdtYTEgKyBzaWdtYSk7XHJcblx0XHRcdFx0c2luU2lnbWEgPSBNYXRoLnNpbihzaWdtYSk7XHJcblx0XHRcdFx0Y29zU2lnbWEgPSBNYXRoLmNvcyhzaWdtYSk7XHJcblx0XHRcdFx0ZGVsdGFTaWdtYSA9IEIgKiBzaW5TaWdtYSAqIChjb3MyU2lnbWFNICsgQiAvIDQgKiAoY29zU2lnbWEgKiAoLTEgKyAyICogY29zMlNpZ21hTSAqIGNvczJTaWdtYU0pIC1cclxuXHRcdFx0XHRcdEIgLyA2ICogY29zMlNpZ21hTSAqICgtMyArIDQgKiBzaW5TaWdtYSAqIHNpblNpZ21hKSAqICgtMyArIDQgKiBjb3MyU2lnbWFNICogY29zMlNpZ21hTSkpKTtcclxuXHRcdFx0XHRzaWdtYVAgPSBzaWdtYTtcclxuXHRcdFx0XHRzaWdtYSA9IHMgLyAoYiAqIEEpICsgZGVsdGFTaWdtYTtcclxuXHRcdFx0fVxyXG5cdFxyXG5cdFx0XHRsZXQgdG1wID0gc2luVTEgKiBzaW5TaWdtYSAtIGNvc1UxICogY29zU2lnbWEgKiBjb3NBbHBoYTE7XHJcblx0XHRcdGxldCBsYXQyID0gTWF0aC5hdGFuMihzaW5VMSAqIGNvc1NpZ21hICsgY29zVTEgKiBzaW5TaWdtYSAqIGNvc0FscGhhMSxcclxuXHRcdFx0XHQoMSAtIGYpICogTWF0aC5zcXJ0KHNpbkFscGhhICogc2luQWxwaGEgKyB0bXAgKiB0bXApKTtcclxuXHRcdFx0bGV0IGxhbWJkYSA9IE1hdGguYXRhbjIoc2luU2lnbWEgKiBzaW5BbHBoYTEsIGNvc1UxICogY29zU2lnbWEgLSBzaW5VMSAqIHNpblNpZ21hICogY29zQWxwaGExKTtcclxuXHRcdFx0bGV0IEMgPSBmIC8gMTYgKiBjb3NTcUFscGhhICogKDQgKyBmICogKDQgLSAzICogY29zU3FBbHBoYSkpO1xyXG5cdFx0XHRsZXQgTCA9IGxhbWJkYSAtICgxIC0gQykgKiBmICogc2luQWxwaGEgKlxyXG5cdFx0XHRcdChzaWdtYSArIEMgKiBzaW5TaWdtYSAqIChjb3MyU2lnbWFNICsgQyAqIGNvc1NpZ21hICogKC0xICsgMiAqIGNvczJTaWdtYU0gKiBjb3MyU2lnbWFNKSkpO1xyXG5cdFxyXG5cdFx0XHRsZXQgcmV2QXogPSBNYXRoLmF0YW4yKHNpbkFscGhhLCAtdG1wKTtcclxuXHRcdFx0cmV0dXJuIHsgbG5nOiBsb24xICsgZGVnKEwpLCBsYXQ6IGRlZyhsYXQyKSB9O1xyXG5cdFx0fVxyXG4gICAgfVxyXG5cclxuICAgICAvKiBUQSDnu5jngrkgKi9cclxuICAgIHN0YXRpYyBkcmF3VGFQb2ludHModGFQb2ludHNBcnJheSkge1xyXG5cdFx0bGV0IHByb2RQb2ludHMgPSBbXTtcclxuXHRcdGxldCBkZWJ1Z1BvaW50cyA9IFtdO1xyXG5cdFx0Zm9yKGxldCBpID0gMDsgaSA8IHRhUG9pbnRzQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYodGFQb2ludHNBcnJheVtpXS5kcmF3VHlwZSA9PSAxKSB7XHJcblx0XHRcdFx0cHJvZFBvaW50cy5wdXNoKHRhUG9pbnRzQXJyYXlbaV0pO1xyXG5cdFx0XHR9ZWxzZSB7XHJcblx0XHRcdFx0ZGVidWdQb2ludHMucHVzaCh0YVBvaW50c0FycmF5W2ldKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYocHJvZFBvaW50cy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdC8qIOenu+mZpOS4iuasoee7mOWbvuS/oeaBryAqL1xyXG5cdFx0XHRpZih0YVBvaW50c1Byb2RPdmVybGF5Q2FjaGUubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdGZvcihsZXQgaSA9IDA7IGkgPCB0YVBvaW50c1Byb2RPdmVybGF5Q2FjaGUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdG1hcC5yZW1vdmVPdmVybGF5KHRhUG9pbnRzUHJvZE92ZXJsYXlDYWNoZVtpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGZvcihsZXQgaSA9IDA7IGkgPCBwcm9kUG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0bGV0IG1hcmtlciA9IGdldE1hcmtlck92ZXJsYXkocHJvZFBvaW50c1tpXS5sYXQsIHByb2RQb2ludHNbaV0ubG5nLCBwcm9kUG9pbnRzW2ldLmNvbG9yLCBwcm9kUG9pbnRzW2ldLnRpcHMpO1xyXG5cdFx0XHRcdG1hcC5hZGRPdmVybGF5KG1hcmtlcik7XHJcblx0XHRcdFx0aWYoaXNUYURyYXdQcm9kT3Blbikge1xyXG5cdFx0XHRcdFx0bWFya2VyLnNob3coKTtcclxuXHRcdFx0XHR9ZWxzZSB7XHJcblx0XHRcdFx0XHRtYXJrZXIuaGlkZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0YVBvaW50c1Byb2RPdmVybGF5Q2FjaGUucHVzaChtYXJrZXIpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZihkZWJ1Z1BvaW50cy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdCAvKiDnp7vpmaTkuIrmrKHnu5jlm77kv6Hmga8gKi9cclxuXHRcdFx0IGlmKHRhUG9pbnRzRGVidWdPdmVybGF5Q2FjaGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRhUG9pbnRzRGVidWdPdmVybGF5Q2FjaGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXAucmVtb3ZlT3ZlcmxheSh0YVBvaW50c0RlYnVnT3ZlcmxheUNhY2hlW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZGVidWdQb2ludHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBtYXJrZXIgPSBnZXRNYXJrZXJPdmVybGF5KGRlYnVnUG9pbnRzW2ldLmxhdCwgZGVidWdQb2ludHNbaV0ubG5nLCBkZWJ1Z1BvaW50c1tpXS5jb2xvciwgZGVidWdQb2ludHNbaV0udGlwcyk7XHJcbiAgICAgICAgICAgICAgICBtYXAuYWRkT3ZlcmxheShtYXJrZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYoaXNUYURyYXdEZWJ1Z09wZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXIuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlci5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0YVBvaW50c0RlYnVnT3ZlcmxheUNhY2hlLnB1c2gobWFya2VyKTtcclxuICAgICAgICAgICAgfVxyXG5cdFx0fVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRNYXJrZXJPdmVybGF5KGxhdCwgbG5nLCBjb2xvciwgdGlwcykge1xyXG4gICAgICAgICAgICBsZXQgYmRQb2ludCA9IChsYXQsbG5nKTtcclxuXHRcdFx0bGV0IGltZ1BhdGg7XHJcblx0XHRcdHN3aXRjaCAoY29sb3IpIHtcclxuXHRcdFx0XHRjYXNlIDE6XHJcblx0XHRcdFx0XHRpbWdQYXRoID0gJ2ltZy9pY29ucGljL0NSLW1hcmsxLnBuZyc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDI6XHJcblx0XHRcdFx0XHRpbWdQYXRoID0gJ2ltZy9pY29ucGljL0NSLW1hcmsyLnBuZyc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDM6XHJcblx0XHRcdFx0XHRpbWdQYXRoID0gJ2ltZy9pY29ucGljL0NSLW1hcmszLnBuZyc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDQ6XHJcblx0XHRcdFx0XHRpbWdQYXRoID0gJ2ltZy9pY29ucGljL0NSLW1hcms0LnBuZyc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDU6XHJcblx0XHRcdFx0XHRpbWdQYXRoID0gJ2ltZy9pY29ucGljL0NSLW1hcms1LnBuZyc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDY6XHJcblx0XHRcdFx0XHRpbWdQYXRoID0gJ2ltZy9pY29ucGljL0NSLW1hcms2LnBuZyc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDc6XHJcblx0XHRcdFx0XHRpbWdQYXRoID0gJ2ltZy9pY29ucGljL0NSLW1hcms3LnBuZyc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDg6XHJcblx0XHRcdFx0XHRpbWdQYXRoID0gJ2ltZy9pY29ucGljL0NSLW1hcms4LnBuZyc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0bGV0IG1hcmtlciA9IG5ldyBCTWFwLk1hcmtlcihcclxuXHRcdFx0XHRuZXcgQk1hcC5Qb2ludChiZFBvaW50LmxuZywgYmRQb2ludC5sYXQpLFxyXG5cdFx0XHRcdHsgaWNvbjogbmV3IEJNYXAuSWNvbihpbWdQYXRoLCBuZXcgQk1hcC5TaXplKDE5LCA0MykpIH1cclxuXHRcdFx0KTtcclxuXHRcdFx0dmFyIGxhYmVsID0gbmV3IEJNYXAuTGFiZWwodGlwcyx7b2Zmc2V0Om5ldyBCTWFwLlNpemUoMjAsLTEwKX0pO1xyXG5cdFx0XHRtYXJrZXIuc2V0TGFiZWwobGFiZWwpO1xyXG5cdFx0XHRyZXR1cm4gbWFya2VyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAgLyogVEEg57uY5aSa6L655b2iICovXHJcbiAgICBzdGF0aWMgZHJhd1RhUG9seWdvbih0YVBvbHlnb25BcnJheSkge1xyXG5cdFx0bGV0IHByb2RQb2x5Z29ucyA9IFtdO1xyXG5cdFx0bGV0IGRlYnVnUG9seWdvbnMgPSBbXTtcclxuXHRcdGZvcihsZXQgaSA9IDA7IGkgPCB0YVBvbHlnb25BcnJheS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZih0YVBvbHlnb25BcnJheVtpXS5kcmF3VHlwZSA9PSAxKSB7XHJcblx0XHRcdFx0cHJvZFBvbHlnb25zLnB1c2godGFQb2x5Z29uQXJyYXlbaV0pO1xyXG5cdFx0XHR9ZWxzZSB7XHJcblx0XHRcdFx0ZGVidWdQb2x5Z29ucy5wdXNoKHRhUG9seWdvbkFycmF5W2ldKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYocHJvZFBvbHlnb25zLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0Lyog56e76Zmk5LiK5qyh57uY5Zu+5L+h5oGvICovXHJcbiAgICAgICAgICAgIGlmKHRhUG9seWdvblByb2RPdmVybGF5Q2FjaGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRhUG9seWdvblByb2RPdmVybGF5Q2FjaGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXAucmVtb3ZlT3ZlcmxheSh0YVBvbHlnb25Qcm9kT3ZlcmxheUNhY2hlW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvZFBvbHlnb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3ZlcmxheSA9IGdldFBvbHlnb25PdmVybGF5KHByb2RQb2x5Z29uc1tpXS5zdHJva2VTdHlsZSwgcHJvZFBvbHlnb25zW2ldLnN0cm9rZVdlaWdodCwgcHJvZFBvbHlnb25zW2ldLnN0cm9rZUNvbG9yLCBwcm9kUG9seWdvbnNbaV0uc3Ryb2tlT3BhY2l0eSwgXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZFBvbHlnb25zW2ldLmZpbGxGbGFnLCBwcm9kUG9seWdvbnNbaV0uZmlsbENvbG9yLCBwcm9kUG9seWdvbnNbaV0uZmlsbE9wYWNpdHksIHByb2RQb2x5Z29uc1tpXS5wb2ludHMpO1xyXG4gICAgICAgICAgICAgICAgbWFwLmFkZE92ZXJsYXkob3ZlcmxheSk7XHJcbiAgICAgICAgICAgICAgICBpZihpc1RhRHJhd1Byb2RPcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0YVBvbHlnb25Qcm9kT3ZlcmxheUNhY2hlLnB1c2gob3ZlcmxheSk7XHJcbiAgICAgICAgICAgIH1cclxuXHRcdH1cclxuXHRcdGlmKGRlYnVnUG9seWdvbnMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHQvKiDnp7vpmaTkuIrmrKHnu5jlm77kv6Hmga8gKi9cclxuICAgICAgICAgICAgaWYodGFQb2x5Z29uRGVidWdPdmVybGF5Q2FjaGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRhUG9seWdvbkRlYnVnT3ZlcmxheUNhY2hlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkodGFQb2x5Z29uRGVidWdPdmVybGF5Q2FjaGVbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBkZWJ1Z1BvbHlnb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3ZlcmxheSA9IGdldFBvbHlnb25PdmVybGF5KGRlYnVnUG9seWdvbnNbaV0uc3Ryb2tlU3R5bGUsIGRlYnVnUG9seWdvbnNbaV0uc3Ryb2tlV2VpZ2h0LCBkZWJ1Z1BvbHlnb25zW2ldLnN0cm9rZUNvbG9yLCBkZWJ1Z1BvbHlnb25zW2ldLnN0cm9rZU9wYWNpdHksIFxyXG4gICAgICAgICAgICAgICAgICAgIGRlYnVnUG9seWdvbnNbaV0uZmlsbEZsYWcsIGRlYnVnUG9seWdvbnNbaV0uZmlsbENvbG9yLCBkZWJ1Z1BvbHlnb25zW2ldLmZpbGxPcGFjaXR5LCBkZWJ1Z1BvbHlnb25zW2ldLnBvaW50cyk7XHJcbiAgICAgICAgICAgICAgICBtYXAuYWRkT3ZlcmxheShvdmVybGF5KTtcclxuICAgICAgICAgICAgICAgIGlmKGlzVGFEcmF3RGVidWdPcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0YVBvbHlnb25EZWJ1Z092ZXJsYXlDYWNoZS5wdXNoKG92ZXJsYXkpO1xyXG4gICAgICAgICAgICB9XHJcblx0XHR9XHJcbiAgICAgICAgLy/nlJ/miJDlpJrovrnlvaIgXHJcblx0XHRmdW5jdGlvbiBnZXRQb2x5Z29uT3ZlcmxheShzdHJva2VTdHlsZSwgc3Ryb2tlV2VpZ2h0LCBzdHJva2VDb2xvciwgc3Ryb2tlT3BhY2l0eSwgZmlsbEZsYWcsIGZpbGxDb2xvciwgZmlsbE9wYWNpdHksIHBvaW50cykge1xyXG5cdFx0XHRsZXQgY29sb3JzID0gW1wiI2ZmMDAwMFwiLFwiI2ZmMDAwMFwiLFwiI2ZmOTQwMFwiLFwiI2ZmZDkwMFwiLFwiIzZlZmYwMFwiLFwiIzAwYTlmZlwiLFwiIzAwNjJmZlwiLFwiI2ExMDBmZlwiLFwiIzAwMDAwMFwiXTtcclxuXHRcdFx0bGV0IGJwb2ludHMgPSBbXTtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRsZXQgYnBvaW50ID0gcG9pbnRzW2ldO1xyXG5cdFx0XHRcdGJwb2ludHMucHVzaChuZXcgQk1hcC5Qb2ludChicG9pbnQubG5nLCBicG9pbnQubGF0KSk7XHJcblx0XHRcdH1cclxuXHRcdFx0bGV0IG92ZXJsYXkgPSBuZXcgQk1hcC5Qb2x5Z29uKGJwb2ludHMsIHtzdHJva2VTdHlsZTpzdHJva2VTdHlsZT09MT8nc29saWQnOidkYXNoZWQnLHN0cm9rZUNvbG9yOmNvbG9yc1tzdHJva2VDb2xvcl0sIHN0cm9rZVdlaWdodDpzdHJva2VXZWlnaHQsIHN0cm9rZU9wYWNpdHk6c3Ryb2tlT3BhY2l0eSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmaWxsQ29sb3I6KGZpbGxGbGFnPT0wPydub25lJzpjb2xvcnNbZmlsbENvbG9yXSksIGZpbGxPcGFjaXR5OmZpbGxPcGFjaXR5fSk7ICAvL+WIm+W7uuWkmui+ueW9olxyXG5cdFx0XHRyZXR1cm4gb3ZlcmxheTtcclxuXHRcdH1cclxuICAgIH1cclxuXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9yZWFsVGltZUNvbWJhdC9vdmVybGF5L0RyYXdUYU92ZXJsYXkuanNcbi8vIG1vZHVsZSBpZCA9IDQ5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///49\n");

/***/ }),
/* 50 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__realTimeCombat_energy_Energy_js__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__ = __webpack_require__(0);\n\r\n\r\n\r\nclass EngColumnChartContainer {\r\n\r\n    static init(_devBaseInfo) {\r\n\r\n        let historyDevInfoMap = new Map();\r\n        let maxEngCache = new Map();\r\n        let devBaseInfoMap = new Map();\r\n\r\n        /* 将数组通过设备编号分类*/\r\n        for (let i = 0; i < _devBaseInfo.length; i++) {\r\n            if (devBaseInfoMap.get(_devBaseInfo[i].devCode) == null) {\r\n                devBaseInfoMap.set(_devBaseInfo[i].devCode, [_devBaseInfo[i]]);\r\n            } else {\r\n                devBaseInfoMap.get(_devBaseInfo[i].devCode).push(_devBaseInfo[i]);\r\n            }\r\n        }\r\n\r\n        if (devBaseInfoMap.size != 0) {\r\n            /* 遍历map，绘制每个设备对应的能量条*/\r\n            devBaseInfoMap.forEach((devBaseInfo) => {\r\n                /* 绘制能量块*/\r\n                for (let i = 0; i < devBaseInfo.length; i++) {\r\n                    /* 上一次主动式是否命中*/\r\n                    let lastActiveHit = null;\r\n                    /* 最大能量值缓存*/\r\n                    if (maxEngCache.get(devBaseInfo[i].devCode) == null) {\r\n                        maxEngCache.set(devBaseInfo[i].devCode, {\r\n                            maxEng: {\r\n                                value: 0,\r\n                                position: {\r\n                                    lng: 0,\r\n                                    lat: 0,\r\n                                    northAngle: 0,\r\n                                },\r\n                                detail: ''\r\n                            }\r\n                        });\r\n                    }\r\n                    /* 上一次的设备相关信息*/\r\n                    if (historyDevInfoMap.get(devBaseInfo[i].devCode) != null) {\r\n                        lastActiveHit = historyDevInfoMap.get(devBaseInfo[i].devCode).lastActiveHit;\r\n                    }\r\n                    /* 当前坐标*/\r\n                    let currentPoint = __WEBPACK_IMPORTED_MODULE_1__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([\r\n                        [devBaseInfo[i].lng, devBaseInfo[i].lat]\r\n                    ])[0];\r\n                    /* 存储能量信息*/\r\n                    let carEngCache = [0, 0, 0, 0];\r\n                    switch (devBaseInfo[i].devType) {\r\n                        case 1: // 车载\r\n                            let energyArray;\r\n                            /**edit by sunbing start */\r\n                            if (devBaseInfo[i].eng != null && devBaseInfo[i].eng != \"\") {\r\n                                /**edit by sunbing end */\r\n                                let energyArrayCache = devBaseInfo[i].eng.split('-');\r\n                                energyArray = [Number(energyArrayCache[0]), Number(energyArrayCache[1]), Number(energyArrayCache[2]), Number(energyArrayCache[3])];\r\n                            }\r\n                            if (energyArray != null) {\r\n                                carEngCache = energyArray;\r\n                                if (energyArray[0] != 0 && energyArray[1] != 0 && energyArray[2] != 0 && energyArray[3] != 0) {\r\n                                    // 存储能量最大值及其相关信息\r\n                                    if (__WEBPACK_IMPORTED_MODULE_0__realTimeCombat_energy_Energy_js__[\"a\" /* Energy */].getEnergyMaxValue(energyArray) > maxEngCache.get(devBaseInfo[i].devCode).maxEng.value) {\r\n                                        maxEngCache.get(devBaseInfo[i].devCode).maxEng.value = __WEBPACK_IMPORTED_MODULE_0__realTimeCombat_energy_Energy_js__[\"a\" /* Energy */].getEnergyMaxValue(energyArray);\r\n                                        maxEngCache.get(devBaseInfo[i].devCode).maxEng.position.lng = currentPoint.lng;\r\n                                        maxEngCache.get(devBaseInfo[i].devCode).maxEng.position.lat = currentPoint.lat;\r\n                                        maxEngCache.get(devBaseInfo[i].devCode).maxEng.position.northAngle = devBaseInfo[i].northAngle;\r\n                                        maxEngCache.get(devBaseInfo[i].devCode).maxEng.detail = energyArray;\r\n                                    }\r\n                                }\r\n                            }\r\n                            break;\r\n                        case 2: // 单兵\r\n                            if (devBaseInfo[i].eng > 0) {\r\n                                // 存储能量最大值及其相关信息\r\n                                if (devBaseInfo[i].eng > maxEngCache.get(devBaseInfo[i].devCode).maxEng.value) {\r\n                                    maxEngCache.get(devBaseInfo[i].devCode).maxEng.value = devBaseInfo[i].eng;\r\n                                    maxEngCache.get(devBaseInfo[i].devCode).maxEng.position.lng = currentPoint.lng;\r\n                                    maxEngCache.get(devBaseInfo[i].devCode).maxEng.position.lat = currentPoint.lat;\r\n                                    maxEngCache.get(devBaseInfo[i].devCode).maxEng.position.northAngle = devBaseInfo[i].northAngle;\r\n                                    maxEngCache.get(devBaseInfo[i].devCode).maxEng.detail = devBaseInfo[i].eng;\r\n                                }\r\n                            }\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    if (lastActiveHit != null && devBaseInfo[i].devType == 1) {\r\n                        /* 绘制主动式命中/脱网标记*/\r\n                        let isDrawPassiveActiveMarkerOverlay = 0;\r\n                        if (devBaseInfo[i].activeHit == 1 && lastActiveHit != 1) {\r\n                            isDrawPassiveActiveMarkerOverlay = 1; // 主动式命中\r\n                        } else if (devBaseInfo[i].activeHit != 1 && lastActiveHit == 1) {\r\n                            isDrawPassiveActiveMarkerOverlay = 2; // 主动式脱网\r\n                        }\r\n                        /* 存储主动式信息*/\r\n                        switch (isDrawPassiveActiveMarkerOverlay) {\r\n                            case 1:\r\n                                /**edti by gaochao start */\r\n                                if (maxEngCache.get(devBaseInfo[i].devCode).maxEng.value == 1000) {\r\n                                    maxEngCache.get(devBaseInfo[i].devCode).maxEng.value = 2001;\r\n                                } else {\r\n                                    maxEngCache.get(devBaseInfo[i].devCode).maxEng.value = 2000;\r\n                                }\r\n                                // maxEngCache.get(devBaseInfo[i].devCode).maxEng.value = 2000;\r\n                                /**edit by gaochao end */\r\n                                maxEngCache.get(devBaseInfo[i].devCode).maxEng.position.lng = currentPoint.lng;\r\n                                maxEngCache.get(devBaseInfo[i].devCode).maxEng.position.lat = currentPoint.lat;\r\n                                maxEngCache.get(devBaseInfo[i].devCode).maxEng.position.northAngle = devBaseInfo[i].northAngle;\r\n                                maxEngCache.get(devBaseInfo[i].devCode).maxEng.detail = carEngCache;\r\n                                break;\r\n                            case 2:\r\n                                /**edti by gaochao start */\r\n                                if (maxEngCache.get(devBaseInfo[i].devCode).maxEng.value == 2000) {\r\n                                    maxEngCache.get(devBaseInfo[i].devCode).maxEng.value = 1001;\r\n                                } else {\r\n                                    maxEngCache.get(devBaseInfo[i].devCode).maxEng.value = 1000;\r\n                                }\r\n                                // maxEngCache.get(devBaseInfo[i].devCode).maxEng.value = 1000;\r\n                                /**edit by gaochao end */\r\n                                maxEngCache.get(devBaseInfo[i].devCode).maxEng.position.lng = currentPoint.lng;\r\n                                maxEngCache.get(devBaseInfo[i].devCode).maxEng.position.lat = currentPoint.lat;\r\n                                maxEngCache.get(devBaseInfo[i].devCode).maxEng.position.northAngle = devBaseInfo[i].northAngle;\r\n                                maxEngCache.get(devBaseInfo[i].devCode).maxEng.detail = carEngCache;\r\n                                break;\r\n                            default:\r\n                                break;\r\n                        }\r\n                    }\r\n                    /* 填充时间轴*/\r\n                    if (i < devBaseInfo.length - 1) {\r\n                        let currentSeconds = new Date(devBaseInfo[i].reportTime).getSeconds();\r\n                        let nextSeconds = new Date(devBaseInfo[i + 1].reportTime).getSeconds();\r\n                        /* 根据reportTime判断“当前”时间，每30秒就填充一次能量块*/\r\n                        if ((currentSeconds <= 30 && nextSeconds > 30) || (currentSeconds > 30 && nextSeconds <= 30)) {\r\n                            /* 获取缓存中的能量值*/\r\n                            let drawEng = maxEngCache.get(devBaseInfo[i].devCode).maxEng.value;\r\n                            if (drawEng > 0) {\r\n                                //----------------------------------\r\n                                let ecvb; // 定位到具体需要填充的div\r\n                                if (currentSeconds > 30) {\r\n                                    // 30秒处\r\n                                    ecvb = new Date(devBaseInfo[i].reportTime).Format('yyyy-MM-dd-hh-mm') + '-30';\r\n                                } else {\r\n                                    // 00秒处\r\n                                    ecvb = new Date(devBaseInfo[i].reportTime).Format('yyyy-MM-dd-hh-mm') + '-00';\r\n                                }\r\n                                //----------------------------------\r\n                                let engHeight = (drawEng / 255) * 30;\r\n                                if (engHeight < 1 && drawEng != 0) {\r\n                                    engHeight = 1; // 如果当前有能量值，但是高度小于1，这个能量块就不会显示出来\r\n                                }\r\n                                let blockBgColor = '#33c0db'; // 默认为蓝色\r\n                                switch (drawEng) {\r\n                                    case 1000:\r\n                                        blockBgColor = '#aaa'; // 主动式脱网为灰色\r\n                                        break;\r\n                                    case 2000:\r\n                                        blockBgColor = '#ff0000'; // 主动式命中为红色\r\n                                        break;\r\n                                        /**add by gaochao start */\r\n                                    case 1001:\r\n                                        blockBgColor = 'linear-gradient(to right,red,red,red,red,#aaa,#aaa,#aaa,#aaa)'; //同半分钟命中后脱网\r\n                                        break;\r\n                                    case 2001:\r\n                                        blockBgColor = 'linear-gradient(to right,#aaa,#aaa,#aaa,#aaa,red,red,red,red)'; // 同半分钟脱网后命中\r\n                                        break;\r\n                                        /**add by gaochao end*/\r\n                                    default:\r\n                                        break;\r\n                                }\r\n                                // 填充对应的能量块\r\n                                $(`.ecvb-${devBaseInfo[i].devCode}-${ecvb}`).css('top', `${30 - engHeight}px`);\r\n                                $(`.ecvb-${devBaseInfo[i].devCode}-${ecvb}`).css('height', engHeight + 'px');\r\n                                $(`.ecvb-${devBaseInfo[i].devCode}-${ecvb}`).css('background', blockBgColor);\r\n                                // 绘制完成后在时间轴点击绘制历史影子的相关缓存中存储信息\r\n                                let mapKey;\r\n                                if (currentSeconds > 30) {\r\n                                    // 30秒处\r\n                                    mapKey = new Date(devBaseInfo[i].reportTime).Format('yyyy-MM-dd hh:mm') + ':30';\r\n                                } else {\r\n                                    // 00秒处\r\n                                    mapKey = new Date(devBaseInfo[i].reportTime).Format('yyyy-MM-dd hh:mm') + ':00';\r\n                                }\r\n                                devDrawInfoMap.get(devBaseInfo[i].devCode).timeLineEngMap.set(mapKey, {\r\n                                    position: {\r\n                                        lng: maxEngCache.get(devBaseInfo[i].devCode).maxEng.position.lng,\r\n                                        lat: maxEngCache.get(devBaseInfo[i].devCode).maxEng.position.lat,\r\n                                        northAngle: maxEngCache.get(devBaseInfo[i].devCode).maxEng.position.northAngle\r\n                                    },\r\n                                    detail: maxEngCache.get(devBaseInfo[i].devCode).maxEng.detail,\r\n                                    passive: maxEngCache.get(devBaseInfo[i].devCode).maxEng.value,\r\n                                });\r\n                                // 绘制完成能量缓存归零，开始存储下个半分钟的最大值\r\n                                maxEngCache.get(devBaseInfo[i].devCode).maxEng.value = 0;\r\n                            }\r\n                        }\r\n                    }\r\n                    historyDevInfoMap.set(devBaseInfo[i].devCode, {\r\n                        lastActiveHit: devBaseInfo[i].activeHit\r\n                    });\r\n\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = EngColumnChartContainer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9vdmVybGF5L0VuZ0NvbHVtbkNoYXJ0Q29udGFpbmVyLmpzP2YzOTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUUrQztBQUdlOztBQUV2RDs7QUFFUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUIseUJBQXlCO0FBQ2hEO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHdCQUF3QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHFHQUFlO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZ0ZBQU07QUFDOUMsK0ZBQStGLGdGQUFNO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRSx5QkFBeUI7QUFDekIsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7QUFDQTtBQUNBO0FBQ0EsdUhBQXVIO0FBQ3ZIO0FBQ0E7QUFDQSx1SEFBdUg7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHVCQUF1QixHQUFHLEtBQUssaUJBQWlCLGVBQWU7QUFDMUcsMkNBQTJDLHVCQUF1QixHQUFHLEtBQUs7QUFDMUUsMkNBQTJDLHVCQUF1QixHQUFHLEtBQUs7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7O0FBRXJCOztBQUVBLGFBQWE7QUFDYjs7QUFFQTs7QUFFQSxDIiwiZmlsZSI6IjUwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIEVuZXJneVxyXG59IGZyb20gJy4uLy4uL3JlYWxUaW1lQ29tYmF0L2VuZXJneS9FbmVyZ3kuanMnO1xyXG5pbXBvcnQge1xyXG4gICAgR1BTVG9CYWlkdVBvaW50XHJcbn0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2JhaWR1TWFwL0dQU1RvQmFpZHVQb2ludC5CYWlkdU1hcC5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRW5nQ29sdW1uQ2hhcnRDb250YWluZXIge1xyXG5cclxuICAgIHN0YXRpYyBpbml0KF9kZXZCYXNlSW5mbykge1xyXG5cclxuICAgICAgICBsZXQgaGlzdG9yeURldkluZm9NYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgbGV0IG1heEVuZ0NhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGxldCBkZXZCYXNlSW5mb01hcCA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICAgICAgLyog5bCG5pWw57uE6YCa6L+H6K6+5aSH57yW5Y+35YiG57G7Ki9cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9kZXZCYXNlSW5mby5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9NYXAuZ2V0KF9kZXZCYXNlSW5mb1tpXS5kZXZDb2RlKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBkZXZCYXNlSW5mb01hcC5zZXQoX2RldkJhc2VJbmZvW2ldLmRldkNvZGUsIFtfZGV2QmFzZUluZm9baV1dKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRldkJhc2VJbmZvTWFwLmdldChfZGV2QmFzZUluZm9baV0uZGV2Q29kZSkucHVzaChfZGV2QmFzZUluZm9baV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGV2QmFzZUluZm9NYXAuc2l6ZSAhPSAwKSB7XHJcbiAgICAgICAgICAgIC8qIOmBjeWOhm1hcO+8jOe7mOWItuavj+S4quiuvuWkh+WvueW6lOeahOiDvemHj+adoSovXHJcbiAgICAgICAgICAgIGRldkJhc2VJbmZvTWFwLmZvckVhY2goKGRldkJhc2VJbmZvKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvKiDnu5jliLbog73ph4/lnZcqL1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXZCYXNlSW5mby5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIOS4iuS4gOasoeS4u+WKqOW8j+aYr+WQpuWRveS4rSovXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3RBY3RpdmVIaXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIOacgOWkp+iDvemHj+WAvOe8k+WtmCovXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heEVuZ0NhY2hlLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEVuZ0NhY2hlLnNldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhFbmc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ydGhBbmdsZTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDogJydcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qIOS4iuS4gOasoeeahOiuvuWkh+ebuOWFs+S/oeaBryovXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlEZXZJbmZvTWFwLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RBY3RpdmVIaXQgPSBoaXN0b3J5RGV2SW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubGFzdEFjdGl2ZUhpdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLyog5b2T5YmN5Z2Q5qCHKi9cclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudFBvaW50ID0gR1BTVG9CYWlkdVBvaW50LmdldEJhaWR1UG9pbnRMb2NhdGlvbihbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtkZXZCYXNlSW5mb1tpXS5sbmcsIGRldkJhc2VJbmZvW2ldLmxhdF1cclxuICAgICAgICAgICAgICAgICAgICBdKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAvKiDlrZjlgqjog73ph4/kv6Hmga8qL1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjYXJFbmdDYWNoZSA9IFswLCAwLCAwLCAwXTtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRldkJhc2VJbmZvW2ldLmRldlR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiAvLyDovabovb1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbmVyZ3lBcnJheTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgc3VuYmluZyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmVuZyAhPSBudWxsICYmIGRldkJhc2VJbmZvW2ldLmVuZyAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqZWRpdCBieSBzdW5iaW5nIGVuZCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbmVyZ3lBcnJheUNhY2hlID0gZGV2QmFzZUluZm9baV0uZW5nLnNwbGl0KCctJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lcmd5QXJyYXkgPSBbTnVtYmVyKGVuZXJneUFycmF5Q2FjaGVbMF0pLCBOdW1iZXIoZW5lcmd5QXJyYXlDYWNoZVsxXSksIE51bWJlcihlbmVyZ3lBcnJheUNhY2hlWzJdKSwgTnVtYmVyKGVuZXJneUFycmF5Q2FjaGVbM10pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmVyZ3lBcnJheSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyRW5nQ2FjaGUgPSBlbmVyZ3lBcnJheTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5lcmd5QXJyYXlbMF0gIT0gMCAmJiBlbmVyZ3lBcnJheVsxXSAhPSAwICYmIGVuZXJneUFycmF5WzJdICE9IDAgJiYgZW5lcmd5QXJyYXlbM10gIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlrZjlgqjog73ph4/mnIDlpKflgLzlj4rlhbbnm7jlhbPkv6Hmga9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEVuZXJneS5nZXRFbmVyZ3lNYXhWYWx1ZShlbmVyZ3lBcnJheSkgPiBtYXhFbmdDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubWF4RW5nLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhFbmdDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubWF4RW5nLnZhbHVlID0gRW5lcmd5LmdldEVuZXJneU1heFZhbHVlKGVuZXJneUFycmF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEVuZ0NhY2hlLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5tYXhFbmcucG9zaXRpb24ubG5nID0gY3VycmVudFBvaW50LmxuZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEVuZ0NhY2hlLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5tYXhFbmcucG9zaXRpb24ubGF0ID0gY3VycmVudFBvaW50LmxhdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEVuZ0NhY2hlLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5tYXhFbmcucG9zaXRpb24ubm9ydGhBbmdsZSA9IGRldkJhc2VJbmZvW2ldLm5vcnRoQW5nbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhFbmdDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubWF4RW5nLmRldGFpbCA9IGVuZXJneUFycmF5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjogLy8g5Y2V5YW1XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZW5nID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWtmOWCqOiDvemHj+acgOWkp+WAvOWPiuWFtuebuOWFs+S/oeaBr1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5lbmcgPiBtYXhFbmdDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubWF4RW5nLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEVuZ0NhY2hlLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5tYXhFbmcudmFsdWUgPSBkZXZCYXNlSW5mb1tpXS5lbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEVuZ0NhY2hlLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5tYXhFbmcucG9zaXRpb24ubG5nID0gY3VycmVudFBvaW50LmxuZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4RW5nQ2FjaGUuZ2V0KGRldkJhc2VJbmZvW2ldLmRldkNvZGUpLm1heEVuZy5wb3NpdGlvbi5sYXQgPSBjdXJyZW50UG9pbnQubGF0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhFbmdDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubWF4RW5nLnBvc2l0aW9uLm5vcnRoQW5nbGUgPSBkZXZCYXNlSW5mb1tpXS5ub3J0aEFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhFbmdDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubWF4RW5nLmRldGFpbCA9IGRldkJhc2VJbmZvW2ldLmVuZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdEFjdGl2ZUhpdCAhPSBudWxsICYmIGRldkJhc2VJbmZvW2ldLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiDnu5jliLbkuLvliqjlvI/lkb3kuK0v6ISx572R5qCH6K6wKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzRHJhd1Bhc3NpdmVBY3RpdmVNYXJrZXJPdmVybGF5ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmFjdGl2ZUhpdCA9PSAxICYmIGxhc3RBY3RpdmVIaXQgIT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNEcmF3UGFzc2l2ZUFjdGl2ZU1hcmtlck92ZXJsYXkgPSAxOyAvLyDkuLvliqjlvI/lkb3kuK1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkZXZCYXNlSW5mb1tpXS5hY3RpdmVIaXQgIT0gMSAmJiBsYXN0QWN0aXZlSGl0ID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRHJhd1Bhc3NpdmVBY3RpdmVNYXJrZXJPdmVybGF5ID0gMjsgLy8g5Li75Yqo5byP6ISx572RXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLyog5a2Y5YKo5Li75Yqo5byP5L+h5oGvKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChpc0RyYXdQYXNzaXZlQWN0aXZlTWFya2VyT3ZlcmxheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXhFbmdDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubWF4RW5nLnZhbHVlID09IDEwMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4RW5nQ2FjaGUuZ2V0KGRldkJhc2VJbmZvW2ldLmRldkNvZGUpLm1heEVuZy52YWx1ZSA9IDIwMDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4RW5nQ2FjaGUuZ2V0KGRldkJhc2VJbmZvW2ldLmRldkNvZGUpLm1heEVuZy52YWx1ZSA9IDIwMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1heEVuZ0NhY2hlLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5tYXhFbmcudmFsdWUgPSAyMDAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhFbmdDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubWF4RW5nLnBvc2l0aW9uLmxuZyA9IGN1cnJlbnRQb2ludC5sbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4RW5nQ2FjaGUuZ2V0KGRldkJhc2VJbmZvW2ldLmRldkNvZGUpLm1heEVuZy5wb3NpdGlvbi5sYXQgPSBjdXJyZW50UG9pbnQubGF0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEVuZ0NhY2hlLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5tYXhFbmcucG9zaXRpb24ubm9ydGhBbmdsZSA9IGRldkJhc2VJbmZvW2ldLm5vcnRoQW5nbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4RW5nQ2FjaGUuZ2V0KGRldkJhc2VJbmZvW2ldLmRldkNvZGUpLm1heEVuZy5kZXRhaWwgPSBjYXJFbmdDYWNoZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiplZHRpIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4RW5nQ2FjaGUuZ2V0KGRldkJhc2VJbmZvW2ldLmRldkNvZGUpLm1heEVuZy52YWx1ZSA9PSAyMDAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEVuZ0NhY2hlLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5tYXhFbmcudmFsdWUgPSAxMDAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEVuZ0NhY2hlLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5tYXhFbmcudmFsdWUgPSAxMDAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtYXhFbmdDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubWF4RW5nLnZhbHVlID0gMTAwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4RW5nQ2FjaGUuZ2V0KGRldkJhc2VJbmZvW2ldLmRldkNvZGUpLm1heEVuZy5wb3NpdGlvbi5sbmcgPSBjdXJyZW50UG9pbnQubG5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEVuZ0NhY2hlLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5tYXhFbmcucG9zaXRpb24ubGF0ID0gY3VycmVudFBvaW50LmxhdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhFbmdDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubWF4RW5nLnBvc2l0aW9uLm5vcnRoQW5nbGUgPSBkZXZCYXNlSW5mb1tpXS5ub3J0aEFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEVuZ0NhY2hlLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5tYXhFbmcuZGV0YWlsID0gY2FyRW5nQ2FjaGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qIOWhq+WFheaXtumXtOi9tCovXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBkZXZCYXNlSW5mby5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50U2Vjb25kcyA9IG5ldyBEYXRlKGRldkJhc2VJbmZvW2ldLnJlcG9ydFRpbWUpLmdldFNlY29uZHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5leHRTZWNvbmRzID0gbmV3IERhdGUoZGV2QmFzZUluZm9baSArIDFdLnJlcG9ydFRpbWUpLmdldFNlY29uZHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyog5qC55o2ucmVwb3J0VGltZeWIpOaWreKAnOW9k+WJjeKAneaXtumXtO+8jOavjzMw56eS5bCx5aGr5YWF5LiA5qyh6IO96YeP5Z2XKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U2Vjb25kcyA8PSAzMCAmJiBuZXh0U2Vjb25kcyA+IDMwKSB8fCAoY3VycmVudFNlY29uZHMgPiAzMCAmJiBuZXh0U2Vjb25kcyA8PSAzMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIOiOt+WPlue8k+WtmOS4reeahOiDvemHj+WAvCovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZHJhd0VuZyA9IG1heEVuZ0NhY2hlLmdldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlKS5tYXhFbmcudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHJhd0VuZyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZWN2YjsgLy8g5a6a5L2N5Yiw5YW35L2T6ZyA6KaB5aGr5YWF55qEZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTZWNvbmRzID4gMzApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMzDnp5LlpIRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWN2YiA9IG5ldyBEYXRlKGRldkJhc2VJbmZvW2ldLnJlcG9ydFRpbWUpLkZvcm1hdCgneXl5eS1NTS1kZC1oaC1tbScpICsgJy0zMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMDDnp5LlpIRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWN2YiA9IG5ldyBEYXRlKGRldkJhc2VJbmZvW2ldLnJlcG9ydFRpbWUpLkZvcm1hdCgneXl5eS1NTS1kZC1oaC1tbScpICsgJy0wMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbmdIZWlnaHQgPSAoZHJhd0VuZyAvIDI1NSkgKiAzMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5nSGVpZ2h0IDwgMSAmJiBkcmF3RW5nICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nSGVpZ2h0ID0gMTsgLy8g5aaC5p6c5b2T5YmN5pyJ6IO96YeP5YC877yM5L2G5piv6auY5bqm5bCP5LqOMe+8jOi/meS4quiDvemHj+Wdl+WwseS4jeS8muaYvuekuuWHuuadpVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmxvY2tCZ0NvbG9yID0gJyMzM2MwZGInOyAvLyDpu5jorqTkuLrok53oibJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRyYXdFbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tCZ0NvbG9yID0gJyNhYWEnOyAvLyDkuLvliqjlvI/ohLHnvZHkuLrngbDoibJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIwMDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja0JnQ29sb3IgPSAnI2ZmMDAwMCc7IC8vIOS4u+WKqOW8j+WRveS4reS4uue6ouiJslxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwMDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja0JnQ29sb3IgPSAnbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LHJlZCxyZWQscmVkLHJlZCwjYWFhLCNhYWEsI2FhYSwjYWFhKSc7IC8v5ZCM5Y2K5YiG6ZKf5ZG95Lit5ZCO6ISx572RXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tCZ0NvbG9yID0gJ2xpbmVhci1ncmFkaWVudCh0byByaWdodCwjYWFhLCNhYWEsI2FhYSwjYWFhLHJlZCxyZWQscmVkLHJlZCknOyAvLyDlkIzljYrliIbpkp/ohLHnvZHlkI7lkb3kuK1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDloavlhYXlr7nlupTnmoTog73ph4/lnZdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuZWN2Yi0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9LSR7ZWN2Yn1gKS5jc3MoJ3RvcCcsIGAkezMwIC0gZW5nSGVpZ2h0fXB4YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChgLmVjdmItJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfS0ke2VjdmJ9YCkuY3NzKCdoZWlnaHQnLCBlbmdIZWlnaHQgKyAncHgnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAuZWN2Yi0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9LSR7ZWN2Yn1gKS5jc3MoJ2JhY2tncm91bmQnLCBibG9ja0JnQ29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOe7mOWItuWujOaIkOWQjuWcqOaXtumXtOi9tOeCueWHu+e7mOWItuWOhuWPsuW9seWtkOeahOebuOWFs+e8k+WtmOS4reWtmOWCqOS/oeaBr1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXBLZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTZWNvbmRzID4gMzApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMzDnp5LlpIRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwS2V5ID0gbmV3IERhdGUoZGV2QmFzZUluZm9baV0ucmVwb3J0VGltZSkuRm9ybWF0KCd5eXl5LU1NLWRkIGhoOm1tJykgKyAnOjMwJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwMOenkuWkhFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBLZXkgPSBuZXcgRGF0ZShkZXZCYXNlSW5mb1tpXS5yZXBvcnRUaW1lKS5Gb3JtYXQoJ3l5eXktTU0tZGQgaGg6bW0nKSArICc6MDAnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZEcmF3SW5mb01hcC5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkudGltZUxpbmVFbmdNYXAuc2V0KG1hcEtleSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBtYXhFbmdDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubWF4RW5nLnBvc2l0aW9uLmxuZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogbWF4RW5nQ2FjaGUuZ2V0KGRldkJhc2VJbmZvW2ldLmRldkNvZGUpLm1heEVuZy5wb3NpdGlvbi5sYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3J0aEFuZ2xlOiBtYXhFbmdDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubWF4RW5nLnBvc2l0aW9uLm5vcnRoQW5nbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBtYXhFbmdDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubWF4RW5nLmRldGFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2l2ZTogbWF4RW5nQ2FjaGUuZ2V0KGRldkJhc2VJbmZvW2ldLmRldkNvZGUpLm1heEVuZy52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDnu5jliLblrozmiJDog73ph4/nvJPlrZjlvZLpm7bvvIzlvIDlp4vlrZjlgqjkuIvkuKrljYrliIbpkp/nmoTmnIDlpKflgLxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhFbmdDYWNoZS5nZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSkubWF4RW5nLnZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5RGV2SW5mb01hcC5zZXQoZGV2QmFzZUluZm9baV0uZGV2Q29kZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0QWN0aXZlSGl0OiBkZXZCYXNlSW5mb1tpXS5hY3RpdmVIaXRcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vb3ZlcmxheS9FbmdDb2x1bW5DaGFydENvbnRhaW5lci5qc1xuLy8gbW9kdWxlIGlkID0gNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///50\n");

/***/ }),
/* 51 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class Panel {\r\n\r\n    static addNewDev(devBaseInfo, i) {\r\n        devDrawInfoMap.set(devBaseInfo[i].devCode, 1);\r\n        /* 右部面板添加新设备*/\r\n        let isAddActive = '';\r\n        /**add by gaochao start */\r\n        let isActive = '';\r\n        /**add by gaochao end */\r\n        if (devDrawInfoMap.size == 1) {\r\n            currentViewDevCode = devBaseInfo[i].devCode;\r\n            isAddActive = 'team-each-dev-active';\r\n            /**add by gaochao start */\r\n            isActive = 'group-location-choose';\r\n            /**add by gaochao end */\r\n            if (devBaseInfo[i].devType == 1) {\r\n                $('.car-speed').css('display', 'block'); // 显示车速表\r\n            }\r\n        }\r\n        /* 确定设备图片索引*/\r\n        let devImgIndex = 0;\r\n        devDrawInfoMap.forEach((eachDev) => {\r\n            if (devBaseInfo[i].devType == eachDev.devType) {\r\n                devImgIndex++;\r\n            }\r\n        });\r\n        if (devBaseInfo[i].devType == 1) {\r\n            $('.team-each-dev-container-car').append(`\r\n                <div class=\"team-each-dev team-each-dev-${devBaseInfo[i].devCode} ${isAddActive}\" data-info-devcode=\"${devBaseInfo[i].devCode}\">\r\n                    <!--用户名-->\r\n                    <div class=\"team-each-dev-uaername user-name-value-by-id-${devBaseInfo[i].userId}\" title=\"\"></div>\r\n                    <!--设备图片-->\r\n                    <img class=\"team-each-dev-icon-car team-each-dev-icon-${devBaseInfo[i].devCode}\" src=\"img/car_${devImgIndex}.png\">\r\n                    <!--GPS状态-->\r\n                    <div class=\"team-each-dev-gpsstatus\" id=\"team-each-dev-gpsstatus-${devBaseInfo[i].devCode}\" title=\"\"></div>\r\n                    <!--车载A-->\r\n                    <div class=\"team-each-dev-index-car\">${abcCache[devImgIndex]}</div>\r\n                    <!--授时-->\r\n                    <div class=\"team-each-dev-timeservice team-each-dev-timeservice-${devBaseInfo[i].devCode}\" style=\"display:none;\"></div>\r\n                    <div class=\"team-each-dev-eng-car\">\r\n                        <div class=\"eng-orientation-icon\"></div>\r\n                        <!--能量值-->\r\n                        <div class=\"eng-value-car eng-value-car-0\" id=\"eng-value-car-0-${devBaseInfo[i].devCode}\"><span style=\"color: #555\">0</span></div>\r\n                        <div class=\"eng-value-car eng-value-car-1\" id=\"eng-value-car-1-${devBaseInfo[i].devCode}\"><span style=\"color: #555\">0</span></div>\r\n                        <div class=\"eng-value-car eng-value-car-2\" id=\"eng-value-car-2-${devBaseInfo[i].devCode}\"><span style=\"color: #555\">0</span></div>\r\n                        <div class=\"eng-value-car eng-value-car-3\" id=\"eng-value-car-3-${devBaseInfo[i].devCode}\"><span style=\"color: #555\">0</span></div>\r\n                        <!--能量命中时间-->\r\n                        <div class=\"eng-hit-time-car\" id=\"eng-hit-time-car-${devBaseInfo[i].devCode}\"></div>\r\n                    </div>\r\n                </div>\r\n            `);\r\n            /**add by gaochao start */\r\n            $('.group-location-car-container').append(`\r\n            <div class=\"group-location-each team-each-dev-${devBaseInfo[i].devCode} ${isActive}\" data-info-devcode=\"${devBaseInfo[i].devCode}\">\r\n                <div class=\"group-location-person\">\r\n                    <div class=\"group-location-person-photo user-name-value-by-id-${devBaseInfo[i].userId}-photo\"></div>\r\n                    <div class=\"group-location-person-status group-location-person-status-${devBaseInfo[i].devCode}\" data-info-status=1></div>\r\n                    <div class=\"group-location-person-name user-name-value-by-id-${devBaseInfo[i].userId}\" title=\"\"></div>\r\n                    <div class=\"group-location-person-gps-icon\" id=\"team-each-dev-gps-status-${devBaseInfo[i].devCode}\" title=\"\"></div>\r\n                    <div class=\"group-location-person-gps-value\" id=\"team-each-dev-gps-value-${devBaseInfo[i].devCode}\"></div>\r\n                    <div class=\"group-location-person-speed-icon\"></div>\r\n                    <div class=\"group-location-person-speed-value\" id=\"team-each-dev-speed-value-${devBaseInfo[i].devCode}\">0km/h</div>\r\n                </div>\r\n                <div class=\"group-location-line\"></div>\r\n                <div class=\"group-location-car-dev\">\r\n                    <div class=\"group-location-devcode\">${devBaseInfo[i].devCode}</div>\r\n                    <div class=\"group-location-car-engtime\" id=\"eng-hit-time-car-${devBaseInfo[i].devCode}\"></div>\r\n                    <div class=\"group-location-more-engtime\"></div>\r\n                    <div class=\"group-location-timeserver-icon\" id=\"team-each-dev-timeservice-status-${devBaseInfo[i].devCode}\" style=\"display:none;\"></div>\r\n                    <div class=\"group-location-timeserver-value\" id=\"team-each-dev-timeservice-value-${devBaseInfo[i].devCode}\" style=\"display:none;\"></div>\r\n                    <div class=\"group-location-temperature-icon\" id=\"team-each-dev-temperature-icon-${devBaseInfo[i].devCode}\"></div>\r\n                    <div class=\"group-location-temperature-value\" id=\"team-each-dev-temperature-value-${devBaseInfo[i].devCode}\">0℃</div>\r\n                    <div class=\"group-location-battery-car-icon\" id=\"team-each-dev-battery-icon-${devBaseInfo[i].devCode}\"></div>\r\n                    <div class=\"group-location-battery-value\" id=\"team-each-dev-battery-value-${devBaseInfo[i].devCode}\">0%</div>\r\n                    <div class=\"group-location-dev-line\"></div>\r\n                    <div class=\"group-location-car-icon team-each-dev-icon-${devBaseInfo[i].devCode}\"  style=\"background:url(img/icon/car_${devImgIndex}.png)no-repeat;\"></div>\r\n                    <div class=\"group-location-careng-top group-location-careng\" id=\"eng-value-car-0-${devBaseInfo[i].devCode}\"><span style=\"color: #666666\">0</span></div>\r\n                    <div class=\"group-location-careng-right group-location-careng\" id=\"eng-value-car-1-${devBaseInfo[i].devCode}\"><span style=\"color: #666666\">0</span></div>\r\n                    <div class=\"group-location-careng-left group-location-careng\" id=\"eng-value-car-3-${devBaseInfo[i].devCode}\"><span style=\"color: #666666\">0</span></div>\r\n                    <div class=\"group-location-careng-bottom group-location-careng\" id=\"eng-value-car-2-${devBaseInfo[i].devCode}\"><span style=\"color: #666666\">0</span></div>\r\n                    <div class=\"group-location-voice\" id=\"group-location-voice-${devBaseInfo[i].devCode}\" data-code=\"${devBaseInfo[i].devCode}\" data-status=1></div>\r\n                </div>\r\n            </div>\r\n            `)\r\n            /**add by gaochao end */\r\n        } else if (devBaseInfo[i].devType == 2) {\r\n            if (thisPageType == 'RTC') {\r\n                $('.team-each-dev-container-car').append(`\r\n                <div class=\"team-each-dev team-each-dev-${devBaseInfo[i].devCode} ${isAddActive}\" data-info-devcode=\"${devBaseInfo[i].devCode}\">\r\n                    <!--用户名-->\r\n                    <div class=\"team-each-dev-uaername user-name-value-by-id-${devBaseInfo[i].userId}\" title=\"\"></div>\r\n                    <!--设备图片-->\r\n                    <img class=\"team-each-dev-icon-single team-each-dev-icon-${devBaseInfo[i].devCode}\" src=\"img/single_${devImgIndex}.png\">\r\n                    <!--GPS状态-->\r\n                    <div class=\"team-each-dev-gpsstatus\" id=\"team-each-dev-gpsstatus-${devBaseInfo[i].devCode}\" title=\"\"></div>\r\n                    <!--单兵A-->\r\n                    <div class=\"team-each-dev-index-single\">${abcCache[devImgIndex]}</div>\r\n                    <!--授时-->\r\n                    <div class=\"team-each-dev-timeservice team-each-dev-timeservice-${devBaseInfo[i].devCode}\" style=\"display:none;\"></div>\r\n                    <div class=\"team-each-dev-video team-each-dev-video-id-${devBaseInfo[i].userId}\" data-info-username = \"\"></div>\r\n                    <div class=\"team-each-dev-eng-single\">\r\n                        <!--能量值-->\r\n                        <div class=\"eng-value-single\" id=\"eng-value-single-${devBaseInfo[i].devCode}\"><span style=\"color: #555\">0</span></div>\r\n                        <!--能量命中时间-->\r\n                        <div class=\"eng-hit-time-single\" id=\"eng-hit-time-single-${devBaseInfo[i].devCode}\"></div>\r\n                    </div>\r\n                </div>\r\n            `);\r\n                /**add by gaochao start */\r\n                $('.group-location-single-container').append(`\r\n           <div class=\"group-location-each team-each-dev-${devBaseInfo[i].devCode} ${isActive}\" data-info-devcode=\"${devBaseInfo[i].devCode}\">\r\n          <div class=\"group-location-person\">\r\n              <div class=\"group-location-person-photo user-name-value-by-id-${devBaseInfo[i].userId}-photo\"></div>\r\n              <div class=\"group-location-person-status group-location-person-status-${devBaseInfo[i].devCode}\" data-info-status=1></div>\r\n              <div class=\"group-location-person-name user-name-value-by-id-${devBaseInfo[i].userId}\" title=\"\"></div>\r\n              <div class=\"group-location-person-gps-icon\" id=\"team-each-dev-gps-status-${devBaseInfo[i].devCode}\"></div>\r\n              <div class=\"group-location-person-gps-value\" id=\"team-each-dev-gps-value-${devBaseInfo[i].devCode}\"></div>\r\n              <div class=\"group-location-person-altitude-icon\"></div>\r\n              <div class=\"group-location-person-altitude-value\" id=\"team-each-dev-altitude-value-${devBaseInfo[i].devCode}\">0m</div>\r\n          </div>\r\n          <div class=\"group-location-line\"></div>\r\n          <div class=\"group-location-single-dev\">\r\n              <div class=\"group-location-devcode\">${devBaseInfo[i].devCode}</div>\r\n              <div class=\"group-location-single-engtime\" id=\"eng-hit-time-single-${devBaseInfo[i].devCode}\"></div>\r\n              <div class=\"group-location-timeserver-icon\" id=\"team-each-dev-timeservice-status-${devBaseInfo[i].devCode}\" style=\"display:none;\"></div>\r\n              <div class=\"group-location-timeserver-value\" id=\"team-each-dev-timeservice-value-${devBaseInfo[i].devCode}\" style=\"display:none;\"></div>\r\n              <div class=\"group-location-temperature-icon\" id=\"team-each-dev-temperature-icon-${devBaseInfo[i].devCode}\"></div>\r\n              <div class=\"group-location-temperature-value\" id=\"team-each-dev-temperature-value-${devBaseInfo[i].devCode}\">0℃</div>\r\n              <div class=\"group-location-battery-single-icon\" id=\"team-each-dev-battery-icon-${devBaseInfo[i].devCode}\"></div>\r\n              <div class=\"group-location-battery-value\" id=\"team-each-dev-battery-value-${devBaseInfo[i].devCode}\">0%</div>\r\n              <div class=\"group-location-dev-line\"></div>\r\n              <div class=\"group-location-single-icon team-each-dev-icon-${devBaseInfo[i].devCode}\" style=\"background:url(img/icon/single_${devImgIndex}.png) no-repeat;\"></div>\r\n              <div class=\"group-location-single-eng\" id=\"eng-value-single-${devBaseInfo[i].devCode}\"><span style=\"color: #999999\"></span></div>\r\n              <div class=\"group-location-voice\" id=\"group-location-voice-${devBaseInfo[i].devCode}\" data-code=\"${devBaseInfo[i].devCode}\" data-status=1></div>\r\n              <div class=\"group-location-video-out group-location-video-out-${devBaseInfo[i].devCode}\" id=\"group-location-video-out-${devBaseInfo[i].devCode}\" data-info-status=\"0\" data-info-close=\"1\" data-info-devcode=\"${devBaseInfo[i].devCode}\"></div>\r\n              <div class=\"group-location-video-container group-location-video-container-${devBaseInfo[i].devCode}\" data-info-devCode=\"${devBaseInfo[i].devCode}\"></div>\r\n          </div>\r\n          <div class=\"\"></div>\r\n      </div>\r\n      `);\r\n                /**add by gaochao end */\r\n            } else {\r\n                $('.team-each-dev-container-car').append(`\r\n                    <div class=\"team-each-dev team-each-dev-${devBaseInfo[i].devCode} ${isAddActive}\" data-info-devcode=\"${devBaseInfo[i].devCode}\">\r\n                        <!--用户名-->\r\n                        <div class=\"team-each-dev-uaername user-name-value-by-id-${devBaseInfo[i].userId}\" title=\"\"></div>\r\n                        <!--设备图片-->\r\n                        <img class=\"team-each-dev-icon-single team-each-dev-icon-${devBaseInfo[i].devCode}\" src=\"img/single_${devImgIndex}.png\">\r\n                        <!--GPS状态-->\r\n                        <div class=\"team-each-dev-gpsstatus\" id=\"team-each-dev-gpsstatus-${devBaseInfo[i].devCode}\" title=\"\"></div>\r\n                        <!--单兵A-->\r\n                        <div class=\"team-each-dev-index-single\">${abcCache[devImgIndex]}</div>\r\n                        <!--授时-->\r\n                        <div class=\"team-each-dev-timeservice team-each-dev-timeservice-${devBaseInfo[i].devCode}\" style=\"display:none;\"></div>\r\n                        <div class=\"team-each-dev-eng-single\">\r\n                            <!--能量值-->\r\n                            <div class=\"eng-value-single\" id=\"eng-value-single-${devBaseInfo[i].devCode}\"><span style=\"color: #555\">0</span></div>\r\n                            <!--能量命中时间-->\r\n                            <div class=\"eng-hit-time-single\" id=\"eng-hit-time-single-${devBaseInfo[i].devCode}\"></div>\r\n                        </div>\r\n                    </div>\r\n                `);\r\n                /**add by gaochao start */\r\n                $('.group-location-single-container').append(`\r\n                <div class=\"group-location-each team-each-dev-${devBaseInfo[i].devCode} ${isActive}\" data-info-devcode=\"${devBaseInfo[i].devCode}\">\r\n                    <div class=\"group-location-person\">\r\n                        <div class=\"group-location-person-photo user-name-value-by-id-${devBaseInfo[i].userId}-photo\"></div>\r\n                        <div class=\"group-location-person-status group-location-person-status-${devBaseInfo[i].devCode}\" data-info-status=1></div>\r\n                        <div class=\"group-location-person-name user-name-value-by-id-${devBaseInfo[i].userId}\" title=\"\"></div>\r\n                        <div class=\"group-location-person-gps-icon\" id=\"team-each-dev-gps-status-${devBaseInfo[i].devCode}\"></div>\r\n                        <div class=\"group-location-person-gps-value\" id=\"team-each-dev-gps-value-${devBaseInfo[i].devCode}\"></div>\r\n                        <div class=\"group-location-person-altitude-icon\"></div>\r\n                        <div class=\"group-location-person-altitude-value\" id=\"team-each-dev-altitude-value-${devBaseInfo[i].devCode}\">0m</div>\r\n                    </div>\r\n                    <div class=\"group-location-line\"></div>\r\n                    <div class=\"group-location-single-dev\">\r\n                        <div class=\"group-location-devcode\">${devBaseInfo[i].devCode}</div>\r\n                        <div class=\"group-location-single-engtime\" id=\"eng-hit-time-single-${devBaseInfo[i].devCode}\"></div>\r\n                        <div class=\"group-location-timeserver-icon\" id=\"team-each-dev-timeservice-status-${devBaseInfo[i].devCode}\" style=\"display:none;\"></div>\r\n                        <div class=\"group-location-timeserver-value\" id=\"team-each-dev-timeservice-value-${devBaseInfo[i].devCode}\" style=\"display:none;\"></div>\r\n                        <div class=\"group-location-temperature-icon\" id=\"team-each-dev-temperature-icon-${devBaseInfo[i].devCode}\"></div>\r\n                        <div class=\"group-location-temperature-value\" id=\"team-each-dev-temperature-value-${devBaseInfo[i].devCode}\">0℃</div>\r\n                        <div class=\"group-location-battery-single-icon\" id=\"team-each-dev-battery-icon-${devBaseInfo[i].devCode}\"></div>\r\n                        <div class=\"group-location-battery-value\" id=\"team-each-dev-battery-value-${devBaseInfo[i].devCode}\">0%</div>\r\n                        <div class=\"group-location-dev-line\"></div>\r\n                        <div class=\"group-location-single-icon team-each-dev-icon-${devBaseInfo[i].devCode}\" style=\"background:url(img/icon/single_${devImgIndex}.png) no-repeat;\"></div>\r\n                        <div class=\"group-location-single-eng\" id=\"eng-value-single-${devBaseInfo[i].devCode}\"><span style=\"color: #999999\"></span></div>\r\n                        <div class=\"group-location-voice\" id=\"group-location-voice-${devBaseInfo[i].devCode}\" data-code=\"${devBaseInfo[i].devCode}\" data-status=1></div>\r\n                    </div>\r\n                    <div class=\"\"></div>\r\n                </div>\r\n            `);\r\n                /**add by gaochao end */\r\n            }\r\n        } else if (devBaseInfo[i].devType == 3) {\r\n            if (thisPageType == 'RTC') {\r\n                let player;\r\n                $('.group-outside-container').append(`\r\n                <div class=\"group-outside-each-item team-each-dev-${devBaseInfo[i].devCode} ${isActive}\" data-info-devcode=\"${devBaseInfo[i].devCode}\">\r\n                    <div class=\"group-outside-each-photo user-name-value-by-id-${devBaseInfo[i].userId}-photo\"></div>\r\n                    <div class=\"group-outside-each-status group-location-person-status-${devBaseInfo[i].devCode}\" data-info-status=1></div>\r\n                    <div class=\"group-outside-each-name user-name-value-by-id-${devBaseInfo[i].userId}\" title=\"\"></div>\r\n                    <div class=\"group-outside-each-gps-icon\"  id=\"team-each-dev-gps-status-${devBaseInfo[i].devCode}\"></div>\r\n                    <div class=\"group-outside-each-gps-value\" id=\"team-each-dev-gps-value-${devBaseInfo[i].devCode}\"></div>\r\n                    <div class=\"group-outside-each-altitude-icon\"></div>\r\n                    <div class=\"group-outside-each-altitude-value\" id=\"team-each-dev-altitude-value-${devBaseInfo[i].devCode}\">0m</div>\r\n                    <div class=\"group-outside-each-line\"></div>\r\n                    <div class=\"group-outside-video-container group-outside-video-container-${devBaseInfo[i].devCode}\" data-info-devCode=\"${devBaseInfo[i].devCode}\">\r\n                    <div>\r\n                    <video id=\"${devBaseInfo[i].devCode}\" class=\"video-js\" preload=\"auto\" width=\"140\" height=\"132\" poster=\"\" data-setup=\"{}\">\r\n                    <source src=\"rtmp://106.15.195.82:1935/hls/${devBaseInfo[i].devCode}\" type=\"rtmp/flv\"></video>\r\n                    </div>\r\n                        <div class=\"group-location-video-popup group-location-video-popup-${devBaseInfo[i].devCode}\" data-devcode=\"${devBaseInfo[i].devCode}\"></div>\r\n                    </div>\r\n                </div>\r\n                `);\r\n                player = videojs(`${devBaseInfo[i].devCode}`, {\r\n                    autoplay: true,\r\n                }, function onPlayerReady() {\r\n                    this.muted(true);\r\n                    this.play();\r\n                });\r\n            } else {\r\n                $('.group-outside-container').append(`\r\n                <div class=\"group-outside-each-item team-each-dev-${devBaseInfo[i].devCode} ${isActive}\" data-info-devcode=\"${devBaseInfo[i].devCode}\">\r\n                    <div class=\"group-outside-each-photo user-name-value-by-id-${devBaseInfo[i].userId}-photo\"></div>\r\n                    <div class=\"group-outside-each-status group-location-person-status-${devBaseInfo[i].devCode}\" data-info-status=1></div>\r\n                    <div class=\"group-outside-each-name user-name-value-by-id-${devBaseInfo[i].userId}\" title=\"\"></div>\r\n                    <div class=\"group-outside-each-gps-icon\"  id=\"team-each-dev-gps-status-${devBaseInfo[i].devCode}\"></div>\r\n                    <div class=\"group-outside-each-gps-value\" id=\"team-each-dev-gps-value-${devBaseInfo[i].devCode}\"></div>\r\n                    <div class=\"group-outside-each-altitude-icon\"></div>\r\n                    <div class=\"group-outside-each-altitude-value\" id=\"team-each-dev-altitude-value-${devBaseInfo[i].devCode}\">0m</div>\r\n                    <div class=\"group-outside-each-line\"></div>\r\n                    <div class=\"group-outside-video-container group-outside-video-container-${devBaseInfo[i].devCode}\" data-info-devCode=\"${devBaseInfo[i].devCode}\">\r\n\r\n                    </div>\r\n                </div>\r\n                `);\r\n            }\r\n        }\r\n        /* 左下角设备视角选择*/\r\n        if (devBaseInfo[i].devType == 1) {\r\n            $('.choose-container-car').append(`\r\n                <div class=\"choose-divide-line\"></div>\r\n                <div class=\"choose-container\" data-devcode=\"${devBaseInfo[i].devCode}\">\r\n                    <span class=\"user-name-value-by-id-${devBaseInfo[i].userId}\"></span> <img class=\"choose-item-img-car\" src=\"img/car_${devImgIndex}.png\">\r\n                </div>\r\n            `);\r\n        } else {\r\n            $('.choose-container-single').append(`\r\n                <div class=\"choose-divide-line\"></div>\r\n                <div class=\"choose-container\" data-devcode=\"${devBaseInfo[i].devCode}\">\r\n                    <span class=\"user-name-value-by-id-${devBaseInfo[i].userId}\"></span> <img class=\"choose-item-img-single\" src=\"img/single_${devImgIndex}.png\">\r\n                </div>\r\n            `);\r\n        }\r\n        $('.view-switch-chooser').css('height', $('.view-switch-chooser').height() + 81);\r\n        $('.view-switch-chooser').css('top', -$('.view-switch-chooser').height() - 5);\r\n        if (isAddActive != '') {\r\n            if (devBaseInfo[i].devType == 1) {\r\n                $('.view-current-dev').append(`\r\n                    <span class=\"view-current-username user-name-value-by-id-${devBaseInfo[i].userId}\">()</span>\r\n                    <img class=\"view-current-dev-img-car\" src=\"img/car_${devImgIndex}.png\">\r\n                    <i class=\"mdui-icon material-icons\">&#xe5c7;</i>\r\n                `);\r\n                /**add by gaochao start */\r\n                $('.view-current-dev-container').append(`\r\n                <div class=\"view-current-dev-icon-car\" style=\"background:url(img/icon/car_view_${devImgIndex}.png) no-repeat;background-size: cover;\"></div>\r\n\t\t\t\t<div class=\"view-current-username-content  user-name-value-by-id-${devBaseInfo[i].userId}\"></div>\r\n                `);\r\n                /**add by gaochao end */\r\n            } else {\r\n                $('.view-current-dev').append(`\r\n                    <span class=\"view-current-username user-name-value-by-id-${devBaseInfo[i].userId}\">()</span>\r\n                    <img class=\"view-current-dev-img-single\" src=\"img/single_${devImgIndex}.png\">\r\n                    <i class=\"mdui-icon material-icons\">&#xe5c7;</i>\r\n                `);\r\n                /**add by gaochao start */\r\n                if (devBaseInfo[i].devType == 2) {\r\n                    $('.view-current-dev-container').append(`\r\n                    <div class=\"view-current-dev-icon-single\" style=\"background:url(img/icon/single_view_${devImgIndex}.png)no-repeat;background-size: cover;\"></div>\r\n                    <div class=\"view-current-username-content  user-name-value-by-id-${devBaseInfo[i].userId}\"></div>\r\n                    `);\r\n                }\r\n                if (devBaseInfo[i].devType == 3) {\r\n                    $('.view-current-dev-container').append(`\r\n                    <div class=\"view-current-dev-icon-single\" style=\"background:url(img/icon/outside_view_${devImgIndex}.png)no-repeat;background-size: cover;\"></div>\r\n                    <div class=\"view-current-username-content  user-name-value-by-id-${devBaseInfo[i].userId}\"></div>\r\n                    `);\r\n                }\r\n                /**add by gaochao end */\r\n            }\r\n        }\r\n        /* 建立视角存储*/\r\n        let isCorrentView = false;\r\n        if (isAddActive != '') {\r\n            isCorrentView = true;\r\n        }\r\n        /** */ //currentViewDevCode = devBaseInfo[i].devCode;\r\n        devDrawInfoMap.set(devBaseInfo[i].devCode, {\r\n            userId: devBaseInfo[i].userId,\r\n            userName: null,\r\n            realName: null,\r\n            headAddr: null,\r\n            devCode: devBaseInfo[i].devCode,\r\n            devType: Number(devBaseInfo[i].devType),\r\n            devImgIndex: devImgIndex,\r\n            isCorrentView: isCorrentView, // 是否为当前视角\r\n            routeLineColor: '#888888', // 路径线颜色\r\n            maxEng: { value: 0, position: { lng: 0, lat: 0, northAngle: 0, }, detail: '' },\r\n            timeLineEngMap: new Map(),\r\n            isShow: devBaseInfo[i].isShow,\r\n        });\r\n        /* 建立路径线存储*/\r\n        lineOverlayMap.line.set(devBaseInfo[i].devCode, {\r\n            devCode: devBaseInfo[i].devCode,\r\n            line: [],\r\n            tempLine: [],\r\n            dataCache: [],\r\n        });\r\n        /* 添加时间轴能量条*/\r\n        let engColumnDisplay = 'none';\r\n        if (isCorrentView) {\r\n            engColumnDisplay = 'block';\r\n        }\r\n        $('.eng-column-chart').append(`<div class=\"eng-column-chart-container eng-column-chart-container-${devBaseInfo[i].devCode}\" style=\"display:${engColumnDisplay};\"></div>`);\r\n        let engColumnValueDefault = '';\r\n        let timeDividerCountByPageType = 0;\r\n        switch (thisPageType) {\r\n            case 'RTC':\r\n                timeDividerCountByPageType = timeDividerCount * 2 - timeDividerCountOver * 2;\r\n                break;\r\n            case 'CR':\r\n                if (new Date(caseStartTime).getSeconds() >= 30) {\r\n                    timeDividerCountByPageType = timeDividerCountOver * 2 + 1;\r\n                } else {\r\n                    timeDividerCountByPageType = timeDividerCountOver * 2;\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        for (let j = 0; j < timeDividerCountByPageType; j++) {\r\n            let ecvb;\r\n            let time;\r\n            switch (thisPageType) {\r\n                case 'RTC':\r\n                    if (new Date(caseStartTime).getSeconds() >= 30) {\r\n                        time = new Date((parseInt(caseStartTime / 1000) + j * 30 - 30) * 1000);\r\n                    } else {\r\n                        time = new Date((parseInt(caseStartTime / 1000) + j * 30) * 1000);\r\n                    }\r\n                    break;\r\n                case 'CR':\r\n                    time = new Date((parseInt(caseStartTime / 1000) + j * 30) * 1000);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            if (time.getSeconds() >= 0 && time.getSeconds() < 30) {\r\n                // 00秒处\r\n                ecvb = time.Format('yyyy-MM-dd-hh-mm') + '-00';\r\n            } else {\r\n                // 30秒处\r\n                ecvb = time.Format('yyyy-MM-dd-hh-mm') + '-30';\r\n            }\r\n            engColumnValueDefault = engColumnValueDefault + `\r\n                <div class=\"eng-column-value eng-column-value-${devBaseInfo[i].devCode}\" style=\"background:rgba(0,0,0,0)\">\r\n                    <div class=\"ecvb-${devBaseInfo[i].devCode}-${ecvb}\" style=\"position:relative; top:0; background:rgba(0,0,0,0); height:0;\"></div>\r\n                </div>\r\n            `;\r\n        }\r\n        // 添加能量块\r\n        $(`.eng-column-chart-container-${devBaseInfo[i].devCode}`).append(engColumnValueDefault);\r\n        // 设置能量块位置\r\n        $(`.eng-column-value-${devBaseInfo[i].devCode}`).css('width', $('.eng-column-chart').width() * 0.025 / 2 * 0.7);\r\n        $(`.eng-column-value-${devBaseInfo[i].devCode}`).css('margin-left', $('.eng-column-chart').width() * 0.025 / 2 * 0.15);\r\n        $(`.eng-column-value-${devBaseInfo[i].devCode}`).css('margin-right', $('.eng-column-chart').width() * 0.025 / 2 * 0.15);\r\n        // 设置能量块容器长度\r\n        $(`.eng-column-chart-container-${devBaseInfo[i].devCode}`).css('width', timeDividerCount * $('.eng-column-chart').width() * 0.025);\r\n        switch (thisPageType) {\r\n            case 'RTC':\r\n                $(`.eng-column-chart-container-${devBaseInfo[i].devCode}`).css('right', 0);\r\n                break;\r\n            case 'CR':\r\n                $(`.eng-column-chart-container-${devBaseInfo[i].devCode}`).css('left', 0);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        /* 添加高级面板*/\r\n        let advanceInfoPanelDisplay = 'none';\r\n        if (isCorrentView) {\r\n            advanceInfoPanelDisplay = 'block';\r\n        }\r\n        if (isCorrentView) {\r\n            $('#default-advance-info-panel-dev').html(`\r\n                ${devBaseInfo[i].devCode}&nbsp;<span style=\"color: #566ae2\" class=\"user-name-value-by-id-${devBaseInfo[i].userId}\">()</span> <span class=\"caret\"></span>\r\n            `);\r\n            /**add by gaochao start */\r\n            $('.advance-info-dropdown-toggle-container').html(`\r\n            <div class=\"advance-info-dropdown-toggle\">${devBaseInfo[i].devCode}(<span class=\"user-name-value-by-id-${devBaseInfo[i].userId}\">()</span>)</div>\r\n            <div class=\"advance-info-dropdown-toggle-icon\"></div>\r\n            `);\r\n            /**add by gaochao end */\r\n            analysisDevCodeNow = `${devBaseInfo[i].devCode}`;\r\n        }\r\n        $('#advance-info-panel-dev-selector').append(`\r\n            <li>\r\n                <a class=\"advance-info-panel-selector-item\" data-dev-code=\"${devBaseInfo[i].devCode}\">\r\n                    ${devBaseInfo[i].devCode}&nbsp;\r\n                    <span style=\"color: #566ae2\" class=\"user-name-value-by-id-${devBaseInfo[i].userId}\">()</span>\r\n                </a>\r\n            </li>\r\n        `);\r\n        /**add by gaochao start */\r\n        $('.advance-info-dropdown-toggle-content').append(`\r\n            <div class=\"advance-info-dropdown-toggle-content-item\" data-dev-code=\"${devBaseInfo[i].devCode}\">${devBaseInfo[i].devCode}(<span class=\"user-name-value-by-id-${devBaseInfo[i].userId}\">()</span>)</div>\r\n            `);\r\n        $('.advance-info-value-container').append(`\r\n            <div class=\"advance-info-content-container advance-info-content-container-${devBaseInfo[i].devCode}-lte CR-scrollY\" style=\"display:${advanceInfoPanelDisplay};\"></div>\r\n            <div class=\"advance-info-content-container advance-info-content-container-${devBaseInfo[i].devCode}-wcdma CR-scrollY\" style=\"display:${advanceInfoPanelDisplay};display:none\"></div>\r\n            <div class=\"advance-info-content-container advance-info-content-container-${devBaseInfo[i].devCode}-cdma CR-scrollY\" style=\"display:${advanceInfoPanelDisplay};display:none\"></div>\r\n            <div class=\"advance-info-content-container advance-info-content-container-${devBaseInfo[i].devCode}-gsm CR-scrollY\" style=\"display:${advanceInfoPanelDisplay};display:none\"></div>\r\n            `);\r\n        $('.advance-info-time-container').append(`\r\n\t\t\t\t\t<div class=\"advance-info-time advance-info-time-${devBaseInfo[i].devCode}\" style=\"display:${advanceInfoPanelDisplay}\"></div>\r\n            `);\r\n        /**add by gaochao end */\r\n        $('#advance-info-content-body').append(`\r\n            <div class=\"advance-info-content advance-info-content-${devBaseInfo[i].devCode}\" style=\"display:${advanceInfoPanelDisplay}\">\r\n                <div class=\"channel-info-area\">\r\n                    <div class=\"info-block-title\">通道信息</div>\r\n                    <div class=\"channel-info-table-border\">\r\n                        <table class=\"channel-info-table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style=\"width: 115px;\">基站</th>\r\n                                    <th style=\"width: 135px;\">位置区标识码</th>\r\n                                    <th style=\"width: 86px;\">解析</th>\r\n                                    <th style=\"width: 50px;\">中标数</th>\r\n                                    <th style=\"width: 34px;\">场强</th>\r\n                                    <th style=\"width: 34px;\">增益</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody class=\"channel-info-table-tbody channel-info-table-tbody-${devBaseInfo[i].devCode}\">\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n                <div class=\"uplink-gain-info-area\">\r\n                    <div class=\"info-block-title\">上行增益</div>\r\n                    <div class=\"uplink-gain-info-content\">\r\n                        <div class=\"uplink-gain-status-line\">\r\n                            <div class=\"uplink-gain-status-gray-cover uplink-gain-status-gray-cover-${devBaseInfo[i].devCode}\" style=\"width: 100%\"></div>\r\n                            <div class=\"uplink-gain-status-pot uplink-gain-status-pot-${devBaseInfo[i].devCode}\" style=\"left: 0%;\"></div>\r\n                        </div>\r\n                        <div class=\"uplink-gain-status-value uplink-gain-status-value-${devBaseInfo[i].devCode}\">0</div>\r\n                    </div>\r\n                </div>\r\n                <!--\r\n                <div class=\"statistical-info-area\">\r\n                    <div class=\"info-block-title\">统计信息</div>\r\n                    <ul class=\"nav nav-tabs statistical-info-nav\">\r\n                        <li role=\"presentation\" class=\"active\"><a>LTE统计一</a></li>\r\n                        <li role=\"presentation\"><a>LTE统计二</a></li>\r\n                        <li role=\"presentation\"><a>LTE目标状态显示</a></li>\r\n                    </ul>\r\n                    <div class=\"statistical-info-table-border\">\r\n                        <table class=\"statistical-info-table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>时间</th>\r\n                                    <th>次数</th>\r\n                                    <th>标识1</th>\r\n                                    <th>标识2</th>\r\n                                    <th>tac</th>\r\n                                    <th>ci</th>\r\n                                    <th>level</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n                -->\r\n            </div>\r\n        `);\r\n        $('.advance-info-content').css('height', $(window).height() - 350); // 高级面板高度自适应\r\n        $('.channel-info-table-border').css('height', $('.advance-info-content').height() - 30); // 表格高度自适应\r\n        $('.channel-info-table-tbody').css('height', $('.advance-info-content').height() - 70); // tbody高度自适应\r\n        $('.statistical-info-table-border').css('height', $('.advance-info-content').height() - 198);// 统计信息面板自适应\r\n    }\r\n\r\n    static removeAllDev() {\r\n        $('.car-speed').css('display', 'none');\r\n        $('.team-each-dev-container-car').html('');\r\n        $('.choose-container-car').html('');\r\n        $('.choose-container-single').html('');\r\n        $('.view-current-dev').html('');\r\n        /**add by gaochao start */\r\n        $('.group-location-car-container').html('');\r\n        $('.group-location-single-container').html('');\r\n        $('.group-outside-container').html('');\r\n        $('.view-current-dev-container').html('');\r\n        $('.advance-info-dropdown-toggle-content').html('');\r\n        $('.advance-info-value-container').html('');\r\n        $('.advance-info-time-container').html('');\r\n        /**add by gaochao end */\r\n        $('#default-advance-info-panel-dev').html('');\r\n        $('#advance-info-panel-dev-selector').html('');\r\n        $('#advance-info-content-body').html('');\r\n        $('.view-switch-chooser').css('height', 0);\r\n        $('.view-switch-chooser').css('top', 0);\r\n        /* 当前视角的设备devCode*/\r\n        currentViewDevCode = '';\r\n        /* 设备显示信息集合 */\r\n        devDrawInfoMap = new Map();\r\n        /* 设备信息所对应的Map集合 */\r\n        devInfoMap = new Map();\r\n        /* 设备覆盖物所对应的Map集合 */\r\n        devDivMap = new Map();\r\n        /* 基站信息对应的Map集合 */\r\n        btsInfoMap = new Map();\r\n        \r\n        multiBtsInfoMap = new Map();\r\n        /* 基站覆盖物所对应的Map集合 */\r\n        btsDivMap = new Map();\r\n        /* 中心点设备编号缓存*/\r\n        centerPointDevCode = null;\r\n        /* 设备轨迹线*/\r\n        lineOverlayMap = { line: new Map(), isShow: true };\r\n        /* 主动式轨迹线*/\r\n        linePassive = { overlay: [], line: [], isShow: true };\r\n        /* 单兵命中的基站信息对应的Map集合 */\r\n        singleBtsInfoMap = new Map();\r\n        /* 单兵命中的基站覆盖物所对应的Map集合 */\r\n        singleBtsDivMap = new Map();\r\n        /* 热力图缓存*/\r\n        heatmapOverlayCache = new Map();\r\n        /* 时间轴起始时间*/\r\n        timeLineStartValue = null;\r\n        /* 时间轴刻度数量（蓝色）*/\r\n        timeDividerCount = 0;\r\n        /* 时间轴刻度数量（灰色）*/\r\n        timeDividerCountOver = 0;\r\n        /* 时间轴影子覆盖物*/\r\n        historyShadowOverlay = null;\r\n        /* 当前主动式命中状态*/\r\n        passiveActiveStatus = 0;\r\n        /* 车载能量指示数组 */\r\n        carEngOrientationArray = { overlay: [], isShow: true };\r\n        /* 单兵能量指示数组 */\r\n        singleEngOrientationArray = { overlay: [], isShow: true };\r\n        /* 目标小区缓存*/\r\n        targetCellInfosCache = new Map();\r\n        /**add by gaochao start */\r\n        devPreLockCellInfosCache = new Map();\r\n        /**add by gaochao end*/\r\n        /* 目标小区指示线*/\r\n        targetCellLineCache = null;\r\n        /**add by gaochao start */\r\n        devPreLockCellLineCache = null;\r\n        /**add by gaochao end*/\r\n        /* 基站解析信息与触发信息缓存*/\r\n        devStateInfoMapCache = new Map();\r\n        /* 基站解析进度缓存*/\r\n        btsAnalysisOverlayCache = [];\r\n        /* 基站echarts特效相关信息*/\r\n        hitedBtsEcharts = new Map();\r\n        /* 命中的基站缓存*/\r\n        hitedBtsCache = [];\r\n        /* 每个设备正在解析的基站*/\r\n        devCellAnalysisMap = new Map();\r\n        /* 基站命中特效echarts定时器*/\r\n        flashMarkerInterval = null;\r\n        /* 基站命中特效css覆盖物*/\r\n        btsHitEffectionCover = null;\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Panel;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvdG9vbC9QYW5lbC5qcz85Nzk4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsMERBQTBELHVCQUF1QixHQUFHLFlBQVksdUJBQXVCLHVCQUF1QjtBQUM5STtBQUNBLCtFQUErRSxzQkFBc0I7QUFDckc7QUFDQSw0RUFBNEUsdUJBQXVCLGlCQUFpQixZQUFZO0FBQ2hJO0FBQ0EsdUZBQXVGLHVCQUF1QjtBQUM5RztBQUNBLDJEQUEyRCxzQkFBc0I7QUFDakY7QUFDQSxzRkFBc0YsdUJBQXVCLHNCQUFzQjtBQUNuSTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUYsdUJBQXVCO0FBQ2hILHlGQUF5Rix1QkFBdUI7QUFDaEgseUZBQXlGLHVCQUF1QjtBQUNoSCx5RkFBeUYsdUJBQXVCO0FBQ2hIO0FBQ0EsNkVBQTZFLHVCQUF1QjtBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELHVCQUF1QixHQUFHLFNBQVMsdUJBQXVCLHVCQUF1QjtBQUM3STtBQUNBLG9GQUFvRixzQkFBc0I7QUFDMUcsNEZBQTRGLHVCQUF1QjtBQUNuSCxtRkFBbUYsc0JBQXNCO0FBQ3pHLCtGQUErRix1QkFBdUI7QUFDdEgsK0ZBQStGLHVCQUF1QjtBQUN0SDtBQUNBLG1HQUFtRyx1QkFBdUI7QUFDMUg7QUFDQTtBQUNBO0FBQ0EsMERBQTBELHVCQUF1QjtBQUNqRixtRkFBbUYsdUJBQXVCO0FBQzFHO0FBQ0EsdUdBQXVHLHVCQUF1QixzQkFBc0I7QUFDcEosdUdBQXVHLHVCQUF1QixzQkFBc0I7QUFDcEosc0dBQXNHLHVCQUF1QjtBQUM3SCx3R0FBd0csdUJBQXVCO0FBQy9ILGtHQUFrRyx1QkFBdUI7QUFDekgsZ0dBQWdHLHVCQUF1QjtBQUN2SDtBQUNBLDZFQUE2RSx1QkFBdUIsd0NBQXdDLFlBQVksZUFBZTtBQUN2Syx1R0FBdUcsdUJBQXVCO0FBQzlILHlHQUF5Ryx1QkFBdUI7QUFDaEksd0dBQXdHLHVCQUF1QjtBQUMvSCwwR0FBMEcsdUJBQXVCO0FBQ2pJLGlGQUFpRix1QkFBdUIsZUFBZSx1QkFBdUI7QUFDOUk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDBEQUEwRCx1QkFBdUIsR0FBRyxZQUFZLHVCQUF1Qix1QkFBdUI7QUFDOUk7QUFDQSwrRUFBK0Usc0JBQXNCO0FBQ3JHO0FBQ0EsK0VBQStFLHVCQUF1QixvQkFBb0IsWUFBWTtBQUN0STtBQUNBLHVGQUF1Rix1QkFBdUI7QUFDOUc7QUFDQSw4REFBOEQsc0JBQXNCO0FBQ3BGO0FBQ0Esc0ZBQXNGLHVCQUF1QixzQkFBc0I7QUFDbkksNkVBQTZFLHNCQUFzQjtBQUNuRztBQUNBO0FBQ0EsNkVBQTZFLHVCQUF1QjtBQUNwRztBQUNBLG1GQUFtRix1QkFBdUI7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCx1QkFBdUIsR0FBRyxTQUFTLHVCQUF1Qix1QkFBdUI7QUFDNUk7QUFDQSw4RUFBOEUsc0JBQXNCO0FBQ3BHLHNGQUFzRix1QkFBdUI7QUFDN0csNkVBQTZFLHNCQUFzQjtBQUNuRyx5RkFBeUYsdUJBQXVCO0FBQ2hILHlGQUF5Rix1QkFBdUI7QUFDaEg7QUFDQSxtR0FBbUcsdUJBQXVCO0FBQzFIO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCx1QkFBdUI7QUFDM0UsbUZBQW1GLHVCQUF1QjtBQUMxRyxpR0FBaUcsdUJBQXVCLHNCQUFzQjtBQUM5SSxpR0FBaUcsdUJBQXVCLHNCQUFzQjtBQUM5SSxnR0FBZ0csdUJBQXVCO0FBQ3ZILGtHQUFrRyx1QkFBdUI7QUFDekgsK0ZBQStGLHVCQUF1QjtBQUN0SCwwRkFBMEYsdUJBQXVCO0FBQ2pIO0FBQ0EsMEVBQTBFLHVCQUF1QiwwQ0FBMEMsWUFBWSxnQkFBZ0I7QUFDdkssNEVBQTRFLHVCQUF1QjtBQUNuRywyRUFBMkUsdUJBQXVCLGVBQWUsdUJBQXVCO0FBQ3hJLDhFQUE4RSx1QkFBdUIsaUNBQWlDLHVCQUF1QixnRUFBZ0UsdUJBQXVCO0FBQ3BQLDBGQUEwRix1QkFBdUIsdUJBQXVCLHVCQUF1QjtBQUMvSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsOERBQThELHVCQUF1QixHQUFHLFlBQVksdUJBQXVCLHVCQUF1QjtBQUNsSjtBQUNBLG1GQUFtRixzQkFBc0I7QUFDekc7QUFDQSxtRkFBbUYsdUJBQXVCLG9CQUFvQixZQUFZO0FBQzFJO0FBQ0EsMkZBQTJGLHVCQUF1QjtBQUNsSDtBQUNBLGtFQUFrRSxzQkFBc0I7QUFDeEY7QUFDQSwwRkFBMEYsdUJBQXVCLHNCQUFzQjtBQUN2STtBQUNBO0FBQ0EsaUZBQWlGLHVCQUF1QjtBQUN4RztBQUNBLHVGQUF1Rix1QkFBdUI7QUFDOUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSx1QkFBdUIsR0FBRyxTQUFTLHVCQUF1Qix1QkFBdUI7QUFDako7QUFDQSx3RkFBd0Ysc0JBQXNCO0FBQzlHLGdHQUFnRyx1QkFBdUI7QUFDdkgsdUZBQXVGLHNCQUFzQjtBQUM3RyxtR0FBbUcsdUJBQXVCO0FBQzFILG1HQUFtRyx1QkFBdUI7QUFDMUg7QUFDQSw2R0FBNkcsdUJBQXVCO0FBQ3BJO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCx1QkFBdUI7QUFDckYsNkZBQTZGLHVCQUF1QjtBQUNwSCwyR0FBMkcsdUJBQXVCLHNCQUFzQjtBQUN4SiwyR0FBMkcsdUJBQXVCLHNCQUFzQjtBQUN4SiwwR0FBMEcsdUJBQXVCO0FBQ2pJLDRHQUE0Ryx1QkFBdUI7QUFDbkkseUdBQXlHLHVCQUF1QjtBQUNoSSxvR0FBb0csdUJBQXVCO0FBQzNIO0FBQ0Esb0ZBQW9GLHVCQUF1QiwwQ0FBMEMsWUFBWSxnQkFBZ0I7QUFDakwsc0ZBQXNGLHVCQUF1QjtBQUM3RyxxRkFBcUYsdUJBQXVCLGVBQWUsdUJBQXVCO0FBQ2xKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsdUJBQXVCLEdBQUcsU0FBUyx1QkFBdUIsdUJBQXVCO0FBQ3JKLGlGQUFpRixzQkFBc0I7QUFDdkcseUZBQXlGLHVCQUF1QjtBQUNoSCxnRkFBZ0Ysc0JBQXNCO0FBQ3RHLDZGQUE2Rix1QkFBdUI7QUFDcEgsNEZBQTRGLHVCQUF1QjtBQUNuSDtBQUNBLHNHQUFzRyx1QkFBdUI7QUFDN0g7QUFDQSw4RkFBOEYsdUJBQXVCLHVCQUF1Qix1QkFBdUI7QUFDbks7QUFDQSxpQ0FBaUMsdUJBQXVCLG1GQUFtRjtBQUMzSSxpRUFBaUUsdUJBQXVCO0FBQ3hGO0FBQ0EsNEZBQTRGLHVCQUF1QixrQkFBa0IsdUJBQXVCO0FBQzVKO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx1QkFBdUI7QUFDM0Q7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQSxvRUFBb0UsdUJBQXVCLEdBQUcsU0FBUyx1QkFBdUIsdUJBQXVCO0FBQ3JKLGlGQUFpRixzQkFBc0I7QUFDdkcseUZBQXlGLHVCQUF1QjtBQUNoSCxnRkFBZ0Ysc0JBQXNCO0FBQ3RHLDZGQUE2Rix1QkFBdUI7QUFDcEgsNEZBQTRGLHVCQUF1QjtBQUNuSDtBQUNBLHNHQUFzRyx1QkFBdUI7QUFDN0g7QUFDQSw4RkFBOEYsdUJBQXVCLHVCQUF1Qix1QkFBdUI7O0FBRW5LO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCx1QkFBdUI7QUFDckYseURBQXlELHNCQUFzQiwwREFBMEQsWUFBWTtBQUNySjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSw4REFBOEQsdUJBQXVCO0FBQ3JGLHlEQUF5RCxzQkFBc0IsZ0VBQWdFLFlBQVk7QUFDM0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRSxzQkFBc0I7QUFDckcseUVBQXlFLFlBQVk7QUFDckYsZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxZQUFZLGdCQUFnQix1QkFBdUI7QUFDcEosdUVBQXVFLHNCQUFzQjtBQUM3RjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsK0VBQStFLHNCQUFzQjtBQUNyRywrRUFBK0UsWUFBWTtBQUMzRixnRUFBZ0U7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkcsWUFBWSxlQUFlLHVCQUF1QjtBQUM3Six1RkFBdUYsc0JBQXNCO0FBQzdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEdBQTRHLFlBQVksZUFBZSx1QkFBdUI7QUFDOUosdUZBQXVGLHNCQUFzQjtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsc0JBQXNCLGlDQUFpQyxjQUFjO0FBQzFGO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkcsdUJBQXVCLG1CQUFtQixrQkFBa0I7QUFDdks7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnQ0FBZ0M7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSx1QkFBdUI7QUFDdkYsdUNBQXVDLHVCQUF1QixHQUFHLEtBQUssMkJBQTJCLE9BQU8sMEJBQTBCLFVBQVU7QUFDNUk7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsdUJBQXVCO0FBQ2hFO0FBQ0EsK0JBQStCLHVCQUF1QjtBQUN0RCwrQkFBK0IsdUJBQXVCO0FBQ3RELCtCQUErQix1QkFBdUI7QUFDdEQ7QUFDQSx5Q0FBeUMsdUJBQXVCO0FBQ2hFO0FBQ0E7QUFDQSxpREFBaUQsdUJBQXVCO0FBQ3hFO0FBQ0E7QUFDQSxpREFBaUQsdUJBQXVCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsdUJBQXVCLE1BQU0sNERBQTRELHNCQUFzQjtBQUNqSTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsdUJBQXVCLHNDQUFzQyxzQkFBc0I7QUFDM0k7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHVCQUF1QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsdUJBQXVCO0FBQ3BHLHNCQUFzQix1QkFBdUI7QUFDN0MsZ0ZBQWdGLHNCQUFzQjtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLHVCQUF1QixJQUFJLHVCQUF1QixzQ0FBc0Msc0JBQXNCO0FBQ2xNO0FBQ0E7QUFDQSx3RkFBd0YsdUJBQXVCLGtDQUFrQyx5QkFBeUI7QUFDMUssd0ZBQXdGLHVCQUF1QixvQ0FBb0MseUJBQXlCO0FBQzVLLHdGQUF3Rix1QkFBdUIsbUNBQW1DLHlCQUF5QjtBQUMzSyx3RkFBd0YsdUJBQXVCLGtDQUFrQyx5QkFBeUI7QUFDMUs7QUFDQTtBQUNBLHVEQUF1RCx1QkFBdUIsbUJBQW1CLHdCQUF3QjtBQUN6SDtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsdUJBQXVCLG1CQUFtQix3QkFBd0I7QUFDdEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTREO0FBQzVELDREQUE0RDtBQUM1RCwyREFBMkQ7QUFDM0QsMkRBQTJEO0FBQzNELDJEQUEyRDtBQUMzRCwyREFBMkQ7QUFDM0Q7QUFDQTtBQUNBLDhGQUE4Rix1QkFBdUI7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNHQUFzRyx1QkFBdUI7QUFDN0gsd0ZBQXdGLHVCQUF1QixrQkFBa0I7QUFDakk7QUFDQSx3RkFBd0YsdUJBQXVCO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRTtBQUMzRSxnR0FBZ0c7QUFDaEcsK0ZBQStGO0FBQy9GLHFHQUFxRztBQUNyRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQyIsImZpbGUiOiI1MS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBQYW5lbCB7XHJcblxyXG4gICAgc3RhdGljIGFkZE5ld0RldihkZXZCYXNlSW5mbywgaSkge1xyXG4gICAgICAgIGRldkRyYXdJbmZvTWFwLnNldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlLCAxKTtcclxuICAgICAgICAvKiDlj7Ppg6jpnaLmnb/mt7vliqDmlrDorr7lpIcqL1xyXG4gICAgICAgIGxldCBpc0FkZEFjdGl2ZSA9ICcnO1xyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgbGV0IGlzQWN0aXZlID0gJyc7XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgaWYgKGRldkRyYXdJbmZvTWFwLnNpemUgPT0gMSkge1xyXG4gICAgICAgICAgICBjdXJyZW50Vmlld0RldkNvZGUgPSBkZXZCYXNlSW5mb1tpXS5kZXZDb2RlO1xyXG4gICAgICAgICAgICBpc0FkZEFjdGl2ZSA9ICd0ZWFtLWVhY2gtZGV2LWFjdGl2ZSc7XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgIGlzQWN0aXZlID0gJ2dyb3VwLWxvY2F0aW9uLWNob29zZSc7XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZGV2VHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcuY2FyLXNwZWVkJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7IC8vIOaYvuekuui9pumAn+ihqFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIOehruWumuiuvuWkh+WbvueJh+e0ouW8lSovXHJcbiAgICAgICAgbGV0IGRldkltZ0luZGV4ID0gMDtcclxuICAgICAgICBkZXZEcmF3SW5mb01hcC5mb3JFYWNoKChlYWNoRGV2KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5kZXZUeXBlID09IGVhY2hEZXYuZGV2VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgZGV2SW1nSW5kZXgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5kZXZUeXBlID09IDEpIHtcclxuICAgICAgICAgICAgJCgnLnRlYW0tZWFjaC1kZXYtY29udGFpbmVyLWNhcicpLmFwcGVuZChgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGVhbS1lYWNoLWRldiB0ZWFtLWVhY2gtZGV2LSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX0gJHtpc0FkZEFjdGl2ZX1cIiBkYXRhLWluZm8tZGV2Y29kZT1cIiR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8IS0t55So5oi35ZCNLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRlYW0tZWFjaC1kZXYtdWFlcm5hbWUgdXNlci1uYW1lLXZhbHVlLWJ5LWlkLSR7ZGV2QmFzZUluZm9baV0udXNlcklkfVwiIHRpdGxlPVwiXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLeiuvuWkh+WbvueJhy0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJ0ZWFtLWVhY2gtZGV2LWljb24tY2FyIHRlYW0tZWFjaC1kZXYtaWNvbi0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCIgc3JjPVwiaW1nL2Nhcl8ke2RldkltZ0luZGV4fS5wbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tR1BT54q25oCBLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRlYW0tZWFjaC1kZXYtZ3Bzc3RhdHVzXCIgaWQ9XCJ0ZWFtLWVhY2gtZGV2LWdwc3N0YXR1cy0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCIgdGl0bGU9XCJcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8IS0t6L2m6L29QS0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZWFtLWVhY2gtZGV2LWluZGV4LWNhclwiPiR7YWJjQ2FjaGVbZGV2SW1nSW5kZXhdfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS3mjojml7YtLT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGVhbS1lYWNoLWRldi10aW1lc2VydmljZSB0ZWFtLWVhY2gtZGV2LXRpbWVzZXJ2aWNlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGVhbS1lYWNoLWRldi1lbmctY2FyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbmctb3JpZW50YXRpb24taWNvblwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0t6IO96YeP5YC8LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbmctdmFsdWUtY2FyIGVuZy12YWx1ZS1jYXItMFwiIGlkPVwiZW5nLXZhbHVlLWNhci0wLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj48c3BhbiBzdHlsZT1cImNvbG9yOiAjNTU1XCI+MDwvc3Bhbj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVuZy12YWx1ZS1jYXIgZW5nLXZhbHVlLWNhci0xXCIgaWQ9XCJlbmctdmFsdWUtY2FyLTEtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPjxzcGFuIHN0eWxlPVwiY29sb3I6ICM1NTVcIj4wPC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZW5nLXZhbHVlLWNhciBlbmctdmFsdWUtY2FyLTJcIiBpZD1cImVuZy12YWx1ZS1jYXItMi0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PHNwYW4gc3R5bGU9XCJjb2xvcjogIzU1NVwiPjA8L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbmctdmFsdWUtY2FyIGVuZy12YWx1ZS1jYXItM1wiIGlkPVwiZW5nLXZhbHVlLWNhci0zLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj48c3BhbiBzdHlsZT1cImNvbG9yOiAjNTU1XCI+MDwvc3Bhbj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLeiDvemHj+WRveS4reaXtumXtC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZW5nLWhpdC10aW1lLWNhclwiIGlkPVwiZW5nLWhpdC10aW1lLWNhci0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICQoJy5ncm91cC1sb2NhdGlvbi1jYXItY29udGFpbmVyJykuYXBwZW5kKGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLWVhY2ggdGVhbS1lYWNoLWRldi0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9ICR7aXNBY3RpdmV9XCIgZGF0YS1pbmZvLWRldmNvZGU9XCIke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tcGVyc29uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXBlcnNvbi1waG90byB1c2VyLW5hbWUtdmFsdWUtYnktaWQtJHtkZXZCYXNlSW5mb1tpXS51c2VySWR9LXBob3RvXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXBlcnNvbi1zdGF0dXMgZ3JvdXAtbG9jYXRpb24tcGVyc29uLXN0YXR1cy0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCIgZGF0YS1pbmZvLXN0YXR1cz0xPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1wZXJzb24tbmFtZSB1c2VyLW5hbWUtdmFsdWUtYnktaWQtJHtkZXZCYXNlSW5mb1tpXS51c2VySWR9XCIgdGl0bGU9XCJcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tcGVyc29uLWdwcy1pY29uXCIgaWQ9XCJ0ZWFtLWVhY2gtZGV2LWdwcy1zdGF0dXMtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiIHRpdGxlPVwiXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXBlcnNvbi1ncHMtdmFsdWVcIiBpZD1cInRlYW0tZWFjaC1kZXYtZ3BzLXZhbHVlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tcGVyc29uLXNwZWVkLWljb25cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tcGVyc29uLXNwZWVkLXZhbHVlXCIgaWQ9XCJ0ZWFtLWVhY2gtZGV2LXNwZWVkLXZhbHVlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj4wa20vaDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tbGluZVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLWNhci1kZXZcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tZGV2Y29kZVwiPiR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tY2FyLWVuZ3RpbWVcIiBpZD1cImVuZy1oaXQtdGltZS1jYXItJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1tb3JlLWVuZ3RpbWVcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tdGltZXNlcnZlci1pY29uXCIgaWQ9XCJ0ZWFtLWVhY2gtZGV2LXRpbWVzZXJ2aWNlLXN0YXR1cy0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXRpbWVzZXJ2ZXItdmFsdWVcIiBpZD1cInRlYW0tZWFjaC1kZXYtdGltZXNlcnZpY2UtdmFsdWUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi10ZW1wZXJhdHVyZS1pY29uXCIgaWQ9XCJ0ZWFtLWVhY2gtZGV2LXRlbXBlcmF0dXJlLWljb24tJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi10ZW1wZXJhdHVyZS12YWx1ZVwiIGlkPVwidGVhbS1lYWNoLWRldi10ZW1wZXJhdHVyZS12YWx1ZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+MOKEgzwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1iYXR0ZXJ5LWNhci1pY29uXCIgaWQ9XCJ0ZWFtLWVhY2gtZGV2LWJhdHRlcnktaWNvbi0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLWJhdHRlcnktdmFsdWVcIiBpZD1cInRlYW0tZWFjaC1kZXYtYmF0dGVyeS12YWx1ZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+MCU8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tZGV2LWxpbmVcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tY2FyLWljb24gdGVhbS1lYWNoLWRldi1pY29uLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIiAgc3R5bGU9XCJiYWNrZ3JvdW5kOnVybChpbWcvaWNvbi9jYXJfJHtkZXZJbWdJbmRleH0ucG5nKW5vLXJlcGVhdDtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tY2FyZW5nLXRvcCBncm91cC1sb2NhdGlvbi1jYXJlbmdcIiBpZD1cImVuZy12YWx1ZS1jYXItMC0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PHNwYW4gc3R5bGU9XCJjb2xvcjogIzY2NjY2NlwiPjA8L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLWNhcmVuZy1yaWdodCBncm91cC1sb2NhdGlvbi1jYXJlbmdcIiBpZD1cImVuZy12YWx1ZS1jYXItMS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PHNwYW4gc3R5bGU9XCJjb2xvcjogIzY2NjY2NlwiPjA8L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLWNhcmVuZy1sZWZ0IGdyb3VwLWxvY2F0aW9uLWNhcmVuZ1wiIGlkPVwiZW5nLXZhbHVlLWNhci0zLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj48c3BhbiBzdHlsZT1cImNvbG9yOiAjNjY2NjY2XCI+MDwvc3Bhbj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tY2FyZW5nLWJvdHRvbSBncm91cC1sb2NhdGlvbi1jYXJlbmdcIiBpZD1cImVuZy12YWx1ZS1jYXItMi0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PHNwYW4gc3R5bGU9XCJjb2xvcjogIzY2NjY2NlwiPjA8L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXZvaWNlXCIgaWQ9XCJncm91cC1sb2NhdGlvbi12b2ljZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCIgZGF0YS1jb2RlPVwiJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiIGRhdGEtc3RhdHVzPTE+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIGApXHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGV2QmFzZUluZm9baV0uZGV2VHlwZSA9PSAyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzUGFnZVR5cGUgPT0gJ1JUQycpIHtcclxuICAgICAgICAgICAgICAgICQoJy50ZWFtLWVhY2gtZGV2LWNvbnRhaW5lci1jYXInKS5hcHBlbmQoYFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRlYW0tZWFjaC1kZXYgdGVhbS1lYWNoLWRldi0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9ICR7aXNBZGRBY3RpdmV9XCIgZGF0YS1pbmZvLWRldmNvZGU9XCIke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLeeUqOaIt+WQjS0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZWFtLWVhY2gtZGV2LXVhZXJuYW1lIHVzZXItbmFtZS12YWx1ZS1ieS1pZC0ke2RldkJhc2VJbmZvW2ldLnVzZXJJZH1cIiB0aXRsZT1cIlwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS3orr7lpIflm77niYctLT5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwidGVhbS1lYWNoLWRldi1pY29uLXNpbmdsZSB0ZWFtLWVhY2gtZGV2LWljb24tJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiIHNyYz1cImltZy9zaW5nbGVfJHtkZXZJbWdJbmRleH0ucG5nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLUdQU+eKtuaAgS0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZWFtLWVhY2gtZGV2LWdwc3N0YXR1c1wiIGlkPVwidGVhbS1lYWNoLWRldi1ncHNzdGF0dXMtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiIHRpdGxlPVwiXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLeWNleWFtUEtLT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGVhbS1lYWNoLWRldi1pbmRleC1zaW5nbGVcIj4ke2FiY0NhY2hlW2RldkltZ0luZGV4XX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8IS0t5o6I5pe2LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRlYW0tZWFjaC1kZXYtdGltZXNlcnZpY2UgdGVhbS1lYWNoLWRldi10aW1lc2VydmljZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRlYW0tZWFjaC1kZXYtdmlkZW8gdGVhbS1lYWNoLWRldi12aWRlby1pZC0ke2RldkJhc2VJbmZvW2ldLnVzZXJJZH1cIiBkYXRhLWluZm8tdXNlcm5hbWUgPSBcIlwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZWFtLWVhY2gtZGV2LWVuZy1zaW5nbGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLeiDvemHj+WAvC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZW5nLXZhbHVlLXNpbmdsZVwiIGlkPVwiZW5nLXZhbHVlLXNpbmdsZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PHNwYW4gc3R5bGU9XCJjb2xvcjogIzU1NVwiPjA8L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS3og73ph4/lkb3kuK3ml7bpl7QtLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVuZy1oaXQtdGltZS1zaW5nbGVcIiBpZD1cImVuZy1oaXQtdGltZS1zaW5nbGUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICQoJy5ncm91cC1sb2NhdGlvbi1zaW5nbGUtY29udGFpbmVyJykuYXBwZW5kKGBcclxuICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tZWFjaCB0ZWFtLWVhY2gtZGV2LSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX0gJHtpc0FjdGl2ZX1cIiBkYXRhLWluZm8tZGV2Y29kZT1cIiR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1wZXJzb25cIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tcGVyc29uLXBob3RvIHVzZXItbmFtZS12YWx1ZS1ieS1pZC0ke2RldkJhc2VJbmZvW2ldLnVzZXJJZH0tcGhvdG9cIj48L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tcGVyc29uLXN0YXR1cyBncm91cC1sb2NhdGlvbi1wZXJzb24tc3RhdHVzLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIiBkYXRhLWluZm8tc3RhdHVzPTE+PC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXBlcnNvbi1uYW1lIHVzZXItbmFtZS12YWx1ZS1ieS1pZC0ke2RldkJhc2VJbmZvW2ldLnVzZXJJZH1cIiB0aXRsZT1cIlwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1wZXJzb24tZ3BzLWljb25cIiBpZD1cInRlYW0tZWFjaC1kZXYtZ3BzLXN0YXR1cy0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXBlcnNvbi1ncHMtdmFsdWVcIiBpZD1cInRlYW0tZWFjaC1kZXYtZ3BzLXZhbHVlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tcGVyc29uLWFsdGl0dWRlLWljb25cIj48L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tcGVyc29uLWFsdGl0dWRlLXZhbHVlXCIgaWQ9XCJ0ZWFtLWVhY2gtZGV2LWFsdGl0dWRlLXZhbHVlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj4wbTwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tbGluZVwiPjwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXNpbmdsZS1kZXZcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tZGV2Y29kZVwiPiR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX08L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tc2luZ2xlLWVuZ3RpbWVcIiBpZD1cImVuZy1oaXQtdGltZS1zaW5nbGUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi10aW1lc2VydmVyLWljb25cIiBpZD1cInRlYW0tZWFjaC1kZXYtdGltZXNlcnZpY2Utc3RhdHVzLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tdGltZXNlcnZlci12YWx1ZVwiIGlkPVwidGVhbS1lYWNoLWRldi10aW1lc2VydmljZS12YWx1ZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXRlbXBlcmF0dXJlLWljb25cIiBpZD1cInRlYW0tZWFjaC1kZXYtdGVtcGVyYXR1cmUtaWNvbi0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXRlbXBlcmF0dXJlLXZhbHVlXCIgaWQ9XCJ0ZWFtLWVhY2gtZGV2LXRlbXBlcmF0dXJlLXZhbHVlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj4w4oSDPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLWJhdHRlcnktc2luZ2xlLWljb25cIiBpZD1cInRlYW0tZWFjaC1kZXYtYmF0dGVyeS1pY29uLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tYmF0dGVyeS12YWx1ZVwiIGlkPVwidGVhbS1lYWNoLWRldi1iYXR0ZXJ5LXZhbHVlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj4wJTwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1kZXYtbGluZVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1zaW5nbGUtaWNvbiB0ZWFtLWVhY2gtZGV2LWljb24tJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiIHN0eWxlPVwiYmFja2dyb3VuZDp1cmwoaW1nL2ljb24vc2luZ2xlXyR7ZGV2SW1nSW5kZXh9LnBuZykgbm8tcmVwZWF0O1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1zaW5nbGUtZW5nXCIgaWQ9XCJlbmctdmFsdWUtc2luZ2xlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj48c3BhbiBzdHlsZT1cImNvbG9yOiAjOTk5OTk5XCI+PC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi12b2ljZVwiIGlkPVwiZ3JvdXAtbG9jYXRpb24tdm9pY2UtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiIGRhdGEtY29kZT1cIiR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIiBkYXRhLXN0YXR1cz0xPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi12aWRlby1vdXQgZ3JvdXAtbG9jYXRpb24tdmlkZW8tb3V0LSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIiBpZD1cImdyb3VwLWxvY2F0aW9uLXZpZGVvLW91dC0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCIgZGF0YS1pbmZvLXN0YXR1cz1cIjBcIiBkYXRhLWluZm8tY2xvc2U9XCIxXCIgZGF0YS1pbmZvLWRldmNvZGU9XCIke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXZpZGVvLWNvbnRhaW5lciBncm91cC1sb2NhdGlvbi12aWRlby1jb250YWluZXItJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiIGRhdGEtaW5mby1kZXZDb2RlPVwiJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPjwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiXCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICBgKTtcclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnLnRlYW0tZWFjaC1kZXYtY29udGFpbmVyLWNhcicpLmFwcGVuZChgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRlYW0tZWFjaC1kZXYgdGVhbS1lYWNoLWRldi0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9ICR7aXNBZGRBY3RpdmV9XCIgZGF0YS1pbmZvLWRldmNvZGU9XCIke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS3nlKjmiLflkI0tLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRlYW0tZWFjaC1kZXYtdWFlcm5hbWUgdXNlci1uYW1lLXZhbHVlLWJ5LWlkLSR7ZGV2QmFzZUluZm9baV0udXNlcklkfVwiIHRpdGxlPVwiXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS3orr7lpIflm77niYctLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cInRlYW0tZWFjaC1kZXYtaWNvbi1zaW5nbGUgdGVhbS1lYWNoLWRldi1pY29uLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIiBzcmM9XCJpbWcvc2luZ2xlXyR7ZGV2SW1nSW5kZXh9LnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tR1BT54q25oCBLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZWFtLWVhY2gtZGV2LWdwc3N0YXR1c1wiIGlkPVwidGVhbS1lYWNoLWRldi1ncHNzdGF0dXMtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiIHRpdGxlPVwiXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS3ljZXlhbVBLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZWFtLWVhY2gtZGV2LWluZGV4LXNpbmdsZVwiPiR7YWJjQ2FjaGVbZGV2SW1nSW5kZXhdfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0t5o6I5pe2LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZWFtLWVhY2gtZGV2LXRpbWVzZXJ2aWNlIHRlYW0tZWFjaC1kZXYtdGltZXNlcnZpY2UtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGVhbS1lYWNoLWRldi1lbmctc2luZ2xlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0t6IO96YeP5YC8LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZW5nLXZhbHVlLXNpbmdsZVwiIGlkPVwiZW5nLXZhbHVlLXNpbmdsZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PHNwYW4gc3R5bGU9XCJjb2xvcjogIzU1NVwiPjA8L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0t6IO96YeP5ZG95Lit5pe26Ze0LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZW5nLWhpdC10aW1lLXNpbmdsZVwiIGlkPVwiZW5nLWhpdC10aW1lLXNpbmdsZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgJCgnLmdyb3VwLWxvY2F0aW9uLXNpbmdsZS1jb250YWluZXInKS5hcHBlbmQoYFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLWVhY2ggdGVhbS1lYWNoLWRldi0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9ICR7aXNBY3RpdmV9XCIgZGF0YS1pbmZvLWRldmNvZGU9XCIke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXBlcnNvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tcGVyc29uLXBob3RvIHVzZXItbmFtZS12YWx1ZS1ieS1pZC0ke2RldkJhc2VJbmZvW2ldLnVzZXJJZH0tcGhvdG9cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXBlcnNvbi1zdGF0dXMgZ3JvdXAtbG9jYXRpb24tcGVyc29uLXN0YXR1cy0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCIgZGF0YS1pbmZvLXN0YXR1cz0xPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tcGVyc29uLW5hbWUgdXNlci1uYW1lLXZhbHVlLWJ5LWlkLSR7ZGV2QmFzZUluZm9baV0udXNlcklkfVwiIHRpdGxlPVwiXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1wZXJzb24tZ3BzLWljb25cIiBpZD1cInRlYW0tZWFjaC1kZXYtZ3BzLXN0YXR1cy0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1wZXJzb24tZ3BzLXZhbHVlXCIgaWQ9XCJ0ZWFtLWVhY2gtZGV2LWdwcy12YWx1ZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1wZXJzb24tYWx0aXR1ZGUtaWNvblwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tcGVyc29uLWFsdGl0dWRlLXZhbHVlXCIgaWQ9XCJ0ZWFtLWVhY2gtZGV2LWFsdGl0dWRlLXZhbHVlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj4wbTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1saW5lXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXNpbmdsZS1kZXZcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLWRldmNvZGVcIj4ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1zaW5nbGUtZW5ndGltZVwiIGlkPVwiZW5nLWhpdC10aW1lLXNpbmdsZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi10aW1lc2VydmVyLWljb25cIiBpZD1cInRlYW0tZWFjaC1kZXYtdGltZXNlcnZpY2Utc3RhdHVzLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXRpbWVzZXJ2ZXItdmFsdWVcIiBpZD1cInRlYW0tZWFjaC1kZXYtdGltZXNlcnZpY2UtdmFsdWUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tdGVtcGVyYXR1cmUtaWNvblwiIGlkPVwidGVhbS1lYWNoLWRldi10ZW1wZXJhdHVyZS1pY29uLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXRlbXBlcmF0dXJlLXZhbHVlXCIgaWQ9XCJ0ZWFtLWVhY2gtZGV2LXRlbXBlcmF0dXJlLXZhbHVlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj4w4oSDPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1iYXR0ZXJ5LXNpbmdsZS1pY29uXCIgaWQ9XCJ0ZWFtLWVhY2gtZGV2LWJhdHRlcnktaWNvbi0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1iYXR0ZXJ5LXZhbHVlXCIgaWQ9XCJ0ZWFtLWVhY2gtZGV2LWJhdHRlcnktdmFsdWUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPjAlPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi1kZXYtbGluZVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tc2luZ2xlLWljb24gdGVhbS1lYWNoLWRldi1pY29uLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIiBzdHlsZT1cImJhY2tncm91bmQ6dXJsKGltZy9pY29uL3NpbmdsZV8ke2RldkltZ0luZGV4fS5wbmcpIG5vLXJlcGVhdDtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWxvY2F0aW9uLXNpbmdsZS1lbmdcIiBpZD1cImVuZy12YWx1ZS1zaW5nbGUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPjxzcGFuIHN0eWxlPVwiY29sb3I6ICM5OTk5OTlcIj48L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi12b2ljZVwiIGlkPVwiZ3JvdXAtbG9jYXRpb24tdm9pY2UtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiIGRhdGEtY29kZT1cIiR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIiBkYXRhLXN0YXR1cz0xPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChkZXZCYXNlSW5mb1tpXS5kZXZUeXBlID09IDMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXNQYWdlVHlwZSA9PSAnUlRDJykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBsYXllcjtcclxuICAgICAgICAgICAgICAgICQoJy5ncm91cC1vdXRzaWRlLWNvbnRhaW5lcicpLmFwcGVuZChgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtb3V0c2lkZS1lYWNoLWl0ZW0gdGVhbS1lYWNoLWRldi0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9ICR7aXNBY3RpdmV9XCIgZGF0YS1pbmZvLWRldmNvZGU9XCIke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLW91dHNpZGUtZWFjaC1waG90byB1c2VyLW5hbWUtdmFsdWUtYnktaWQtJHtkZXZCYXNlSW5mb1tpXS51c2VySWR9LXBob3RvXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLW91dHNpZGUtZWFjaC1zdGF0dXMgZ3JvdXAtbG9jYXRpb24tcGVyc29uLXN0YXR1cy0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCIgZGF0YS1pbmZvLXN0YXR1cz0xPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1vdXRzaWRlLWVhY2gtbmFtZSB1c2VyLW5hbWUtdmFsdWUtYnktaWQtJHtkZXZCYXNlSW5mb1tpXS51c2VySWR9XCIgdGl0bGU9XCJcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtb3V0c2lkZS1lYWNoLWdwcy1pY29uXCIgIGlkPVwidGVhbS1lYWNoLWRldi1ncHMtc3RhdHVzLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtb3V0c2lkZS1lYWNoLWdwcy12YWx1ZVwiIGlkPVwidGVhbS1lYWNoLWRldi1ncHMtdmFsdWUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1vdXRzaWRlLWVhY2gtYWx0aXR1ZGUtaWNvblwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1vdXRzaWRlLWVhY2gtYWx0aXR1ZGUtdmFsdWVcIiBpZD1cInRlYW0tZWFjaC1kZXYtYWx0aXR1ZGUtdmFsdWUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPjBtPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLW91dHNpZGUtZWFjaC1saW5lXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLW91dHNpZGUtdmlkZW8tY29udGFpbmVyIGdyb3VwLW91dHNpZGUtdmlkZW8tY29udGFpbmVyLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIiBkYXRhLWluZm8tZGV2Q29kZT1cIiR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDx2aWRlbyBpZD1cIiR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIiBjbGFzcz1cInZpZGVvLWpzXCIgcHJlbG9hZD1cImF1dG9cIiB3aWR0aD1cIjE0MFwiIGhlaWdodD1cIjEzMlwiIHBvc3Rlcj1cIlwiIGRhdGEtc2V0dXA9XCJ7fVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzb3VyY2Ugc3JjPVwicnRtcDovLzEwNi4xNS4xOTUuODI6MTkzNS9obHMvJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiIHR5cGU9XCJydG1wL2ZsdlwiPjwvdmlkZW8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1sb2NhdGlvbi12aWRlby1wb3B1cCBncm91cC1sb2NhdGlvbi12aWRlby1wb3B1cC0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCIgZGF0YS1kZXZjb2RlPVwiJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgICAgIHBsYXllciA9IHZpZGVvanMoYCR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1gLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBvblBsYXllclJlYWR5KCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubXV0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJy5ncm91cC1vdXRzaWRlLWNvbnRhaW5lcicpLmFwcGVuZChgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtb3V0c2lkZS1lYWNoLWl0ZW0gdGVhbS1lYWNoLWRldi0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9ICR7aXNBY3RpdmV9XCIgZGF0YS1pbmZvLWRldmNvZGU9XCIke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLW91dHNpZGUtZWFjaC1waG90byB1c2VyLW5hbWUtdmFsdWUtYnktaWQtJHtkZXZCYXNlSW5mb1tpXS51c2VySWR9LXBob3RvXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLW91dHNpZGUtZWFjaC1zdGF0dXMgZ3JvdXAtbG9jYXRpb24tcGVyc29uLXN0YXR1cy0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCIgZGF0YS1pbmZvLXN0YXR1cz0xPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1vdXRzaWRlLWVhY2gtbmFtZSB1c2VyLW5hbWUtdmFsdWUtYnktaWQtJHtkZXZCYXNlSW5mb1tpXS51c2VySWR9XCIgdGl0bGU9XCJcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtb3V0c2lkZS1lYWNoLWdwcy1pY29uXCIgIGlkPVwidGVhbS1lYWNoLWRldi1ncHMtc3RhdHVzLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtb3V0c2lkZS1lYWNoLWdwcy12YWx1ZVwiIGlkPVwidGVhbS1lYWNoLWRldi1ncHMtdmFsdWUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1vdXRzaWRlLWVhY2gtYWx0aXR1ZGUtaWNvblwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1vdXRzaWRlLWVhY2gtYWx0aXR1ZGUtdmFsdWVcIiBpZD1cInRlYW0tZWFjaC1kZXYtYWx0aXR1ZGUtdmFsdWUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPjBtPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLW91dHNpZGUtZWFjaC1saW5lXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLW91dHNpZGUtdmlkZW8tY29udGFpbmVyIGdyb3VwLW91dHNpZGUtdmlkZW8tY29udGFpbmVyLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIiBkYXRhLWluZm8tZGV2Q29kZT1cIiR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIOW3puS4i+inkuiuvuWkh+inhuinkumAieaLqSovXHJcbiAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAkKCcuY2hvb3NlLWNvbnRhaW5lci1jYXInKS5hcHBlbmQoYFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNob29zZS1kaXZpZGUtbGluZVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNob29zZS1jb250YWluZXJcIiBkYXRhLWRldmNvZGU9XCIke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ1c2VyLW5hbWUtdmFsdWUtYnktaWQtJHtkZXZCYXNlSW5mb1tpXS51c2VySWR9XCI+PC9zcGFuPiA8aW1nIGNsYXNzPVwiY2hvb3NlLWl0ZW0taW1nLWNhclwiIHNyYz1cImltZy9jYXJfJHtkZXZJbWdJbmRleH0ucG5nXCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnLmNob29zZS1jb250YWluZXItc2luZ2xlJykuYXBwZW5kKGBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaG9vc2UtZGl2aWRlLWxpbmVcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaG9vc2UtY29udGFpbmVyXCIgZGF0YS1kZXZjb2RlPVwiJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidXNlci1uYW1lLXZhbHVlLWJ5LWlkLSR7ZGV2QmFzZUluZm9baV0udXNlcklkfVwiPjwvc3Bhbj4gPGltZyBjbGFzcz1cImNob29zZS1pdGVtLWltZy1zaW5nbGVcIiBzcmM9XCJpbWcvc2luZ2xlXyR7ZGV2SW1nSW5kZXh9LnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKCcudmlldy1zd2l0Y2gtY2hvb3NlcicpLmNzcygnaGVpZ2h0JywgJCgnLnZpZXctc3dpdGNoLWNob29zZXInKS5oZWlnaHQoKSArIDgxKTtcclxuICAgICAgICAkKCcudmlldy1zd2l0Y2gtY2hvb3NlcicpLmNzcygndG9wJywgLSQoJy52aWV3LXN3aXRjaC1jaG9vc2VyJykuaGVpZ2h0KCkgLSA1KTtcclxuICAgICAgICBpZiAoaXNBZGRBY3RpdmUgIT0gJycpIHtcclxuICAgICAgICAgICAgaWYgKGRldkJhc2VJbmZvW2ldLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgJCgnLnZpZXctY3VycmVudC1kZXYnKS5hcHBlbmQoYFxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidmlldy1jdXJyZW50LXVzZXJuYW1lIHVzZXItbmFtZS12YWx1ZS1ieS1pZC0ke2RldkJhc2VJbmZvW2ldLnVzZXJJZH1cIj4oKTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwidmlldy1jdXJyZW50LWRldi1pbWctY2FyXCIgc3JjPVwiaW1nL2Nhcl8ke2RldkltZ0luZGV4fS5wbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cIm1kdWktaWNvbiBtYXRlcmlhbC1pY29uc1wiPiYjeGU1Yzc7PC9pPlxyXG4gICAgICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgJCgnLnZpZXctY3VycmVudC1kZXYtY29udGFpbmVyJykuYXBwZW5kKGBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2aWV3LWN1cnJlbnQtZGV2LWljb24tY2FyXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOnVybChpbWcvaWNvbi9jYXJfdmlld18ke2RldkltZ0luZGV4fS5wbmcpIG5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1wiPjwvZGl2PlxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ2aWV3LWN1cnJlbnQtdXNlcm5hbWUtY29udGVudCAgdXNlci1uYW1lLXZhbHVlLWJ5LWlkLSR7ZGV2QmFzZUluZm9baV0udXNlcklkfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJy52aWV3LWN1cnJlbnQtZGV2JykuYXBwZW5kKGBcclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInZpZXctY3VycmVudC11c2VybmFtZSB1c2VyLW5hbWUtdmFsdWUtYnktaWQtJHtkZXZCYXNlSW5mb1tpXS51c2VySWR9XCI+KCk8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cInZpZXctY3VycmVudC1kZXYtaW1nLXNpbmdsZVwiIHNyYz1cImltZy9zaW5nbGVfJHtkZXZJbWdJbmRleH0ucG5nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJtZHVpLWljb24gbWF0ZXJpYWwtaWNvbnNcIj4mI3hlNWM3OzwvaT5cclxuICAgICAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgIGlmIChkZXZCYXNlSW5mb1tpXS5kZXZUeXBlID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcudmlldy1jdXJyZW50LWRldi1jb250YWluZXInKS5hcHBlbmQoYFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2aWV3LWN1cnJlbnQtZGV2LWljb24tc2luZ2xlXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOnVybChpbWcvaWNvbi9zaW5nbGVfdmlld18ke2RldkltZ0luZGV4fS5wbmcpbm8tcmVwZWF0O2JhY2tncm91bmQtc2l6ZTogY292ZXI7XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInZpZXctY3VycmVudC11c2VybmFtZS1jb250ZW50ICB1c2VyLW5hbWUtdmFsdWUtYnktaWQtJHtkZXZCYXNlSW5mb1tpXS51c2VySWR9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZGV2QmFzZUluZm9baV0uZGV2VHlwZSA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnZpZXctY3VycmVudC1kZXYtY29udGFpbmVyJykuYXBwZW5kKGBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidmlldy1jdXJyZW50LWRldi1pY29uLXNpbmdsZVwiIHN0eWxlPVwiYmFja2dyb3VuZDp1cmwoaW1nL2ljb24vb3V0c2lkZV92aWV3XyR7ZGV2SW1nSW5kZXh9LnBuZyluby1yZXBlYXQ7YmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidmlldy1jdXJyZW50LXVzZXJuYW1lLWNvbnRlbnQgIHVzZXItbmFtZS12YWx1ZS1ieS1pZC0ke2RldkJhc2VJbmZvW2ldLnVzZXJJZH1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIOW7uueri+inhuinkuWtmOWCqCovXHJcbiAgICAgICAgbGV0IGlzQ29ycmVudFZpZXcgPSBmYWxzZTtcclxuICAgICAgICBpZiAoaXNBZGRBY3RpdmUgIT0gJycpIHtcclxuICAgICAgICAgICAgaXNDb3JyZW50VmlldyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKiAqLyAvL2N1cnJlbnRWaWV3RGV2Q29kZSA9IGRldkJhc2VJbmZvW2ldLmRldkNvZGU7XHJcbiAgICAgICAgZGV2RHJhd0luZm9NYXAuc2V0KGRldkJhc2VJbmZvW2ldLmRldkNvZGUsIHtcclxuICAgICAgICAgICAgdXNlcklkOiBkZXZCYXNlSW5mb1tpXS51c2VySWQsXHJcbiAgICAgICAgICAgIHVzZXJOYW1lOiBudWxsLFxyXG4gICAgICAgICAgICByZWFsTmFtZTogbnVsbCxcclxuICAgICAgICAgICAgaGVhZEFkZHI6IG51bGwsXHJcbiAgICAgICAgICAgIGRldkNvZGU6IGRldkJhc2VJbmZvW2ldLmRldkNvZGUsXHJcbiAgICAgICAgICAgIGRldlR5cGU6IE51bWJlcihkZXZCYXNlSW5mb1tpXS5kZXZUeXBlKSxcclxuICAgICAgICAgICAgZGV2SW1nSW5kZXg6IGRldkltZ0luZGV4LFxyXG4gICAgICAgICAgICBpc0NvcnJlbnRWaWV3OiBpc0NvcnJlbnRWaWV3LCAvLyDmmK/lkKbkuLrlvZPliY3op4bop5JcclxuICAgICAgICAgICAgcm91dGVMaW5lQ29sb3I6ICcjODg4ODg4JywgLy8g6Lev5b6E57q/6aKc6ImyXHJcbiAgICAgICAgICAgIG1heEVuZzogeyB2YWx1ZTogMCwgcG9zaXRpb246IHsgbG5nOiAwLCBsYXQ6IDAsIG5vcnRoQW5nbGU6IDAsIH0sIGRldGFpbDogJycgfSxcclxuICAgICAgICAgICAgdGltZUxpbmVFbmdNYXA6IG5ldyBNYXAoKSxcclxuICAgICAgICAgICAgaXNTaG93OiBkZXZCYXNlSW5mb1tpXS5pc1Nob3csXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyog5bu656uL6Lev5b6E57q/5a2Y5YKoKi9cclxuICAgICAgICBsaW5lT3ZlcmxheU1hcC5saW5lLnNldChkZXZCYXNlSW5mb1tpXS5kZXZDb2RlLCB7XHJcbiAgICAgICAgICAgIGRldkNvZGU6IGRldkJhc2VJbmZvW2ldLmRldkNvZGUsXHJcbiAgICAgICAgICAgIGxpbmU6IFtdLFxyXG4gICAgICAgICAgICB0ZW1wTGluZTogW10sXHJcbiAgICAgICAgICAgIGRhdGFDYWNoZTogW10sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyog5re75Yqg5pe26Ze06L206IO96YeP5p2hKi9cclxuICAgICAgICBsZXQgZW5nQ29sdW1uRGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBpZiAoaXNDb3JyZW50Vmlldykge1xyXG4gICAgICAgICAgICBlbmdDb2x1bW5EaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnLmVuZy1jb2x1bW4tY2hhcnQnKS5hcHBlbmQoYDxkaXYgY2xhc3M9XCJlbmctY29sdW1uLWNoYXJ0LWNvbnRhaW5lciBlbmctY29sdW1uLWNoYXJ0LWNvbnRhaW5lci0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCIgc3R5bGU9XCJkaXNwbGF5OiR7ZW5nQ29sdW1uRGlzcGxheX07XCI+PC9kaXY+YCk7XHJcbiAgICAgICAgbGV0IGVuZ0NvbHVtblZhbHVlRGVmYXVsdCA9ICcnO1xyXG4gICAgICAgIGxldCB0aW1lRGl2aWRlckNvdW50QnlQYWdlVHlwZSA9IDA7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzUGFnZVR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnUlRDJzpcclxuICAgICAgICAgICAgICAgIHRpbWVEaXZpZGVyQ291bnRCeVBhZ2VUeXBlID0gdGltZURpdmlkZXJDb3VudCAqIDIgLSB0aW1lRGl2aWRlckNvdW50T3ZlciAqIDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnQ1InOlxyXG4gICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGNhc2VTdGFydFRpbWUpLmdldFNlY29uZHMoKSA+PSAzMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVEaXZpZGVyQ291bnRCeVBhZ2VUeXBlID0gdGltZURpdmlkZXJDb3VudE92ZXIgKiAyICsgMTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZURpdmlkZXJDb3VudEJ5UGFnZVR5cGUgPSB0aW1lRGl2aWRlckNvdW50T3ZlciAqIDI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRpbWVEaXZpZGVyQ291bnRCeVBhZ2VUeXBlOyBqKyspIHtcclxuICAgICAgICAgICAgbGV0IGVjdmI7XHJcbiAgICAgICAgICAgIGxldCB0aW1lO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXNQYWdlVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnUlRDJzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3IERhdGUoY2FzZVN0YXJ0VGltZSkuZ2V0U2Vjb25kcygpID49IDMwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSBuZXcgRGF0ZSgocGFyc2VJbnQoY2FzZVN0YXJ0VGltZSAvIDEwMDApICsgaiAqIDMwIC0gMzApICogMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZSA9IG5ldyBEYXRlKChwYXJzZUludChjYXNlU3RhcnRUaW1lIC8gMTAwMCkgKyBqICogMzApICogMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQ1InOlxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWUgPSBuZXcgRGF0ZSgocGFyc2VJbnQoY2FzZVN0YXJ0VGltZSAvIDEwMDApICsgaiAqIDMwKSAqIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGltZS5nZXRTZWNvbmRzKCkgPj0gMCAmJiB0aW1lLmdldFNlY29uZHMoKSA8IDMwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAwMOenkuWkhFxyXG4gICAgICAgICAgICAgICAgZWN2YiA9IHRpbWUuRm9ybWF0KCd5eXl5LU1NLWRkLWhoLW1tJykgKyAnLTAwJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIDMw56eS5aSEXHJcbiAgICAgICAgICAgICAgICBlY3ZiID0gdGltZS5Gb3JtYXQoJ3l5eXktTU0tZGQtaGgtbW0nKSArICctMzAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVuZ0NvbHVtblZhbHVlRGVmYXVsdCA9IGVuZ0NvbHVtblZhbHVlRGVmYXVsdCArIGBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbmctY29sdW1uLXZhbHVlIGVuZy1jb2x1bW4tdmFsdWUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiIHN0eWxlPVwiYmFja2dyb3VuZDpyZ2JhKDAsMCwwLDApXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVjdmItJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfS0ke2VjdmJ9XCIgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZTsgdG9wOjA7IGJhY2tncm91bmQ6cmdiYSgwLDAsMCwwKTsgaGVpZ2h0OjA7XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5re75Yqg6IO96YeP5Z2XXHJcbiAgICAgICAgJChgLmVuZy1jb2x1bW4tY2hhcnQtY29udGFpbmVyLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1gKS5hcHBlbmQoZW5nQ29sdW1uVmFsdWVEZWZhdWx0KTtcclxuICAgICAgICAvLyDorr7nva7og73ph4/lnZfkvY3nva5cclxuICAgICAgICAkKGAuZW5nLWNvbHVtbi12YWx1ZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9YCkuY3NzKCd3aWR0aCcsICQoJy5lbmctY29sdW1uLWNoYXJ0Jykud2lkdGgoKSAqIDAuMDI1IC8gMiAqIDAuNyk7XHJcbiAgICAgICAgJChgLmVuZy1jb2x1bW4tdmFsdWUtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfWApLmNzcygnbWFyZ2luLWxlZnQnLCAkKCcuZW5nLWNvbHVtbi1jaGFydCcpLndpZHRoKCkgKiAwLjAyNSAvIDIgKiAwLjE1KTtcclxuICAgICAgICAkKGAuZW5nLWNvbHVtbi12YWx1ZS0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9YCkuY3NzKCdtYXJnaW4tcmlnaHQnLCAkKCcuZW5nLWNvbHVtbi1jaGFydCcpLndpZHRoKCkgKiAwLjAyNSAvIDIgKiAwLjE1KTtcclxuICAgICAgICAvLyDorr7nva7og73ph4/lnZflrrnlmajplb/luqZcclxuICAgICAgICAkKGAuZW5nLWNvbHVtbi1jaGFydC1jb250YWluZXItJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfWApLmNzcygnd2lkdGgnLCB0aW1lRGl2aWRlckNvdW50ICogJCgnLmVuZy1jb2x1bW4tY2hhcnQnKS53aWR0aCgpICogMC4wMjUpO1xyXG4gICAgICAgIHN3aXRjaCAodGhpc1BhZ2VUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ1JUQyc6XHJcbiAgICAgICAgICAgICAgICAkKGAuZW5nLWNvbHVtbi1jaGFydC1jb250YWluZXItJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfWApLmNzcygncmlnaHQnLCAwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdDUic6XHJcbiAgICAgICAgICAgICAgICAkKGAuZW5nLWNvbHVtbi1jaGFydC1jb250YWluZXItJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfWApLmNzcygnbGVmdCcsIDApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgLyog5re75Yqg6auY57qn6Z2i5p2/Ki9cclxuICAgICAgICBsZXQgYWR2YW5jZUluZm9QYW5lbERpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgaWYgKGlzQ29ycmVudFZpZXcpIHtcclxuICAgICAgICAgICAgYWR2YW5jZUluZm9QYW5lbERpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNDb3JyZW50Vmlldykge1xyXG4gICAgICAgICAgICAkKCcjZGVmYXVsdC1hZHZhbmNlLWluZm8tcGFuZWwtZGV2JykuaHRtbChgXHJcbiAgICAgICAgICAgICAgICAke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9Jm5ic3A7PHNwYW4gc3R5bGU9XCJjb2xvcjogIzU2NmFlMlwiIGNsYXNzPVwidXNlci1uYW1lLXZhbHVlLWJ5LWlkLSR7ZGV2QmFzZUluZm9baV0udXNlcklkfVwiPigpPC9zcGFuPiA8c3BhbiBjbGFzcz1cImNhcmV0XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgJCgnLmFkdmFuY2UtaW5mby1kcm9wZG93bi10b2dnbGUtY29udGFpbmVyJykuaHRtbChgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tZHJvcGRvd24tdG9nZ2xlXCI+JHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfSg8c3BhbiBjbGFzcz1cInVzZXItbmFtZS12YWx1ZS1ieS1pZC0ke2RldkJhc2VJbmZvW2ldLnVzZXJJZH1cIj4oKTwvc3Bhbj4pPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tZHJvcGRvd24tdG9nZ2xlLWljb25cIj48L2Rpdj5cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICBhbmFseXNpc0RldkNvZGVOb3cgPSBgJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJyNhZHZhbmNlLWluZm8tcGFuZWwtZGV2LXNlbGVjdG9yJykuYXBwZW5kKGBcclxuICAgICAgICAgICAgPGxpPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJhZHZhbmNlLWluZm8tcGFuZWwtc2VsZWN0b3ItaXRlbVwiIGRhdGEtZGV2LWNvZGU9XCIke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfSZuYnNwO1xyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6ICM1NjZhZTJcIiBjbGFzcz1cInVzZXItbmFtZS12YWx1ZS1ieS1pZC0ke2RldkJhc2VJbmZvW2ldLnVzZXJJZH1cIj4oKTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgPC9saT5cclxuICAgICAgICBgKTtcclxuICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICQoJy5hZHZhbmNlLWluZm8tZHJvcGRvd24tdG9nZ2xlLWNvbnRlbnQnKS5hcHBlbmQoYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWRyb3Bkb3duLXRvZ2dsZS1jb250ZW50LWl0ZW1cIiBkYXRhLWRldi1jb2RlPVwiJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPiR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX0oPHNwYW4gY2xhc3M9XCJ1c2VyLW5hbWUtdmFsdWUtYnktaWQtJHtkZXZCYXNlSW5mb1tpXS51c2VySWR9XCI+KCk8L3NwYW4+KTwvZGl2PlxyXG4gICAgICAgICAgICBgKTtcclxuICAgICAgICAkKCcuYWR2YW5jZS1pbmZvLXZhbHVlLWNvbnRhaW5lcicpLmFwcGVuZChgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1jb250YWluZXIgYWR2YW5jZS1pbmZvLWNvbnRlbnQtY29udGFpbmVyLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX0tbHRlIENSLXNjcm9sbFlcIiBzdHlsZT1cImRpc3BsYXk6JHthZHZhbmNlSW5mb1BhbmVsRGlzcGxheX07XCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1jb250YWluZXIgYWR2YW5jZS1pbmZvLWNvbnRlbnQtY29udGFpbmVyLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX0td2NkbWEgQ1Itc2Nyb2xsWVwiIHN0eWxlPVwiZGlzcGxheToke2FkdmFuY2VJbmZvUGFuZWxEaXNwbGF5fTtkaXNwbGF5Om5vbmVcIj48L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1jb250ZW50LWNvbnRhaW5lciBhZHZhbmNlLWluZm8tY29udGVudC1jb250YWluZXItJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfS1jZG1hIENSLXNjcm9sbFlcIiBzdHlsZT1cImRpc3BsYXk6JHthZHZhbmNlSW5mb1BhbmVsRGlzcGxheX07ZGlzcGxheTpub25lXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tY29udGVudC1jb250YWluZXIgYWR2YW5jZS1pbmZvLWNvbnRlbnQtY29udGFpbmVyLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX0tZ3NtIENSLXNjcm9sbFlcIiBzdHlsZT1cImRpc3BsYXk6JHthZHZhbmNlSW5mb1BhbmVsRGlzcGxheX07ZGlzcGxheTpub25lXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIGApO1xyXG4gICAgICAgICQoJy5hZHZhbmNlLWluZm8tdGltZS1jb250YWluZXInKS5hcHBlbmQoYFxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby10aW1lIGFkdmFuY2UtaW5mby10aW1lLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIiBzdHlsZT1cImRpc3BsYXk6JHthZHZhbmNlSW5mb1BhbmVsRGlzcGxheX1cIj48L2Rpdj5cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgJCgnI2FkdmFuY2UtaW5mby1jb250ZW50LWJvZHknKS5hcHBlbmQoYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZS1pbmZvLWNvbnRlbnQgYWR2YW5jZS1pbmZvLWNvbnRlbnQtJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiIHN0eWxlPVwiZGlzcGxheToke2FkdmFuY2VJbmZvUGFuZWxEaXNwbGF5fVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYW5uZWwtaW5mby1hcmVhXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm8tYmxvY2stdGl0bGVcIj7pgJrpgZPkv6Hmga88L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhbm5lbC1pbmZvLXRhYmxlLWJvcmRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9XCJjaGFubmVsLWluZm8tdGFibGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT1cIndpZHRoOiAxMTVweDtcIj7ln7rnq5k8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9XCJ3aWR0aDogMTM1cHg7XCI+5L2N572u5Yy65qCH6K+G56CBPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPVwid2lkdGg6IDg2cHg7XCI+6Kej5p6QPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPVwid2lkdGg6IDUwcHg7XCI+5Lit5qCH5pWwPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPVwid2lkdGg6IDM0cHg7XCI+5Zy65by6PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPVwid2lkdGg6IDM0cHg7XCI+5aKe55uKPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keSBjbGFzcz1cImNoYW5uZWwtaW5mby10YWJsZS10Ym9keSBjaGFubmVsLWluZm8tdGFibGUtdGJvZHktJHtkZXZCYXNlSW5mb1tpXS5kZXZDb2RlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVwbGluay1nYWluLWluZm8tYXJlYVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvLWJsb2NrLXRpdGxlXCI+5LiK6KGM5aKe55uKPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVwbGluay1nYWluLWluZm8tY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidXBsaW5rLWdhaW4tc3RhdHVzLWxpbmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1cGxpbmstZ2Fpbi1zdGF0dXMtZ3JheS1jb3ZlciB1cGxpbmstZ2Fpbi1zdGF0dXMtZ3JheS1jb3Zlci0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCIgc3R5bGU9XCJ3aWR0aDogMTAwJVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVwbGluay1nYWluLXN0YXR1cy1wb3QgdXBsaW5rLWdhaW4tc3RhdHVzLXBvdC0ke2RldkJhc2VJbmZvW2ldLmRldkNvZGV9XCIgc3R5bGU9XCJsZWZ0OiAwJTtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1cGxpbmstZ2Fpbi1zdGF0dXMtdmFsdWUgdXBsaW5rLWdhaW4tc3RhdHVzLXZhbHVlLSR7ZGV2QmFzZUluZm9baV0uZGV2Q29kZX1cIj4wPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwhLS1cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0aXN0aWNhbC1pbmZvLWFyZWFcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mby1ibG9jay10aXRsZVwiPue7n+iuoeS/oeaBrzwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cIm5hdiBuYXYtdGFicyBzdGF0aXN0aWNhbC1pbmZvLW5hdlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgcm9sZT1cInByZXNlbnRhdGlvblwiIGNsYXNzPVwiYWN0aXZlXCI+PGE+TFRF57uf6K6h5LiAPC9hPjwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSByb2xlPVwicHJlc2VudGF0aW9uXCI+PGE+TFRF57uf6K6h5LqMPC9hPjwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSByb2xlPVwicHJlc2VudGF0aW9uXCI+PGE+TFRF55uu5qCH54q25oCB5pi+56S6PC9hPjwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdGlzdGljYWwtaW5mby10YWJsZS1ib3JkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwic3RhdGlzdGljYWwtaW5mby10YWJsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPuaXtumXtDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7mrKHmlbA8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+5qCH6K+GMTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7moIfor4YyPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPnRhYzwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5jaTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5sZXZlbDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAtLT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYCk7XHJcbiAgICAgICAgJCgnLmFkdmFuY2UtaW5mby1jb250ZW50JykuY3NzKCdoZWlnaHQnLCAkKHdpbmRvdykuaGVpZ2h0KCkgLSAzNTApOyAvLyDpq5jnuqfpnaLmnb/pq5jluqboh6rpgILlupRcclxuICAgICAgICAkKCcuY2hhbm5lbC1pbmZvLXRhYmxlLWJvcmRlcicpLmNzcygnaGVpZ2h0JywgJCgnLmFkdmFuY2UtaW5mby1jb250ZW50JykuaGVpZ2h0KCkgLSAzMCk7IC8vIOihqOagvOmrmOW6puiHqumAguW6lFxyXG4gICAgICAgICQoJy5jaGFubmVsLWluZm8tdGFibGUtdGJvZHknKS5jc3MoJ2hlaWdodCcsICQoJy5hZHZhbmNlLWluZm8tY29udGVudCcpLmhlaWdodCgpIC0gNzApOyAvLyB0Ym9keemrmOW6puiHqumAguW6lFxyXG4gICAgICAgICQoJy5zdGF0aXN0aWNhbC1pbmZvLXRhYmxlLWJvcmRlcicpLmNzcygnaGVpZ2h0JywgJCgnLmFkdmFuY2UtaW5mby1jb250ZW50JykuaGVpZ2h0KCkgLSAxOTgpOy8vIOe7n+iuoeS/oeaBr+mdouadv+iHqumAguW6lFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZW1vdmVBbGxEZXYoKSB7XHJcbiAgICAgICAgJCgnLmNhci1zcGVlZCcpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgJCgnLnRlYW0tZWFjaC1kZXYtY29udGFpbmVyLWNhcicpLmh0bWwoJycpO1xyXG4gICAgICAgICQoJy5jaG9vc2UtY29udGFpbmVyLWNhcicpLmh0bWwoJycpO1xyXG4gICAgICAgICQoJy5jaG9vc2UtY29udGFpbmVyLXNpbmdsZScpLmh0bWwoJycpO1xyXG4gICAgICAgICQoJy52aWV3LWN1cnJlbnQtZGV2JykuaHRtbCgnJyk7XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAkKCcuZ3JvdXAtbG9jYXRpb24tY2FyLWNvbnRhaW5lcicpLmh0bWwoJycpO1xyXG4gICAgICAgICQoJy5ncm91cC1sb2NhdGlvbi1zaW5nbGUtY29udGFpbmVyJykuaHRtbCgnJyk7XHJcbiAgICAgICAgJCgnLmdyb3VwLW91dHNpZGUtY29udGFpbmVyJykuaHRtbCgnJyk7XHJcbiAgICAgICAgJCgnLnZpZXctY3VycmVudC1kZXYtY29udGFpbmVyJykuaHRtbCgnJyk7XHJcbiAgICAgICAgJCgnLmFkdmFuY2UtaW5mby1kcm9wZG93bi10b2dnbGUtY29udGVudCcpLmh0bWwoJycpO1xyXG4gICAgICAgICQoJy5hZHZhbmNlLWluZm8tdmFsdWUtY29udGFpbmVyJykuaHRtbCgnJyk7XHJcbiAgICAgICAgJCgnLmFkdmFuY2UtaW5mby10aW1lLWNvbnRhaW5lcicpLmh0bWwoJycpO1xyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICQoJyNkZWZhdWx0LWFkdmFuY2UtaW5mby1wYW5lbC1kZXYnKS5odG1sKCcnKTtcclxuICAgICAgICAkKCcjYWR2YW5jZS1pbmZvLXBhbmVsLWRldi1zZWxlY3RvcicpLmh0bWwoJycpO1xyXG4gICAgICAgICQoJyNhZHZhbmNlLWluZm8tY29udGVudC1ib2R5JykuaHRtbCgnJyk7XHJcbiAgICAgICAgJCgnLnZpZXctc3dpdGNoLWNob29zZXInKS5jc3MoJ2hlaWdodCcsIDApO1xyXG4gICAgICAgICQoJy52aWV3LXN3aXRjaC1jaG9vc2VyJykuY3NzKCd0b3AnLCAwKTtcclxuICAgICAgICAvKiDlvZPliY3op4bop5LnmoTorr7lpIdkZXZDb2RlKi9cclxuICAgICAgICBjdXJyZW50Vmlld0RldkNvZGUgPSAnJztcclxuICAgICAgICAvKiDorr7lpIfmmL7npLrkv6Hmga/pm4blkIggKi9cclxuICAgICAgICBkZXZEcmF3SW5mb01hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICAvKiDorr7lpIfkv6Hmga/miYDlr7nlupTnmoRNYXDpm4blkIggKi9cclxuICAgICAgICBkZXZJbmZvTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8qIOiuvuWkh+imhueblueJqeaJgOWvueW6lOeahE1hcOmbhuWQiCAqL1xyXG4gICAgICAgIGRldkRpdk1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICAvKiDln7rnq5nkv6Hmga/lr7nlupTnmoRNYXDpm4blkIggKi9cclxuICAgICAgICBidHNJbmZvTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG11bHRpQnRzSW5mb01hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICAvKiDln7rnq5nopobnm5bnianmiYDlr7nlupTnmoRNYXDpm4blkIggKi9cclxuICAgICAgICBidHNEaXZNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgLyog5Lit5b+D54K56K6+5aSH57yW5Y+357yT5a2YKi9cclxuICAgICAgICBjZW50ZXJQb2ludERldkNvZGUgPSBudWxsO1xyXG4gICAgICAgIC8qIOiuvuWkh+i9qOi/uee6vyovXHJcbiAgICAgICAgbGluZU92ZXJsYXlNYXAgPSB7IGxpbmU6IG5ldyBNYXAoKSwgaXNTaG93OiB0cnVlIH07XHJcbiAgICAgICAgLyog5Li75Yqo5byP6L2o6L+557q/Ki9cclxuICAgICAgICBsaW5lUGFzc2l2ZSA9IHsgb3ZlcmxheTogW10sIGxpbmU6IFtdLCBpc1Nob3c6IHRydWUgfTtcclxuICAgICAgICAvKiDljZXlhbXlkb3kuK3nmoTln7rnq5nkv6Hmga/lr7nlupTnmoRNYXDpm4blkIggKi9cclxuICAgICAgICBzaW5nbGVCdHNJbmZvTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8qIOWNleWFteWRveS4reeahOWfuuermeimhueblueJqeaJgOWvueW6lOeahE1hcOmbhuWQiCAqL1xyXG4gICAgICAgIHNpbmdsZUJ0c0Rpdk1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICAvKiDng63lipvlm77nvJPlrZgqL1xyXG4gICAgICAgIGhlYXRtYXBPdmVybGF5Q2FjaGUgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgLyog5pe26Ze06L206LW35aeL5pe26Ze0Ki9cclxuICAgICAgICB0aW1lTGluZVN0YXJ0VmFsdWUgPSBudWxsO1xyXG4gICAgICAgIC8qIOaXtumXtOi9tOWIu+W6puaVsOmHj++8iOiTneiJsu+8iSovXHJcbiAgICAgICAgdGltZURpdmlkZXJDb3VudCA9IDA7XHJcbiAgICAgICAgLyog5pe26Ze06L205Yi75bqm5pWw6YeP77yI54Gw6Imy77yJKi9cclxuICAgICAgICB0aW1lRGl2aWRlckNvdW50T3ZlciA9IDA7XHJcbiAgICAgICAgLyog5pe26Ze06L205b2x5a2Q6KaG55uW54mpKi9cclxuICAgICAgICBoaXN0b3J5U2hhZG93T3ZlcmxheSA9IG51bGw7XHJcbiAgICAgICAgLyog5b2T5YmN5Li75Yqo5byP5ZG95Lit54q25oCBKi9cclxuICAgICAgICBwYXNzaXZlQWN0aXZlU3RhdHVzID0gMDtcclxuICAgICAgICAvKiDovabovb3og73ph4/mjIfnpLrmlbDnu4QgKi9cclxuICAgICAgICBjYXJFbmdPcmllbnRhdGlvbkFycmF5ID0geyBvdmVybGF5OiBbXSwgaXNTaG93OiB0cnVlIH07XHJcbiAgICAgICAgLyog5Y2V5YW16IO96YeP5oyH56S65pWw57uEICovXHJcbiAgICAgICAgc2luZ2xlRW5nT3JpZW50YXRpb25BcnJheSA9IHsgb3ZlcmxheTogW10sIGlzU2hvdzogdHJ1ZSB9O1xyXG4gICAgICAgIC8qIOebruagh+Wwj+WMuue8k+WtmCovXHJcbiAgICAgICAgdGFyZ2V0Q2VsbEluZm9zQ2FjaGUgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICBkZXZQcmVMb2NrQ2VsbEluZm9zQ2FjaGUgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAvKiDnm67moIflsI/ljLrmjIfnpLrnur8qL1xyXG4gICAgICAgIHRhcmdldENlbGxMaW5lQ2FjaGUgPSBudWxsO1xyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgZGV2UHJlTG9ja0NlbGxMaW5lQ2FjaGUgPSBudWxsO1xyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCovXHJcbiAgICAgICAgLyog5Z+656uZ6Kej5p6Q5L+h5oGv5LiO6Kem5Y+R5L+h5oGv57yT5a2YKi9cclxuICAgICAgICBkZXZTdGF0ZUluZm9NYXBDYWNoZSA9IG5ldyBNYXAoKTtcclxuICAgICAgICAvKiDln7rnq5nop6PmnpDov5vluqbnvJPlrZgqL1xyXG4gICAgICAgIGJ0c0FuYWx5c2lzT3ZlcmxheUNhY2hlID0gW107XHJcbiAgICAgICAgLyog5Z+656uZZWNoYXJ0c+eJueaViOebuOWFs+S/oeaBryovXHJcbiAgICAgICAgaGl0ZWRCdHNFY2hhcnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8qIOWRveS4reeahOWfuuermee8k+WtmCovXHJcbiAgICAgICAgaGl0ZWRCdHNDYWNoZSA9IFtdO1xyXG4gICAgICAgIC8qIOavj+S4quiuvuWkh+ato+WcqOino+aekOeahOWfuuermSovXHJcbiAgICAgICAgZGV2Q2VsbEFuYWx5c2lzTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8qIOWfuuermeWRveS4reeJueaViGVjaGFydHPlrprml7blmagqL1xyXG4gICAgICAgIGZsYXNoTWFya2VySW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgICAgIC8qIOWfuuermeWRveS4reeJueaViGNzc+imhueblueJqSovXHJcbiAgICAgICAgYnRzSGl0RWZmZWN0aW9uQ292ZXIgPSBudWxsO1xyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L3Rvb2wvUGFuZWwuanNcbi8vIG1vZHVsZSBpZCA9IDUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///51\n");

/***/ }),
/* 52 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__overlay_DrawBtsEcharts_js__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__overlay_BtsAnalysisOverlayConstructor_js__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__overlay_BtsDivOverlayConstructor_js__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__overlay_BtsSearchOverlayConstructor_js__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__overlay_DrawDevOverlay_js__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__overlay_SingleDivOverlayConstructor_js__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__ = __webpack_require__(0);\n\r\n/*add by guoshuai */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Switch {\r\n\r\n    static initSwitch() {\r\n        /**add by gaochao start */\r\n        /**打开/关闭路况信息 */\r\n        let traffic = new BMap.TrafficLayer();        // 创建交通流量图层实例      \r\n        $('#map-traffic-switch').click(function () {\r\n            if ($(this).attr('data-traffic-status') == 0) {\r\n                $(this).css(\"background\", \"url(img/icon/traffic_active.png) no-repeat\");\r\n                $(this).attr('data-traffic-status', 1);\r\n                map.addTileLayer(traffic);\r\n            } else {\r\n                $(this).css(\"background\", \"url(img/icon/traffic.png) no-repeat\");\r\n                $(this).attr('data-traffic-status', 0);\r\n                map.removeTileLayer(traffic);\r\n            }\r\n        });\r\n\r\n        /**办案与外线切换 */\r\n        $('.group-switch-btn-item').click(function () {\r\n            let groupId = $(this).attr(\"id\");\r\n            $(\".group-switch-btn-item\").css({\r\n                \"color\": \"rgba(153,153,153,1)\",\r\n                \"background\": \"rgba(255,255,255,1)\"\r\n            });\r\n            if (groupId == \"group-location\") {\r\n                $(`#group-location`).css({\r\n                    \"color\": \"#17C1F4\",\r\n                    \"background\": \"rgba(7,24,48,1)\"\r\n                });\r\n                $('.group-location-container').css('left', '17px');\r\n                $('.group-outside-container').css('left', '-600px');\r\n\r\n            } else if (groupId == \"group-outside\") {\r\n                $(`#group-outside`).css({\r\n                    \"color\": \"#17C1F4\",\r\n                    \"background\": \"rgba(7,24,48,1)\"\r\n                });\r\n                $('.group-location-container').css('left', '-600px');\r\n                $('.group-outside-container').css('left', '17px');\r\n\r\n            }\r\n        });\r\n\r\n        /**切换地图图层 */\r\n        let panoramaMap = new BMap.PanoramaCoverageLayer();\r\n        $('.map-typeswich-item').click(function () {\r\n            let mapTypeId = $(this).attr(\"id\");\r\n            $(\".map-typeswich-item\").css({\r\n                \"color\": \"rgba(153,153,153,1)\",\r\n                \"background\": \"rgba(255,255,255,1)\"\r\n            });\r\n            if (mapTypeId == \"map-type-normal\") {\r\n                $(`#map-type-normal`).css({\r\n                    \"color\": \"rgba(255,255,255,1)\",\r\n                    \"background\": \"rgba(124,142,168,1)\"\r\n                });\r\n                map.setMapType(BMAP_NORMAL_MAP);\r\n                map.removeTileLayer(panoramaMap);\r\n            } else if (mapTypeId == \"map-type-satellife\") {\r\n                $(`#map-type-satellife`).css({\r\n                    \"color\": \"rgba(255,255,255,1)\",\r\n                    \"background\": \"rgba(124,142,168,1)\"\r\n                });\r\n                map.setMapType(BMAP_SATELLITE_MAP);\r\n                map.removeTileLayer(panoramaMap);\r\n            } else if (mapTypeId == \"map-type-panorama\") {\r\n                $(`#map-type-panorama`).css({\r\n                    \"color\": \"rgba(255,255,255,1)\",\r\n                    \"background\": \"rgba(124,142,168,1)\"\r\n                });\r\n                map.setMapType(BMAP_NORMAL_MAP);\r\n                map.addTileLayer(panoramaMap);\r\n            }\r\n        });\r\n\r\n        /**锁定按钮 */\r\n        // $('.view-lock-btn').click(function () {\r\n        //     // console.log($('.view-lock-btn').attr(\"data-status\"));\r\n        //     // console.log(mapFollowFlag);\r\n        //     // if ($('.view-lock-btn').attr(\"data-status\") == 0) {\r\n        //     $('.view-lock-btn div').css(\"background\", \"url(img/icon/location_active.png)no-repeat\");\r\n        //     // $('.view-lock-btn').attr(\"data-status\", 1)\r\n        //     mapFollowFlag = true;\r\n        //     // } else {\r\n        //     // $('.view-lock-btn div').css(\"background\", \"url(img/icon/location.png)no-repeat\");\r\n        //     //     $('.view-lock-btn').attr(\"data-status\", 0)\r\n        //     //     mapFollowFlag = false;\r\n        //     // }\r\n        // });\r\n        /**地图拖动后视角不锁定 */\r\n        map.addEventListener(\"dragend\", function () {\r\n            mapFollowFlag = false;\r\n            $('.view-lock-btn div').css(\"background\", \"url(img/icon/location.png)no-repeat\");\r\n        });\r\n\r\n        /**滚轮缩放地图层级 */\r\n        map.addEventListener(\"zoomend\", function () {\r\n            if (map.getZoom() == 3) {\r\n                $('.view-narrow-btn').attr(\"data-status\", 0);\r\n                $('.view-narrow-btn div').css(\"background\", \"url(img/icon/zoomout.png)no-repeat\");\r\n            } else if (map.getZoom() == 19) {\r\n                $('.view-enlarge-btn').attr(\"data-status\", 0);\r\n                $('.view-enlarge-btn div').css(\"background\", \"url(img/icon/zoomin.png)no-repeat\");\r\n            } else {\r\n                $('.view-enlarge-btn div').css(\"background\", \"url(img/icon/zoomin_active.png)no-repeat\");\r\n                $('.view-narrow-btn div').css(\"background\", \"url(img/icon/zoomout_active.png)no-repeat\");\r\n            }\r\n        });\r\n\r\n        /**地图缩/放按钮 */\r\n        $('.view-narrow-btn').click(function () {\r\n            map.zoomOut();\r\n            if ($('.view-enlarge-btn').attr(\"data-status\") == 0) {\r\n                $('.view-enlarge-btn div').css(\"background\", \"url(img/icon/zoomin_active.png)no-repeat\");\r\n            }\r\n            if (map.getZoom() == 3) {\r\n                $('.view-narrow-btn').attr(\"data-status\", 0);\r\n                $('.view-narrow-btn div').css(\"background\", \"url(img/icon/zoomout.png)no-repeat\");\r\n            }\r\n        });\r\n        $('.view-enlarge-btn').click(function () {\r\n            map.zoomIn();\r\n            if ($('.view-narrow-btn').attr(\"data-status\") == 0) {\r\n                $('.view-narrow-btn div').css(\"background\", \"url(img/icon/zoomout_active.png)no-repeat\");\r\n            }\r\n            if (map.getZoom() == 19) {\r\n                $('.view-enlarge-btn').attr(\"data-status\", 0);\r\n                $('.view-enlarge-btn div').css(\"background\", \"url(img/icon/zoomin.png)no-repeat\");\r\n            }\r\n        });\r\n        /**声音开关 */\r\n        $(document).on(\"click\", \".group-location-voice\", function () {\r\n            let thisCode = $(this).attr(\"data-code\");\r\n            if ($(`#group-location-voice-${thisCode}`).attr(\"data-status\") == 1) {\r\n                $(`#group-location-voice-${thisCode}`).css(\"background\", \"url(img/icon/voice_none.png)\");\r\n                $(`#group-location-voice-${thisCode}`).attr(\"data-status\", 0);\r\n                voiceDevCode[thisCode] = 0;\r\n                // console.log(voiceDevCode);\r\n\r\n            } else {\r\n                $(`#group-location-voice-${thisCode}`).css(\"background\", \"url(img/icon/voice.png)\");\r\n                $(`#group-location-voice-${thisCode}`).attr(\"data-status\", 1);\r\n                voiceDevCode[thisCode] = 1;\r\n                // console.log(voiceDevCode);\r\n\r\n            }\r\n            return false;\r\n        });\r\n\r\n        $(document).on(\"click\", \".right-chat-control-btn\", function () {\r\n            if ($(this).attr('data-status') == \"left\") {\r\n                $(this).attr('data-status', \"right\");\r\n                $(this).removeClass('contril-btn-right');\r\n                $(this).addClass('contril-btn-left');\r\n                $('.right-tools-container').removeClass('right-tools-container-right');\r\n                $('.right-tools-container').addClass('right-tools-container-left');\r\n                $('.right-chat-container').removeClass('right-chat-container-right');\r\n                $('.right-chat-container').addClass('right-chat-container-left');\r\n                $('.right-chat-container').css('display', 'none');\r\n            } else if ($(this).attr('data-status') == \"right\") {\r\n                $(this).attr('data-status', \"left\");\r\n                $(this).removeClass('contril-btn-left');\r\n                $(this).addClass('contril-btn-right');\r\n                $('.right-tools-container').removeClass('right-tools-container-left');\r\n                $('.right-tools-container').addClass('right-tools-container-right');\r\n                $('.right-chat-container').removeClass('right-chat-container-left');\r\n                $('.right-chat-container').addClass('right-chat-container-right');\r\n                $('.right-chat-container').css('display', 'block');\r\n            }\r\n        });\r\n\r\n        /* 高级面板设备切换*/\r\n        $(document).on('click', '.advance-info-dropdown-toggle-content-item', function () {\r\n            let selectedDevCode = $(this).attr('data-dev-code');\r\n            $(`.advance-info-time`).css('display', 'none');\r\n            $(`.advance-info-time-${selectedDevCode}`).css('display', 'block');\r\n            $('.advance-info-content-container').css('display', 'none');\r\n            $(`.advance-info-content-container-${selectedDevCode}-${analysisModeNow}`).css('display', 'block');\r\n            $('.advance-info-dropdown-toggle-container').html(`\r\n                <div class=\"advance-info-dropdown-toggle\">${selectedDevCode}(${devDrawInfoMap.get(selectedDevCode).realName})</div>\r\n                <div class=\"advance-info-dropdown-toggle-icon\"></div>\r\n            `);\r\n            analysisDevCodeNow = `${selectedDevCode}`;\r\n        });\r\n\r\n        $(document).on('click', '.advance-info-modetype-btn', function () {\r\n            let selectedMode = $(this).attr('data-mode');\r\n            $('.advance-info-modetype-btn').css('background', '#fff');\r\n            $('.advance-info-modetype-btn').css('color', '#2A8CFF');\r\n            $('.advance-info-modetype-btn').css('border', '1px solid #2A8CFF');\r\n            $(`#advance-info-modetype-btn-${selectedMode}`).css('background', '#2A8CFF');\r\n            $(`#advance-info-modetype-btn-${selectedMode}`).css('color', '#fff');\r\n            $(`#advance-info-modetype-btn-${selectedMode}`).css('border', '1px solid #2A8CFF');\r\n            $('.advance-info-content-container').css('display', 'none');\r\n            $(`.advance-info-content-container-${analysisDevCodeNow}-${selectedMode}`).css('display', 'block');\r\n            analysisModeNow = `${selectedMode}`;\r\n        });\r\n\r\n\r\n        /**add by gaochao end */\r\n        /* 打开/关闭目标标记 */\r\n        $('#end-marker-view-switch').click(function () {\r\n            if ($(this).attr('end-marker-view-status') == 0) {\r\n                /* 打开设备轨迹显示*/\r\n                // $(this).removeClass('gray-cover');\r\n                $(this).css(\"background\", \"url(img/icon/endMarker_active.png)no-repeat\");\r\n                $(this).attr('end-marker-view-status', 1);\r\n                if (endPoint != null) {\r\n                    endMarker.show();\r\n                    map.setCenter(endPoint);\r\n                    map.setZoom(map.getZoom() - 1);\r\n                    map.setZoom(map.getZoom() + 1);\r\n                }\r\n            } else {\r\n                /* 关闭设备轨迹显示*/\r\n                // $(this).addClass('gray-cover');\r\n                $(this).css(\"background\", \"url(img/icon/endMarker.png)no-repeat\");\r\n                $(this).attr('end-marker-view-status', 0);\r\n                if (endPoint != null) {\r\n                    endMarker.hide();\r\n                }\r\n            }\r\n        });\r\n\r\n        /* 打开/关闭目标标记 */\r\n        $('#vehicle-marker-view-switch').click(function () {\r\n            if ($(this).attr('vehicle-marker-view-status') == 0) {\r\n                /* 打开设备轨迹显示*/\r\n                // $(this).removeClass('gray-cover');\r\n                $(this).css(\"background\", \"url(img/icon/vehicle_active.png)no-repeat\");\r\n                $(this).attr('vehicle-marker-view-status', 1);\r\n                if (vehicleMarkerCache.size > 0) {\r\n                    for (let value of vehicleMarkerCache.values()) {\r\n                        value.show();\r\n                    }\r\n                }\r\n            } else {\r\n                /* 关闭设备轨迹显示*/\r\n                // $(this).addClass('gray-cover');\r\n                $(this).css(\"background\", \"url(img/icon/vehicle.png)no-repeat\");\r\n                $(this).attr('vehicle-marker-view-status', 0);\r\n                if (vehicleMarkerCache.size > 0) {\r\n                    for (let value of vehicleMarkerCache.values()) {\r\n                        value.hide();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        /* 打开/关闭设备轨迹线 */\r\n        $('#dev-route-line-switch').click(function () {\r\n            if ($(this).attr('data-dev-route-line-status') == 0) {\r\n                /* 打开设备轨迹显示*/\r\n                // $(this).removeClass('gray-cover');\r\n                $(this).css(\"background\", \"url(img/icon/car_load_active.png)no-repeat\");\r\n                $(this).attr('data-dev-route-line-status', 1);\r\n                lineOverlayMap.isShow = true;\r\n                lineOverlayMap.line.forEach((eachLine) => {\r\n                    for (let i = 0; i < eachLine.line.length; i++) {\r\n                        eachLine.line[i].show();\r\n                    }\r\n                    for (let i = 0; i < eachLine.tempLine.length; i++) {\r\n                        eachLine.tempLine[i].show();\r\n                    }\r\n                });\r\n            } else {\r\n                /* 关闭设备轨迹显示*/\r\n                // $(this).addClass('gray-cover');\r\n                $(this).css(\"background\", \"url(img/icon/car_load.png)no-repeat\");\r\n                $(this).attr('data-dev-route-line-status', 0);\r\n                lineOverlayMap.isShow = false;\r\n                lineOverlayMap.line.forEach((eachLine) => {\r\n                    for (let i = 0; i < eachLine.line.length; i++) {\r\n                        eachLine.line[i].hide();\r\n                    }\r\n                    for (let i = 0; i < eachLine.tempLine.length; i++) {\r\n                        eachLine.tempLine[i].hide();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        /* 打开/关闭能量轨迹 */\r\n        $('#eng-orientation-switch').click(function () {\r\n            if ($(this).attr('data-eng-orientation-status') == 0) {\r\n                /* 打开能量轨迹显示 */\r\n                /**edit by gaochao start */\r\n                // $('.energy-scale').css('display', 'block');\r\n                $('.view-color-container').css('display', 'block');\r\n                /**edit by gaochao start */\r\n                // $(this).removeClass('gray-cover');\r\n                $(this).css(\"background\", \"url(img/icon/eng_load_active.png)no-repeat\");\r\n                $(this).attr('data-eng-orientation-status', 1);\r\n                carEngOrientationArray.isShow = true;\r\n                for (let i = 0; i < carEngOrientationArray.overlay.length; i++) {\r\n                    carEngOrientationArray.overlay[i].overlay.show();\r\n                }\r\n                singleEngOrientationArray.isShow = true;\r\n                for (let i = 0; i < singleEngOrientationArray.overlay.length; i++) {\r\n                    singleEngOrientationArray.overlay[i].overlay.show();\r\n                }\r\n            } else {\r\n                /* 关闭能量轨迹显示 */\r\n                /**edit by gaochao start */\r\n                $('.energy-scale').css('display', 'none');\r\n                $('.view-color-container').css('display', 'none');\r\n                /**edit by gaochao start */\r\n                // $(this).addClass('gray-cover');\r\n                $(this).css(\"background\", \"url(img/icon/eng_load.png)no-repeat\");\r\n                $(this).attr('data-eng-orientation-status', 0);\r\n                carEngOrientationArray.isShow = false;\r\n                for (let i = 0; i < carEngOrientationArray.overlay.length; i++) {\r\n                    carEngOrientationArray.overlay[i].overlay.hide();\r\n                }\r\n                singleEngOrientationArray.isShow = false;\r\n                for (let i = 0; i < singleEngOrientationArray.overlay.length; i++) {\r\n                    singleEngOrientationArray.overlay[i].overlay.hide();\r\n                }\r\n            }\r\n        });\r\n\r\n        /* 打开/关闭主动式轨迹 */\r\n        $('#passive-route-line-switch').click(function () {\r\n            if ($(this).attr('data-switch-close') == 1) {\r\n                if ($(this).attr('data-passive-route-line-status') == 0) {\r\n                    /* 打开主动式轨迹显示*/\r\n                    // $(this).removeClass('gray-cover');\r\n                    $(this).css(\"background\", \"url(img/icon/active_load_avtive.png)no-repeat\");\r\n                    $(this).attr('data-passive-route-line-status', 1);\r\n                    linePassive.isShow = true;\r\n                    for (let i = 0; i < linePassive.line.length; i++) {\r\n                        linePassive.line[i].show();\r\n                    }\r\n                    for (let i = 0; i < linePassive.overlay.length; i++) {\r\n                        linePassive.overlay[i].show();\r\n                    }\r\n                } else {\r\n                    /* 关闭主动式轨迹显示*/\r\n                    // $(this).addClass('gray-cover');\r\n                    $(this).css(\"background\", \"url(img/icon/active_load.png)no-repeat\");\r\n                    $(this).attr('data-passive-route-line-status', 0);\r\n                    linePassive.isShow = false;\r\n                    for (let i = 0; i < linePassive.line.length; i++) {\r\n                        linePassive.line[i].hide();\r\n                    }\r\n                    for (let i = 0; i < linePassive.overlay.length; i++) {\r\n                        linePassive.overlay[i].hide();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        /* 打开/关闭基站信息*/\r\n        $('#bts-show-switch').click(function () {\r\n            if ($(this).attr('data-bts-show-status') == 0) {\r\n                isBtsOpen = true;\r\n                /* 打开基站显示 */\r\n                // $(this).removeClass('gray-cover');\r\n                $(this).css(\"background\", \"url(img/icon/bts_icon_active.png)no-repeat\");\r\n                $(this).attr('data-bts-show-status', 1);\r\n                btsDivMap.forEach((eachBtsDiv) => {\r\n                    eachBtsDiv.btsCover.show();\r\n                });\r\n                //targetCellLineCache.show();\r\n                /* 显示基站特效*/\r\n                if (hitedBtsCache.btsId != null && isBtsOpen) {\r\n                    __WEBPACK_IMPORTED_MODULE_0__overlay_DrawBtsEcharts_js__[\"a\" /* DrawBtsEcharts */].showBtsStyleCSS(hitedBtsCache);\r\n                }\r\n                /* 打开基站解析*/\r\n                for (let i = 0; i < btsAnalysisOverlayCache.length; i++) {\r\n                    btsAnalysisOverlayCache[i].show();\r\n                }\r\n            } else {\r\n                isBtsOpen = false;\r\n                /* 关闭基站显示 */\r\n                // $(this).addClass('gray-cover');\r\n                $(this).css(\"background\", \"url(img/icon/bts_icon.png)no-repeat\");\r\n                $(this).attr('data-bts-show-status', 0);\r\n                btsDivMap.forEach((eachBtsDiv) => {\r\n                    eachBtsDiv.btsCover.hide();\r\n                });\r\n                //targetCellLineCache.hide();\r\n                /* 关闭基站特效*/\r\n                // if (flashMarkerInterval != null) {\r\n                //     /* 清除定时器*/\r\n                //     clearInterval(flashMarkerInterval);\r\n                //     flashMarkerInterval = null;\r\n                //     /* 清除canvas*/\r\n                //     $('.bts-hit-canvas').remove();\r\n                // }\r\n                if (btsHitEffectionCover != null) {\r\n                    map.removeOverlay(btsHitEffectionCover);\r\n                }\r\n                /* 关闭基站解析*/\r\n                for (let i = 0; i < btsAnalysisOverlayCache.length; i++) {\r\n                    btsAnalysisOverlayCache[i].hide();\r\n                }\r\n            }\r\n        });\r\n\r\n        /* 打开/关闭 TA产品化绘图*/\r\n        $('#ta-prod-show-switch').click(function () {\r\n            if ($(this).attr('data-ta-prod-show-status') == 0) {\r\n                isTaDrawProdOpen = true;\r\n                /* 打开产品化绘图显示 */\r\n                // $(this).removeClass('gray-cover');\r\n                $(this).css(\"background\", \"url(img/icon/ta_pro_active.png)no-repeat\");\r\n                $(this).attr('data-ta-prod-show-status', 1);\r\n                /* 打开产品化绘图*/\r\n                for (let i = 0; i < taCircleProdOverlayCache.length; i++) {\r\n                    taCircleProdOverlayCache[i].show();\r\n                }\r\n                for (let i = 0; i < taPointsProdOverlayCache.length; i++) {\r\n                    taPointsProdOverlayCache[i].show();\r\n                }\r\n                for (let i = 0; i < taPolygonProdOverlayCache.length; i++) {\r\n                    taPolygonProdOverlayCache[i].show();\r\n                }\r\n            } else {\r\n                isTaDrawProdOpen = false;\r\n                /* 关闭产品化绘图显示 */\r\n                // $(this).addClass('gray-cover');\r\n                $(this).css(\"background\", \"url(img/icon/ta_pro.png)no-repeat\");\r\n                $(this).attr('data-ta-prod-show-status', 0);\r\n                /* 关闭产品化绘图*/\r\n                for (let i = 0; i < taCircleProdOverlayCache.length; i++) {\r\n                    taCircleProdOverlayCache[i].hide();\r\n                }\r\n                for (let i = 0; i < taPointsProdOverlayCache.length; i++) {\r\n                    taPointsProdOverlayCache[i].hide();\r\n                }\r\n                for (let i = 0; i < taPolygonProdOverlayCache.length; i++) {\r\n                    taPolygonProdOverlayCache[i].hide();\r\n                }\r\n            }\r\n        });\r\n        /* 打开/关闭 TA调试绘图*/\r\n        $('#ta-debug-show-switch').click(function () {\r\n            if ($(this).attr('data-ta-debug-show-status') == 0) {\r\n                isTaDrawDebugOpen = true;\r\n                /* 打开产品化绘图显示 */\r\n                // $(this).removeClass('gray-cover');\r\n                $(this).css(\"background\", \"url(img/icon/ta_debug_active.png)no-repeat\");\r\n                $(this).attr('data-ta-debug-show-status', 1);\r\n                /* 打开产品化绘图*/\r\n                for (let i = 0; i < taCircleDebugOverlayCache.length; i++) {\r\n                    taCircleDebugOverlayCache[i].show();\r\n                }\r\n                for (let i = 0; i < taPointsDebugOverlayCache.length; i++) {\r\n                    taPointsDebugOverlayCache[i].show();\r\n                }\r\n                for (let i = 0; i < taPolygonDebugOverlayCache.length; i++) {\r\n                    taPolygonDebugOverlayCache[i].show();\r\n                }\r\n            } else {\r\n                isTaDrawDebugOpen = false;\r\n                /* 关闭产品化绘图显示 */\r\n                // $(this).addClass('gray-cover');\r\n                $(this).css(\"background\", \"url(img/icon/ta_debug.png)no-repeat\");\r\n                $(this).attr('data-ta-debug-show-status', 0);\r\n                /* 关闭产品化绘图*/\r\n                for (let i = 0; i < taCircleDebugOverlayCache.length; i++) {\r\n                    taCircleDebugOverlayCache[i].hide();\r\n                }\r\n                for (let i = 0; i < taPointsDebugOverlayCache.length; i++) {\r\n                    taPointsDebugOverlayCache[i].hide();\r\n                }\r\n                for (let i = 0; i < taPolygonDebugOverlayCache.length; i++) {\r\n                    taPolygonDebugOverlayCache[i].hide();\r\n                }\r\n            }\r\n        });\r\n        /* 语音模式切换*/\r\n        $('#eng-audio-selector').click(function () {\r\n            if (!$(this).hasClass('gray-cover')) {\r\n                if ($('.eng-audio-selector-menu').css('display') == 'none') {\r\n                    /* 打开语音模式选择面板*/\r\n                    $('.eng-audio-selector-menu').css('display', 'block');\r\n                } else {\r\n                    /* 关闭语音模式选择面板*/\r\n                    $('.eng-audio-selector-menu').css('display', 'none');\r\n                }\r\n            }\r\n        });\r\n        $('.eng-audio-selector-item').click(function () {\r\n            switch (Number($(this).attr('data-audio-type'))) {\r\n                case 1:\r\n                    engAudioType = 1;\r\n                    if (thisPageType == 'CR') {\r\n                        engAudioTypeCache = 1;\r\n                    }\r\n                    $('#eng-audio-selector').css('background-position', '-200px -40px');\r\n                    break;\r\n                case 2:\r\n                    engAudioType = 2;\r\n                    if (thisPageType == 'CR') {\r\n                        engAudioTypeCache = 2;\r\n                    }\r\n                    $('#eng-audio-selector').css('background-position', '-240px -40px');\r\n                    break;\r\n                case 3:\r\n                    engAudioType = 3;\r\n                    if (thisPageType == 'CR') {\r\n                        engAudioTypeCache = 3;\r\n                    }\r\n                    $('#eng-audio-selector').css('background-position', '-160px -40px');\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            $('.eng-audio-selector-menu').css('display', 'none');\r\n        });\r\n\r\n        //基站查询模态框\r\n        $('#bts-search').click(function () {\r\n            $('#paste_btsId').val('');\r\n            $('#source-networkType').html('源1')\r\n            $('#source-networkType2').html('源1');\r\n       /*      $('#classic_mode_input').attr('checked', 'checked');\r\n            $('#paste_mode_input').removeAttr('checked');\r\n            $('.search_bts_classic_mode').css('display','block');\r\n            $('.search_bts_paste_mode').css('display','none'); */\r\n            $('.no-cdma-lac-tac').val('');\r\n            $('.no-cdma-ci').val('');\r\n            $('.cdma-sid').val('');\r\n            $('.cdma-nid').val('');\r\n            $('.cdma-bid').val('');\r\n            $('.isTrue').html('');\r\n            $('#cdma').hide();\r\n            $('#no-cdma').show();\r\n            operator = \"中国移动\";\r\n            networkType = 'LTE';\r\n            $('#mob-netWork').show();\r\n            $('#uni-netWork').hide();\r\n            $('#tel-netWork').hide();\r\n            $('#mncType').html(operator);\r\n            $('#mob-networkType').html(networkType);\r\n\r\n            $('#ten-lac-tac').show();\r\n            $('#ten-ci').show();\r\n            $('#ten-sid').show();\r\n            $('#ten-nid').show();\r\n            $('#ten-bid').show();\r\n            $('#sixteen-lac-tac').hide();\r\n            $('#sixteen-ci').hide();\r\n            $('#sixteen-sid').hide();\r\n            $('#sixteen-nid').hide();\r\n            $('#sixteen-bid').hide();\r\n            $('#ten-binary-system').attr('checked', 'checked');\r\n            $('#sixteen-binary-system').removeAttr('checked');\r\n        });\r\n\r\n        let operator = \"中国移动\";\r\n        let networkType = 'LTE';\r\n\r\n        /*网络运营商选择*/\r\n        $(document).on('click', '.mnc-selector', function () {\r\n            $('#mncType').html($(this).html());\r\n            operator = $('#mncType').html();\r\n            if (operator == \"中国移动\") {\r\n                $('#mob-networkType').html('LTE');\r\n                $('#mob-netWork').show();\r\n                $('#uni-netWork').hide();\r\n                $('#tel-netWork').hide();\r\n                $('#cdma').hide();\r\n                $('#no-cdma').show();\r\n            } else if (operator == \"中国联通\") {\r\n                $('#uni-networkType').html('LTE');\r\n                $('#uni-netWork').show();\r\n                $('#mob-netWork').hide();\r\n                $('#tel-netWork').hide();\r\n                $('#cdma').hide();\r\n                $('#no-cdma').show();\r\n            } else if (operator == \"中国电信\") {\r\n                $('#tel-networkType').html('LTE');\r\n                $('#tel-netWork').show();\r\n                $('#uni-netWork').hide();\r\n                $('#mob-netWork').hide();\r\n                $('#cdma').hide();\r\n                $('#no-cdma').show();\r\n            }\r\n        });\r\n        /*中国移动网络制式选择*/\r\n        $(document).on('click', '.mob-network-selector', function () {\r\n            $('#mob-networkType').html($(this).html());\r\n            networkType = $('#mob-networkType').html();\r\n            console.log(networkType);\r\n            $('#cdma').hide();\r\n            $('#no-cdma').show();\r\n            $('.isTrue').html('');\r\n        });\r\n        /*中国联通网络制式选择*/\r\n        $(document).on('click', '.uni-network-selector', function () {\r\n            $('#uni-networkType').html($(this).html());\r\n            networkType = $('#uni-networkType').html();\r\n            console.log(networkType);\r\n            $('#cdma').hide();\r\n            $('#no-cdma').show();\r\n            $('.isTrue').html('');\r\n        });\r\n        /*中国电信网络制式选择*/\r\n        $(document).on('click', '.tel-network-selector', function () {\r\n            $('#tel-networkType').html($(this).html());\r\n            networkType = $('#tel-networkType').html();\r\n            if (operator == \"中国电信\" && networkType == 'CDMA') {\r\n                $('#cdma').show();\r\n                $('#no-cdma').hide();\r\n            } else {\r\n                $('#cdma').hide();\r\n                $('#no-cdma').show();\r\n            }\r\n            $('.isTrue').html('');\r\n        });\r\n\r\n        function removeNUll(val) {\r\n            if (val == '') {\r\n                return null;\r\n            } else {\r\n                return val;\r\n            }\r\n        }\r\n\r\n        //请求操作\r\n        function geographic(data, mcc, mnc, netWork, lacNum, ciNum, bidNum, sidNum, nidNum) {\r\n            $.ajax({\r\n                url: 'commandManage/api/getBtsInfo',\r\n                type: 'POST',\r\n                async: true,\r\n                contentType: \"application/json; charset=utf-8\",\r\n                data: JSON.stringify(data),\r\n                dataType: 'json',\r\n                success: function (result) {\r\n                    console.log(result);\r\n                    let addressData = $.parseJSON(result.dataMap.btsInfo);\r\n                    if (addressData.bts) {\r\n                        let lat = addressData.bts.lat;\r\n                        let lng = addressData.bts.lng;\r\n                        //坐标转换\r\n                        let currentPoint = __WEBPACK_IMPORTED_MODULE_6__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([[lng, lat]])[0];\r\n                        let point = new BMap.Point(currentPoint.lng, currentPoint.lat);\r\n                        let mode = netWork;\r\n                        let sid = removeNUll(sidNum);\r\n                        let nid = removeNUll(nidNum);\r\n                        let bid = removeNUll(bidNum);\r\n                        let lacTac = removeNUll(lacNum);\r\n                        let radius = addressData.bts.radius;\r\n                        let cellId = removeNUll(ciNum);\r\n                        let btsId = addressData.bts.bts_id;\r\n\r\n                        let cover = new __WEBPACK_IMPORTED_MODULE_3__overlay_BtsSearchOverlayConstructor_js__[\"a\" /* BtsSearchOverlayConstructor */](point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId);\r\n                        map.addOverlay(cover);\r\n\r\n                        /* 存储绘制结果*/\r\n                        let btsSearchDiv = function () {\r\n                            this.btsCover;\r\n                            this.btsRadius;\r\n                            this.btsRangeCircle;\r\n                            this.lat;\r\n                            this.lng;\r\n                        }\r\n                        btsSearchDiv.lat = lat;\r\n                        btsSearchDiv.lng = lng;\r\n                        btsSearchDiv.btsCover = cover;\r\n                        btsSearchDiv.btsRadius = radius;\r\n                        btsSearchDivMap.set(btsId, btsSearchDiv);\r\n                        map.centerAndZoom(new BMap.Point(lng, lat), 16);\r\n                    } else {\r\n                        $('#alert-modal').modal('show');\r\n                        $('#alert-modal-content').html('未查询到该基站位置');\r\n                    }\r\n                },\r\n                error: function (xhr, textStatus) {\r\n                    $('#alert-modal').modal('show');\r\n                    $('#alert-modal-content').html('输入信息错误');\r\n                    console.log('错误');\r\n                    console.log(xhr);\r\n                    console.log(textStatus);\r\n                },\r\n            });\r\n        }\r\n        /* 只允许输入数字*/\r\n        $(document).on('keyup blur', '.input-num-only', function () {\r\n            this.value = this.value.replace(/[^\\d]/g, '');\r\n        });\r\n        /* 只允许输入数字和字母*/\r\n        $(document).on('keyup blur', '.input-num-word', function () {\r\n            //this.value = this.value.replace(/[^\\w\\.\\/]/g, '');\r\n            this.value = this.value.replace(/[^0-9a-fA-F\\n]/g, '');\r\n        });\r\n\r\n        /* 禁止输入空格*/\r\n        $(document).on('keyup blur', '.input-space-forbidden', function () {\r\n            this.value = this.value.replace(/\\s/g, '');\r\n        });\r\n\r\n        //数字输入超出或者低于最低值\r\n        $(document).on('blur', '#ten-lac-tac', function () {\r\n            if (this.value > 65535) {\r\n                $('#is-lacTac-true').html(`<span class=\"text-red\">输入数字不能大于65535</span>`);\r\n            } else if (this.value < 1) {\r\n                $('#is-lacTac-true').html(`<span class=\"text-red\">输入数字不能小于1</span>`);\r\n            } else {\r\n                $('#is-lacTac-true').html('');\r\n            }\r\n        });\r\n\r\n        $(document).on('blur', '#sixteen-lac-tac', function () {\r\n            if (parseInt(this.value, 16) > 65535) {\r\n                $('#is-lacTac-true').html(`<span class=\"text-red\">输入数字不能大于FFFF</span>`);\r\n            } else if (this.value < 1) {\r\n                $('#is-lacTac-true').html(`<span class=\"text-red\">输入数字不能小于1</span>`);\r\n            } else {\r\n                $('#is-lacTac-true').html('');\r\n            }\r\n        });\r\n\r\n        $(document).on('blur', '#ten-ci', function () {\r\n            if (this.value > 268435455) {\r\n                $('#is-ci-true').html(`<span class=\"text-red\">输入数字大于268435455</span>`);\r\n            } else if (this.value < 1) {\r\n                $('#is-ci-true').html(`<span class=\"text-red\">输入数字不能小于1</span>`);\r\n            } else {\r\n                $('#is-ci-true').html('');\r\n            }\r\n        });\r\n        $(document).on('blur', '#sixteen-ci', function () {\r\n            if (parseInt(this.value, 16) > 268435455) {\r\n                $('#is-ci-true').html(`<span class=\"text-red\">输入数字的大于FFFFFFF</span>`);\r\n            } else if (this.value < 1) {\r\n                $('#is-ci-true').html(`<span class=\"text-red\">输入数字不能小于1</span>`);\r\n            } else {\r\n                $('#is-ci-true').html('');\r\n            }\r\n        });\r\n\r\n        $(document).on('blur', '#ten-sid', function () {\r\n            if (this.value > 32767) {\r\n                $('#is-sid-true').html(`<span class=\"text-red\">输入数字不能大于32767</span>`);\r\n            } else if (this.value == \"\") {\r\n                $('#is-sid-true').html(`<span class=\"text-red\">不能为空</span>`);\r\n            } else if (this.value < 0) {\r\n                $('#is-sid-true').html(`<span class=\"text-red\">输入数字不能小于0</span>`);\r\n            } else {\r\n                $('#is-sid-true').html('');\r\n            }\r\n        });\r\n        $(document).on('blur', '#sixteen-sid', function () {\r\n            if (parseInt(this.value, 16) > 32767) {\r\n                $('#is-sid-true').html(`<span class=\"text-red\">输入数字不能大于7F73</span>`);\r\n            } else if (this.value == \"\") {\r\n                $('#is-sid-true').html(`<span class=\"text-red\">不能为空</span>`);\r\n            } else if (this.value < 0) {\r\n                $('#is-sid-true').html(`<span class=\"text-red\">输入数字不能小于0</span>`);\r\n            } else {\r\n                $('#is-sid-true').html('');\r\n            }\r\n        });\r\n\r\n        $(document).on('blur', '#ten-bid', function () {\r\n            if (this.value > 65535) {\r\n                $('#is-bid-true').html(`<span class=\"text-red\">输入数字不能大于65535</span>`);\r\n            } else if (this.value == \"\") {\r\n                $('#is-bid-true').html(`<span class=\"text-red\">不能为空</span>`);\r\n            } else if (this.value < 1) {\r\n                $('#is-bid-true').html(`<span class=\"text-red\">输入数字不能小于1</span>`);\r\n            } else {\r\n                $('#is-bid-true').html('');\r\n            }\r\n        });\r\n        $(document).on('blur', '#sixteen-bid', function () {\r\n            if (parseInt(this.value, 16) > 65535) {\r\n                $('#is-bid-true').html(`<span class=\"text-red\">输入数字不能大于FFFF</span>`);\r\n            } else if (this.value == \"\") {\r\n                $('#is-bid-true').html(`<span class=\"text-red\">不能为空</span>`);\r\n            } else if (this.value < 1) {\r\n                $('#is-bid-true').html(`<span class=\"text-red\">输入数字不能小于1</span>`);\r\n            } else {\r\n                $('#is-bid-true').html('');\r\n            }\r\n        });\r\n\r\n        $(document).on('blur', '#ten-nid', function () {\r\n            if (this.value > 65535) {\r\n                $('#is-nid-true').html(`<span class=\"text-red\">输入数字不能大于65535</span>`);\r\n            } else if (this.value < 0) {\r\n                $('#is-nid-true').html(`<span class=\"text-red\">输入数字不能小于0</span>`);\r\n            } else if (this.value == \"\") {\r\n                $('#is-nid-true').html(`<span class=\"text-red\">不能为空</span>`);\r\n            } else {\r\n                $('#is-nid-true').html('');\r\n            }\r\n        });\r\n        $(document).on('blur', '#sixteen-nid', function () {\r\n            if (parseInt(this.value, 16) > 65535) {\r\n                $('#is-nid-true').html(`<span class=\"text-red\">输入数字不能大于FFFF</span>`);\r\n            } else if (this.value < 0) {\r\n                $('#is-nid-true').html(`<span class=\"text-red\">输入数字不能小于0</span>`);\r\n            } else if (this.value == \"\") {\r\n                $('#is-nid-true').html(`<span class=\"text-red\">不能为空</span>`);\r\n            } else {\r\n                $('#is-nid-true').html('');\r\n            }\r\n        });\r\n\r\n        //定义无为参数\r\n        let lacNum;\r\n        let ciNum;\r\n        let sidNum;\r\n        let nidNum;\r\n        let bidNum;\r\n\r\n        //进制选择;\r\n        $('#sixteen-radio').click(function () {\r\n            $('#ten-lac-tac').hide();\r\n            $('#ten-ci').hide();\r\n            $('#ten-sid').hide();\r\n            $('#ten-nid').hide();\r\n            $('#ten-bid').hide();\r\n            $('#sixteen-lac-tac').show();\r\n            $('#sixteen-ci').show();\r\n            $('#sixteen-sid').show();\r\n            $('#sixteen-nid').show();\r\n            $('#sixteen-bid').show();\r\n            $('#ten-binary-system').removeAttr('checked');\r\n            $('#sixteen-binary-system').attr('checked', 'checked');\r\n            lacNum = isNaN($('#sixteen-lac-tac').val());\r\n            ciNum = isNaN($('#sixteen-ci').val());\r\n            sidNum = isNaN($('#sixteen-sid').val());\r\n            nidNum = isNaN($('#sixteen-nid').val());\r\n            bidNum = isNaN($('#ten-bid').val());\r\n        });\r\n        $('#ten-radio').click(function () {\r\n            $('#ten-lac-tac').show();\r\n            $('#ten-ci').show();\r\n            $('#ten-sid').show();\r\n            $('#ten-nid').show();\r\n            $('#ten-bid').show();\r\n            $('#sixteen-lac-tac').hide();\r\n            $('#sixteen-ci').hide();\r\n            $('#sixteen-sid').hide();\r\n            $('#sixteen-nid').hide();\r\n            $('#sixteen-bid').hide();\r\n            $('#ten-binary-system').attr('checked', 'checked');\r\n            $('#sixteen-binary-system').removeAttr('checked');\r\n            lacNum = $('#ten-lac-tac').val()\r\n            ciNum = $('#ten-ci').val();\r\n            sidNum = $('#ten-sid').val();\r\n            nidNum = $('#ten-nid').val();\r\n            bidNum = $('#ten-bid').val();\r\n        });\r\n\r\n        //放空操作\r\n        function isNaN(val) {\r\n            if (val == '') {\r\n                return val;\r\n            } else {\r\n                return parseInt(val, 16);\r\n            }\r\n        }\r\n        \r\n        //限制复制基站输入为空\r\n        $(document).on('blur', '#paste_btsId', function(){\r\n            if($(this).val() == ''){\r\n                $('#is-paste_btsId-true').html(`<span class=\"text-red\">请输入基站ID</span>`);\r\n            }else{\r\n                $('#is-paste_btsId-true').html(``);\r\n            }   \r\n        })\r\n        //来源选择\r\n        let source1 = 1;\r\n        let source2 = 1;\r\n        $(document).on('click', '.source-network-selector', function () {\r\n            $('#source-networkType').html($(this).html());\r\n            if($(this).html() == '源1'){\r\n                source1 = 1;\r\n            }else if($(this).html() == '源2'){\r\n                source1 = 2;\r\n            }else if($(this).html() == '源3'){\r\n                source1 = 3;\r\n            }\r\n        });\r\n\r\n        $(document).on('click', '.source-network-selector-2', function () {\r\n            $('#source-networkType2').html($(this).html());\r\n            if($(this).html() == '源1'){\r\n                source2 = 1;\r\n            }else if($(this).html() == '源2'){\r\n                source2 = 2;\r\n            }else if($(this).html() == '源3'){\r\n                source2 = 3;\r\n            }\r\n        });\r\n\r\n        //选取粘贴模式下基站类型\r\n        $(document).on('click', '.paste-network-selector', function () {\r\n            $('#paste-networkType').html($(this).html());\r\n        });\r\n\r\n        //基站查询\r\n        $(document).on('click', '#bts-search-ensure', function () {\r\n            if($('.search_bts_classic_mode').css('display') == 'block'){\r\n                let mcc = 460;\r\n                let netWork; //网络制式\r\n                let mnc; //网络运营商类型\r\n                let num;\r\n                let params;\r\n\r\n                if (operator == '中国移动') {\r\n                    mnc = '0'\r\n                } else if (operator == '中国联通') {\r\n                    mnc = '1';\r\n                } else if (operator == '中国电信') {\r\n                    mnc = '3';\r\n                }\r\n\r\n                //十进制情况;\r\n                if ($('#ten-binary-system').attr('checked') == 'checked') {\r\n                    lacNum = $('#ten-lac-tac').val();\r\n                    ciNum = $('#ten-ci').val();\r\n                    sidNum = $('#ten-sid').val();\r\n                    nidNum = $('#ten-nid').val();\r\n                    bidNum = $('#ten-bid').val();\r\n                    if (networkType == \"CDMA\") {\r\n                        num = 460 + '-' + mnc + '-' + sidNum + '-' + nidNum + '-' + bidNum;\r\n                    } else {\r\n                        num = 460 + '-' + mnc + '-' + lacNum + '-' + ciNum;\r\n                    }\r\n                } else {\r\n                    lacNum = isNaN($('#sixteen-lac-tac').val());\r\n                    ciNum = isNaN($('#sixteen-ci').val());\r\n                    sidNum = isNaN($('#sixteen-sid').val());\r\n                    nidNum = isNaN($('#sixteen-nid').val());\r\n                    bidNum = isNaN($('#sixteen-bid').val());\r\n                    if (networkType == \"CDMA\") {\r\n                        num = 460 + '-' + mnc + '-' + sidNum + '-' + nidNum + '-' + bidNum;\r\n                    } else {\r\n                        num = 460 + '-' + mnc + '-' + lacNum + '-' + ciNum;\r\n                    }\r\n                }\r\n                //网络制式\r\n                if (networkType == \"WCDMA\") {\r\n                    netWork = 'wcdma';\r\n                } else if (networkType == \"LTE\") {\r\n                    netWork = 'lte';\r\n                }\r\n                else if (networkType == \"CDMA\") {\r\n                    netWork = 'cdma';\r\n                }\r\n                else if (networkType == \"GSM\") {\r\n                    netWork = 'gsm';\r\n                }\r\n\r\n                params = netWork + ',' + num + ',' + source1;\r\n\r\n                let data = { \"param\": params };\r\n\r\n                if (networkType == \"CDMA\") {\r\n                    if (($('#ten-sid').val() != '' || $('#sixteen-sid').val() != '') && ($('#ten-bid').val() != '' || $('#sixteen-bid').val() != '') && ($('#ten-nid').val() != '' || $('#sixteen-nid').val() != '') && $('.isTrue').html() == '') {\r\n                        if (btsSearchDivMap.size != 0) {\r\n\r\n                            if (btsSearchDivMap.get(num) != undefined) {\r\n                                $('#alert-modal').modal('show');\r\n                                $('#alert-modal-content').html('已查询到该基站位置');\r\n                            } else {\r\n                                geographic(data, mcc, mnc, netWork, lacNum, ciNum, bidNum, sidNum, nidNum);\r\n                            }\r\n\r\n                        } else {\r\n                            geographic(data, mcc, mnc, netWork, lacNum, ciNum, bidNum, sidNum, nidNum);\r\n                        }\r\n                    } else {\r\n                    }\r\n                } else {\r\n                    if (($('#ten-lac-tac').val() != '' || $('#sixteen-lac-tac').val() != '') && ($('#ten-ci').val() != '' || $('#sixteen-ci').val() != '') && $('.isTrue').html() == '') {\r\n                        /* geographic(data,mcc,mnc,netWork,lacNum,ciNum,bidNum,sidNum,nidNum);\r\n                        $('#bts-search-modal').modal('hide'); */\r\n                        if (btsSearchDivMap.size != 0) {\r\n                            if (btsSearchDivMap.get(num) != undefined) {\r\n                                $('#alert-modal').modal('show');\r\n                                $('#alert-modal-content').html('已查询到该基站位置');\r\n                            } else {\r\n                                geographic(data, mcc, mnc, netWork, lacNum, ciNum, bidNum, sidNum, nidNum);\r\n                            }\r\n\r\n                        } else {\r\n                            geographic(data, mcc, mnc, netWork, lacNum, ciNum, bidNum, sidNum, nidNum);\r\n                        }\r\n                    } else {\r\n                    }\r\n                }\r\n            } else{\r\n                let paste_networkType = $('#paste-networkType').text();\r\n                let netWork;\r\n                //网络制式\r\n                if (paste_networkType == \"WCDMA\") {\r\n                    netWork = 'wcdma';\r\n                } else if (paste_networkType == \"LTE\") {\r\n                    netWork = 'lte';\r\n                }\r\n                else if (paste_networkType == \"CDMA\") {\r\n                    netWork = 'cdma';\r\n                }\r\n                else if (paste_networkType == \"GSM\") {\r\n                    netWork = 'gsm';\r\n                }\r\n                let num = $('#paste_btsId').val();\r\n                let mnc = num.slice(4,5);\r\n                let params = netWork + ',' + num + ',' + source2;\r\n                let data = { \"param\": params };\r\n                if($('#paste_btsId').val() != ''){\r\n                    if (btsSearchDivMap.size != 0) {\r\n                        if (btsSearchDivMap.get(num) != undefined) {\r\n                            $('#alert-modal').modal('show');\r\n                            $('#alert-modal-content').html('已查询到该基站位置');\r\n                        } else {\r\n                            geographic(data, 460, mnc, netWork, 0, 0, 0, 0, 0);\r\n                        }\r\n\r\n                    } else {\r\n                        geographic(data, 460, mnc, netWork, 0, 0, 0, 0, 0);\r\n                    }\r\n                }else{\r\n                }\r\n            }\r\n        })\r\n\r\n        //清除基站查询后留下来的覆盖物\r\n        $(document).on('click', '#bts-mark-delete', function () {\r\n            btsSearchDivMap.forEach(function (value, key, data) {\r\n                let btsSearchDiv = value;\r\n                map.removeOverlay(btsSearchDiv.btsCover);\r\n                map.removeOverlay(btsSearchDiv.btsRangeCircle);\r\n            });\r\n            btsSearchDivMap.clear();\r\n        })\r\n\r\n        \r\n        //切换搜索基站的搜索模式,切换到经典模式\r\n        $(document).on('click', '#classic_mode', function(){\r\n            $('.search_bts_classic_mode').css('display','block');\r\n            $('.search_bts_paste_mode').css('display','none');\r\n        })\r\n\r\n        //切换搜索基站的搜索模式,切换到经典模式\r\n        $(document).on('click', '#paste_mode', function(){\r\n            $('.search_bts_classic_mode').css('display','none');\r\n            $('.search_bts_paste_mode').css('display','block');\r\n        })\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Switch;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvdG9vbC9Td2l0Y2guanM/MGYxYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUE4RDtBQUM5RDtBQUM0RjtBQUNWO0FBQ007QUFDMUI7QUFDMEI7QUFDRDs7QUFFaEY7O0FBRVA7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBOztBQUVBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTs7QUFFQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFNBQVM7QUFDcEQsMkNBQTJDLFNBQVM7QUFDcEQsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQTs7QUFFQSxhQUFhO0FBQ2IsMkNBQTJDLFNBQVM7QUFDcEQsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGdCQUFnQjtBQUNwRDtBQUNBLGlEQUFpRCxnQkFBZ0IsR0FBRyxnQkFBZ0I7QUFDcEY7QUFDQSw0REFBNEQsZ0JBQWdCLEdBQUcsNkNBQTZDO0FBQzVIO0FBQ0E7QUFDQSxvQ0FBb0MsZ0JBQWdCO0FBQ3BELFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxhQUFhO0FBQ3pELDRDQUE0QyxhQUFhO0FBQ3pELDRDQUE0QyxhQUFhO0FBQ3pEO0FBQ0EsaURBQWlELG1CQUFtQixHQUFHLGFBQWE7QUFDcEYsaUNBQWlDLGFBQWE7QUFDOUMsU0FBUzs7O0FBR1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDBCQUEwQjtBQUM3RDtBQUNBO0FBQ0EsbUNBQW1DLDhCQUE4QjtBQUNqRTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsMEJBQTBCO0FBQzdEO0FBQ0E7QUFDQSxtQ0FBbUMsOEJBQThCO0FBQ2pFO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwyQ0FBMkM7QUFDMUU7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDhDQUE4QztBQUM3RTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwyQ0FBMkM7QUFDMUU7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDhDQUE4QztBQUM3RTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyw2QkFBNkI7QUFDaEU7QUFDQTtBQUNBLG1DQUFtQyxnQ0FBZ0M7QUFDbkU7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDZCQUE2QjtBQUNoRTtBQUNBO0FBQ0EsbUNBQW1DLGdDQUFnQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtGQUFjO0FBQ2xDO0FBQ0E7QUFDQSwrQkFBK0Isb0NBQW9DO0FBQ25FO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isb0NBQW9DO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHFDQUFxQztBQUNwRTtBQUNBO0FBQ0EsK0JBQStCLHFDQUFxQztBQUNwRTtBQUNBO0FBQ0EsK0JBQStCLHNDQUFzQztBQUNyRTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxQ0FBcUM7QUFDcEU7QUFDQTtBQUNBLCtCQUErQixxQ0FBcUM7QUFDcEU7QUFDQTtBQUNBLCtCQUErQixzQ0FBc0M7QUFDckU7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixzQ0FBc0M7QUFDckU7QUFDQTtBQUNBLCtCQUErQixzQ0FBc0M7QUFDckU7QUFDQTtBQUNBLCtCQUErQix1Q0FBdUM7QUFDdEU7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0NBQXNDO0FBQ3JFO0FBQ0E7QUFDQSwrQkFBK0Isc0NBQXNDO0FBQ3JFO0FBQ0E7QUFDQSwrQkFBK0IsdUNBQXVDO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMscUdBQWU7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdDQUF3Qyw0R0FBMkI7QUFDbkU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1Qix3QkFBd0I7QUFDeEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsNEJBQTRCOztBQUU1QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7O0FBRUEseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBOztBQUVBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTs7QUFFQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTOzs7QUFHVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUEsQyIsImZpbGUiOiI1Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERyYXdCdHNFY2hhcnRzIH0gZnJvbSAnLi4vb3ZlcmxheS9EcmF3QnRzRWNoYXJ0cy5qcyc7XHJcbi8qYWRkIGJ5IGd1b3NodWFpICovXHJcbmltcG9ydCB7IEJ0c0FuYWx5c2lzT3ZlcmxheUNvbnN0cnVjdG9yIH0gZnJvbSAnLi4vb3ZlcmxheS9CdHNBbmFseXNpc092ZXJsYXlDb25zdHJ1Y3Rvci5qcyc7XHJcbmltcG9ydCB7IEJ0c0Rpdk92ZXJsYXlDb25zdHJ1Y3RvciB9IGZyb20gJy4uL292ZXJsYXkvQnRzRGl2T3ZlcmxheUNvbnN0cnVjdG9yLmpzJztcclxuaW1wb3J0IHsgQnRzU2VhcmNoT3ZlcmxheUNvbnN0cnVjdG9yIH0gZnJvbSAnLi4vb3ZlcmxheS9CdHNTZWFyY2hPdmVybGF5Q29uc3RydWN0b3IuanMnO1xyXG5pbXBvcnQgeyBEcmF3RGV2T3ZlcmxheSB9IGZyb20gJy4uL292ZXJsYXkvRHJhd0Rldk92ZXJsYXkuanMnO1xyXG5pbXBvcnQgeyBTaW5nbGVEaXZPdmVybGF5Q29uc3RydWN0b3IgfSBmcm9tICcuLi9vdmVybGF5L1NpbmdsZURpdk92ZXJsYXlDb25zdHJ1Y3Rvci5qcyc7XHJcbmltcG9ydCB7IEdQU1RvQmFpZHVQb2ludCB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9iYWlkdU1hcC9HUFNUb0JhaWR1UG9pbnQuQmFpZHVNYXAuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN3aXRjaCB7XHJcblxyXG4gICAgc3RhdGljIGluaXRTd2l0Y2goKSB7XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAvKirmiZPlvIAv5YWz6Zet6Lev5Ya15L+h5oGvICovXHJcbiAgICAgICAgbGV0IHRyYWZmaWMgPSBuZXcgQk1hcC5UcmFmZmljTGF5ZXIoKTsgICAgICAgIC8vIOWIm+W7uuS6pOmAmua1gemHj+WbvuWxguWunuS+iyAgICAgIFxyXG4gICAgICAgICQoJyNtYXAtdHJhZmZpYy1zd2l0Y2gnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ2RhdGEtdHJhZmZpYy1zdGF0dXMnKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmRcIiwgXCJ1cmwoaW1nL2ljb24vdHJhZmZpY19hY3RpdmUucG5nKSBuby1yZXBlYXRcIik7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtdHJhZmZpYy1zdGF0dXMnLCAxKTtcclxuICAgICAgICAgICAgICAgIG1hcC5hZGRUaWxlTGF5ZXIodHJhZmZpYyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmRcIiwgXCJ1cmwoaW1nL2ljb24vdHJhZmZpYy5wbmcpIG5vLXJlcGVhdFwiKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS10cmFmZmljLXN0YXR1cycsIDApO1xyXG4gICAgICAgICAgICAgICAgbWFwLnJlbW92ZVRpbGVMYXllcih0cmFmZmljKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKirlip7moYjkuI7lpJbnur/liIfmjaIgKi9cclxuICAgICAgICAkKCcuZ3JvdXAtc3dpdGNoLWJ0bi1pdGVtJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgZ3JvdXBJZCA9ICQodGhpcykuYXR0cihcImlkXCIpO1xyXG4gICAgICAgICAgICAkKFwiLmdyb3VwLXN3aXRjaC1idG4taXRlbVwiKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcInJnYmEoMTUzLDE1MywxNTMsMSlcIixcclxuICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZFwiOiBcInJnYmEoMjU1LDI1NSwyNTUsMSlcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKGdyb3VwSWQgPT0gXCJncm91cC1sb2NhdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAkKGAjZ3JvdXAtbG9jYXRpb25gKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjMTdDMUY0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJiYWNrZ3JvdW5kXCI6IFwicmdiYSg3LDI0LDQ4LDEpXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJCgnLmdyb3VwLWxvY2F0aW9uLWNvbnRhaW5lcicpLmNzcygnbGVmdCcsICcxN3B4Jyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuZ3JvdXAtb3V0c2lkZS1jb250YWluZXInKS5jc3MoJ2xlZnQnLCAnLTYwMHB4Jyk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGdyb3VwSWQgPT0gXCJncm91cC1vdXRzaWRlXCIpIHtcclxuICAgICAgICAgICAgICAgICQoYCNncm91cC1vdXRzaWRlYCkuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiIzE3QzFGNFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZFwiOiBcInJnYmEoNywyNCw0OCwxKVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICQoJy5ncm91cC1sb2NhdGlvbi1jb250YWluZXInKS5jc3MoJ2xlZnQnLCAnLTYwMHB4Jyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuZ3JvdXAtb3V0c2lkZS1jb250YWluZXInKS5jc3MoJ2xlZnQnLCAnMTdweCcpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKirliIfmjaLlnLDlm77lm77lsYIgKi9cclxuICAgICAgICBsZXQgcGFub3JhbWFNYXAgPSBuZXcgQk1hcC5QYW5vcmFtYUNvdmVyYWdlTGF5ZXIoKTtcclxuICAgICAgICAkKCcubWFwLXR5cGVzd2ljaC1pdGVtJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgbWFwVHlwZUlkID0gJCh0aGlzKS5hdHRyKFwiaWRcIik7XHJcbiAgICAgICAgICAgICQoXCIubWFwLXR5cGVzd2ljaC1pdGVtXCIpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwicmdiYSgxNTMsMTUzLDE1MywxKVwiLFxyXG4gICAgICAgICAgICAgICAgXCJiYWNrZ3JvdW5kXCI6IFwicmdiYSgyNTUsMjU1LDI1NSwxKVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAobWFwVHlwZUlkID09IFwibWFwLXR5cGUtbm9ybWFsXCIpIHtcclxuICAgICAgICAgICAgICAgICQoYCNtYXAtdHlwZS1ub3JtYWxgKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCJyZ2JhKDI1NSwyNTUsMjU1LDEpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJiYWNrZ3JvdW5kXCI6IFwicmdiYSgxMjQsMTQyLDE2OCwxKVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG1hcC5zZXRNYXBUeXBlKEJNQVBfTk9STUFMX01BUCk7XHJcbiAgICAgICAgICAgICAgICBtYXAucmVtb3ZlVGlsZUxheWVyKHBhbm9yYW1hTWFwKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBUeXBlSWQgPT0gXCJtYXAtdHlwZS1zYXRlbGxpZmVcIikge1xyXG4gICAgICAgICAgICAgICAgJChgI21hcC10eXBlLXNhdGVsbGlmZWApLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcInJnYmEoMjU1LDI1NSwyNTUsMSlcIixcclxuICAgICAgICAgICAgICAgICAgICBcImJhY2tncm91bmRcIjogXCJyZ2JhKDEyNCwxNDIsMTY4LDEpXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbWFwLnNldE1hcFR5cGUoQk1BUF9TQVRFTExJVEVfTUFQKTtcclxuICAgICAgICAgICAgICAgIG1hcC5yZW1vdmVUaWxlTGF5ZXIocGFub3JhbWFNYXApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcFR5cGVJZCA9PSBcIm1hcC10eXBlLXBhbm9yYW1hXCIpIHtcclxuICAgICAgICAgICAgICAgICQoYCNtYXAtdHlwZS1wYW5vcmFtYWApLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcInJnYmEoMjU1LDI1NSwyNTUsMSlcIixcclxuICAgICAgICAgICAgICAgICAgICBcImJhY2tncm91bmRcIjogXCJyZ2JhKDEyNCwxNDIsMTY4LDEpXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbWFwLnNldE1hcFR5cGUoQk1BUF9OT1JNQUxfTUFQKTtcclxuICAgICAgICAgICAgICAgIG1hcC5hZGRUaWxlTGF5ZXIocGFub3JhbWFNYXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qKumUgeWumuaMiemSriAqL1xyXG4gICAgICAgIC8vICQoJy52aWV3LWxvY2stYnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICAvLyBjb25zb2xlLmxvZygkKCcudmlldy1sb2NrLWJ0bicpLmF0dHIoXCJkYXRhLXN0YXR1c1wiKSk7XHJcbiAgICAgICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKG1hcEZvbGxvd0ZsYWcpO1xyXG4gICAgICAgIC8vICAgICAvLyBpZiAoJCgnLnZpZXctbG9jay1idG4nKS5hdHRyKFwiZGF0YS1zdGF0dXNcIikgPT0gMCkge1xyXG4gICAgICAgIC8vICAgICAkKCcudmlldy1sb2NrLWJ0biBkaXYnKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwidXJsKGltZy9pY29uL2xvY2F0aW9uX2FjdGl2ZS5wbmcpbm8tcmVwZWF0XCIpO1xyXG4gICAgICAgIC8vICAgICAvLyAkKCcudmlldy1sb2NrLWJ0bicpLmF0dHIoXCJkYXRhLXN0YXR1c1wiLCAxKVxyXG4gICAgICAgIC8vICAgICBtYXBGb2xsb3dGbGFnID0gdHJ1ZTtcclxuICAgICAgICAvLyAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgLy8gJCgnLnZpZXctbG9jay1idG4gZGl2JykuY3NzKFwiYmFja2dyb3VuZFwiLCBcInVybChpbWcvaWNvbi9sb2NhdGlvbi5wbmcpbm8tcmVwZWF0XCIpO1xyXG4gICAgICAgIC8vICAgICAvLyAgICAgJCgnLnZpZXctbG9jay1idG4nKS5hdHRyKFwiZGF0YS1zdGF0dXNcIiwgMClcclxuICAgICAgICAvLyAgICAgLy8gICAgIG1hcEZvbGxvd0ZsYWcgPSBmYWxzZTtcclxuICAgICAgICAvLyAgICAgLy8gfVxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8qKuWcsOWbvuaLluWKqOWQjuinhuinkuS4jemUgeWumiAqL1xyXG4gICAgICAgIG1hcC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VuZFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1hcEZvbGxvd0ZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgJCgnLnZpZXctbG9jay1idG4gZGl2JykuY3NzKFwiYmFja2dyb3VuZFwiLCBcInVybChpbWcvaWNvbi9sb2NhdGlvbi5wbmcpbm8tcmVwZWF0XCIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKirmu5rova7nvKnmlL7lnLDlm77lsYLnuqcgKi9cclxuICAgICAgICBtYXAuYWRkRXZlbnRMaXN0ZW5lcihcInpvb21lbmRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobWFwLmdldFpvb20oKSA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcudmlldy1uYXJyb3ctYnRuJykuYXR0cihcImRhdGEtc3RhdHVzXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgJCgnLnZpZXctbmFycm93LWJ0biBkaXYnKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwidXJsKGltZy9pY29uL3pvb21vdXQucG5nKW5vLXJlcGVhdFwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXAuZ2V0Wm9vbSgpID09IDE5KSB7XHJcbiAgICAgICAgICAgICAgICAkKCcudmlldy1lbmxhcmdlLWJ0bicpLmF0dHIoXCJkYXRhLXN0YXR1c1wiLCAwKTtcclxuICAgICAgICAgICAgICAgICQoJy52aWV3LWVubGFyZ2UtYnRuIGRpdicpLmNzcyhcImJhY2tncm91bmRcIiwgXCJ1cmwoaW1nL2ljb24vem9vbWluLnBuZyluby1yZXBlYXRcIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcudmlldy1lbmxhcmdlLWJ0biBkaXYnKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwidXJsKGltZy9pY29uL3pvb21pbl9hY3RpdmUucG5nKW5vLXJlcGVhdFwiKTtcclxuICAgICAgICAgICAgICAgICQoJy52aWV3LW5hcnJvdy1idG4gZGl2JykuY3NzKFwiYmFja2dyb3VuZFwiLCBcInVybChpbWcvaWNvbi96b29tb3V0X2FjdGl2ZS5wbmcpbm8tcmVwZWF0XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qKuWcsOWbvue8qS/mlL7mjInpkq4gKi9cclxuICAgICAgICAkKCcudmlldy1uYXJyb3ctYnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXAuem9vbU91dCgpO1xyXG4gICAgICAgICAgICBpZiAoJCgnLnZpZXctZW5sYXJnZS1idG4nKS5hdHRyKFwiZGF0YS1zdGF0dXNcIikgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgJCgnLnZpZXctZW5sYXJnZS1idG4gZGl2JykuY3NzKFwiYmFja2dyb3VuZFwiLCBcInVybChpbWcvaWNvbi96b29taW5fYWN0aXZlLnBuZyluby1yZXBlYXRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1hcC5nZXRab29tKCkgPT0gMykge1xyXG4gICAgICAgICAgICAgICAgJCgnLnZpZXctbmFycm93LWJ0bicpLmF0dHIoXCJkYXRhLXN0YXR1c1wiLCAwKTtcclxuICAgICAgICAgICAgICAgICQoJy52aWV3LW5hcnJvdy1idG4gZGl2JykuY3NzKFwiYmFja2dyb3VuZFwiLCBcInVybChpbWcvaWNvbi96b29tb3V0LnBuZyluby1yZXBlYXRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcudmlldy1lbmxhcmdlLWJ0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWFwLnpvb21JbigpO1xyXG4gICAgICAgICAgICBpZiAoJCgnLnZpZXctbmFycm93LWJ0bicpLmF0dHIoXCJkYXRhLXN0YXR1c1wiKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcudmlldy1uYXJyb3ctYnRuIGRpdicpLmNzcyhcImJhY2tncm91bmRcIiwgXCJ1cmwoaW1nL2ljb24vem9vbW91dF9hY3RpdmUucG5nKW5vLXJlcGVhdFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobWFwLmdldFpvb20oKSA9PSAxOSkge1xyXG4gICAgICAgICAgICAgICAgJCgnLnZpZXctZW5sYXJnZS1idG4nKS5hdHRyKFwiZGF0YS1zdGF0dXNcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAkKCcudmlldy1lbmxhcmdlLWJ0biBkaXYnKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwidXJsKGltZy9pY29uL3pvb21pbi5wbmcpbm8tcmVwZWF0XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoq5aOw6Z+z5byA5YWzICovXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5ncm91cC1sb2NhdGlvbi12b2ljZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCB0aGlzQ29kZSA9ICQodGhpcykuYXR0cihcImRhdGEtY29kZVwiKTtcclxuICAgICAgICAgICAgaWYgKCQoYCNncm91cC1sb2NhdGlvbi12b2ljZS0ke3RoaXNDb2RlfWApLmF0dHIoXCJkYXRhLXN0YXR1c1wiKSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAkKGAjZ3JvdXAtbG9jYXRpb24tdm9pY2UtJHt0aGlzQ29kZX1gKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwidXJsKGltZy9pY29uL3ZvaWNlX25vbmUucG5nKVwiKTtcclxuICAgICAgICAgICAgICAgICQoYCNncm91cC1sb2NhdGlvbi12b2ljZS0ke3RoaXNDb2RlfWApLmF0dHIoXCJkYXRhLXN0YXR1c1wiLCAwKTtcclxuICAgICAgICAgICAgICAgIHZvaWNlRGV2Q29kZVt0aGlzQ29kZV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codm9pY2VEZXZDb2RlKTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKGAjZ3JvdXAtbG9jYXRpb24tdm9pY2UtJHt0aGlzQ29kZX1gKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwidXJsKGltZy9pY29uL3ZvaWNlLnBuZylcIik7XHJcbiAgICAgICAgICAgICAgICAkKGAjZ3JvdXAtbG9jYXRpb24tdm9pY2UtJHt0aGlzQ29kZX1gKS5hdHRyKFwiZGF0YS1zdGF0dXNcIiwgMSk7XHJcbiAgICAgICAgICAgICAgICB2b2ljZURldkNvZGVbdGhpc0NvZGVdID0gMTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHZvaWNlRGV2Q29kZSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5yaWdodC1jaGF0LWNvbnRyb2wtYnRuXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cignZGF0YS1zdGF0dXMnKSA9PSBcImxlZnRcIikge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLXN0YXR1cycsIFwicmlnaHRcIik7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdjb250cmlsLWJ0bi1yaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnY29udHJpbC1idG4tbGVmdCcpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnJpZ2h0LXRvb2xzLWNvbnRhaW5lcicpLnJlbW92ZUNsYXNzKCdyaWdodC10b29scy1jb250YWluZXItcmlnaHQnKTtcclxuICAgICAgICAgICAgICAgICQoJy5yaWdodC10b29scy1jb250YWluZXInKS5hZGRDbGFzcygncmlnaHQtdG9vbHMtY29udGFpbmVyLWxlZnQnKTtcclxuICAgICAgICAgICAgICAgICQoJy5yaWdodC1jaGF0LWNvbnRhaW5lcicpLnJlbW92ZUNsYXNzKCdyaWdodC1jaGF0LWNvbnRhaW5lci1yaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnJpZ2h0LWNoYXQtY29udGFpbmVyJykuYWRkQ2xhc3MoJ3JpZ2h0LWNoYXQtY29udGFpbmVyLWxlZnQnKTtcclxuICAgICAgICAgICAgICAgICQoJy5yaWdodC1jaGF0LWNvbnRhaW5lcicpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5hdHRyKCdkYXRhLXN0YXR1cycpID09IFwicmlnaHRcIikge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLXN0YXR1cycsIFwibGVmdFwiKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2NvbnRyaWwtYnRuLWxlZnQnKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2NvbnRyaWwtYnRuLXJpZ2h0Jyk7XHJcbiAgICAgICAgICAgICAgICAkKCcucmlnaHQtdG9vbHMtY29udGFpbmVyJykucmVtb3ZlQ2xhc3MoJ3JpZ2h0LXRvb2xzLWNvbnRhaW5lci1sZWZ0Jyk7XHJcbiAgICAgICAgICAgICAgICAkKCcucmlnaHQtdG9vbHMtY29udGFpbmVyJykuYWRkQ2xhc3MoJ3JpZ2h0LXRvb2xzLWNvbnRhaW5lci1yaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnJpZ2h0LWNoYXQtY29udGFpbmVyJykucmVtb3ZlQ2xhc3MoJ3JpZ2h0LWNoYXQtY29udGFpbmVyLWxlZnQnKTtcclxuICAgICAgICAgICAgICAgICQoJy5yaWdodC1jaGF0LWNvbnRhaW5lcicpLmFkZENsYXNzKCdyaWdodC1jaGF0LWNvbnRhaW5lci1yaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnJpZ2h0LWNoYXQtY29udGFpbmVyJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyog6auY57qn6Z2i5p2/6K6+5aSH5YiH5o2iKi9cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmFkdmFuY2UtaW5mby1kcm9wZG93bi10b2dnbGUtY29udGVudC1pdGVtJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWREZXZDb2RlID0gJCh0aGlzKS5hdHRyKCdkYXRhLWRldi1jb2RlJyk7XHJcbiAgICAgICAgICAgICQoYC5hZHZhbmNlLWluZm8tdGltZWApLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICQoYC5hZHZhbmNlLWluZm8tdGltZS0ke3NlbGVjdGVkRGV2Q29kZX1gKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgJCgnLmFkdmFuY2UtaW5mby1jb250ZW50LWNvbnRhaW5lcicpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICQoYC5hZHZhbmNlLWluZm8tY29udGVudC1jb250YWluZXItJHtzZWxlY3RlZERldkNvZGV9LSR7YW5hbHlzaXNNb2RlTm93fWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAkKCcuYWR2YW5jZS1pbmZvLWRyb3Bkb3duLXRvZ2dsZS1jb250YWluZXInKS5odG1sKGBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlLWluZm8tZHJvcGRvd24tdG9nZ2xlXCI+JHtzZWxlY3RlZERldkNvZGV9KCR7ZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkucmVhbE5hbWV9KTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2UtaW5mby1kcm9wZG93bi10b2dnbGUtaWNvblwiPjwvZGl2PlxyXG4gICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgYW5hbHlzaXNEZXZDb2RlTm93ID0gYCR7c2VsZWN0ZWREZXZDb2RlfWA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuYWR2YW5jZS1pbmZvLW1vZGV0eXBlLWJ0bicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkTW9kZSA9ICQodGhpcykuYXR0cignZGF0YS1tb2RlJyk7XHJcbiAgICAgICAgICAgICQoJy5hZHZhbmNlLWluZm8tbW9kZXR5cGUtYnRuJykuY3NzKCdiYWNrZ3JvdW5kJywgJyNmZmYnKTtcclxuICAgICAgICAgICAgJCgnLmFkdmFuY2UtaW5mby1tb2RldHlwZS1idG4nKS5jc3MoJ2NvbG9yJywgJyMyQThDRkYnKTtcclxuICAgICAgICAgICAgJCgnLmFkdmFuY2UtaW5mby1tb2RldHlwZS1idG4nKS5jc3MoJ2JvcmRlcicsICcxcHggc29saWQgIzJBOENGRicpO1xyXG4gICAgICAgICAgICAkKGAjYWR2YW5jZS1pbmZvLW1vZGV0eXBlLWJ0bi0ke3NlbGVjdGVkTW9kZX1gKS5jc3MoJ2JhY2tncm91bmQnLCAnIzJBOENGRicpO1xyXG4gICAgICAgICAgICAkKGAjYWR2YW5jZS1pbmZvLW1vZGV0eXBlLWJ0bi0ke3NlbGVjdGVkTW9kZX1gKS5jc3MoJ2NvbG9yJywgJyNmZmYnKTtcclxuICAgICAgICAgICAgJChgI2FkdmFuY2UtaW5mby1tb2RldHlwZS1idG4tJHtzZWxlY3RlZE1vZGV9YCkuY3NzKCdib3JkZXInLCAnMXB4IHNvbGlkICMyQThDRkYnKTtcclxuICAgICAgICAgICAgJCgnLmFkdmFuY2UtaW5mby1jb250ZW50LWNvbnRhaW5lcicpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICQoYC5hZHZhbmNlLWluZm8tY29udGVudC1jb250YWluZXItJHthbmFseXNpc0RldkNvZGVOb3d9LSR7c2VsZWN0ZWRNb2RlfWApLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICBhbmFseXNpc01vZGVOb3cgPSBgJHtzZWxlY3RlZE1vZGV9YDtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgIC8qIOaJk+W8gC/lhbPpl63nm67moIfmoIforrAgKi9cclxuICAgICAgICAkKCcjZW5kLW1hcmtlci12aWV3LXN3aXRjaCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cignZW5kLW1hcmtlci12aWV3LXN0YXR1cycpID09IDApIHtcclxuICAgICAgICAgICAgICAgIC8qIOaJk+W8gOiuvuWkh+i9qOi/ueaYvuekuiovXHJcbiAgICAgICAgICAgICAgICAvLyAkKHRoaXMpLnJlbW92ZUNsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmRcIiwgXCJ1cmwoaW1nL2ljb24vZW5kTWFya2VyX2FjdGl2ZS5wbmcpbm8tcmVwZWF0XCIpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdlbmQtbWFya2VyLXZpZXctc3RhdHVzJywgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5kUG9pbnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZE1hcmtlci5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLnNldENlbnRlcihlbmRQb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLnNldFpvb20obWFwLmdldFpvb20oKSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5zZXRab29tKG1hcC5nZXRab29tKCkgKyAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIOWFs+mXreiuvuWkh+i9qOi/ueaYvuekuiovXHJcbiAgICAgICAgICAgICAgICAvLyAkKHRoaXMpLmFkZENsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmRcIiwgXCJ1cmwoaW1nL2ljb24vZW5kTWFya2VyLnBuZyluby1yZXBlYXRcIik7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2VuZC1tYXJrZXItdmlldy1zdGF0dXMnLCAwKTtcclxuICAgICAgICAgICAgICAgIGlmIChlbmRQb2ludCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kTWFya2VyLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiDmiZPlvIAv5YWz6Zet55uu5qCH5qCH6K6wICovXHJcbiAgICAgICAgJCgnI3ZlaGljbGUtbWFya2VyLXZpZXctc3dpdGNoJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCd2ZWhpY2xlLW1hcmtlci12aWV3LXN0YXR1cycpID09IDApIHtcclxuICAgICAgICAgICAgICAgIC8qIOaJk+W8gOiuvuWkh+i9qOi/ueaYvuekuiovXHJcbiAgICAgICAgICAgICAgICAvLyAkKHRoaXMpLnJlbW92ZUNsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmRcIiwgXCJ1cmwoaW1nL2ljb24vdmVoaWNsZV9hY3RpdmUucG5nKW5vLXJlcGVhdFwiKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cigndmVoaWNsZS1tYXJrZXItdmlldy1zdGF0dXMnLCAxKTtcclxuICAgICAgICAgICAgICAgIGlmICh2ZWhpY2xlTWFya2VyQ2FjaGUuc2l6ZSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB2YWx1ZSBvZiB2ZWhpY2xlTWFya2VyQ2FjaGUudmFsdWVzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIOWFs+mXreiuvuWkh+i9qOi/ueaYvuekuiovXHJcbiAgICAgICAgICAgICAgICAvLyAkKHRoaXMpLmFkZENsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmRcIiwgXCJ1cmwoaW1nL2ljb24vdmVoaWNsZS5wbmcpbm8tcmVwZWF0XCIpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCd2ZWhpY2xlLW1hcmtlci12aWV3LXN0YXR1cycsIDApO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZlaGljbGVNYXJrZXJDYWNoZS5zaXplID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHZhbHVlIG9mIHZlaGljbGVNYXJrZXJDYWNoZS52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyog5omT5byAL+WFs+mXreiuvuWkh+i9qOi/uee6vyAqL1xyXG4gICAgICAgICQoJyNkZXYtcm91dGUtbGluZS1zd2l0Y2gnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ2RhdGEtZGV2LXJvdXRlLWxpbmUtc3RhdHVzJykgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLyog5omT5byA6K6+5aSH6L2o6L+55pi+56S6Ki9cclxuICAgICAgICAgICAgICAgIC8vICQodGhpcykucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKFwiYmFja2dyb3VuZFwiLCBcInVybChpbWcvaWNvbi9jYXJfbG9hZF9hY3RpdmUucG5nKW5vLXJlcGVhdFwiKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1kZXYtcm91dGUtbGluZS1zdGF0dXMnLCAxKTtcclxuICAgICAgICAgICAgICAgIGxpbmVPdmVybGF5TWFwLmlzU2hvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBsaW5lT3ZlcmxheU1hcC5saW5lLmZvckVhY2goKGVhY2hMaW5lKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoTGluZS5saW5lLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhY2hMaW5lLmxpbmVbaV0uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hMaW5lLnRlbXBMaW5lLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhY2hMaW5lLnRlbXBMaW5lW2ldLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIOWFs+mXreiuvuWkh+i9qOi/ueaYvuekuiovXHJcbiAgICAgICAgICAgICAgICAvLyAkKHRoaXMpLmFkZENsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmRcIiwgXCJ1cmwoaW1nL2ljb24vY2FyX2xvYWQucG5nKW5vLXJlcGVhdFwiKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1kZXYtcm91dGUtbGluZS1zdGF0dXMnLCAwKTtcclxuICAgICAgICAgICAgICAgIGxpbmVPdmVybGF5TWFwLmlzU2hvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgbGluZU92ZXJsYXlNYXAubGluZS5mb3JFYWNoKChlYWNoTGluZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaExpbmUubGluZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYWNoTGluZS5saW5lW2ldLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoTGluZS50ZW1wTGluZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYWNoTGluZS50ZW1wTGluZVtpXS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyog5omT5byAL+WFs+mXreiDvemHj+i9qOi/uSAqL1xyXG4gICAgICAgICQoJyNlbmctb3JpZW50YXRpb24tc3dpdGNoJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCdkYXRhLWVuZy1vcmllbnRhdGlvbi1zdGF0dXMnKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvKiDmiZPlvIDog73ph4/ovajov7nmmL7npLogKi9cclxuICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgLy8gJCgnLmVuZXJneS1zY2FsZScpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnZpZXctY29sb3ItY29udGFpbmVyJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgIC8vICQodGhpcykucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKFwiYmFja2dyb3VuZFwiLCBcInVybChpbWcvaWNvbi9lbmdfbG9hZF9hY3RpdmUucG5nKW5vLXJlcGVhdFwiKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1lbmctb3JpZW50YXRpb24tc3RhdHVzJywgMSk7XHJcbiAgICAgICAgICAgICAgICBjYXJFbmdPcmllbnRhdGlvbkFycmF5LmlzU2hvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhckVuZ09yaWVudGF0aW9uQXJyYXkub3ZlcmxheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhckVuZ09yaWVudGF0aW9uQXJyYXkub3ZlcmxheVtpXS5vdmVybGF5LnNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNpbmdsZUVuZ09yaWVudGF0aW9uQXJyYXkuaXNTaG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2luZ2xlRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5W2ldLm92ZXJsYXkuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLyog5YWz6Zet6IO96YeP6L2o6L+55pi+56S6ICovXHJcbiAgICAgICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICQoJy5lbmVyZ3ktc2NhbGUnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnZpZXctY29sb3ItY29udGFpbmVyJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgLy8gJCh0aGlzKS5hZGRDbGFzcygnZ3JheS1jb3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwidXJsKGltZy9pY29uL2VuZ19sb2FkLnBuZyluby1yZXBlYXRcIik7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtZW5nLW9yaWVudGF0aW9uLXN0YXR1cycsIDApO1xyXG4gICAgICAgICAgICAgICAgY2FyRW5nT3JpZW50YXRpb25BcnJheS5pc1Nob3cgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FyRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FyRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5W2ldLm92ZXJsYXkuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2luZ2xlRW5nT3JpZW50YXRpb25BcnJheS5pc1Nob3cgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2luZ2xlRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlRW5nT3JpZW50YXRpb25BcnJheS5vdmVybGF5W2ldLm92ZXJsYXkuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIOaJk+W8gC/lhbPpl63kuLvliqjlvI/ovajov7kgKi9cclxuICAgICAgICAkKCcjcGFzc2l2ZS1yb3V0ZS1saW5lLXN3aXRjaCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cignZGF0YS1zd2l0Y2gtY2xvc2UnKSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCdkYXRhLXBhc3NpdmUtcm91dGUtbGluZS1zdGF0dXMnKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyog5omT5byA5Li75Yqo5byP6L2o6L+55pi+56S6Ki9cclxuICAgICAgICAgICAgICAgICAgICAvLyAkKHRoaXMpLnJlbW92ZUNsYXNzKCdncmF5LWNvdmVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwidXJsKGltZy9pY29uL2FjdGl2ZV9sb2FkX2F2dGl2ZS5wbmcpbm8tcmVwZWF0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1wYXNzaXZlLXJvdXRlLWxpbmUtc3RhdHVzJywgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZVBhc3NpdmUuaXNTaG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVQYXNzaXZlLmxpbmUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVBhc3NpdmUubGluZVtpXS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZVBhc3NpdmUub3ZlcmxheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lUGFzc2l2ZS5vdmVybGF5W2ldLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIOWFs+mXreS4u+WKqOW8j+i9qOi/ueaYvuekuiovXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gJCh0aGlzKS5hZGRDbGFzcygnZ3JheS1jb3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuY3NzKFwiYmFja2dyb3VuZFwiLCBcInVybChpbWcvaWNvbi9hY3RpdmVfbG9hZC5wbmcpbm8tcmVwZWF0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1wYXNzaXZlLXJvdXRlLWxpbmUtc3RhdHVzJywgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZVBhc3NpdmUuaXNTaG93ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lUGFzc2l2ZS5saW5lLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQYXNzaXZlLmxpbmVbaV0uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVQYXNzaXZlLm92ZXJsYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVBhc3NpdmUub3ZlcmxheVtpXS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIOaJk+W8gC/lhbPpl63ln7rnq5nkv6Hmga8qL1xyXG4gICAgICAgICQoJyNidHMtc2hvdy1zd2l0Y2gnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ2RhdGEtYnRzLXNob3ctc3RhdHVzJykgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaXNCdHNPcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8qIOaJk+W8gOWfuuermeaYvuekuiAqL1xyXG4gICAgICAgICAgICAgICAgLy8gJCh0aGlzKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwidXJsKGltZy9pY29uL2J0c19pY29uX2FjdGl2ZS5wbmcpbm8tcmVwZWF0XCIpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWJ0cy1zaG93LXN0YXR1cycsIDEpO1xyXG4gICAgICAgICAgICAgICAgYnRzRGl2TWFwLmZvckVhY2goKGVhY2hCdHNEaXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlYWNoQnRzRGl2LmJ0c0NvdmVyLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy90YXJnZXRDZWxsTGluZUNhY2hlLnNob3coKTtcclxuICAgICAgICAgICAgICAgIC8qIOaYvuekuuWfuuermeeJueaViCovXHJcbiAgICAgICAgICAgICAgICBpZiAoaGl0ZWRCdHNDYWNoZS5idHNJZCAhPSBudWxsICYmIGlzQnRzT3Blbikge1xyXG4gICAgICAgICAgICAgICAgICAgIERyYXdCdHNFY2hhcnRzLnNob3dCdHNTdHlsZUNTUyhoaXRlZEJ0c0NhY2hlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIOaJk+W8gOWfuuermeino+aekCovXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ0c0FuYWx5c2lzT3ZlcmxheUNhY2hlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRzQW5hbHlzaXNPdmVybGF5Q2FjaGVbaV0uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXNCdHNPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvKiDlhbPpl63ln7rnq5nmmL7npLogKi9cclxuICAgICAgICAgICAgICAgIC8vICQodGhpcykuYWRkQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKFwiYmFja2dyb3VuZFwiLCBcInVybChpbWcvaWNvbi9idHNfaWNvbi5wbmcpbm8tcmVwZWF0XCIpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWJ0cy1zaG93LXN0YXR1cycsIDApO1xyXG4gICAgICAgICAgICAgICAgYnRzRGl2TWFwLmZvckVhY2goKGVhY2hCdHNEaXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlYWNoQnRzRGl2LmJ0c0NvdmVyLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy90YXJnZXRDZWxsTGluZUNhY2hlLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIC8qIOWFs+mXreWfuuermeeJueaViCovXHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoZmxhc2hNYXJrZXJJbnRlcnZhbCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgLyog5riF6Zmk5a6a5pe25ZmoKi9cclxuICAgICAgICAgICAgICAgIC8vICAgICBjbGVhckludGVydmFsKGZsYXNoTWFya2VySW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGZsYXNoTWFya2VySW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIC8qIOa4hemZpGNhbnZhcyovXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgJCgnLmJ0cy1oaXQtY2FudmFzJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYnRzSGl0RWZmZWN0aW9uQ292ZXIgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5yZW1vdmVPdmVybGF5KGJ0c0hpdEVmZmVjdGlvbkNvdmVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIOWFs+mXreWfuuermeino+aekCovXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ0c0FuYWx5c2lzT3ZlcmxheUNhY2hlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRzQW5hbHlzaXNPdmVybGF5Q2FjaGVbaV0uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIOaJk+W8gC/lhbPpl60gVEHkuqflk4HljJbnu5jlm74qL1xyXG4gICAgICAgICQoJyN0YS1wcm9kLXNob3ctc3dpdGNoJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCdkYXRhLXRhLXByb2Qtc2hvdy1zdGF0dXMnKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpc1RhRHJhd1Byb2RPcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8qIOaJk+W8gOS6p+WTgeWMlue7mOWbvuaYvuekuiAqL1xyXG4gICAgICAgICAgICAgICAgLy8gJCh0aGlzKS5yZW1vdmVDbGFzcygnZ3JheS1jb3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwidXJsKGltZy9pY29uL3RhX3Byb19hY3RpdmUucG5nKW5vLXJlcGVhdFwiKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS10YS1wcm9kLXNob3ctc3RhdHVzJywgMSk7XHJcbiAgICAgICAgICAgICAgICAvKiDmiZPlvIDkuqflk4HljJbnu5jlm74qL1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YUNpcmNsZVByb2RPdmVybGF5Q2FjaGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0YUNpcmNsZVByb2RPdmVybGF5Q2FjaGVbaV0uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YVBvaW50c1Byb2RPdmVybGF5Q2FjaGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0YVBvaW50c1Byb2RPdmVybGF5Q2FjaGVbaV0uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YVBvbHlnb25Qcm9kT3ZlcmxheUNhY2hlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFQb2x5Z29uUHJvZE92ZXJsYXlDYWNoZVtpXS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpc1RhRHJhd1Byb2RPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvKiDlhbPpl63kuqflk4HljJbnu5jlm77mmL7npLogKi9cclxuICAgICAgICAgICAgICAgIC8vICQodGhpcykuYWRkQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKFwiYmFja2dyb3VuZFwiLCBcInVybChpbWcvaWNvbi90YV9wcm8ucG5nKW5vLXJlcGVhdFwiKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS10YS1wcm9kLXNob3ctc3RhdHVzJywgMCk7XHJcbiAgICAgICAgICAgICAgICAvKiDlhbPpl63kuqflk4HljJbnu5jlm74qL1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YUNpcmNsZVByb2RPdmVybGF5Q2FjaGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0YUNpcmNsZVByb2RPdmVybGF5Q2FjaGVbaV0uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YVBvaW50c1Byb2RPdmVybGF5Q2FjaGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0YVBvaW50c1Byb2RPdmVybGF5Q2FjaGVbaV0uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YVBvbHlnb25Qcm9kT3ZlcmxheUNhY2hlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFQb2x5Z29uUHJvZE92ZXJsYXlDYWNoZVtpXS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvKiDmiZPlvIAv5YWz6ZetIFRB6LCD6K+V57uY5Zu+Ki9cclxuICAgICAgICAkKCcjdGEtZGVidWctc2hvdy1zd2l0Y2gnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ2RhdGEtdGEtZGVidWctc2hvdy1zdGF0dXMnKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpc1RhRHJhd0RlYnVnT3BlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvKiDmiZPlvIDkuqflk4HljJbnu5jlm77mmL7npLogKi9cclxuICAgICAgICAgICAgICAgIC8vICQodGhpcykucmVtb3ZlQ2xhc3MoJ2dyYXktY292ZXInKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKFwiYmFja2dyb3VuZFwiLCBcInVybChpbWcvaWNvbi90YV9kZWJ1Z19hY3RpdmUucG5nKW5vLXJlcGVhdFwiKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS10YS1kZWJ1Zy1zaG93LXN0YXR1cycsIDEpO1xyXG4gICAgICAgICAgICAgICAgLyog5omT5byA5Lqn5ZOB5YyW57uY5Zu+Ki9cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFDaXJjbGVEZWJ1Z092ZXJsYXlDYWNoZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhQ2lyY2xlRGVidWdPdmVybGF5Q2FjaGVbaV0uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YVBvaW50c0RlYnVnT3ZlcmxheUNhY2hlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFQb2ludHNEZWJ1Z092ZXJsYXlDYWNoZVtpXS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhUG9seWdvbkRlYnVnT3ZlcmxheUNhY2hlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFQb2x5Z29uRGVidWdPdmVybGF5Q2FjaGVbaV0uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXNUYURyYXdEZWJ1Z09wZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIC8qIOWFs+mXreS6p+WTgeWMlue7mOWbvuaYvuekuiAqL1xyXG4gICAgICAgICAgICAgICAgLy8gJCh0aGlzKS5hZGRDbGFzcygnZ3JheS1jb3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwidXJsKGltZy9pY29uL3RhX2RlYnVnLnBuZyluby1yZXBlYXRcIik7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtdGEtZGVidWctc2hvdy1zdGF0dXMnLCAwKTtcclxuICAgICAgICAgICAgICAgIC8qIOWFs+mXreS6p+WTgeWMlue7mOWbviovXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhQ2lyY2xlRGVidWdPdmVybGF5Q2FjaGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0YUNpcmNsZURlYnVnT3ZlcmxheUNhY2hlW2ldLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFQb2ludHNEZWJ1Z092ZXJsYXlDYWNoZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhUG9pbnRzRGVidWdPdmVybGF5Q2FjaGVbaV0uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YVBvbHlnb25EZWJ1Z092ZXJsYXlDYWNoZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhUG9seWdvbkRlYnVnT3ZlcmxheUNhY2hlW2ldLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qIOivremfs+aooeW8j+WIh+aNoiovXHJcbiAgICAgICAgJCgnI2VuZy1hdWRpby1zZWxlY3RvcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdncmF5LWNvdmVyJykpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkKCcuZW5nLWF1ZGlvLXNlbGVjdG9yLW1lbnUnKS5jc3MoJ2Rpc3BsYXknKSA9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiDmiZPlvIDor63pn7PmqKHlvI/pgInmi6npnaLmnb8qL1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5lbmctYXVkaW8tc2VsZWN0b3ItbWVudScpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiDlhbPpl63or63pn7PmqKHlvI/pgInmi6npnaLmnb8qL1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5lbmctYXVkaW8tc2VsZWN0b3ItbWVudScpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcuZW5nLWF1ZGlvLXNlbGVjdG9yLWl0ZW0nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoTnVtYmVyKCQodGhpcykuYXR0cignZGF0YS1hdWRpby10eXBlJykpKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgZW5nQXVkaW9UeXBlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1BhZ2VUeXBlID09ICdDUicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5nQXVkaW9UeXBlQ2FjaGUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkKCcjZW5nLWF1ZGlvLXNlbGVjdG9yJykuY3NzKCdiYWNrZ3JvdW5kLXBvc2l0aW9uJywgJy0yMDBweCAtNDBweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIGVuZ0F1ZGlvVHlwZSA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNQYWdlVHlwZSA9PSAnQ1InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZ0F1ZGlvVHlwZUNhY2hlID0gMjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2VuZy1hdWRpby1zZWxlY3RvcicpLmNzcygnYmFja2dyb3VuZC1wb3NpdGlvbicsICctMjQwcHggLTQwcHgnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBlbmdBdWRpb1R5cGUgPSAzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzUGFnZVR5cGUgPT0gJ0NSJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmdBdWRpb1R5cGVDYWNoZSA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICQoJyNlbmctYXVkaW8tc2VsZWN0b3InKS5jc3MoJ2JhY2tncm91bmQtcG9zaXRpb24nLCAnLTE2MHB4IC00MHB4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQoJy5lbmctYXVkaW8tc2VsZWN0b3ItbWVudScpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8v5Z+656uZ5p+l6K+i5qih5oCB5qGGXHJcbiAgICAgICAgJCgnI2J0cy1zZWFyY2gnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJyNwYXN0ZV9idHNJZCcpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgICQoJyNzb3VyY2UtbmV0d29ya1R5cGUnKS5odG1sKCfmupAxJylcclxuICAgICAgICAgICAgJCgnI3NvdXJjZS1uZXR3b3JrVHlwZTInKS5odG1sKCfmupAxJyk7XHJcbiAgICAgICAvKiAgICAgICQoJyNjbGFzc2ljX21vZGVfaW5wdXQnKS5hdHRyKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcclxuICAgICAgICAgICAgJCgnI3Bhc3RlX21vZGVfaW5wdXQnKS5yZW1vdmVBdHRyKCdjaGVja2VkJyk7XHJcbiAgICAgICAgICAgICQoJy5zZWFyY2hfYnRzX2NsYXNzaWNfbW9kZScpLmNzcygnZGlzcGxheScsJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICQoJy5zZWFyY2hfYnRzX3Bhc3RlX21vZGUnKS5jc3MoJ2Rpc3BsYXknLCdub25lJyk7ICovXHJcbiAgICAgICAgICAgICQoJy5uby1jZG1hLWxhYy10YWMnKS52YWwoJycpO1xyXG4gICAgICAgICAgICAkKCcubm8tY2RtYS1jaScpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgICQoJy5jZG1hLXNpZCcpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgICQoJy5jZG1hLW5pZCcpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgICQoJy5jZG1hLWJpZCcpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgICQoJy5pc1RydWUnKS5odG1sKCcnKTtcclxuICAgICAgICAgICAgJCgnI2NkbWEnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyNuby1jZG1hJykuc2hvdygpO1xyXG4gICAgICAgICAgICBvcGVyYXRvciA9IFwi5Lit5Zu956e75YqoXCI7XHJcbiAgICAgICAgICAgIG5ldHdvcmtUeXBlID0gJ0xURSc7XHJcbiAgICAgICAgICAgICQoJyNtb2ItbmV0V29yaycpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnI3VuaS1uZXRXb3JrJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcjdGVsLW5ldFdvcmsnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyNtbmNUeXBlJykuaHRtbChvcGVyYXRvcik7XHJcbiAgICAgICAgICAgICQoJyNtb2ItbmV0d29ya1R5cGUnKS5odG1sKG5ldHdvcmtUeXBlKTtcclxuXHJcbiAgICAgICAgICAgICQoJyN0ZW4tbGFjLXRhYycpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnI3Rlbi1jaScpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnI3Rlbi1zaWQnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJyN0ZW4tbmlkJykuc2hvdygpO1xyXG4gICAgICAgICAgICAkKCcjdGVuLWJpZCcpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnI3NpeHRlZW4tbGFjLXRhYycpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnI3NpeHRlZW4tY2knKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyNzaXh0ZWVuLXNpZCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnI3NpeHRlZW4tbmlkJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcjc2l4dGVlbi1iaWQnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyN0ZW4tYmluYXJ5LXN5c3RlbScpLmF0dHIoJ2NoZWNrZWQnLCAnY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAkKCcjc2l4dGVlbi1iaW5hcnktc3lzdGVtJykucmVtb3ZlQXR0cignY2hlY2tlZCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgb3BlcmF0b3IgPSBcIuS4reWbveenu+WKqFwiO1xyXG4gICAgICAgIGxldCBuZXR3b3JrVHlwZSA9ICdMVEUnO1xyXG5cclxuICAgICAgICAvKue9kee7nOi/kOiQpeWVhumAieaLqSovXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5tbmMtc2VsZWN0b3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJyNtbmNUeXBlJykuaHRtbCgkKHRoaXMpLmh0bWwoKSk7XHJcbiAgICAgICAgICAgIG9wZXJhdG9yID0gJCgnI21uY1R5cGUnKS5odG1sKCk7XHJcbiAgICAgICAgICAgIGlmIChvcGVyYXRvciA9PSBcIuS4reWbveenu+WKqFwiKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjbW9iLW5ldHdvcmtUeXBlJykuaHRtbCgnTFRFJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjbW9iLW5ldFdvcmsnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjdW5pLW5ldFdvcmsnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjdGVsLW5ldFdvcmsnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjY2RtYScpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJyNuby1jZG1hJykuc2hvdygpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09IFwi5Lit5Zu96IGU6YCaXCIpIHtcclxuICAgICAgICAgICAgICAgICQoJyN1bmktbmV0d29ya1R5cGUnKS5odG1sKCdMVEUnKTtcclxuICAgICAgICAgICAgICAgICQoJyN1bmktbmV0V29yaycpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICQoJyNtb2ItbmV0V29yaycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJyN0ZWwtbmV0V29yaycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJyNjZG1hJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJCgnI25vLWNkbWEnKS5zaG93KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT0gXCLkuK3lm73nlLXkv6FcIikge1xyXG4gICAgICAgICAgICAgICAgJCgnI3RlbC1uZXR3b3JrVHlwZScpLmh0bWwoJ0xURScpO1xyXG4gICAgICAgICAgICAgICAgJCgnI3RlbC1uZXRXb3JrJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJCgnI3VuaS1uZXRXb3JrJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJCgnI21vYi1uZXRXb3JrJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJCgnI2NkbWEnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjbm8tY2RtYScpLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8q5Lit5Zu956e75Yqo572R57uc5Yi25byP6YCJ5oupKi9cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLm1vYi1uZXR3b3JrLXNlbGVjdG9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKCcjbW9iLW5ldHdvcmtUeXBlJykuaHRtbCgkKHRoaXMpLmh0bWwoKSk7XHJcbiAgICAgICAgICAgIG5ldHdvcmtUeXBlID0gJCgnI21vYi1uZXR3b3JrVHlwZScpLmh0bWwoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cobmV0d29ya1R5cGUpO1xyXG4gICAgICAgICAgICAkKCcjY2RtYScpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnI25vLWNkbWEnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJy5pc1RydWUnKS5odG1sKCcnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKuS4reWbveiBlOmAmue9kee7nOWItuW8j+mAieaLqSovXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy51bmktbmV0d29yay1zZWxlY3RvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnI3VuaS1uZXR3b3JrVHlwZScpLmh0bWwoJCh0aGlzKS5odG1sKCkpO1xyXG4gICAgICAgICAgICBuZXR3b3JrVHlwZSA9ICQoJyN1bmktbmV0d29ya1R5cGUnKS5odG1sKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ldHdvcmtUeXBlKTtcclxuICAgICAgICAgICAgJCgnI2NkbWEnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyNuby1jZG1hJykuc2hvdygpO1xyXG4gICAgICAgICAgICAkKCcuaXNUcnVlJykuaHRtbCgnJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyrkuK3lm73nlLXkv6HnvZHnu5zliLblvI/pgInmi6kqL1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcudGVsLW5ldHdvcmstc2VsZWN0b3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJyN0ZWwtbmV0d29ya1R5cGUnKS5odG1sKCQodGhpcykuaHRtbCgpKTtcclxuICAgICAgICAgICAgbmV0d29ya1R5cGUgPSAkKCcjdGVsLW5ldHdvcmtUeXBlJykuaHRtbCgpO1xyXG4gICAgICAgICAgICBpZiAob3BlcmF0b3IgPT0gXCLkuK3lm73nlLXkv6FcIiAmJiBuZXR3b3JrVHlwZSA9PSAnQ0RNQScpIHtcclxuICAgICAgICAgICAgICAgICQoJyNjZG1hJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJCgnI25vLWNkbWEnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjY2RtYScpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJyNuby1jZG1hJykuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQoJy5pc1RydWUnKS5odG1sKCcnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlTlVsbCh2YWwpIHtcclxuICAgICAgICAgICAgaWYgKHZhbCA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+ivt+axguaTjeS9nFxyXG4gICAgICAgIGZ1bmN0aW9uIGdlb2dyYXBoaWMoZGF0YSwgbWNjLCBtbmMsIG5ldFdvcmssIGxhY051bSwgY2lOdW0sIGJpZE51bSwgc2lkTnVtLCBuaWROdW0pIHtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogJ2NvbW1hbmRNYW5hZ2UvYXBpL2dldEJ0c0luZm8nLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYWRkcmVzc0RhdGEgPSAkLnBhcnNlSlNPTihyZXN1bHQuZGF0YU1hcC5idHNJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkcmVzc0RhdGEuYnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsYXQgPSBhZGRyZXNzRGF0YS5idHMubGF0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbG5nID0gYWRkcmVzc0RhdGEuYnRzLmxuZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/lnZDmoIfovazmjaJcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRQb2ludCA9IEdQU1RvQmFpZHVQb2ludC5nZXRCYWlkdVBvaW50TG9jYXRpb24oW1tsbmcsIGxhdF1dKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvaW50ID0gbmV3IEJNYXAuUG9pbnQoY3VycmVudFBvaW50LmxuZywgY3VycmVudFBvaW50LmxhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtb2RlID0gbmV0V29yaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNpZCA9IHJlbW92ZU5VbGwoc2lkTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5pZCA9IHJlbW92ZU5VbGwobmlkTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJpZCA9IHJlbW92ZU5VbGwoYmlkTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxhY1RhYyA9IHJlbW92ZU5VbGwobGFjTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJhZGl1cyA9IGFkZHJlc3NEYXRhLmJ0cy5yYWRpdXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjZWxsSWQgPSByZW1vdmVOVWxsKGNpTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJ0c0lkID0gYWRkcmVzc0RhdGEuYnRzLmJ0c19pZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb3ZlciA9IG5ldyBCdHNTZWFyY2hPdmVybGF5Q29uc3RydWN0b3IocG9pbnQsIG1jYywgbW5jLCBtb2RlLCBzaWQsIG5pZCwgYmlkLCBsYWNUYWMsIHJhZGl1cywgY2VsbElkLCBidHNJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5hZGRPdmVybGF5KGNvdmVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIOWtmOWCqOe7mOWItue7k+aenCovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBidHNTZWFyY2hEaXYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ0c0NvdmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idHNSYWRpdXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ0c1JhbmdlQ2lyY2xlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxuZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidHNTZWFyY2hEaXYubGF0ID0gbGF0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidHNTZWFyY2hEaXYubG5nID0gbG5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidHNTZWFyY2hEaXYuYnRzQ292ZXIgPSBjb3ZlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRzU2VhcmNoRGl2LmJ0c1JhZGl1cyA9IHJhZGl1cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRzU2VhcmNoRGl2TWFwLnNldChidHNJZCwgYnRzU2VhcmNoRGl2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLmNlbnRlckFuZFpvb20obmV3IEJNYXAuUG9pbnQobG5nLCBsYXQpLCAxNik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2FsZXJ0LW1vZGFsJykubW9kYWwoJ3Nob3cnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2FsZXJ0LW1vZGFsLWNvbnRlbnQnKS5odG1sKCfmnKrmn6Xor6LliLDor6Xln7rnq5nkvY3nva4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjYWxlcnQtbW9kYWwnKS5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNhbGVydC1tb2RhbC1jb250ZW50JykuaHRtbCgn6L6T5YWl5L+h5oGv6ZSZ6K+vJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+mUmeivrycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHhocik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGV4dFN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyog5Y+q5YWB6K646L6T5YWl5pWw5a2XKi9cclxuICAgICAgICAkKGRvY3VtZW50KS5vbigna2V5dXAgYmx1cicsICcuaW5wdXQtbnVtLW9ubHknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnJlcGxhY2UoL1teXFxkXS9nLCAnJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyog5Y+q5YWB6K646L6T5YWl5pWw5a2X5ZKM5a2X5q+NKi9cclxuICAgICAgICAkKGRvY3VtZW50KS5vbigna2V5dXAgYmx1cicsICcuaW5wdXQtbnVtLXdvcmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUucmVwbGFjZSgvW15cXHdcXC5cXC9dL2csICcnKTtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUucmVwbGFjZSgvW14wLTlhLWZBLUZcXG5dL2csICcnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyog56aB5q2i6L6T5YWl56m65qC8Ki9cclxuICAgICAgICAkKGRvY3VtZW50KS5vbigna2V5dXAgYmx1cicsICcuaW5wdXQtc3BhY2UtZm9yYmlkZGVuJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9cXHMvZywgJycpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL+aVsOWtl+i+k+WFpei2heWHuuaIluiAheS9juS6juacgOS9juWAvFxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdibHVyJywgJyN0ZW4tbGFjLXRhYycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUgPiA2NTUzNSkge1xyXG4gICAgICAgICAgICAgICAgJCgnI2lzLWxhY1RhYy10cnVlJykuaHRtbChgPHNwYW4gY2xhc3M9XCJ0ZXh0LXJlZFwiPui+k+WFpeaVsOWtl+S4jeiDveWkp+S6jjY1NTM1PC9zcGFuPmApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudmFsdWUgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjaXMtbGFjVGFjLXRydWUnKS5odG1sKGA8c3BhbiBjbGFzcz1cInRleHQtcmVkXCI+6L6T5YWl5pWw5a2X5LiN6IO95bCP5LqOMTwvc3Bhbj5gKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyNpcy1sYWNUYWMtdHJ1ZScpLmh0bWwoJycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdibHVyJywgJyNzaXh0ZWVuLWxhYy10YWMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXJzZUludCh0aGlzLnZhbHVlLCAxNikgPiA2NTUzNSkge1xyXG4gICAgICAgICAgICAgICAgJCgnI2lzLWxhY1RhYy10cnVlJykuaHRtbChgPHNwYW4gY2xhc3M9XCJ0ZXh0LXJlZFwiPui+k+WFpeaVsOWtl+S4jeiDveWkp+S6jkZGRkY8L3NwYW4+YCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy52YWx1ZSA8IDEpIHtcclxuICAgICAgICAgICAgICAgICQoJyNpcy1sYWNUYWMtdHJ1ZScpLmh0bWwoYDxzcGFuIGNsYXNzPVwidGV4dC1yZWRcIj7ovpPlhaXmlbDlrZfkuI3og73lsI/kuo4xPC9zcGFuPmApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnI2lzLWxhY1RhYy10cnVlJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2JsdXInLCAnI3Rlbi1jaScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUgPiAyNjg0MzU0NTUpIHtcclxuICAgICAgICAgICAgICAgICQoJyNpcy1jaS10cnVlJykuaHRtbChgPHNwYW4gY2xhc3M9XCJ0ZXh0LXJlZFwiPui+k+WFpeaVsOWtl+Wkp+S6jjI2ODQzNTQ1NTwvc3Bhbj5gKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZhbHVlIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgJCgnI2lzLWNpLXRydWUnKS5odG1sKGA8c3BhbiBjbGFzcz1cInRleHQtcmVkXCI+6L6T5YWl5pWw5a2X5LiN6IO95bCP5LqOMTwvc3Bhbj5gKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyNpcy1jaS10cnVlJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAkKGRvY3VtZW50KS5vbignYmx1cicsICcjc2l4dGVlbi1jaScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBhcnNlSW50KHRoaXMudmFsdWUsIDE2KSA+IDI2ODQzNTQ1NSkge1xyXG4gICAgICAgICAgICAgICAgJCgnI2lzLWNpLXRydWUnKS5odG1sKGA8c3BhbiBjbGFzcz1cInRleHQtcmVkXCI+6L6T5YWl5pWw5a2X55qE5aSn5LqORkZGRkZGRjwvc3Bhbj5gKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZhbHVlIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgJCgnI2lzLWNpLXRydWUnKS5odG1sKGA8c3BhbiBjbGFzcz1cInRleHQtcmVkXCI+6L6T5YWl5pWw5a2X5LiN6IO95bCP5LqOMTwvc3Bhbj5gKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyNpcy1jaS10cnVlJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2JsdXInLCAnI3Rlbi1zaWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlID4gMzI3NjcpIHtcclxuICAgICAgICAgICAgICAgICQoJyNpcy1zaWQtdHJ1ZScpLmh0bWwoYDxzcGFuIGNsYXNzPVwidGV4dC1yZWRcIj7ovpPlhaXmlbDlrZfkuI3og73lpKfkuo4zMjc2Nzwvc3Bhbj5gKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZhbHVlID09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICQoJyNpcy1zaWQtdHJ1ZScpLmh0bWwoYDxzcGFuIGNsYXNzPVwidGV4dC1yZWRcIj7kuI3og73kuLrnqbo8L3NwYW4+YCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy52YWx1ZSA8IDApIHtcclxuICAgICAgICAgICAgICAgICQoJyNpcy1zaWQtdHJ1ZScpLmh0bWwoYDxzcGFuIGNsYXNzPVwidGV4dC1yZWRcIj7ovpPlhaXmlbDlrZfkuI3og73lsI/kuo4wPC9zcGFuPmApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnI2lzLXNpZC10cnVlJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAkKGRvY3VtZW50KS5vbignYmx1cicsICcjc2l4dGVlbi1zaWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXJzZUludCh0aGlzLnZhbHVlLCAxNikgPiAzMjc2Nykge1xyXG4gICAgICAgICAgICAgICAgJCgnI2lzLXNpZC10cnVlJykuaHRtbChgPHNwYW4gY2xhc3M9XCJ0ZXh0LXJlZFwiPui+k+WFpeaVsOWtl+S4jeiDveWkp+S6jjdGNzM8L3NwYW4+YCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy52YWx1ZSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjaXMtc2lkLXRydWUnKS5odG1sKGA8c3BhbiBjbGFzcz1cInRleHQtcmVkXCI+5LiN6IO95Li656m6PC9zcGFuPmApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudmFsdWUgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjaXMtc2lkLXRydWUnKS5odG1sKGA8c3BhbiBjbGFzcz1cInRleHQtcmVkXCI+6L6T5YWl5pWw5a2X5LiN6IO95bCP5LqOMDwvc3Bhbj5gKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyNpcy1zaWQtdHJ1ZScpLmh0bWwoJycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdibHVyJywgJyN0ZW4tYmlkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy52YWx1ZSA+IDY1NTM1KSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjaXMtYmlkLXRydWUnKS5odG1sKGA8c3BhbiBjbGFzcz1cInRleHQtcmVkXCI+6L6T5YWl5pWw5a2X5LiN6IO95aSn5LqONjU1MzU8L3NwYW4+YCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy52YWx1ZSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjaXMtYmlkLXRydWUnKS5odG1sKGA8c3BhbiBjbGFzcz1cInRleHQtcmVkXCI+5LiN6IO95Li656m6PC9zcGFuPmApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudmFsdWUgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjaXMtYmlkLXRydWUnKS5odG1sKGA8c3BhbiBjbGFzcz1cInRleHQtcmVkXCI+6L6T5YWl5pWw5a2X5LiN6IO95bCP5LqOMTwvc3Bhbj5gKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyNpcy1iaWQtdHJ1ZScpLmh0bWwoJycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2JsdXInLCAnI3NpeHRlZW4tYmlkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGFyc2VJbnQodGhpcy52YWx1ZSwgMTYpID4gNjU1MzUpIHtcclxuICAgICAgICAgICAgICAgICQoJyNpcy1iaWQtdHJ1ZScpLmh0bWwoYDxzcGFuIGNsYXNzPVwidGV4dC1yZWRcIj7ovpPlhaXmlbDlrZfkuI3og73lpKfkuo5GRkZGPC9zcGFuPmApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudmFsdWUgPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJCgnI2lzLWJpZC10cnVlJykuaHRtbChgPHNwYW4gY2xhc3M9XCJ0ZXh0LXJlZFwiPuS4jeiDveS4uuepujwvc3Bhbj5gKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZhbHVlIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgJCgnI2lzLWJpZC10cnVlJykuaHRtbChgPHNwYW4gY2xhc3M9XCJ0ZXh0LXJlZFwiPui+k+WFpeaVsOWtl+S4jeiDveWwj+S6jjE8L3NwYW4+YCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjaXMtYmlkLXRydWUnKS5odG1sKCcnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignYmx1cicsICcjdGVuLW5pZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUgPiA2NTUzNSkge1xyXG4gICAgICAgICAgICAgICAgJCgnI2lzLW5pZC10cnVlJykuaHRtbChgPHNwYW4gY2xhc3M9XCJ0ZXh0LXJlZFwiPui+k+WFpeaVsOWtl+S4jeiDveWkp+S6jjY1NTM1PC9zcGFuPmApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudmFsdWUgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjaXMtbmlkLXRydWUnKS5odG1sKGA8c3BhbiBjbGFzcz1cInRleHQtcmVkXCI+6L6T5YWl5pWw5a2X5LiN6IO95bCP5LqOMDwvc3Bhbj5gKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZhbHVlID09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICQoJyNpcy1uaWQtdHJ1ZScpLmh0bWwoYDxzcGFuIGNsYXNzPVwidGV4dC1yZWRcIj7kuI3og73kuLrnqbo8L3NwYW4+YCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjaXMtbmlkLXRydWUnKS5odG1sKCcnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdibHVyJywgJyNzaXh0ZWVuLW5pZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBhcnNlSW50KHRoaXMudmFsdWUsIDE2KSA+IDY1NTM1KSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjaXMtbmlkLXRydWUnKS5odG1sKGA8c3BhbiBjbGFzcz1cInRleHQtcmVkXCI+6L6T5YWl5pWw5a2X5LiN6IO95aSn5LqORkZGRjwvc3Bhbj5gKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZhbHVlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgJCgnI2lzLW5pZC10cnVlJykuaHRtbChgPHNwYW4gY2xhc3M9XCJ0ZXh0LXJlZFwiPui+k+WFpeaVsOWtl+S4jeiDveWwj+S6jjA8L3NwYW4+YCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy52YWx1ZSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjaXMtbmlkLXRydWUnKS5odG1sKGA8c3BhbiBjbGFzcz1cInRleHQtcmVkXCI+5LiN6IO95Li656m6PC9zcGFuPmApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnI2lzLW5pZC10cnVlJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy/lrprkuYnml6DkuLrlj4LmlbBcclxuICAgICAgICBsZXQgbGFjTnVtO1xyXG4gICAgICAgIGxldCBjaU51bTtcclxuICAgICAgICBsZXQgc2lkTnVtO1xyXG4gICAgICAgIGxldCBuaWROdW07XHJcbiAgICAgICAgbGV0IGJpZE51bTtcclxuXHJcbiAgICAgICAgLy/ov5vliLbpgInmi6k7XHJcbiAgICAgICAgJCgnI3NpeHRlZW4tcmFkaW8nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJyN0ZW4tbGFjLXRhYycpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnI3Rlbi1jaScpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnI3Rlbi1zaWQnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyN0ZW4tbmlkJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcjdGVuLWJpZCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnI3NpeHRlZW4tbGFjLXRhYycpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnI3NpeHRlZW4tY2knKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJyNzaXh0ZWVuLXNpZCcpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnI3NpeHRlZW4tbmlkJykuc2hvdygpO1xyXG4gICAgICAgICAgICAkKCcjc2l4dGVlbi1iaWQnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJyN0ZW4tYmluYXJ5LXN5c3RlbScpLnJlbW92ZUF0dHIoJ2NoZWNrZWQnKTtcclxuICAgICAgICAgICAgJCgnI3NpeHRlZW4tYmluYXJ5LXN5c3RlbScpLmF0dHIoJ2NoZWNrZWQnLCAnY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICBsYWNOdW0gPSBpc05hTigkKCcjc2l4dGVlbi1sYWMtdGFjJykudmFsKCkpO1xyXG4gICAgICAgICAgICBjaU51bSA9IGlzTmFOKCQoJyNzaXh0ZWVuLWNpJykudmFsKCkpO1xyXG4gICAgICAgICAgICBzaWROdW0gPSBpc05hTigkKCcjc2l4dGVlbi1zaWQnKS52YWwoKSk7XHJcbiAgICAgICAgICAgIG5pZE51bSA9IGlzTmFOKCQoJyNzaXh0ZWVuLW5pZCcpLnZhbCgpKTtcclxuICAgICAgICAgICAgYmlkTnVtID0gaXNOYU4oJCgnI3Rlbi1iaWQnKS52YWwoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnI3Rlbi1yYWRpbycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnI3Rlbi1sYWMtdGFjJykuc2hvdygpO1xyXG4gICAgICAgICAgICAkKCcjdGVuLWNpJykuc2hvdygpO1xyXG4gICAgICAgICAgICAkKCcjdGVuLXNpZCcpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnI3Rlbi1uaWQnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJyN0ZW4tYmlkJykuc2hvdygpO1xyXG4gICAgICAgICAgICAkKCcjc2l4dGVlbi1sYWMtdGFjJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcjc2l4dGVlbi1jaScpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnI3NpeHRlZW4tc2lkJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcjc2l4dGVlbi1uaWQnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyNzaXh0ZWVuLWJpZCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnI3Rlbi1iaW5hcnktc3lzdGVtJykuYXR0cignY2hlY2tlZCcsICdjaGVja2VkJyk7XHJcbiAgICAgICAgICAgICQoJyNzaXh0ZWVuLWJpbmFyeS1zeXN0ZW0nKS5yZW1vdmVBdHRyKCdjaGVja2VkJyk7XHJcbiAgICAgICAgICAgIGxhY051bSA9ICQoJyN0ZW4tbGFjLXRhYycpLnZhbCgpXHJcbiAgICAgICAgICAgIGNpTnVtID0gJCgnI3Rlbi1jaScpLnZhbCgpO1xyXG4gICAgICAgICAgICBzaWROdW0gPSAkKCcjdGVuLXNpZCcpLnZhbCgpO1xyXG4gICAgICAgICAgICBuaWROdW0gPSAkKCcjdGVuLW5pZCcpLnZhbCgpO1xyXG4gICAgICAgICAgICBiaWROdW0gPSAkKCcjdGVuLWJpZCcpLnZhbCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL+aUvuepuuaTjeS9nFxyXG4gICAgICAgIGZ1bmN0aW9uIGlzTmFOKHZhbCkge1xyXG4gICAgICAgICAgICBpZiAodmFsID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbCwgMTYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8v6ZmQ5Yi25aSN5Yi25Z+656uZ6L6T5YWl5Li656m6XHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2JsdXInLCAnI3Bhc3RlX2J0c0lkJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYoJCh0aGlzKS52YWwoKSA9PSAnJyl7XHJcbiAgICAgICAgICAgICAgICAkKCcjaXMtcGFzdGVfYnRzSWQtdHJ1ZScpLmh0bWwoYDxzcGFuIGNsYXNzPVwidGV4dC1yZWRcIj7or7fovpPlhaXln7rnq5lJRDwvc3Bhbj5gKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAkKCcjaXMtcGFzdGVfYnRzSWQtdHJ1ZScpLmh0bWwoYGApO1xyXG4gICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgfSlcclxuICAgICAgICAvL+adpea6kOmAieaLqVxyXG4gICAgICAgIGxldCBzb3VyY2UxID0gMTtcclxuICAgICAgICBsZXQgc291cmNlMiA9IDE7XHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5zb3VyY2UtbmV0d29yay1zZWxlY3RvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnI3NvdXJjZS1uZXR3b3JrVHlwZScpLmh0bWwoJCh0aGlzKS5odG1sKCkpO1xyXG4gICAgICAgICAgICBpZigkKHRoaXMpLmh0bWwoKSA9PSAn5rqQMScpe1xyXG4gICAgICAgICAgICAgICAgc291cmNlMSA9IDE7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKCQodGhpcykuaHRtbCgpID09ICfmupAyJyl7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2UxID0gMjtcclxuICAgICAgICAgICAgfWVsc2UgaWYoJCh0aGlzKS5odG1sKCkgPT0gJ+a6kDMnKXtcclxuICAgICAgICAgICAgICAgIHNvdXJjZTEgPSAzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuc291cmNlLW5ldHdvcmstc2VsZWN0b3ItMicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnI3NvdXJjZS1uZXR3b3JrVHlwZTInKS5odG1sKCQodGhpcykuaHRtbCgpKTtcclxuICAgICAgICAgICAgaWYoJCh0aGlzKS5odG1sKCkgPT0gJ+a6kDEnKXtcclxuICAgICAgICAgICAgICAgIHNvdXJjZTIgPSAxO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZigkKHRoaXMpLmh0bWwoKSA9PSAn5rqQMicpe1xyXG4gICAgICAgICAgICAgICAgc291cmNlMiA9IDI7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKCQodGhpcykuaHRtbCgpID09ICfmupAzJyl7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2UyID0gMztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL+mAieWPlueymOi0tOaooeW8j+S4i+Wfuuermeexu+Wei1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcucGFzdGUtbmV0d29yay1zZWxlY3RvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnI3Bhc3RlLW5ldHdvcmtUeXBlJykuaHRtbCgkKHRoaXMpLmh0bWwoKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8v5Z+656uZ5p+l6K+iXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNidHMtc2VhcmNoLWVuc3VyZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYoJCgnLnNlYXJjaF9idHNfY2xhc3NpY19tb2RlJykuY3NzKCdkaXNwbGF5JykgPT0gJ2Jsb2NrJyl7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWNjID0gNDYwO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ldFdvcms7IC8v572R57uc5Yi25byPXHJcbiAgICAgICAgICAgICAgICBsZXQgbW5jOyAvL+e9kee7nOi/kOiQpeWVhuexu+Wei1xyXG4gICAgICAgICAgICAgICAgbGV0IG51bTtcclxuICAgICAgICAgICAgICAgIGxldCBwYXJhbXM7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG9wZXJhdG9yID09ICfkuK3lm73np7vliqgnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW5jID0gJzAnXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09ICfkuK3lm73ogZTpgJonKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW5jID0gJzEnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PSAn5Lit5Zu955S15L+hJykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1uYyA9ICczJztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL+WNgei/m+WItuaDheWGtTtcclxuICAgICAgICAgICAgICAgIGlmICgkKCcjdGVuLWJpbmFyeS1zeXN0ZW0nKS5hdHRyKCdjaGVja2VkJykgPT0gJ2NoZWNrZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFjTnVtID0gJCgnI3Rlbi1sYWMtdGFjJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2lOdW0gPSAkKCcjdGVuLWNpJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2lkTnVtID0gJCgnI3Rlbi1zaWQnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBuaWROdW0gPSAkKCcjdGVuLW5pZCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJpZE51bSA9ICQoJyN0ZW4tYmlkJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ldHdvcmtUeXBlID09IFwiQ0RNQVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bSA9IDQ2MCArICctJyArIG1uYyArICctJyArIHNpZE51bSArICctJyArIG5pZE51bSArICctJyArIGJpZE51bTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBudW0gPSA0NjAgKyAnLScgKyBtbmMgKyAnLScgKyBsYWNOdW0gKyAnLScgKyBjaU51bTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhY051bSA9IGlzTmFOKCQoJyNzaXh0ZWVuLWxhYy10YWMnKS52YWwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2lOdW0gPSBpc05hTigkKCcjc2l4dGVlbi1jaScpLnZhbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBzaWROdW0gPSBpc05hTigkKCcjc2l4dGVlbi1zaWQnKS52YWwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmlkTnVtID0gaXNOYU4oJCgnI3NpeHRlZW4tbmlkJykudmFsKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJpZE51bSA9IGlzTmFOKCQoJyNzaXh0ZWVuLWJpZCcpLnZhbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV0d29ya1R5cGUgPT0gXCJDRE1BXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtID0gNDYwICsgJy0nICsgbW5jICsgJy0nICsgc2lkTnVtICsgJy0nICsgbmlkTnVtICsgJy0nICsgYmlkTnVtO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bSA9IDQ2MCArICctJyArIG1uYyArICctJyArIGxhY051bSArICctJyArIGNpTnVtO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8v572R57uc5Yi25byPXHJcbiAgICAgICAgICAgICAgICBpZiAobmV0d29ya1R5cGUgPT0gXCJXQ0RNQVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV0V29yayA9ICd3Y2RtYSc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5ldHdvcmtUeXBlID09IFwiTFRFXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXRXb3JrID0gJ2x0ZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXR3b3JrVHlwZSA9PSBcIkNETUFcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldFdvcmsgPSAnY2RtYSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXR3b3JrVHlwZSA9PSBcIkdTTVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV0V29yayA9ICdnc20nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHBhcmFtcyA9IG5ldFdvcmsgKyAnLCcgKyBudW0gKyAnLCcgKyBzb3VyY2UxO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBkYXRhID0geyBcInBhcmFtXCI6IHBhcmFtcyB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChuZXR3b3JrVHlwZSA9PSBcIkNETUFcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoJCgnI3Rlbi1zaWQnKS52YWwoKSAhPSAnJyB8fCAkKCcjc2l4dGVlbi1zaWQnKS52YWwoKSAhPSAnJykgJiYgKCQoJyN0ZW4tYmlkJykudmFsKCkgIT0gJycgfHwgJCgnI3NpeHRlZW4tYmlkJykudmFsKCkgIT0gJycpICYmICgkKCcjdGVuLW5pZCcpLnZhbCgpICE9ICcnIHx8ICQoJyNzaXh0ZWVuLW5pZCcpLnZhbCgpICE9ICcnKSAmJiAkKCcuaXNUcnVlJykuaHRtbCgpID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidHNTZWFyY2hEaXZNYXAuc2l6ZSAhPSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ0c1NlYXJjaERpdk1hcC5nZXQobnVtKSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjYWxlcnQtbW9kYWwnKS5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNhbGVydC1tb2RhbC1jb250ZW50JykuaHRtbCgn5bey5p+l6K+i5Yiw6K+l5Z+656uZ5L2N572uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlb2dyYXBoaWMoZGF0YSwgbWNjLCBtbmMsIG5ldFdvcmssIGxhY051bSwgY2lOdW0sIGJpZE51bSwgc2lkTnVtLCBuaWROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlb2dyYXBoaWMoZGF0YSwgbWNjLCBtbmMsIG5ldFdvcmssIGxhY051bSwgY2lOdW0sIGJpZE51bSwgc2lkTnVtLCBuaWROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoJCgnI3Rlbi1sYWMtdGFjJykudmFsKCkgIT0gJycgfHwgJCgnI3NpeHRlZW4tbGFjLXRhYycpLnZhbCgpICE9ICcnKSAmJiAoJCgnI3Rlbi1jaScpLnZhbCgpICE9ICcnIHx8ICQoJyNzaXh0ZWVuLWNpJykudmFsKCkgIT0gJycpICYmICQoJy5pc1RydWUnKS5odG1sKCkgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyogZ2VvZ3JhcGhpYyhkYXRhLG1jYyxtbmMsbmV0V29yayxsYWNOdW0sY2lOdW0sYmlkTnVtLHNpZE51bSxuaWROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjYnRzLXNlYXJjaC1tb2RhbCcpLm1vZGFsKCdoaWRlJyk7ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidHNTZWFyY2hEaXZNYXAuc2l6ZSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnRzU2VhcmNoRGl2TWFwLmdldChudW0pICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNhbGVydC1tb2RhbCcpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2FsZXJ0LW1vZGFsLWNvbnRlbnQnKS5odG1sKCflt7Lmn6Xor6LliLDor6Xln7rnq5nkvY3nva4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VvZ3JhcGhpYyhkYXRhLCBtY2MsIG1uYywgbmV0V29yaywgbGFjTnVtLCBjaU51bSwgYmlkTnVtLCBzaWROdW0sIG5pZE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VvZ3JhcGhpYyhkYXRhLCBtY2MsIG1uYywgbmV0V29yaywgbGFjTnVtLCBjaU51bSwgYmlkTnVtLCBzaWROdW0sIG5pZE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhc3RlX25ldHdvcmtUeXBlID0gJCgnI3Bhc3RlLW5ldHdvcmtUeXBlJykudGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ldFdvcms7XHJcbiAgICAgICAgICAgICAgICAvL+e9kee7nOWItuW8j1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhc3RlX25ldHdvcmtUeXBlID09IFwiV0NETUFcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldFdvcmsgPSAnd2NkbWEnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXN0ZV9uZXR3b3JrVHlwZSA9PSBcIkxURVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV0V29yayA9ICdsdGUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGFzdGVfbmV0d29ya1R5cGUgPT0gXCJDRE1BXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXRXb3JrID0gJ2NkbWEnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGFzdGVfbmV0d29ya1R5cGUgPT0gXCJHU01cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldFdvcmsgPSAnZ3NtJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBudW0gPSAkKCcjcGFzdGVfYnRzSWQnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgIGxldCBtbmMgPSBudW0uc2xpY2UoNCw1KTtcclxuICAgICAgICAgICAgICAgIGxldCBwYXJhbXMgPSBuZXRXb3JrICsgJywnICsgbnVtICsgJywnICsgc291cmNlMjtcclxuICAgICAgICAgICAgICAgIGxldCBkYXRhID0geyBcInBhcmFtXCI6IHBhcmFtcyB9O1xyXG4gICAgICAgICAgICAgICAgaWYoJCgnI3Bhc3RlX2J0c0lkJykudmFsKCkgIT0gJycpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidHNTZWFyY2hEaXZNYXAuc2l6ZSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidHNTZWFyY2hEaXZNYXAuZ2V0KG51bSkgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjYWxlcnQtbW9kYWwnKS5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2FsZXJ0LW1vZGFsLWNvbnRlbnQnKS5odG1sKCflt7Lmn6Xor6LliLDor6Xln7rnq5nkvY3nva4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlb2dyYXBoaWMoZGF0YSwgNDYwLCBtbmMsIG5ldFdvcmssIDAsIDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb2dyYXBoaWMoZGF0YSwgNDYwLCBtbmMsIG5ldFdvcmssIDAsIDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy/muIXpmaTln7rnq5nmn6Xor6LlkI7nlZnkuIvmnaXnmoTopobnm5bnialcclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI2J0cy1tYXJrLWRlbGV0ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYnRzU2VhcmNoRGl2TWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXksIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGxldCBidHNTZWFyY2hEaXYgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIG1hcC5yZW1vdmVPdmVybGF5KGJ0c1NlYXJjaERpdi5idHNDb3Zlcik7XHJcbiAgICAgICAgICAgICAgICBtYXAucmVtb3ZlT3ZlcmxheShidHNTZWFyY2hEaXYuYnRzUmFuZ2VDaXJjbGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYnRzU2VhcmNoRGl2TWFwLmNsZWFyKCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy/liIfmjaLmkJzntKLln7rnq5nnmoTmkJzntKLmqKHlvI8s5YiH5o2i5Yiw57uP5YW45qih5byPXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNjbGFzc2ljX21vZGUnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKCcuc2VhcmNoX2J0c19jbGFzc2ljX21vZGUnKS5jc3MoJ2Rpc3BsYXknLCdibG9jaycpO1xyXG4gICAgICAgICAgICAkKCcuc2VhcmNoX2J0c19wYXN0ZV9tb2RlJykuY3NzKCdkaXNwbGF5Jywnbm9uZScpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8v5YiH5o2i5pCc57Si5Z+656uZ55qE5pCc57Si5qih5byPLOWIh+aNouWIsOe7j+WFuOaooeW8j1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjcGFzdGVfbW9kZScsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQoJy5zZWFyY2hfYnRzX2NsYXNzaWNfbW9kZScpLmNzcygnZGlzcGxheScsJ25vbmUnKTtcclxuICAgICAgICAgICAgJCgnLnNlYXJjaF9idHNfcGFzdGVfbW9kZScpLmNzcygnZGlzcGxheScsJ2Jsb2NrJyk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9yZWFsVGltZUNvbWJhdC90b29sL1N3aXRjaC5qc1xuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///52\n");

/***/ }),
/* 53 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_Init_BaiduMap_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__ = __webpack_require__(3);\n\r\n\r\n\r\n\r\nclass BtsSearchOverlayConstructor {\r\n\r\n    constructor(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId) {\r\n        return this.draw(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId);\r\n    }\r\n\r\n    draw(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId) {\r\n\r\n        /* 定义自定义覆盖物的构造函数 */\r\n        function BtsSearchOverlay(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId) {\r\n            this._point = point;\r\n            this._mcc = mcc;\r\n            this._mnc = mnc;\r\n            this._mode = mode;\r\n            this._sid = sid;\r\n            this._nid = nid;\r\n            this._bid = bid;\r\n            this._lacTac = lacTac;\r\n            this._radius = radius;\r\n            this._cellId = cellId;\r\n            this._btsId = btsId;\r\n        }\r\n        /* 继承API的BMap.Overlay */\r\n        BtsSearchOverlay.prototype = new BMap.Overlay();\r\n        /* 实现初始化方法 */\r\n        BtsSearchOverlay.prototype.initialize = function (map) {\r\n            /* 保存map对象实例 */\r\n            this._map = map;\r\n            /* 创建div元素，作为自定义覆盖物的容器 */\r\n            let div = this._div = document.createElement('div');\r\n            div.style.position = 'absolute';\r\n            div.style.zIndex = 8100;\r\n            $(div).attr('class', `bts-click-search-${this._btsId}`);\r\n            $(div).attr('data-open-status', 'close');\r\n            div.style.display = 'inline-block';\r\n            let btsImg = '';\r\n            let btsHitStatus = '';\r\n            let btsHitGray = '';\r\n            div.innerHTML = `\r\n                <!--基站图片-->\r\n                <img class=\"bts-search-img bts-search-img-${this._btsId} ${btsHitStatus} ${btsHitGray}\" data-bts-mode=\"${this._mode}\" data-bts-id=\"${this._btsId}\" src=\"img/btsicon/btsiconsearch.png\">\r\n\r\n                <!--选中框-->\r\n                <div class=\"bts-selectedCircle bts-selectedCircle-${this._btsId}\" style=\"display:none;\"></div>\r\n                <!--基站获取数值-->\r\n                <!--<div style=\"z-index:8000;\" class=\"bts-value bts-value-${this._btsId}\" style=\"display:none;\">${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsTag(this._mode, this._mcc, this._mnc, this._lacTac, this._sid, this._nid, this._bid, this._cellId)}</div>-->\r\n                <div style=\"z-index:8000;\" class=\"bts-value bts-value-${this._btsId}\" style=\"display:none;\">${this._btsId}</div>\r\n                <!--基站信息框-->\r\n                <div style=\"z-index:8000;\" class=\"bts-info-panel bts-info-search-panel-${this._btsId}\" style=\"display:none;\">\r\n                    <div class=\"bts-info-panel-search-close bts-info-panel-close-${this._btsId}\" data-bts-id=\"${this._btsId}\">\r\n                        <span class=\"glyphicon iconfont icon-close\"></span>\r\n                    </div>\r\n                    <div class=\"bts-info-panel-decoration\"></div>\r\n                    <img class=\"bts-name-icon\" src=\"img/${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsNameIcon(this._mnc)}.png\">\r\n                    <span class=\"bts-name\">${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsName(this._mnc)}&nbsp;${this._mode.toUpperCase()}</span>\r\n                    <!--<span class=\"bts-identifier\">基站标识：${__WEBPACK_IMPORTED_MODULE_1__bts_BtsValue_js__[\"a\" /* BtsValue */].btsTag(this._mode, this._mcc, this._mnc, this._lacTac, this._sid, this._nid, this._bid, this._cellId)}</span>-->\r\n                    <span class=\"bts-identifier\">基站标识：${this._btsId}</span>\r\n                    <span class=\"bts-range\">覆盖范围：${this._radius}m</span>\r\n                    <button class=\"myCosButton-inner show-range-button-${this._btsId}\" data-bts-id=\"${this._btsId}\" data-open-status=\"close\" id='show-range-button-search'>显示半径</button>\r\n                </div>\r\n            `;\r\n            /* 将div添加到覆盖物容器中 */\r\n            map.getPanes().labelPane.appendChild(div);\r\n            /* 保存div实例 */\r\n            this._div = div;\r\n            /* 需要将div元素作为方法的返回值 */\r\n            return div;\r\n        }\r\n        /* 绘制覆盖物,实现绘制方法 */\r\n        BtsSearchOverlay.prototype.draw = function () {\r\n            /* 根据地理坐标转换为像素坐标，并设置给容器 */\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n        /* 查询基站基站覆盖范围显示*/\r\n\r\n        return new BtsSearchOverlay(point, mcc, mnc, mode, sid, nid, bid, lacTac, radius, cellId, btsId);\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = BtsSearchOverlayConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9CdHNTZWFyY2hPdmVybGF5Q29uc3RydWN0b3IuanM/OGJhNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQXlFOztBQUUzQjs7QUFFdkM7O0FBRVA7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxZQUFZO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFlBQVksR0FBRyxhQUFhLEdBQUcsV0FBVyxtQkFBbUIsV0FBVyxpQkFBaUIsWUFBWTs7QUFFaks7QUFDQSxvRUFBb0UsWUFBWSxzQkFBc0I7QUFDdEc7QUFDQSw2Q0FBNkMsK0JBQStCLFlBQVksc0JBQXNCLElBQUksa0VBQVEsdUdBQXVHO0FBQ2pPLHlDQUF5QywrQkFBK0IsWUFBWSxzQkFBc0IsSUFBSSxZQUFZO0FBQzFIO0FBQ0EseUNBQXlDLGdEQUFnRCxZQUFZLHNCQUFzQjtBQUMzSCxtRkFBbUYsWUFBWSxpQkFBaUIsWUFBWTtBQUM1SDtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsa0VBQVEsd0JBQXdCO0FBQzFGLDZDQUE2QyxrRUFBUSxvQkFBb0IsTUFBTSxFQUFFLHlCQUF5QjtBQUMxRyw0REFBNEQsa0VBQVEsdUdBQXVHO0FBQzNLLHdEQUF3RCxZQUFZO0FBQ3BFLG1EQUFtRCxhQUFhO0FBQ2hFLHlFQUF5RSxZQUFZLGlCQUFpQixZQUFZO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsQyIsImZpbGUiOiI1My5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhaWR1TWFwSW5pdCB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9iYWlkdU1hcC9Jbml0LkJhaWR1TWFwLmpzJztcclxuXHJcbmltcG9ydCB7IEJ0c1ZhbHVlIH0gZnJvbSAnLi4vYnRzL0J0c1ZhbHVlLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBCdHNTZWFyY2hPdmVybGF5Q29uc3RydWN0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBvaW50LCBtY2MsIG1uYywgbW9kZSwgc2lkLCBuaWQsIGJpZCwgbGFjVGFjLCByYWRpdXMsIGNlbGxJZCwgYnRzSWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kcmF3KHBvaW50LCBtY2MsIG1uYywgbW9kZSwgc2lkLCBuaWQsIGJpZCwgbGFjVGFjLCByYWRpdXMsIGNlbGxJZCwgYnRzSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcocG9pbnQsIG1jYywgbW5jLCBtb2RlLCBzaWQsIG5pZCwgYmlkLCBsYWNUYWMsIHJhZGl1cywgY2VsbElkLCBidHNJZCkge1xyXG5cclxuICAgICAgICAvKiDlrprkuYnoh6rlrprkuYnopobnm5bniannmoTmnoTpgKDlh73mlbAgKi9cclxuICAgICAgICBmdW5jdGlvbiBCdHNTZWFyY2hPdmVybGF5KHBvaW50LCBtY2MsIG1uYywgbW9kZSwgc2lkLCBuaWQsIGJpZCwgbGFjVGFjLCByYWRpdXMsIGNlbGxJZCwgYnRzSWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fcG9pbnQgPSBwb2ludDtcclxuICAgICAgICAgICAgdGhpcy5fbWNjID0gbWNjO1xyXG4gICAgICAgICAgICB0aGlzLl9tbmMgPSBtbmM7XHJcbiAgICAgICAgICAgIHRoaXMuX21vZGUgPSBtb2RlO1xyXG4gICAgICAgICAgICB0aGlzLl9zaWQgPSBzaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX25pZCA9IG5pZDtcclxuICAgICAgICAgICAgdGhpcy5fYmlkID0gYmlkO1xyXG4gICAgICAgICAgICB0aGlzLl9sYWNUYWMgPSBsYWNUYWM7XHJcbiAgICAgICAgICAgIHRoaXMuX3JhZGl1cyA9IHJhZGl1cztcclxuICAgICAgICAgICAgdGhpcy5fY2VsbElkID0gY2VsbElkO1xyXG4gICAgICAgICAgICB0aGlzLl9idHNJZCA9IGJ0c0lkO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiDnu6fmib9BUEnnmoRCTWFwLk92ZXJsYXkgKi9cclxuICAgICAgICBCdHNTZWFyY2hPdmVybGF5LnByb3RvdHlwZSA9IG5ldyBCTWFwLk92ZXJsYXkoKTtcclxuICAgICAgICAvKiDlrp7njrDliJ3lp4vljJbmlrnms5UgKi9cclxuICAgICAgICBCdHNTZWFyY2hPdmVybGF5LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKG1hcCkge1xyXG4gICAgICAgICAgICAvKiDkv53lrZhtYXDlr7nosaHlrp7kvosgKi9cclxuICAgICAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xyXG4gICAgICAgICAgICAvKiDliJvlu7pkaXblhYPntKDvvIzkvZzkuLroh6rlrprkuYnopobnm5bniannmoTlrrnlmaggKi9cclxuICAgICAgICAgICAgbGV0IGRpdiA9IHRoaXMuX2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gODEwMDtcclxuICAgICAgICAgICAgJChkaXYpLmF0dHIoJ2NsYXNzJywgYGJ0cy1jbGljay1zZWFyY2gtJHt0aGlzLl9idHNJZH1gKTtcclxuICAgICAgICAgICAgJChkaXYpLmF0dHIoJ2RhdGEtb3Blbi1zdGF0dXMnLCAnY2xvc2UnKTtcclxuICAgICAgICAgICAgZGl2LnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuICAgICAgICAgICAgbGV0IGJ0c0ltZyA9ICcnO1xyXG4gICAgICAgICAgICBsZXQgYnRzSGl0U3RhdHVzID0gJyc7XHJcbiAgICAgICAgICAgIGxldCBidHNIaXRHcmF5ID0gJyc7XHJcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgICAgICA8IS0t5Z+656uZ5Zu+54mHLS0+XHJcbiAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiYnRzLXNlYXJjaC1pbWcgYnRzLXNlYXJjaC1pbWctJHt0aGlzLl9idHNJZH0gJHtidHNIaXRTdGF0dXN9ICR7YnRzSGl0R3JheX1cIiBkYXRhLWJ0cy1tb2RlPVwiJHt0aGlzLl9tb2RlfVwiIGRhdGEtYnRzLWlkPVwiJHt0aGlzLl9idHNJZH1cIiBzcmM9XCJpbWcvYnRzaWNvbi9idHNpY29uc2VhcmNoLnBuZ1wiPlxyXG5cclxuICAgICAgICAgICAgICAgIDwhLS3pgInkuK3moYYtLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidHMtc2VsZWN0ZWRDaXJjbGUgYnRzLXNlbGVjdGVkQ2lyY2xlLSR7dGhpcy5fYnRzSWR9XCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8IS0t5Z+656uZ6I635Y+W5pWw5YC8LS0+XHJcbiAgICAgICAgICAgICAgICA8IS0tPGRpdiBzdHlsZT1cInotaW5kZXg6ODAwMDtcIiBjbGFzcz1cImJ0cy12YWx1ZSBidHMtdmFsdWUtJHt0aGlzLl9idHNJZH1cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj4ke0J0c1ZhbHVlLmJ0c1RhZyh0aGlzLl9tb2RlLCB0aGlzLl9tY2MsIHRoaXMuX21uYywgdGhpcy5fbGFjVGFjLCB0aGlzLl9zaWQsIHRoaXMuX25pZCwgdGhpcy5fYmlkLCB0aGlzLl9jZWxsSWQpfTwvZGl2Pi0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInotaW5kZXg6ODAwMDtcIiBjbGFzcz1cImJ0cy12YWx1ZSBidHMtdmFsdWUtJHt0aGlzLl9idHNJZH1cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj4ke3RoaXMuX2J0c0lkfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPCEtLeWfuuermeS/oeaBr+ahhi0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInotaW5kZXg6ODAwMDtcIiBjbGFzcz1cImJ0cy1pbmZvLXBhbmVsIGJ0cy1pbmZvLXNlYXJjaC1wYW5lbC0ke3RoaXMuX2J0c0lkfVwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidHMtaW5mby1wYW5lbC1zZWFyY2gtY2xvc2UgYnRzLWluZm8tcGFuZWwtY2xvc2UtJHt0aGlzLl9idHNJZH1cIiBkYXRhLWJ0cy1pZD1cIiR7dGhpcy5fYnRzSWR9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGljb25mb250IGljb24tY2xvc2VcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0cy1pbmZvLXBhbmVsLWRlY29yYXRpb25cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiYnRzLW5hbWUtaWNvblwiIHNyYz1cImltZy8ke0J0c1ZhbHVlLmJ0c05hbWVJY29uKHRoaXMuX21uYyl9LnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnRzLW5hbWVcIj4ke0J0c1ZhbHVlLmJ0c05hbWUodGhpcy5fbW5jKX0mbmJzcDske3RoaXMuX21vZGUudG9VcHBlckNhc2UoKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLTxzcGFuIGNsYXNzPVwiYnRzLWlkZW50aWZpZXJcIj7ln7rnq5nmoIfor4bvvJoke0J0c1ZhbHVlLmJ0c1RhZyh0aGlzLl9tb2RlLCB0aGlzLl9tY2MsIHRoaXMuX21uYywgdGhpcy5fbGFjVGFjLCB0aGlzLl9zaWQsIHRoaXMuX25pZCwgdGhpcy5fYmlkLCB0aGlzLl9jZWxsSWQpfTwvc3Bhbj4tLT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJ0cy1pZGVudGlmaWVyXCI+5Z+656uZ5qCH6K+G77yaJHt0aGlzLl9idHNJZH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJidHMtcmFuZ2VcIj7opobnm5bojIPlm7TvvJoke3RoaXMuX3JhZGl1c31tPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJteUNvc0J1dHRvbi1pbm5lciBzaG93LXJhbmdlLWJ1dHRvbi0ke3RoaXMuX2J0c0lkfVwiIGRhdGEtYnRzLWlkPVwiJHt0aGlzLl9idHNJZH1cIiBkYXRhLW9wZW4tc3RhdHVzPVwiY2xvc2VcIiBpZD0nc2hvdy1yYW5nZS1idXR0b24tc2VhcmNoJz7mmL7npLrljYrlvoQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAvKiDlsIZkaXbmt7vliqDliLDopobnm5bnianlrrnlmajkuK0gKi9cclxuICAgICAgICAgICAgbWFwLmdldFBhbmVzKCkubGFiZWxQYW5lLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICAgIC8qIOS/neWtmGRpduWunuS+iyAqL1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYgPSBkaXY7XHJcbiAgICAgICAgICAgIC8qIOmcgOimgeWwhmRpduWFg+e0oOS9nOS4uuaWueazleeahOi/lOWbnuWAvCAqL1xyXG4gICAgICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiDnu5jliLbopobnm5bniaks5a6e546w57uY5Yi25pa55rOVICovXHJcbiAgICAgICAgQnRzU2VhcmNoT3ZlcmxheS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLyog5qC55o2u5Zyw55CG5Z2Q5qCH6L2s5o2i5Li65YOP57Sg5Z2Q5qCH77yM5bm26K6+572u57uZ5a655ZmoICovXHJcbiAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IHRoaXMuX21hcC5wb2ludFRvT3ZlcmxheVBpeGVsKHRoaXMuX3BvaW50KTtcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLmxlZnQgPSBwb3NpdGlvbi54ICsgJ3B4JztcclxuICAgICAgICAgICAgdGhpcy5fZGl2LnN0eWxlLnRvcCA9IHBvc2l0aW9uLnkgKyAncHgnO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiDmn6Xor6Lln7rnq5nln7rnq5nopobnm5bojIPlm7TmmL7npLoqL1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IEJ0c1NlYXJjaE92ZXJsYXkocG9pbnQsIG1jYywgbW5jLCBtb2RlLCBzaWQsIG5pZCwgYmlkLCBsYWNUYWMsIHJhZGl1cywgY2VsbElkLCBidHNJZCk7XHJcblxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L292ZXJsYXkvQnRzU2VhcmNoT3ZlcmxheUNvbnN0cnVjdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///53\n");

/***/ }),
/* 54 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__parsing_PrasingBtsInfo_js__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__parsing_ParsingMultiBtsInfo_js__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__overlay_DrawBtsEcharts_js__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__tool_TimeLine_js__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__ = __webpack_require__(0);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass View {\r\n\r\n    static initViewPanel() {\r\n        /**add by gaochao start */\r\n        $(document).on(\"mousedown\", \".windowpop-title\", function () {\r\n            /**edti by gaochao start */\r\n            let selectedUsername = $(this).attr('data-info-devcode');\r\n            // let selectedUsername = $(this).attr('data-info-username');\r\n            /**edit by gaochao end */\r\n            console.log(\"selectedUsername\" + selectedUsername);\r\n            let isMove = true;\r\n            let abs_x = event.pageX - $(`.windowpop-container-${selectedUsername}`).offset().left;\r\n            let abs_y = event.pageY - $(`.windowpop-container-${selectedUsername}`).offset().top;\r\n            $(document).mousemove(function (event) {\r\n                if (isMove) {\r\n                    let obj = $(`.windowpop-container-${selectedUsername}`);\r\n                    let left_x = event.pageX - abs_x;\r\n                    let top_y = event.pageY - abs_y;\r\n                    obj.css({\r\n                        'left': left_x,\r\n                        'top': top_y\r\n                    });\r\n                    if (obj.offset().left < 0) {\r\n                        obj.css({\r\n                            'left': 0,\r\n                        });\r\n                    }\r\n                    if (obj.offset().left > (window.innerWidth - 640)) {\r\n                        obj.css({\r\n                            'left': window.innerWidth - 640,\r\n                        });\r\n                    }\r\n                    if (obj.offset().top < 50) {\r\n                        obj.css({\r\n                            'top': 50,\r\n                        });\r\n                    }\r\n                    if (obj.offset().top > (window.innerHeight - 480)) {\r\n                        obj.css({\r\n                            'top': window.innerHeight - 480,\r\n                        });\r\n                    }\r\n                }\r\n            }).mouseup(function () {\r\n                isMove = false;\r\n            });\r\n        });\r\n        let playerMap = {};\r\n        let player;\r\n        let lastTop;\r\n        $(function () {\r\n            $(document).on(\"click\", \".team-each-dev-video\", function () {\r\n                let selectedUsername = $(this).attr('data-info-username');\r\n                if (eval(\"playerMap.\" + selectedUsername + \" ==null\")) {\r\n                    playerMap[`${selectedUsername}`] = selectedUsername;\r\n                    // console.log(\"selectedUsername:    \" + selectedUsername);\r\n                    let windowsVideo = `<div class=\"windowpop-container windowpop-container-${selectedUsername}\">\r\n                    <div class=\"windowpop-title\"  data-info-username=\"${selectedUsername}\">\r\n                        <span>${selectedUsername}</span>\r\n                    </div>\r\n                    <div class=\"windows-close\"  data-info-username=\"${selectedUsername}\">X</div>\r\n                    <div class=\"windowpop-content\">\r\n                    <video id=\"${selectedUsername}\" class=\"video-js\" preload=\"auto\" width=\"636\" height=\"400\" poster=\"\" data-setup=\"{}\">\r\n                    <source src=\"rtmp://106.15.195.82:1935/hls/${selectedUsername}\" type=\"rtmp/flv\"></video>\r\n                    </div>\r\n                    </div>`;\r\n                    $(\".map-area-container\").append(windowsVideo);\r\n\r\n                    player = videojs(`${selectedUsername}`, {\r\n                        autoplay: true,\r\n                    }, function onPlayerReady() {\r\n                        this.play();\r\n                    });\r\n                    $(`.windowpop-container-${selectedUsername}`).fadeIn(300);\r\n                }\r\n                player = videojs(`${selectedUsername}`);\r\n                $(`.windowpop-container-${selectedUsername}`).css({ 'top': lastTop, });\r\n                return false;\r\n\r\n            });\r\n        });\r\n        /**add by gaochao start */\r\n        $(function () {\r\n            $(document).on(\"click\", \".group-location-video-popup\", function () {\r\n                let selectedDevCode = $(this).attr('data-devcode');\r\n                let selectedDevCodeView = $(this).attr('data-devcode');\r\n                if (eval(`playerMap[\"${selectedDevCodeView}\"] ==null`)) {\r\n                    playerMap[`${selectedDevCodeView}`] = selectedDevCode;\r\n                    // console.log(\"selectedUsername:    \" + selectedUsername);\r\n                    let windowsVideo = `<div class=\"windowpop-container windowpop-container-${selectedDevCode}\">\r\n                    <div class=\"windowpop-title\"  data-info-devcode=\"${selectedDevCode}\">\r\n                        <span>${selectedDevCode}</span>\r\n                    </div>\r\n                    <div class=\"windows-close\"  data-info-devcode=\"${selectedDevCode}\">X</div>\r\n                    <div class=\"windowpop-content\">\r\n                    <video id=\"${selectedDevCode}_popup\" class=\"video-js\" preload=\"auto\" width=\"636\" height=\"400\" poster=\"\" data-setup=\"{}\">\r\n                    <source src=\"rtmp://106.15.195.82:1935/hls/${selectedDevCode}\" type=\"rtmp/flv\"></video>\r\n                    </div>\r\n                    <div class=\"windowpop-muted\" data-info-devcode=\"${selectedDevCode}\" data-status=\"0\"></div>\r\n                    </div>`;\r\n                    $(\".map-area-container\").append(windowsVideo);\r\n                    player = videojs(`${selectedDevCode}_popup`, {\r\n                        autoplay: true,\r\n                    }, function onPlayerReady() {\r\n                        this.play();\r\n                    });\r\n\r\n                    $(`.windowpop-container-${selectedDevCode}`).fadeIn(300);\r\n                }\r\n                $(`.windowpop-container-${selectedDevCode}`).css({ 'top': lastTop, });\r\n                $(`.group-location-video-out-${selectedDevCode}`).click();\r\n                $(`.group-location-video-out-${selectedDevCode}`).attr('data-info-close', 0);\r\n                player = videojs(`${selectedDevCode}`);\r\n                player.pause();\r\n                player = videojs(`${selectedDevCode}_popup`);\r\n                player.load();\r\n                player.play();\r\n                return false;\r\n            });\r\n        });\r\n        /**add by gaochao end*/\r\n        $(document).on(\"click\", \".windows-close\", function () {\r\n            let selectedVideo = $(this).attr('data-info-devcode');\r\n            $(`group-location-video-out-${selectedVideo}`).attr('data-info-close', 1);\r\n            lastTop = $(`.windowpop-container-${selectedVideo}`).offset().top;\r\n            $(`.windowpop-container-${selectedVideo}`).css({ 'top': -1000, });\r\n            $(`.group-location-video-out-${selectedVideo}`).attr('data-info-close', 1);\r\n            $(`.group-location-video-out-${selectedVideo}`).click();\r\n            player = videojs(`${selectedVideo}_popup`);\r\n            player.pause();\r\n            player = videojs(`${selectedVideo}`);\r\n            player.load();\r\n            player.play();\r\n        });\r\n        $(document).on(\"click\", \".windowpop-muted\", function () {\r\n            let selectedVideo = $(this).attr('data-info-devcode');\r\n            if ($(this).attr('data-status') == 0) {\r\n                $(this).css(\"background\", \"url(img/icon/voice_none.png) no-repeat\");\r\n                player = videojs(`${selectedVideo}_popup`);\r\n                player.muted(true);\r\n                $(this).attr('data-status', 1);\r\n            } else {\r\n                $(this).css(\"background\", \"url(img/icon/voice.png) no-repeat\");\r\n                player.muted(false);\r\n                $(this).attr('data-status', 0);\r\n            }\r\n        });\r\n\r\n        /**add by gaochao end */\r\n\r\n        /* 右面板点击切换视角*/\r\n        $(document).on('click', '.team-each-dev', function () {\r\n            let selectedDevCode = $(this).attr('data-info-devcode');\r\n            View.ViewChange(selectedDevCode);\r\n            $('.team-each-dev').removeClass('team-each-dev-active');\r\n            $(this).addClass('team-each-dev-active');\r\n            $('.view-switch-chooser').css('display', 'none');\r\n            let imgType = '';\r\n            if (devDrawInfoMap.get(selectedDevCode).devType == 1) {\r\n                imgType = 'car';\r\n            } else {\r\n                imgType = 'single';\r\n            }\r\n            /**edti by gaochao start */\r\n            $('.view-current-dev').html(`\r\n                <span class=\"view-current-username user-name-value-by-id-${devDrawInfoMap.get(selectedDevCode).userId}\">${devDrawInfoMap.get(selectedDevCode).realName}</span>\r\n                <img class=\"view-current-dev-img-${imgType}\" src=\"img/${imgType}_${devDrawInfoMap.get(selectedDevCode).devImgIndex}.png\">\r\n                <i class=\"mdui-icon material-icons\">&#xe5c7;</i>\r\n            `);\r\n            /**edit by gaochao end */\r\n        });\r\n\r\n        /**add by gaochao start */\r\n        $(document).on('click', '.group-location-each', function () {\r\n            let selectedDevCode = $(this).attr('data-info-devcode');\r\n            View.ViewChange(selectedDevCode);\r\n            $('.group-location-each').removeClass('group-location-choose');\r\n            $(this).addClass('group-location-choose');\r\n            let imgType = '';\r\n            if (devDrawInfoMap.get(selectedDevCode).devType == 1) {\r\n                imgType = 'car';\r\n            } else if (devDrawInfoMap.get(selectedDevCode).devType == 2) {\r\n                imgType = 'single';\r\n            } else if (devDrawInfoMap.get(selectedDevCode).devType == 3) {\r\n                imgType = 'outside';\r\n            }\r\n            /**edti by gaochao start */\r\n            $('.view-current-dev').html(`\r\n                <span class=\"view-current-username user-name-value-by-id-${devDrawInfoMap.get(selectedDevCode).userId}\">${devDrawInfoMap.get(selectedDevCode).realName}</span>\r\n                <img class=\"view-current-dev-img-${imgType}\" src=\"img/${imgType}_${devDrawInfoMap.get(selectedDevCode).devImgIndex}.png\">\r\n                <i class=\"mdui-icon material-icons\">&#xe5c7;</i>\r\n            `);\r\n            /**edit by gaochao end */\r\n        });\r\n        $(document).on('click', '.group-outside-each-item', function () {\r\n            let selectedDevCode = $(this).attr('data-info-devcode');\r\n            View.ViewChange(selectedDevCode);\r\n            $('.group-outside-each-item').removeClass('group-location-choose');\r\n            $(this).addClass('group-location-choose');\r\n            let imgType = '';\r\n            if (devDrawInfoMap.get(selectedDevCode).devType == 1) {\r\n                imgType = 'car';\r\n            } else if (devDrawInfoMap.get(selectedDevCode).devType == 2) {\r\n                imgType = 'single';\r\n            } else if (devDrawInfoMap.get(selectedDevCode).devType == 3) {\r\n                imgType = 'outside';\r\n            }\r\n            /**edti by gaochao start */\r\n            $('.view-current-dev').html(`\r\n                <span class=\"view-current-username user-name-value-by-id-${devDrawInfoMap.get(selectedDevCode).userId}\">${devDrawInfoMap.get(selectedDevCode).realName}</span>\r\n                <img class=\"view-current-dev-img-${imgType}\" src=\"img/${imgType}_${devDrawInfoMap.get(selectedDevCode).devImgIndex}.png\">\r\n                <i class=\"mdui-icon material-icons\">&#xe5c7;</i>\r\n            `);\r\n            /**edit by gaochao end */\r\n        });\r\n        let videoMap = {};\r\n        $(document).on('click', '.group-location-video-out', function () {\r\n            let selectedDevCode = $(this).attr('data-info-devcode');\r\n            if ($(`.group-location-video-out-${selectedDevCode}`).attr('data-info-close') == 1) {\r\n                if ($(this).attr(\"data-info-status\") == 0) {\r\n                    $(this).css(\"background\", \"url(img/icon/video_in.png) no-repeat\");\r\n                    $(`.team-each-dev-${selectedDevCode}`).css('width', '386px');\r\n                    $(this).attr(\"data-info-status\", 1);\r\n                    if (eval(`videoMap[\"${selectedDevCode}\"] ==null`)) {\r\n                        videoMap[`${selectedDevCode}`] = selectedDevCode;\r\n                        // console.log(\"selectedUsername:    \" + selectedUsername);\r\n                        let windowsVideo = `\r\n                    <div>\r\n                    <video id=\"${selectedDevCode}\" class=\"video-js\" preload=\"auto\" width=\"140\" height=\"132\" poster=\"\" data-setup=\"{}\">\r\n                    <source src=\"rtmp://106.15.195.82:1935/hls/${selectedDevCode}\" type=\"rtmp/flv\"></video>\r\n                    </div>\r\n                    <div class=\"group-location-video-popup group-location-video-popup-${selectedDevCode}\" data-devcode=\"${selectedDevCode}\"></div>\r\n                    `\r\n                            ;\r\n                        $(`.group-location-video-container-${selectedDevCode}`).append(windowsVideo);\r\n                        player = videojs(`${selectedDevCode}`, {\r\n                            autoplay: true,\r\n                        }, function onPlayerReady() {\r\n                            this.muted(true);\r\n                            this.play();\r\n                        });\r\n                        $(`.group-location-video-container-${selectedDevCode}`).css('display', 'block');\r\n                    }\r\n                    $(`.group-location-video-container-${selectedDevCode}`).css('right', '7px');\r\n                    player = videojs(`${selectedDevCode}`);\r\n                    player.load();\r\n                    player.play();\r\n                } else {\r\n                    $(this).css(\"background\", \"url(img/icon/video_out.png) no-repeat\");\r\n                    $(`.team-each-dev-${selectedDevCode}`).css('width', '236px');\r\n                    $(`.group-location-video-container-${selectedDevCode}`).css('right', '1170px');\r\n                    $(this).attr(\"data-info-status\", 0);\r\n                    player = videojs(`${selectedDevCode}`);\r\n                    player.pause();\r\n                }\r\n            }\r\n            return false;\r\n        });\r\n\r\n\r\n        $(document).on(\"mousedown\", \".target-lte-info-title\", function () {\r\n            let isMove = true;\r\n            let abs_x = event.pageX - $(`.target-lte-info-container`).offset().left;\r\n            let abs_y = event.pageY - $(`.target-lte-info-container`).offset().top;\r\n            $(document).mousemove(function (event) {\r\n                if (isMove) {\r\n                    let obj = $(`.target-lte-info-container`);\r\n                    let left_x = event.pageX - abs_x;\r\n                    let top_y = event.pageY - abs_y;\r\n                    obj.css({\r\n                        'left': left_x,\r\n                        'top': top_y\r\n                    });\r\n                    if (obj.offset().left < 0) {\r\n                        obj.css({\r\n                            'left': 0,\r\n                        });\r\n                    }\r\n                    if (obj.offset().left > (window.innerWidth - 416)) {\r\n                        obj.css({\r\n                            'left': window.innerWidth - 416,\r\n                        });\r\n                    }\r\n                    if (obj.offset().top < 50) {\r\n                        obj.css({\r\n                            'top': 50,\r\n                        });\r\n                    }\r\n                    if (obj.offset().top > (window.innerHeight - 310)) {\r\n                        obj.css({\r\n                            'top': window.innerHeight - 310,\r\n                        });\r\n                    }\r\n                }\r\n            }).mouseup(function () {\r\n                isMove = false;\r\n            });\r\n        });\r\n\r\n        $(document).on(\"mousedown\", \".ta-info-title\", function () {\r\n            let isMove = true;\r\n            let abs_x = event.pageX - $(`.ta-info-container`).offset().left;\r\n            let abs_y = event.pageY - $(`.ta-info-container`).offset().top;\r\n            $(document).mousemove(function (event) {\r\n                if (isMove) {\r\n                    let obj = $(`.ta-info-container`);\r\n                    let left_x = event.pageX - abs_x;\r\n                    let top_y = event.pageY - abs_y;\r\n                    obj.css({\r\n                        'left': left_x,\r\n                        'top': top_y\r\n                    });\r\n                    if (obj.offset().left < 0) {\r\n                        obj.css({\r\n                            'left': 0,\r\n                        });\r\n                    }\r\n                    if (obj.offset().left > (window.innerWidth - 772)) {\r\n                        obj.css({\r\n                            'left': window.innerWidth - 772,\r\n                        });\r\n                    }\r\n                    if (obj.offset().top < 50) {\r\n                        obj.css({\r\n                            'top': 50,\r\n                        });\r\n                    }\r\n                    if (obj.offset().top > (window.innerHeight - 448)) {\r\n                        obj.css({\r\n                            'top': window.innerHeight - 448,\r\n                        });\r\n                    }\r\n                }\r\n            }).mouseup(function () {\r\n                isMove = false;\r\n            });\r\n        });\r\n        $(document).on(\"mousedown\", \".advance-info-title\", function () {\r\n            let isMove = true;\r\n            let abs_x = event.pageX - $(`.advance-info-containers`).offset().left;\r\n            let abs_y = event.pageY - $(`.advance-info-containers`).offset().top;\r\n            $(document).mousemove(function (event) {\r\n                if (isMove) {\r\n                    let obj = $(`.advance-info-containers`);\r\n                    let left_x = event.pageX - abs_x;\r\n                    let top_y = event.pageY - abs_y;\r\n                    obj.css({\r\n                        'left': left_x,\r\n                        'top': top_y\r\n                    });\r\n                    if (obj.offset().left < 0) {\r\n                        obj.css({\r\n                            'left': 0,\r\n                        });\r\n                    }\r\n                    if (obj.offset().left > (window.innerWidth - 610)) {\r\n                        obj.css({\r\n                            'left': window.innerWidth - 610,\r\n                        });\r\n                    }\r\n                    if (obj.offset().top < 50) {\r\n                        obj.css({\r\n                            'top': 50,\r\n                        });\r\n                    }\r\n                    if (obj.offset().top > (window.innerHeight - 436)) {\r\n                        obj.css({\r\n                            'top': window.innerHeight - 436,\r\n                        });\r\n                    }\r\n                }\r\n            }).mouseup(function () {\r\n                isMove = false;\r\n            });\r\n        });\r\n\r\n        $(document).on(\"mousedown\", \".active-info-title\", function () {\r\n            let isMove = true;\r\n            let abs_x = event.pageX - $(`.active-info-container`).offset().left;\r\n            let abs_y = event.pageY - $(`.active-info-container`).offset().top;\r\n            $(document).mousemove(function (event) {\r\n                if (isMove) {\r\n                    let obj = $(`.active-info-container`);\r\n                    let left_x = event.pageX - abs_x;\r\n                    let top_y = event.pageY - abs_y;\r\n                    obj.css({\r\n                        'left': left_x,\r\n                        'top': top_y\r\n                    });\r\n                    if (obj.offset().left < 0) {\r\n                        obj.css({\r\n                            'left': 0,\r\n                        });\r\n                    }\r\n                    if (obj.offset().left > (window.innerWidth - 320)) {\r\n                        obj.css({\r\n                            'left': window.innerWidth - 320,\r\n                        });\r\n                    }\r\n                    if (obj.offset().top < 50) {\r\n                        obj.css({\r\n                            'top': 50,\r\n                        });\r\n                    }\r\n                    if (obj.offset().top > (window.innerHeight - 240)) {\r\n                        obj.css({\r\n                            'top': window.innerHeight - 240,\r\n                        });\r\n                    }\r\n                }\r\n            }).mouseup(function () {\r\n                isMove = false;\r\n            });\r\n        });\r\n\r\n        /*基站搜索弹框*/\r\n        $(document).on(\"mousedown\", \".move_search_modal\", function () {\r\n            let isMove = true;\r\n            let abs_x = event.pageX - $(`.search-bts-containers`).offset().left;\r\n            let abs_y = event.pageY - $(`.search-bts-containers`).offset().top;\r\n            $(document).mousemove(function (event) {\r\n                if (isMove) {\r\n                    let obj = $(`.search-bts-containers`);\r\n                    let left_x = event.pageX - abs_x;\r\n                    let top_y = event.pageY - abs_y;\r\n                    obj.css({\r\n                        'left': left_x,\r\n                        'top': top_y\r\n                    });\r\n                    if (obj.offset().left < 0) {\r\n                        obj.css({\r\n                            'left': 0,\r\n                        });\r\n                    }\r\n                    if (obj.offset().left > (window.innerWidth - 320)) {\r\n                        obj.css({\r\n                            'left': window.innerWidth - 320,\r\n                        });\r\n                    }\r\n                    if (obj.offset().top < 50) {\r\n                        obj.css({\r\n                            'top': 50,\r\n                        });\r\n                    }\r\n                    if (obj.offset().top > (window.innerHeight - 240)) {\r\n                        obj.css({\r\n                            'top': window.innerHeight - 240,\r\n                        });\r\n                    }\r\n                }\r\n            }).mouseup(function () {\r\n                isMove = false;\r\n            });\r\n        });\r\n\r\n        /**add by gaochao end */\r\n        /* 左下角view-current-dev点击*/\r\n        $('.view-current-dev').click(function () {\r\n            if ($('.view-switch-chooser').css('display') == 'none') {\r\n                $('.view-switch-chooser').css('display', 'block');\r\n            } else {\r\n                $('.view-switch-chooser').css('display', 'none');\r\n            }\r\n        });\r\n        $(document).on('click', '.choose-container', function () {\r\n            let selectedDevCode = $(this).attr('data-devcode');\r\n            View.ViewChange(selectedDevCode);\r\n            /*edti by gaochao start */\r\n            // $('.team-each-dev').removeClass('team-each-dev-active');\r\n            // $(`.team-each-dev-${selectedDevCode}`).addClass('team-each-dev-active');\r\n            $('.group-location-each').removeClass('group-location-choose');\r\n            $(`.team-each-dev-${selectedDevCode}`).addClass('group-location-choose');\r\n            /*edti by gaochao end */\r\n            $('.view-switch-chooser').css('display', 'none');\r\n            let imgType = '';\r\n            if (devDrawInfoMap.get(selectedDevCode).devType == 1) {\r\n                imgType = 'car';\r\n            } else {\r\n                imgType = 'single';\r\n            }\r\n            $('.view-current-dev').html(`\r\n                <span class=\"view-current-username user-name-value-by-id-${devDrawInfoMap.get(selectedDevCode).userId}\">${devDrawInfoMap.get(selectedDevCode).userName}</span>\r\n                <img class=\"view-current-dev-img-${imgType}\" src=\"img/${imgType}_${devDrawInfoMap.get(selectedDevCode).devImgIndex}.png\">\r\n                <i class=\"mdui-icon material-icons\">&#xe5c7;</i>\r\n            `);\r\n        });\r\n    }\r\n\r\n    static ViewChange(selectedDevCode) {\r\n        if (!devDrawInfoMap.get(selectedDevCode).isCorrentView) {\r\n            /* 更改设备路径线颜色*/\r\n            let currentDevCode; // 1.将当前视角的路径线置灰，2.将新视角的路径线设为高亮\r\n            devDrawInfoMap.forEach((eachDev) => {\r\n                if (eachDev.isCorrentView) {\r\n                    currentDevCode = eachDev.devCode;\r\n                }\r\n            });\r\n            // let currentDevLine = lineOverlayMap.line.get(currentDevCode).line;\r\n            for (let i = 0; i < lineOverlayMap.line.get(currentDevCode).line.length; i++) {\r\n                lineOverlayMap.line.get(currentDevCode).line[i].setStrokeColor(devDrawInfoMap.get(currentDevCode).routeLineColor);  // 路径线置灰\r\n            }\r\n            for (let i = 0; i < lineOverlayMap.line.get(currentDevCode).tempLine.length; i++) {\r\n                lineOverlayMap.line.get(currentDevCode).tempLine[i].setStrokeColor(devDrawInfoMap.get(currentDevCode).routeLineColor);  // 路径线置灰\r\n            }\r\n            devDrawInfoMap.get(currentDevCode).isCorrentView = false;\r\n            // let selectedDevLine = lineOverlayMap.line.get(selectedDevCode).line;\r\n            for (let i = 0; i < lineOverlayMap.line.get(selectedDevCode).line.length; i++) {\r\n                lineOverlayMap.line.get(selectedDevCode).line[i].setStrokeColor('#008030'); // 路径线高亮\r\n            }\r\n            for (let i = 0; i < lineOverlayMap.line.get(selectedDevCode).tempLine.length; i++) {\r\n                lineOverlayMap.line.get(selectedDevCode).tempLine[i].setStrokeColor('#008030'); // 路径线高亮\r\n            }\r\n            devDrawInfoMap.get(selectedDevCode).isCorrentView = true;\r\n            /* 切换时间轴能量条*/\r\n            $('.eng-column-chart-container').css('display', 'none');\r\n            $(`.eng-column-chart-container-${selectedDevCode}`).css('display', 'block');\r\n            /* 绘制历史影子\r\n            let markerTime = TimeLine.getMarkerTime();\r\n            TimeLine.devHistoryShadow(markerTime);*/\r\n            /* 如果为车载，更新车速显示*/\r\n            /**del by gaochao start  */\r\n            // if (devDrawInfoMap.get(selectedDevCode).devType == 1) {\r\n            //     $('.car-speed').css('display', 'block');\r\n            //     $('.car-speed-value').html(devInfoMap.get(selectedDevCode).gpsInfo.speed);\r\n            // } else {\r\n            //     $('.car-speed').css('display', 'none');\r\n            // }\r\n            /**del by gaochao end  */\r\n            /* 更新左下角图片*/\r\n            /**edti by gaochao start */\r\n            if (devDrawInfoMap.get(selectedDevCode).devType == 1) {\r\n                $('.view-current-dev').html(`\r\n                    <span class=\"view-current-username user-name-value-by-id-${devDrawInfoMap.get(selectedDevCode).userId}\">${devDrawInfoMap.get(selectedDevCode).realName}</span>\r\n                    <img class=\"view-current-dev-img-car\" src=\"img/car_${devDrawInfoMap.get(selectedDevCode).devImgIndex}.png\">\r\n                    <i class=\"mdui-icon material-icons\">&#xe5c7;</i>\r\n                `);\r\n                /**add by gaochao start */\r\n                $('.view-current-dev-container').html(`\r\n                <div class=\"view-current-dev-icon-car\" style=\"background:url(img/icon/car_view_${devDrawInfoMap.get(selectedDevCode).devImgIndex}.png)no-repeat;background-size: cover;\"></div>\r\n\t\t\t\t<div class=\"view-current-username-content  user-name-value-by-id-${devDrawInfoMap.get(selectedDevCode).userId}\" title=\"${devDrawInfoMap.get(selectedDevCode).realName}\">${devDrawInfoMap.get(selectedDevCode).realName}</div>\r\n                `);\r\n                /**add by gaochao end */\r\n            } else {\r\n                $('.view-current-dev').html(`\r\n                    <span class=\"view-current-username user-name-value-by-id-${devDrawInfoMap.get(selectedDevCode).userId}\">${devDrawInfoMap.get(selectedDevCode).realName}</span>\r\n                    <img class=\"view-current-dev-img-single\" src=\"img/single_${devDrawInfoMap.get(selectedDevCode).devImgIndex}.png\">\r\n                    <i class=\"mdui-icon material-icons\">&#xe5c7;</i>\r\n                `);\r\n                /**add by gaochao start */\r\n                if (devDrawInfoMap.get(selectedDevCode).devType == 2) {\r\n                    $('.view-current-dev-container').html(`\r\n                    <div class=\"view-current-dev-icon-single\" style=\"background:url(img/icon/single_view_${devDrawInfoMap.get(selectedDevCode).devImgIndex}.png)no-repeat;background-size: cover;\"></div>\r\n                    <div class=\"view-current-username-content  user-name-value-by-id-${devDrawInfoMap.get(selectedDevCode).userId}\" title=\"${devDrawInfoMap.get(selectedDevCode).realName}\">${devDrawInfoMap.get(selectedDevCode).realName}</div>\r\n                    `);\r\n                } else if (devDrawInfoMap.get(selectedDevCode).devType == 3) {\r\n                    $('.view-current-dev-container').html(`\r\n                    <div class=\"view-current-dev-icon-single\" style=\"background:url(img/icon/outside_view_${devDrawInfoMap.get(selectedDevCode).devImgIndex}.png)no-repeat;background-size: cover;\"></div>\r\n                    <div class=\"view-current-username-content  user-name-value-by-id-${devDrawInfoMap.get(selectedDevCode).userId}\" title=\"${devDrawInfoMap.get(selectedDevCode).realName}\">${devDrawInfoMap.get(selectedDevCode).realName}</div>\r\n                    `);\r\n                }\r\n                /**add by gaochao end */\r\n            }\r\n            /**edit by gaochao end */\r\n            /* 更新当前视角设备值*/\r\n            currentViewDevCode = selectedDevCode;\r\n            /* 重绘echarts特效*/\r\n            if (hitedBtsCache.btsId != null && isBtsOpen) {\r\n                __WEBPACK_IMPORTED_MODULE_2__overlay_DrawBtsEcharts_js__[\"a\" /* DrawBtsEcharts */].showBtsStyleCSS(hitedBtsCache);\r\n            }\r\n            /* 重绘基站解析进度*/\r\n            __WEBPACK_IMPORTED_MODULE_1__parsing_ParsingMultiBtsInfo_js__[\"a\" /* ParsingMultiBtsInfo */].cellAnalysis(devStateInfoMapCache);\r\n        }\r\n        /* 设置地图中心*/\r\n        if (devInfoMap.get(selectedDevCode) != null) {\r\n            let point = [devInfoMap.get(selectedDevCode).gpsInfo.lng, devInfoMap.get(selectedDevCode).gpsInfo.lat];\r\n            let bdPoint = __WEBPACK_IMPORTED_MODULE_4__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([point])[0];\r\n            map.setCenter(new BMap.Point(bdPoint.lng, bdPoint.lat));\r\n            map.setZoom(map.getZoom() - 1);\r\n            map.setZoom(map.getZoom() + 1);\r\n        }\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = View;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvdG9vbC9WaWV3LmpzP2E1ZGIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUE4RDtBQUNVOztBQUVWOztBQUVmO0FBQ3dDOztBQUVoRjs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsaUJBQWlCO0FBQ2pGLGdFQUFnRSxpQkFBaUI7QUFDakY7QUFDQTtBQUNBLHdEQUF3RCxpQkFBaUI7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsaUJBQWlCO0FBQ2xEO0FBQ0EsOEZBQThGLGlCQUFpQjtBQUMvRyx3RUFBd0UsaUJBQWlCO0FBQ3pGLGdDQUFnQyxpQkFBaUI7QUFDakQ7QUFDQSxzRUFBc0UsaUJBQWlCO0FBQ3ZGO0FBQ0EsaUNBQWlDLGlCQUFpQixtRkFBbUY7QUFDckksaUVBQWlFLGlCQUFpQjtBQUNsRjtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDLGlCQUFpQjtBQUN6RDtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHFCQUFxQjtBQUNyQiw4Q0FBOEMsaUJBQWlCO0FBQy9EO0FBQ0Esb0NBQW9DLGlCQUFpQjtBQUNyRCwwQ0FBMEMsaUJBQWlCLFFBQVEsa0JBQWtCO0FBQ3JGOztBQUVBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxvQkFBb0I7QUFDM0QsaUNBQWlDLG9CQUFvQjtBQUNyRDtBQUNBLDhGQUE4RixnQkFBZ0I7QUFDOUcsdUVBQXVFLGdCQUFnQjtBQUN2RixnQ0FBZ0MsZ0JBQWdCO0FBQ2hEO0FBQ0EscUVBQXFFLGdCQUFnQjtBQUNyRjtBQUNBLGlDQUFpQyxnQkFBZ0IseUZBQXlGO0FBQzFJLGlFQUFpRSxnQkFBZ0I7QUFDakY7QUFDQSxzRUFBc0UsZ0JBQWdCO0FBQ3RGO0FBQ0E7QUFDQSx3Q0FBd0MsZ0JBQWdCO0FBQ3hEO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCOztBQUVyQiw4Q0FBOEMsZ0JBQWdCO0FBQzlEO0FBQ0EsMENBQTBDLGdCQUFnQixRQUFRLGtCQUFrQjtBQUNwRiwrQ0FBK0MsZ0JBQWdCO0FBQy9ELCtDQUErQyxnQkFBZ0I7QUFDL0Qsb0NBQW9DLGdCQUFnQjtBQUNwRDtBQUNBLG9DQUFvQyxnQkFBZ0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsY0FBYztBQUN4RCxnREFBZ0QsY0FBYztBQUM5RCxzQ0FBc0MsY0FBYyxRQUFRLGdCQUFnQjtBQUM1RSwyQ0FBMkMsY0FBYztBQUN6RCwyQ0FBMkMsY0FBYztBQUN6RCxnQ0FBZ0MsY0FBYztBQUM5QztBQUNBLGdDQUFnQyxjQUFjO0FBQzlDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsY0FBYztBQUNsRDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSwyQ0FBMkMsSUFBSSw2Q0FBNkM7QUFDdkssbURBQW1ELFFBQVEsYUFBYSxRQUFRLEdBQUcsZ0RBQWdEO0FBQ25JLDREQUE0RDtBQUM1RDtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsMkNBQTJDLElBQUksNkNBQTZDO0FBQ3ZLLG1EQUFtRCxRQUFRLGFBQWEsUUFBUSxHQUFHLGdEQUFnRDtBQUNuSSw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLDJDQUEyQyxJQUFJLDZDQUE2QztBQUN2SyxtREFBbUQsUUFBUSxhQUFhLFFBQVEsR0FBRyxnREFBZ0Q7QUFDbkksNERBQTREO0FBQzVEO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGdCQUFnQjtBQUMvRDtBQUNBO0FBQ0Esd0NBQXdDLGdCQUFnQjtBQUN4RDtBQUNBLDBDQUEwQyxnQkFBZ0I7QUFDMUQsb0NBQW9DLGdCQUFnQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsZ0JBQWdCLG1GQUFtRjtBQUNwSSxpRUFBaUUsZ0JBQWdCO0FBQ2pGO0FBQ0Esd0ZBQXdGLGdCQUFnQixrQkFBa0IsZ0JBQWdCO0FBQzFJO0FBQ0E7QUFDQSw2REFBNkQsZ0JBQWdCO0FBQzdFLDRDQUE0QyxnQkFBZ0I7QUFDNUQ7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLHlCQUF5QjtBQUN6Qiw2REFBNkQsZ0JBQWdCO0FBQzdFO0FBQ0EseURBQXlELGdCQUFnQjtBQUN6RSx3Q0FBd0MsZ0JBQWdCO0FBQ3hEO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSx3Q0FBd0MsZ0JBQWdCO0FBQ3hELHlEQUF5RCxnQkFBZ0I7QUFDekU7QUFDQSx3Q0FBd0MsZ0JBQWdCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7O0FBR1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2IsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2IsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYixTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGdCQUFnQjtBQUNuRDtBQUNBLGdDQUFnQyxnQkFBZ0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsMkNBQTJDLElBQUksNkNBQTZDO0FBQ3ZLLG1EQUFtRCxRQUFRLGFBQWEsUUFBUSxHQUFHLGdEQUFnRDtBQUNuSSw0REFBNEQ7QUFDNUQ7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsMkJBQTJCLHlEQUF5RDtBQUNwRixrSUFBa0k7QUFDbEk7QUFDQSwyQkFBMkIsNkRBQTZEO0FBQ3hGLHNJQUFzSTtBQUN0STtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMERBQTBEO0FBQ3JGLDJGQUEyRjtBQUMzRjtBQUNBLDJCQUEyQiw4REFBOEQ7QUFDekYsK0ZBQStGO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGdCQUFnQjtBQUM3RDtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRUFBK0UsMkNBQTJDLElBQUksNkNBQTZDO0FBQzNLLHlFQUF5RSxnREFBZ0Q7QUFDekgsZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxnREFBZ0QsZUFBZSx1QkFBdUI7QUFDdkwsdUVBQXVFLDJDQUEyQyxXQUFXLDZDQUE2QyxJQUFJLDZDQUE2QztBQUMzTjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsK0VBQStFLDJDQUEyQyxJQUFJLDZDQUE2QztBQUMzSywrRUFBK0UsZ0RBQWdEO0FBQy9ILGdFQUFnRTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJHQUEyRyxnREFBZ0QsZUFBZSx1QkFBdUI7QUFDak0sdUZBQXVGLDJDQUEyQyxXQUFXLDZDQUE2QyxJQUFJLDZDQUE2QztBQUMzTztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLDRHQUE0RyxnREFBZ0QsZUFBZSx1QkFBdUI7QUFDbE0sdUZBQXVGLDJDQUEyQyxXQUFXLDZDQUE2QyxJQUFJLDZDQUE2QztBQUMzTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0ZBQWM7QUFDOUI7QUFDQTtBQUNBLFlBQVksNEZBQW1CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHFHQUFlO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQyIsImZpbGUiOiI1NC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByYXNpbmdCdHNJbmZvIH0gZnJvbSAnLi4vcGFyc2luZy9QcmFzaW5nQnRzSW5mby5qcyc7XHJcbmltcG9ydCB7IFBhcnNpbmdNdWx0aUJ0c0luZm8gfSBmcm9tICcuLi9wYXJzaW5nL1BhcnNpbmdNdWx0aUJ0c0luZm8uanMnO1xyXG5cclxuaW1wb3J0IHsgRHJhd0J0c0VjaGFydHMgfSBmcm9tICcuLi9vdmVybGF5L0RyYXdCdHNFY2hhcnRzLmpzJztcclxuXHJcbmltcG9ydCB7IFRpbWVMaW5lIH0gZnJvbSAnLi4vdG9vbC9UaW1lTGluZS5qcyc7XHJcbmltcG9ydCB7IEdQU1RvQmFpZHVQb2ludCB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9iYWlkdU1hcC9HUFNUb0JhaWR1UG9pbnQuQmFpZHVNYXAuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZpZXcge1xyXG5cclxuICAgIHN0YXRpYyBpbml0Vmlld1BhbmVsKCkge1xyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oXCJtb3VzZWRvd25cIiwgXCIud2luZG93cG9wLXRpdGxlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLyoqZWR0aSBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZFVzZXJuYW1lID0gJCh0aGlzKS5hdHRyKCdkYXRhLWluZm8tZGV2Y29kZScpO1xyXG4gICAgICAgICAgICAvLyBsZXQgc2VsZWN0ZWRVc2VybmFtZSA9ICQodGhpcykuYXR0cignZGF0YS1pbmZvLXVzZXJuYW1lJyk7XHJcbiAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZWxlY3RlZFVzZXJuYW1lXCIgKyBzZWxlY3RlZFVzZXJuYW1lKTtcclxuICAgICAgICAgICAgbGV0IGlzTW92ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGxldCBhYnNfeCA9IGV2ZW50LnBhZ2VYIC0gJChgLndpbmRvd3BvcC1jb250YWluZXItJHtzZWxlY3RlZFVzZXJuYW1lfWApLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgICAgIGxldCBhYnNfeSA9IGV2ZW50LnBhZ2VZIC0gJChgLndpbmRvd3BvcC1jb250YWluZXItJHtzZWxlY3RlZFVzZXJuYW1lfWApLm9mZnNldCgpLnRvcDtcclxuICAgICAgICAgICAgJChkb2N1bWVudCkubW91c2Vtb3ZlKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvYmogPSAkKGAud2luZG93cG9wLWNvbnRhaW5lci0ke3NlbGVjdGVkVXNlcm5hbWV9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlZnRfeCA9IGV2ZW50LnBhZ2VYIC0gYWJzX3g7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvcF95ID0gZXZlbnQucGFnZVkgLSBhYnNfeTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiBsZWZ0X3gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0b3AnOiB0b3BfeVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoub2Zmc2V0KCkubGVmdCA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbGVmdCc6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9mZnNldCgpLmxlZnQgPiAod2luZG93LmlubmVyV2lkdGggLSA2NDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiB3aW5kb3cuaW5uZXJXaWR0aCAtIDY0MCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoub2Zmc2V0KCkudG9wIDwgNTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG9wJzogNTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9mZnNldCgpLnRvcCA+ICh3aW5kb3cuaW5uZXJIZWlnaHQgLSA0ODApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvcCc6IHdpbmRvdy5pbm5lckhlaWdodCAtIDQ4MCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS5tb3VzZXVwKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlzTW92ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsZXQgcGxheWVyTWFwID0ge307XHJcbiAgICAgICAgbGV0IHBsYXllcjtcclxuICAgICAgICBsZXQgbGFzdFRvcDtcclxuICAgICAgICAkKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi50ZWFtLWVhY2gtZGV2LXZpZGVvXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZWxlY3RlZFVzZXJuYW1lID0gJCh0aGlzKS5hdHRyKCdkYXRhLWluZm8tdXNlcm5hbWUnKTtcclxuICAgICAgICAgICAgICAgIGlmIChldmFsKFwicGxheWVyTWFwLlwiICsgc2VsZWN0ZWRVc2VybmFtZSArIFwiID09bnVsbFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllck1hcFtgJHtzZWxlY3RlZFVzZXJuYW1lfWBdID0gc2VsZWN0ZWRVc2VybmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInNlbGVjdGVkVXNlcm5hbWU6ICAgIFwiICsgc2VsZWN0ZWRVc2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHdpbmRvd3NWaWRlbyA9IGA8ZGl2IGNsYXNzPVwid2luZG93cG9wLWNvbnRhaW5lciB3aW5kb3dwb3AtY29udGFpbmVyLSR7c2VsZWN0ZWRVc2VybmFtZX1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwid2luZG93cG9wLXRpdGxlXCIgIGRhdGEtaW5mby11c2VybmFtZT1cIiR7c2VsZWN0ZWRVc2VybmFtZX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+JHtzZWxlY3RlZFVzZXJuYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwid2luZG93cy1jbG9zZVwiICBkYXRhLWluZm8tdXNlcm5hbWU9XCIke3NlbGVjdGVkVXNlcm5hbWV9XCI+WDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3aW5kb3dwb3AtY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx2aWRlbyBpZD1cIiR7c2VsZWN0ZWRVc2VybmFtZX1cIiBjbGFzcz1cInZpZGVvLWpzXCIgcHJlbG9hZD1cImF1dG9cIiB3aWR0aD1cIjYzNlwiIGhlaWdodD1cIjQwMFwiIHBvc3Rlcj1cIlwiIGRhdGEtc2V0dXA9XCJ7fVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzb3VyY2Ugc3JjPVwicnRtcDovLzEwNi4xNS4xOTUuODI6MTkzNS9obHMvJHtzZWxlY3RlZFVzZXJuYW1lfVwiIHR5cGU9XCJydG1wL2ZsdlwiPjwvdmlkZW8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLm1hcC1hcmVhLWNvbnRhaW5lclwiKS5hcHBlbmQod2luZG93c1ZpZGVvKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyID0gdmlkZW9qcyhgJHtzZWxlY3RlZFVzZXJuYW1lfWAsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gb25QbGF5ZXJSZWFkeSgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgLndpbmRvd3BvcC1jb250YWluZXItJHtzZWxlY3RlZFVzZXJuYW1lfWApLmZhZGVJbigzMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGxheWVyID0gdmlkZW9qcyhgJHtzZWxlY3RlZFVzZXJuYW1lfWApO1xyXG4gICAgICAgICAgICAgICAgJChgLndpbmRvd3BvcC1jb250YWluZXItJHtzZWxlY3RlZFVzZXJuYW1lfWApLmNzcyh7ICd0b3AnOiBsYXN0VG9wLCB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgJChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIuZ3JvdXAtbG9jYXRpb24tdmlkZW8tcG9wdXBcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkRGV2Q29kZSA9ICQodGhpcykuYXR0cignZGF0YS1kZXZjb2RlJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWREZXZDb2RlVmlldyA9ICQodGhpcykuYXR0cignZGF0YS1kZXZjb2RlJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZhbChgcGxheWVyTWFwW1wiJHtzZWxlY3RlZERldkNvZGVWaWV3fVwiXSA9PW51bGxgKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllck1hcFtgJHtzZWxlY3RlZERldkNvZGVWaWV3fWBdID0gc2VsZWN0ZWREZXZDb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwic2VsZWN0ZWRVc2VybmFtZTogICAgXCIgKyBzZWxlY3RlZFVzZXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgd2luZG93c1ZpZGVvID0gYDxkaXYgY2xhc3M9XCJ3aW5kb3dwb3AtY29udGFpbmVyIHdpbmRvd3BvcC1jb250YWluZXItJHtzZWxlY3RlZERldkNvZGV9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIndpbmRvd3BvcC10aXRsZVwiICBkYXRhLWluZm8tZGV2Y29kZT1cIiR7c2VsZWN0ZWREZXZDb2RlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4ke3NlbGVjdGVkRGV2Q29kZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIndpbmRvd3MtY2xvc2VcIiAgZGF0YS1pbmZvLWRldmNvZGU9XCIke3NlbGVjdGVkRGV2Q29kZX1cIj5YPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIndpbmRvd3BvcC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHZpZGVvIGlkPVwiJHtzZWxlY3RlZERldkNvZGV9X3BvcHVwXCIgY2xhc3M9XCJ2aWRlby1qc1wiIHByZWxvYWQ9XCJhdXRvXCIgd2lkdGg9XCI2MzZcIiBoZWlnaHQ9XCI0MDBcIiBwb3N0ZXI9XCJcIiBkYXRhLXNldHVwPVwie31cIj5cclxuICAgICAgICAgICAgICAgICAgICA8c291cmNlIHNyYz1cInJ0bXA6Ly8xMDYuMTUuMTk1LjgyOjE5MzUvaGxzLyR7c2VsZWN0ZWREZXZDb2RlfVwiIHR5cGU9XCJydG1wL2ZsdlwiPjwvdmlkZW8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIndpbmRvd3BvcC1tdXRlZFwiIGRhdGEtaW5mby1kZXZjb2RlPVwiJHtzZWxlY3RlZERldkNvZGV9XCIgZGF0YS1zdGF0dXM9XCIwXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLm1hcC1hcmVhLWNvbnRhaW5lclwiKS5hcHBlbmQod2luZG93c1ZpZGVvKTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIgPSB2aWRlb2pzKGAke3NlbGVjdGVkRGV2Q29kZX1fcG9wdXBgLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIG9uUGxheWVyUmVhZHkoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKGAud2luZG93cG9wLWNvbnRhaW5lci0ke3NlbGVjdGVkRGV2Q29kZX1gKS5mYWRlSW4oMzAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICQoYC53aW5kb3dwb3AtY29udGFpbmVyLSR7c2VsZWN0ZWREZXZDb2RlfWApLmNzcyh7ICd0b3AnOiBsYXN0VG9wLCB9KTtcclxuICAgICAgICAgICAgICAgICQoYC5ncm91cC1sb2NhdGlvbi12aWRlby1vdXQtJHtzZWxlY3RlZERldkNvZGV9YCkuY2xpY2soKTtcclxuICAgICAgICAgICAgICAgICQoYC5ncm91cC1sb2NhdGlvbi12aWRlby1vdXQtJHtzZWxlY3RlZERldkNvZGV9YCkuYXR0cignZGF0YS1pbmZvLWNsb3NlJywgMCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIgPSB2aWRlb2pzKGAke3NlbGVjdGVkRGV2Q29kZX1gKTtcclxuICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgcGxheWVyID0gdmlkZW9qcyhgJHtzZWxlY3RlZERldkNvZGV9X3BvcHVwYCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLndpbmRvd3MtY2xvc2VcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRWaWRlbyA9ICQodGhpcykuYXR0cignZGF0YS1pbmZvLWRldmNvZGUnKTtcclxuICAgICAgICAgICAgJChgZ3JvdXAtbG9jYXRpb24tdmlkZW8tb3V0LSR7c2VsZWN0ZWRWaWRlb31gKS5hdHRyKCdkYXRhLWluZm8tY2xvc2UnLCAxKTtcclxuICAgICAgICAgICAgbGFzdFRvcCA9ICQoYC53aW5kb3dwb3AtY29udGFpbmVyLSR7c2VsZWN0ZWRWaWRlb31gKS5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgICAgICQoYC53aW5kb3dwb3AtY29udGFpbmVyLSR7c2VsZWN0ZWRWaWRlb31gKS5jc3MoeyAndG9wJzogLTEwMDAsIH0pO1xyXG4gICAgICAgICAgICAkKGAuZ3JvdXAtbG9jYXRpb24tdmlkZW8tb3V0LSR7c2VsZWN0ZWRWaWRlb31gKS5hdHRyKCdkYXRhLWluZm8tY2xvc2UnLCAxKTtcclxuICAgICAgICAgICAgJChgLmdyb3VwLWxvY2F0aW9uLXZpZGVvLW91dC0ke3NlbGVjdGVkVmlkZW99YCkuY2xpY2soKTtcclxuICAgICAgICAgICAgcGxheWVyID0gdmlkZW9qcyhgJHtzZWxlY3RlZFZpZGVvfV9wb3B1cGApO1xyXG4gICAgICAgICAgICBwbGF5ZXIucGF1c2UoKTtcclxuICAgICAgICAgICAgcGxheWVyID0gdmlkZW9qcyhgJHtzZWxlY3RlZFZpZGVvfWApO1xyXG4gICAgICAgICAgICBwbGF5ZXIubG9hZCgpO1xyXG4gICAgICAgICAgICBwbGF5ZXIucGxheSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIud2luZG93cG9wLW11dGVkXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkVmlkZW8gPSAkKHRoaXMpLmF0dHIoJ2RhdGEtaW5mby1kZXZjb2RlJyk7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ2RhdGEtc3RhdHVzJykgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwidXJsKGltZy9pY29uL3ZvaWNlX25vbmUucG5nKSBuby1yZXBlYXRcIik7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIgPSB2aWRlb2pzKGAke3NlbGVjdGVkVmlkZW99X3BvcHVwYCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIubXV0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtc3RhdHVzJywgMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmRcIiwgXCJ1cmwoaW1nL2ljb24vdm9pY2UucG5nKSBuby1yZXBlYXRcIik7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIubXV0ZWQoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLXN0YXR1cycsIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG5cclxuICAgICAgICAvKiDlj7PpnaLmnb/ngrnlh7vliIfmjaLop4bop5IqL1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcudGVhbS1lYWNoLWRldicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkRGV2Q29kZSA9ICQodGhpcykuYXR0cignZGF0YS1pbmZvLWRldmNvZGUnKTtcclxuICAgICAgICAgICAgVmlldy5WaWV3Q2hhbmdlKHNlbGVjdGVkRGV2Q29kZSk7XHJcbiAgICAgICAgICAgICQoJy50ZWFtLWVhY2gtZGV2JykucmVtb3ZlQ2xhc3MoJ3RlYW0tZWFjaC1kZXYtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3RlYW0tZWFjaC1kZXYtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQoJy52aWV3LXN3aXRjaC1jaG9vc2VyJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgbGV0IGltZ1R5cGUgPSAnJztcclxuICAgICAgICAgICAgaWYgKGRldkRyYXdJbmZvTWFwLmdldChzZWxlY3RlZERldkNvZGUpLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaW1nVHlwZSA9ICdjYXInO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW1nVHlwZSA9ICdzaW5nbGUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAkKCcudmlldy1jdXJyZW50LWRldicpLmh0bWwoYFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ2aWV3LWN1cnJlbnQtdXNlcm5hbWUgdXNlci1uYW1lLXZhbHVlLWJ5LWlkLSR7ZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkudXNlcklkfVwiPiR7ZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkucmVhbE5hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cInZpZXctY3VycmVudC1kZXYtaW1nLSR7aW1nVHlwZX1cIiBzcmM9XCJpbWcvJHtpbWdUeXBlfV8ke2RldkRyYXdJbmZvTWFwLmdldChzZWxlY3RlZERldkNvZGUpLmRldkltZ0luZGV4fS5wbmdcIj5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwibWR1aS1pY29uIG1hdGVyaWFsLWljb25zXCI+JiN4ZTVjNzs8L2k+XHJcbiAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5ncm91cC1sb2NhdGlvbi1lYWNoJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWREZXZDb2RlID0gJCh0aGlzKS5hdHRyKCdkYXRhLWluZm8tZGV2Y29kZScpO1xyXG4gICAgICAgICAgICBWaWV3LlZpZXdDaGFuZ2Uoc2VsZWN0ZWREZXZDb2RlKTtcclxuICAgICAgICAgICAgJCgnLmdyb3VwLWxvY2F0aW9uLWVhY2gnKS5yZW1vdmVDbGFzcygnZ3JvdXAtbG9jYXRpb24tY2hvb3NlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2dyb3VwLWxvY2F0aW9uLWNob29zZScpO1xyXG4gICAgICAgICAgICBsZXQgaW1nVHlwZSA9ICcnO1xyXG4gICAgICAgICAgICBpZiAoZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkuZGV2VHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpbWdUeXBlID0gJ2Nhcic7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkuZGV2VHlwZSA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBpbWdUeXBlID0gJ3NpbmdsZSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkuZGV2VHlwZSA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICBpbWdUeXBlID0gJ291dHNpZGUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAkKCcudmlldy1jdXJyZW50LWRldicpLmh0bWwoYFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ2aWV3LWN1cnJlbnQtdXNlcm5hbWUgdXNlci1uYW1lLXZhbHVlLWJ5LWlkLSR7ZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkudXNlcklkfVwiPiR7ZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkucmVhbE5hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cInZpZXctY3VycmVudC1kZXYtaW1nLSR7aW1nVHlwZX1cIiBzcmM9XCJpbWcvJHtpbWdUeXBlfV8ke2RldkRyYXdJbmZvTWFwLmdldChzZWxlY3RlZERldkNvZGUpLmRldkltZ0luZGV4fS5wbmdcIj5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwibWR1aS1pY29uIG1hdGVyaWFsLWljb25zXCI+JiN4ZTVjNzs8L2k+XHJcbiAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5ncm91cC1vdXRzaWRlLWVhY2gtaXRlbScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkRGV2Q29kZSA9ICQodGhpcykuYXR0cignZGF0YS1pbmZvLWRldmNvZGUnKTtcclxuICAgICAgICAgICAgVmlldy5WaWV3Q2hhbmdlKHNlbGVjdGVkRGV2Q29kZSk7XHJcbiAgICAgICAgICAgICQoJy5ncm91cC1vdXRzaWRlLWVhY2gtaXRlbScpLnJlbW92ZUNsYXNzKCdncm91cC1sb2NhdGlvbi1jaG9vc2UnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnZ3JvdXAtbG9jYXRpb24tY2hvb3NlJyk7XHJcbiAgICAgICAgICAgIGxldCBpbWdUeXBlID0gJyc7XHJcbiAgICAgICAgICAgIGlmIChkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5kZXZUeXBlID09IDEpIHtcclxuICAgICAgICAgICAgICAgIGltZ1R5cGUgPSAnY2FyJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5kZXZUeXBlID09IDIpIHtcclxuICAgICAgICAgICAgICAgIGltZ1R5cGUgPSAnc2luZ2xlJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5kZXZUeXBlID09IDMpIHtcclxuICAgICAgICAgICAgICAgIGltZ1R5cGUgPSAnb3V0c2lkZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyoqZWR0aSBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICQoJy52aWV3LWN1cnJlbnQtZGV2JykuaHRtbChgXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInZpZXctY3VycmVudC11c2VybmFtZSB1c2VyLW5hbWUtdmFsdWUtYnktaWQtJHtkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS51c2VySWR9XCI+JHtkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5yZWFsTmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwidmlldy1jdXJyZW50LWRldi1pbWctJHtpbWdUeXBlfVwiIHNyYz1cImltZy8ke2ltZ1R5cGV9XyR7ZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkuZGV2SW1nSW5kZXh9LnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJtZHVpLWljb24gbWF0ZXJpYWwtaWNvbnNcIj4mI3hlNWM3OzwvaT5cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICB9KTtcclxuICAgICAgICBsZXQgdmlkZW9NYXAgPSB7fTtcclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmdyb3VwLWxvY2F0aW9uLXZpZGVvLW91dCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkRGV2Q29kZSA9ICQodGhpcykuYXR0cignZGF0YS1pbmZvLWRldmNvZGUnKTtcclxuICAgICAgICAgICAgaWYgKCQoYC5ncm91cC1sb2NhdGlvbi12aWRlby1vdXQtJHtzZWxlY3RlZERldkNvZGV9YCkuYXR0cignZGF0YS1pbmZvLWNsb3NlJykgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cihcImRhdGEtaW5mby1zdGF0dXNcIikgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuY3NzKFwiYmFja2dyb3VuZFwiLCBcInVybChpbWcvaWNvbi92aWRlb19pbi5wbmcpIG5vLXJlcGVhdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkKGAudGVhbS1lYWNoLWRldi0ke3NlbGVjdGVkRGV2Q29kZX1gKS5jc3MoJ3dpZHRoJywgJzM4NnB4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKFwiZGF0YS1pbmZvLXN0YXR1c1wiLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZhbChgdmlkZW9NYXBbXCIke3NlbGVjdGVkRGV2Q29kZX1cIl0gPT1udWxsYCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9NYXBbYCR7c2VsZWN0ZWREZXZDb2RlfWBdID0gc2VsZWN0ZWREZXZDb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInNlbGVjdGVkVXNlcm5hbWU6ICAgIFwiICsgc2VsZWN0ZWRVc2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aW5kb3dzVmlkZW8gPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8dmlkZW8gaWQ9XCIke3NlbGVjdGVkRGV2Q29kZX1cIiBjbGFzcz1cInZpZGVvLWpzXCIgcHJlbG9hZD1cImF1dG9cIiB3aWR0aD1cIjE0MFwiIGhlaWdodD1cIjEzMlwiIHBvc3Rlcj1cIlwiIGRhdGEtc2V0dXA9XCJ7fVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzb3VyY2Ugc3JjPVwicnRtcDovLzEwNi4xNS4xOTUuODI6MTkzNS9obHMvJHtzZWxlY3RlZERldkNvZGV9XCIgdHlwZT1cInJ0bXAvZmx2XCI+PC92aWRlbz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtbG9jYXRpb24tdmlkZW8tcG9wdXAgZ3JvdXAtbG9jYXRpb24tdmlkZW8tcG9wdXAtJHtzZWxlY3RlZERldkNvZGV9XCIgZGF0YS1kZXZjb2RlPVwiJHtzZWxlY3RlZERldkNvZGV9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGAuZ3JvdXAtbG9jYXRpb24tdmlkZW8tY29udGFpbmVyLSR7c2VsZWN0ZWREZXZDb2RlfWApLmFwcGVuZCh3aW5kb3dzVmlkZW8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIgPSB2aWRlb2pzKGAke3NlbGVjdGVkRGV2Q29kZX1gLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gb25QbGF5ZXJSZWFkeSgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubXV0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5ncm91cC1sb2NhdGlvbi12aWRlby1jb250YWluZXItJHtzZWxlY3RlZERldkNvZGV9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICQoYC5ncm91cC1sb2NhdGlvbi12aWRlby1jb250YWluZXItJHtzZWxlY3RlZERldkNvZGV9YCkuY3NzKCdyaWdodCcsICc3cHgnKTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIgPSB2aWRlb2pzKGAke3NlbGVjdGVkRGV2Q29kZX1gKTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuY3NzKFwiYmFja2dyb3VuZFwiLCBcInVybChpbWcvaWNvbi92aWRlb19vdXQucG5nKSBuby1yZXBlYXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgLnRlYW0tZWFjaC1kZXYtJHtzZWxlY3RlZERldkNvZGV9YCkuY3NzKCd3aWR0aCcsICcyMzZweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoYC5ncm91cC1sb2NhdGlvbi12aWRlby1jb250YWluZXItJHtzZWxlY3RlZERldkNvZGV9YCkuY3NzKCdyaWdodCcsICcxMTcwcHgnKTtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoXCJkYXRhLWluZm8tc3RhdHVzXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllciA9IHZpZGVvanMoYCR7c2VsZWN0ZWREZXZDb2RlfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKFwibW91c2Vkb3duXCIsIFwiLnRhcmdldC1sdGUtaW5mby10aXRsZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCBpc01vdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBsZXQgYWJzX3ggPSBldmVudC5wYWdlWCAtICQoYC50YXJnZXQtbHRlLWluZm8tY29udGFpbmVyYCkub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICAgICAgbGV0IGFic195ID0gZXZlbnQucGFnZVkgLSAkKGAudGFyZ2V0LWx0ZS1pbmZvLWNvbnRhaW5lcmApLm9mZnNldCgpLnRvcDtcclxuICAgICAgICAgICAgJChkb2N1bWVudCkubW91c2Vtb3ZlKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvYmogPSAkKGAudGFyZ2V0LWx0ZS1pbmZvLWNvbnRhaW5lcmApO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsZWZ0X3ggPSBldmVudC5wYWdlWCAtIGFic194O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3BfeSA9IGV2ZW50LnBhZ2VZIC0gYWJzX3k7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdsZWZ0JzogbGVmdF94LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAndG9wJzogdG9wX3lcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9mZnNldCgpLmxlZnQgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vZmZzZXQoKS5sZWZ0ID4gKHdpbmRvdy5pbm5lcldpZHRoIC0gNDE2KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsZWZ0Jzogd2luZG93LmlubmVyV2lkdGggLSA0MTYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9mZnNldCgpLnRvcCA8IDUwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvcCc6IDUwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vZmZzZXQoKS50b3AgPiAod2luZG93LmlubmVySGVpZ2h0IC0gMzEwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3AnOiB3aW5kb3cuaW5uZXJIZWlnaHQgLSAzMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkubW91c2V1cChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpc01vdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKFwibW91c2Vkb3duXCIsIFwiLnRhLWluZm8tdGl0bGVcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgaXNNb3ZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgbGV0IGFic194ID0gZXZlbnQucGFnZVggLSAkKGAudGEtaW5mby1jb250YWluZXJgKS5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgICAgICAgICBsZXQgYWJzX3kgPSBldmVudC5wYWdlWSAtICQoYC50YS1pbmZvLWNvbnRhaW5lcmApLm9mZnNldCgpLnRvcDtcclxuICAgICAgICAgICAgJChkb2N1bWVudCkubW91c2Vtb3ZlKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvYmogPSAkKGAudGEtaW5mby1jb250YWluZXJgKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGVmdF94ID0gZXZlbnQucGFnZVggLSBhYnNfeDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9wX3kgPSBldmVudC5wYWdlWSAtIGFic195O1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbGVmdCc6IGxlZnRfeCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RvcCc6IHRvcF95XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vZmZzZXQoKS5sZWZ0IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsZWZ0JzogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoub2Zmc2V0KCkubGVmdCA+ICh3aW5kb3cuaW5uZXJXaWR0aCAtIDc3MikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbGVmdCc6IHdpbmRvdy5pbm5lcldpZHRoIC0gNzcyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vZmZzZXQoKS50b3AgPCA1MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3AnOiA1MCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoub2Zmc2V0KCkudG9wID4gKHdpbmRvdy5pbm5lckhlaWdodCAtIDQ0OCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG9wJzogd2luZG93LmlubmVySGVpZ2h0IC0gNDQ4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLm1vdXNldXAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaXNNb3ZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKFwibW91c2Vkb3duXCIsIFwiLmFkdmFuY2UtaW5mby10aXRsZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCBpc01vdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBsZXQgYWJzX3ggPSBldmVudC5wYWdlWCAtICQoYC5hZHZhbmNlLWluZm8tY29udGFpbmVyc2ApLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgICAgIGxldCBhYnNfeSA9IGV2ZW50LnBhZ2VZIC0gJChgLmFkdmFuY2UtaW5mby1jb250YWluZXJzYCkub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5tb3VzZW1vdmUoZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9iaiA9ICQoYC5hZHZhbmNlLWluZm8tY29udGFpbmVyc2ApO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsZWZ0X3ggPSBldmVudC5wYWdlWCAtIGFic194O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3BfeSA9IGV2ZW50LnBhZ2VZIC0gYWJzX3k7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdsZWZ0JzogbGVmdF94LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAndG9wJzogdG9wX3lcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9mZnNldCgpLmxlZnQgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vZmZzZXQoKS5sZWZ0ID4gKHdpbmRvdy5pbm5lcldpZHRoIC0gNjEwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsZWZ0Jzogd2luZG93LmlubmVyV2lkdGggLSA2MTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9mZnNldCgpLnRvcCA8IDUwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvcCc6IDUwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vZmZzZXQoKS50b3AgPiAod2luZG93LmlubmVySGVpZ2h0IC0gNDM2KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3AnOiB3aW5kb3cuaW5uZXJIZWlnaHQgLSA0MzYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkubW91c2V1cChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpc01vdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKFwibW91c2Vkb3duXCIsIFwiLmFjdGl2ZS1pbmZvLXRpdGxlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbGV0IGlzTW92ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGxldCBhYnNfeCA9IGV2ZW50LnBhZ2VYIC0gJChgLmFjdGl2ZS1pbmZvLWNvbnRhaW5lcmApLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgICAgIGxldCBhYnNfeSA9IGV2ZW50LnBhZ2VZIC0gJChgLmFjdGl2ZS1pbmZvLWNvbnRhaW5lcmApLm9mZnNldCgpLnRvcDtcclxuICAgICAgICAgICAgJChkb2N1bWVudCkubW91c2Vtb3ZlKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvYmogPSAkKGAuYWN0aXZlLWluZm8tY29udGFpbmVyYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlZnRfeCA9IGV2ZW50LnBhZ2VYIC0gYWJzX3g7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvcF95ID0gZXZlbnQucGFnZVkgLSBhYnNfeTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiBsZWZ0X3gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0b3AnOiB0b3BfeVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoub2Zmc2V0KCkubGVmdCA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbGVmdCc6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9mZnNldCgpLmxlZnQgPiAod2luZG93LmlubmVyV2lkdGggLSAzMjApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiB3aW5kb3cuaW5uZXJXaWR0aCAtIDMyMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoub2Zmc2V0KCkudG9wIDwgNTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG9wJzogNTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9mZnNldCgpLnRvcCA+ICh3aW5kb3cuaW5uZXJIZWlnaHQgLSAyNDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvcCc6IHdpbmRvdy5pbm5lckhlaWdodCAtIDI0MCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS5tb3VzZXVwKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlzTW92ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyrln7rnq5nmkJzntKLlvLnmoYYqL1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKFwibW91c2Vkb3duXCIsIFwiLm1vdmVfc2VhcmNoX21vZGFsXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbGV0IGlzTW92ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGxldCBhYnNfeCA9IGV2ZW50LnBhZ2VYIC0gJChgLnNlYXJjaC1idHMtY29udGFpbmVyc2ApLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgICAgIGxldCBhYnNfeSA9IGV2ZW50LnBhZ2VZIC0gJChgLnNlYXJjaC1idHMtY29udGFpbmVyc2ApLm9mZnNldCgpLnRvcDtcclxuICAgICAgICAgICAgJChkb2N1bWVudCkubW91c2Vtb3ZlKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvYmogPSAkKGAuc2VhcmNoLWJ0cy1jb250YWluZXJzYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlZnRfeCA9IGV2ZW50LnBhZ2VYIC0gYWJzX3g7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvcF95ID0gZXZlbnQucGFnZVkgLSBhYnNfeTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiBsZWZ0X3gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0b3AnOiB0b3BfeVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoub2Zmc2V0KCkubGVmdCA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbGVmdCc6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9mZnNldCgpLmxlZnQgPiAod2luZG93LmlubmVyV2lkdGggLSAzMjApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiB3aW5kb3cuaW5uZXJXaWR0aCAtIDMyMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoub2Zmc2V0KCkudG9wIDwgNTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG9wJzogNTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9mZnNldCgpLnRvcCA+ICh3aW5kb3cuaW5uZXJIZWlnaHQgLSAyNDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvcCc6IHdpbmRvdy5pbm5lckhlaWdodCAtIDI0MCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS5tb3VzZXVwKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlzTW92ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgLyog5bem5LiL6KeSdmlldy1jdXJyZW50LWRldueCueWHuyovXHJcbiAgICAgICAgJCgnLnZpZXctY3VycmVudC1kZXYnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKCcudmlldy1zd2l0Y2gtY2hvb3NlcicpLmNzcygnZGlzcGxheScpID09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgJCgnLnZpZXctc3dpdGNoLWNob29zZXInKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJy52aWV3LXN3aXRjaC1jaG9vc2VyJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuY2hvb3NlLWNvbnRhaW5lcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkRGV2Q29kZSA9ICQodGhpcykuYXR0cignZGF0YS1kZXZjb2RlJyk7XHJcbiAgICAgICAgICAgIFZpZXcuVmlld0NoYW5nZShzZWxlY3RlZERldkNvZGUpO1xyXG4gICAgICAgICAgICAvKmVkdGkgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAvLyAkKCcudGVhbS1lYWNoLWRldicpLnJlbW92ZUNsYXNzKCd0ZWFtLWVhY2gtZGV2LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAvLyAkKGAudGVhbS1lYWNoLWRldi0ke3NlbGVjdGVkRGV2Q29kZX1gKS5hZGRDbGFzcygndGVhbS1lYWNoLWRldi1hY3RpdmUnKTtcclxuICAgICAgICAgICAgJCgnLmdyb3VwLWxvY2F0aW9uLWVhY2gnKS5yZW1vdmVDbGFzcygnZ3JvdXAtbG9jYXRpb24tY2hvb3NlJyk7XHJcbiAgICAgICAgICAgICQoYC50ZWFtLWVhY2gtZGV2LSR7c2VsZWN0ZWREZXZDb2RlfWApLmFkZENsYXNzKCdncm91cC1sb2NhdGlvbi1jaG9vc2UnKTtcclxuICAgICAgICAgICAgLyplZHRpIGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgICQoJy52aWV3LXN3aXRjaC1jaG9vc2VyJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgbGV0IGltZ1R5cGUgPSAnJztcclxuICAgICAgICAgICAgaWYgKGRldkRyYXdJbmZvTWFwLmdldChzZWxlY3RlZERldkNvZGUpLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaW1nVHlwZSA9ICdjYXInO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW1nVHlwZSA9ICdzaW5nbGUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQoJy52aWV3LWN1cnJlbnQtZGV2JykuaHRtbChgXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInZpZXctY3VycmVudC11c2VybmFtZSB1c2VyLW5hbWUtdmFsdWUtYnktaWQtJHtkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS51c2VySWR9XCI+JHtkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS51c2VyTmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwidmlldy1jdXJyZW50LWRldi1pbWctJHtpbWdUeXBlfVwiIHNyYz1cImltZy8ke2ltZ1R5cGV9XyR7ZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkuZGV2SW1nSW5kZXh9LnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJtZHVpLWljb24gbWF0ZXJpYWwtaWNvbnNcIj4mI3hlNWM3OzwvaT5cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFZpZXdDaGFuZ2Uoc2VsZWN0ZWREZXZDb2RlKSB7XHJcbiAgICAgICAgaWYgKCFkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5pc0NvcnJlbnRWaWV3KSB7XHJcbiAgICAgICAgICAgIC8qIOabtOaUueiuvuWkh+i3r+W+hOe6v+minOiJsiovXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50RGV2Q29kZTsgLy8gMS7lsIblvZPliY3op4bop5LnmoTot6/lvoTnur/nva7ngbDvvIwyLuWwhuaWsOinhuinkueahOi3r+W+hOe6v+iuvuS4uumrmOS6rlxyXG4gICAgICAgICAgICBkZXZEcmF3SW5mb01hcC5mb3JFYWNoKChlYWNoRGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWFjaERldi5pc0NvcnJlbnRWaWV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudERldkNvZGUgPSBlYWNoRGV2LmRldkNvZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBsZXQgY3VycmVudERldkxpbmUgPSBsaW5lT3ZlcmxheU1hcC5saW5lLmdldChjdXJyZW50RGV2Q29kZSkubGluZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lT3ZlcmxheU1hcC5saW5lLmdldChjdXJyZW50RGV2Q29kZSkubGluZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGluZU92ZXJsYXlNYXAubGluZS5nZXQoY3VycmVudERldkNvZGUpLmxpbmVbaV0uc2V0U3Ryb2tlQ29sb3IoZGV2RHJhd0luZm9NYXAuZ2V0KGN1cnJlbnREZXZDb2RlKS5yb3V0ZUxpbmVDb2xvcik7ICAvLyDot6/lvoTnur/nva7ngbBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVPdmVybGF5TWFwLmxpbmUuZ2V0KGN1cnJlbnREZXZDb2RlKS50ZW1wTGluZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGluZU92ZXJsYXlNYXAubGluZS5nZXQoY3VycmVudERldkNvZGUpLnRlbXBMaW5lW2ldLnNldFN0cm9rZUNvbG9yKGRldkRyYXdJbmZvTWFwLmdldChjdXJyZW50RGV2Q29kZSkucm91dGVMaW5lQ29sb3IpOyAgLy8g6Lev5b6E57q/572u54GwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZ2V0KGN1cnJlbnREZXZDb2RlKS5pc0NvcnJlbnRWaWV3ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIGxldCBzZWxlY3RlZERldkxpbmUgPSBsaW5lT3ZlcmxheU1hcC5saW5lLmdldChzZWxlY3RlZERldkNvZGUpLmxpbmU7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZU92ZXJsYXlNYXAubGluZS5nZXQoc2VsZWN0ZWREZXZDb2RlKS5saW5lLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsaW5lT3ZlcmxheU1hcC5saW5lLmdldChzZWxlY3RlZERldkNvZGUpLmxpbmVbaV0uc2V0U3Ryb2tlQ29sb3IoJyMwMDgwMzAnKTsgLy8g6Lev5b6E57q/6auY5LquXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lT3ZlcmxheU1hcC5saW5lLmdldChzZWxlY3RlZERldkNvZGUpLnRlbXBMaW5lLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsaW5lT3ZlcmxheU1hcC5saW5lLmdldChzZWxlY3RlZERldkNvZGUpLnRlbXBMaW5lW2ldLnNldFN0cm9rZUNvbG9yKCcjMDA4MDMwJyk7IC8vIOi3r+W+hOe6v+mrmOS6rlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRldkRyYXdJbmZvTWFwLmdldChzZWxlY3RlZERldkNvZGUpLmlzQ29ycmVudFZpZXcgPSB0cnVlO1xyXG4gICAgICAgICAgICAvKiDliIfmjaLml7bpl7TovbTog73ph4/mnaEqL1xyXG4gICAgICAgICAgICAkKCcuZW5nLWNvbHVtbi1jaGFydC1jb250YWluZXInKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAkKGAuZW5nLWNvbHVtbi1jaGFydC1jb250YWluZXItJHtzZWxlY3RlZERldkNvZGV9YCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgIC8qIOe7mOWItuWOhuWPsuW9seWtkFxyXG4gICAgICAgICAgICBsZXQgbWFya2VyVGltZSA9IFRpbWVMaW5lLmdldE1hcmtlclRpbWUoKTtcclxuICAgICAgICAgICAgVGltZUxpbmUuZGV2SGlzdG9yeVNoYWRvdyhtYXJrZXJUaW1lKTsqL1xyXG4gICAgICAgICAgICAvKiDlpoLmnpzkuLrovabovb3vvIzmm7TmlrDovabpgJ/mmL7npLoqL1xyXG4gICAgICAgICAgICAvKipkZWwgYnkgZ2FvY2hhbyBzdGFydCAgKi9cclxuICAgICAgICAgICAgLy8gaWYgKGRldkRyYXdJbmZvTWFwLmdldChzZWxlY3RlZERldkNvZGUpLmRldlR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAvLyAgICAgJCgnLmNhci1zcGVlZCcpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAvLyAgICAgJCgnLmNhci1zcGVlZC12YWx1ZScpLmh0bWwoZGV2SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5ncHNJbmZvLnNwZWVkKTtcclxuICAgICAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gICAgICQoJy5jYXItc3BlZWQnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIC8qKmRlbCBieSBnYW9jaGFvIGVuZCAgKi9cclxuICAgICAgICAgICAgLyog5pu05paw5bem5LiL6KeS5Zu+54mHKi9cclxuICAgICAgICAgICAgLyoqZWR0aSBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgIGlmIChkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5kZXZUeXBlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICQoJy52aWV3LWN1cnJlbnQtZGV2JykuaHRtbChgXHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ2aWV3LWN1cnJlbnQtdXNlcm5hbWUgdXNlci1uYW1lLXZhbHVlLWJ5LWlkLSR7ZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkudXNlcklkfVwiPiR7ZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkucmVhbE5hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJ2aWV3LWN1cnJlbnQtZGV2LWltZy1jYXJcIiBzcmM9XCJpbWcvY2FyXyR7ZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkuZGV2SW1nSW5kZXh9LnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwibWR1aS1pY29uIG1hdGVyaWFsLWljb25zXCI+JiN4ZTVjNzs8L2k+XHJcbiAgICAgICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgICAgICAgICAkKCcudmlldy1jdXJyZW50LWRldi1jb250YWluZXInKS5odG1sKGBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2aWV3LWN1cnJlbnQtZGV2LWljb24tY2FyXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOnVybChpbWcvaWNvbi9jYXJfdmlld18ke2RldkRyYXdJbmZvTWFwLmdldChzZWxlY3RlZERldkNvZGUpLmRldkltZ0luZGV4fS5wbmcpbm8tcmVwZWF0O2JhY2tncm91bmQtc2l6ZTogY292ZXI7XCI+PC9kaXY+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cInZpZXctY3VycmVudC11c2VybmFtZS1jb250ZW50ICB1c2VyLW5hbWUtdmFsdWUtYnktaWQtJHtkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS51c2VySWR9XCIgdGl0bGU9XCIke2RldkRyYXdJbmZvTWFwLmdldChzZWxlY3RlZERldkNvZGUpLnJlYWxOYW1lfVwiPiR7ZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkucmVhbE5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnLnZpZXctY3VycmVudC1kZXYnKS5odG1sKGBcclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInZpZXctY3VycmVudC11c2VybmFtZSB1c2VyLW5hbWUtdmFsdWUtYnktaWQtJHtkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS51c2VySWR9XCI+JHtkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5yZWFsTmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cInZpZXctY3VycmVudC1kZXYtaW1nLXNpbmdsZVwiIHNyYz1cImltZy9zaW5nbGVfJHtkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5kZXZJbWdJbmRleH0ucG5nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJtZHVpLWljb24gbWF0ZXJpYWwtaWNvbnNcIj4mI3hlNWM3OzwvaT5cclxuICAgICAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgIGlmIChkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5kZXZUeXBlID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcudmlldy1jdXJyZW50LWRldi1jb250YWluZXInKS5odG1sKGBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidmlldy1jdXJyZW50LWRldi1pY29uLXNpbmdsZVwiIHN0eWxlPVwiYmFja2dyb3VuZDp1cmwoaW1nL2ljb24vc2luZ2xlX3ZpZXdfJHtkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5kZXZJbWdJbmRleH0ucG5nKW5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2aWV3LWN1cnJlbnQtdXNlcm5hbWUtY29udGVudCAgdXNlci1uYW1lLXZhbHVlLWJ5LWlkLSR7ZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkudXNlcklkfVwiIHRpdGxlPVwiJHtkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5yZWFsTmFtZX1cIj4ke2RldkRyYXdJbmZvTWFwLmdldChzZWxlY3RlZERldkNvZGUpLnJlYWxOYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5kZXZUeXBlID09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcudmlldy1jdXJyZW50LWRldi1jb250YWluZXInKS5odG1sKGBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidmlldy1jdXJyZW50LWRldi1pY29uLXNpbmdsZVwiIHN0eWxlPVwiYmFja2dyb3VuZDp1cmwoaW1nL2ljb24vb3V0c2lkZV92aWV3XyR7ZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkuZGV2SW1nSW5kZXh9LnBuZyluby1yZXBlYXQ7YmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidmlldy1jdXJyZW50LXVzZXJuYW1lLWNvbnRlbnQgIHVzZXItbmFtZS12YWx1ZS1ieS1pZC0ke2RldkRyYXdJbmZvTWFwLmdldChzZWxlY3RlZERldkNvZGUpLnVzZXJJZH1cIiB0aXRsZT1cIiR7ZGV2RHJhd0luZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkucmVhbE5hbWV9XCI+JHtkZXZEcmF3SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5yZWFsTmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qKmFkZCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgLyog5pu05paw5b2T5YmN6KeG6KeS6K6+5aSH5YC8Ki9cclxuICAgICAgICAgICAgY3VycmVudFZpZXdEZXZDb2RlID0gc2VsZWN0ZWREZXZDb2RlO1xyXG4gICAgICAgICAgICAvKiDph43nu5hlY2hhcnRz54m55pWIKi9cclxuICAgICAgICAgICAgaWYgKGhpdGVkQnRzQ2FjaGUuYnRzSWQgIT0gbnVsbCAmJiBpc0J0c09wZW4pIHtcclxuICAgICAgICAgICAgICAgIERyYXdCdHNFY2hhcnRzLnNob3dCdHNTdHlsZUNTUyhoaXRlZEJ0c0NhY2hlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiDph43nu5jln7rnq5nop6PmnpDov5vluqYqL1xyXG4gICAgICAgICAgICBQYXJzaW5nTXVsdGlCdHNJbmZvLmNlbGxBbmFseXNpcyhkZXZTdGF0ZUluZm9NYXBDYWNoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIOiuvue9ruWcsOWbvuS4reW/gyovXHJcbiAgICAgICAgaWYgKGRldkluZm9NYXAuZ2V0KHNlbGVjdGVkRGV2Q29kZSkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgcG9pbnQgPSBbZGV2SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5ncHNJbmZvLmxuZywgZGV2SW5mb01hcC5nZXQoc2VsZWN0ZWREZXZDb2RlKS5ncHNJbmZvLmxhdF07XHJcbiAgICAgICAgICAgIGxldCBiZFBvaW50ID0gR1BTVG9CYWlkdVBvaW50LmdldEJhaWR1UG9pbnRMb2NhdGlvbihbcG9pbnRdKVswXTtcclxuICAgICAgICAgICAgbWFwLnNldENlbnRlcihuZXcgQk1hcC5Qb2ludChiZFBvaW50LmxuZywgYmRQb2ludC5sYXQpKTtcclxuICAgICAgICAgICAgbWFwLnNldFpvb20obWFwLmdldFpvb20oKSAtIDEpO1xyXG4gICAgICAgICAgICBtYXAuc2V0Wm9vbShtYXAuZ2V0Wm9vbSgpICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL3JlYWxUaW1lQ29tYmF0L3Rvb2wvVmlldy5qc1xuLy8gbW9kdWxlIGlkID0gNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///54\n");

/***/ }),
/* 55 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_util_CommonUtil_js__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__overlay_CarHistoryShadowOverlayConstructor_js__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__overlay_SingleHistoryShadowOverlayConstructor_js__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__ = __webpack_require__(0);\n\r\n\r\n\r\n\r\n\r\n\r\nclass TimeLine {\r\n\r\n    static initTimeLine() {\r\n\r\n        /* 获取服务器当前时间*/\r\n        let serverDate = __WEBPACK_IMPORTED_MODULE_0__common_util_CommonUtil_js__[\"a\" /* CommonUtil */].getServerDate().getTime();\r\n\r\n        /* 当前时间（蓝色覆盖物末尾值）*/\r\n        let timeLineEndValue = new Date(serverDate);\r\n        /* 时间轴末尾时间值*/\r\n        let timeEnd = parseInt(new Date(serverDate).getTime() / 1000) - new Date(serverDate).getSeconds() + 1 * 60; // 减去秒数，分钟取整\r\n        /* 设置时间轴开始时间*/\r\n        if (new Date(caseStartTime).getSeconds() >= 30) {\r\n            timeLineStartValue = parseInt((new Date(caseStartTime).getTime()) / 1000) + 1 * 60;\r\n        } else {\r\n            timeLineStartValue = parseInt((new Date(caseStartTime).getTime()) / 1000) + 1.5 * 60;\r\n        }\r\n        /* 设置时间轴长度*/\r\n        let timeLength;\r\n        if (40 - parseInt((new Date(serverDate).getTime() - new Date(caseStartTime).getTime()) / 60000) > 5) {\r\n            /* 若开始时间至结束时间小于40分钟，则将时间轴长度设为40分钟*/\r\n            // timeLength = timeEnd - timeLineStartValue + (40 - parseInt((new Date(serverDate).getTime() + new Date(caseStartTime).getSeconds() * 1000 + new Date(caseStartTime).getMilliseconds() - new Date(caseStartTime).getTime()) / 60000)) * 60;\r\n            timeLength = 2355; // 根据上述公式得出的固定值\r\n        } else {\r\n            /* 若开始时间至结束时间大于40分钟，则将时间轴长度在此基础上增加5分钟*/\r\n            timeLength = timeEnd - timeLineStartValue + 5 * 60;\r\n        }\r\n        let timeLineHtml = ''; // 时间轴模块HTML代码\r\n        /* 在小于10的数字前添加0*/\r\n        let add0AtFirst = function (param) {\r\n            if (Number(param) < 10) {\r\n                return '0' + param;\r\n            } else {\r\n                return param;\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i <= timeLength; i++) {\r\n            let currentTime = timeLineStartValue + i;\r\n            if (i % 30 == 0) {\r\n                if (i % 60 == 0) {\r\n                    if (new Date(currentTime * 1000).getMinutes() % 5 == 0) {\r\n                        /* 每5分钟处绘制大刻度*/\r\n                        timeLineHtml = timeLineHtml + `\r\n                            <div class=\"time-line-divider-long\">\r\n                                <div class=\"time-line-divider-time\">\r\n                                    ${add0AtFirst(new Date(currentTime * 1000).getHours())}:${add0AtFirst(new Date(currentTime * 1000).getMinutes())}\r\n                                </div>\r\n                            </div>\r\n                        `;\r\n                    } else {\r\n                        /* 小刻度*/\r\n                        timeLineHtml = timeLineHtml + `\r\n                            <div class=\"time-line-divider-short\"></div>\r\n                        `;\r\n                    }\r\n                }\r\n                if (currentTime > timeEnd) {\r\n                    /* 超出当前时间的格数*/\r\n                    timeDividerCountOver = timeDividerCountOver + 0.5;\r\n                }\r\n                /* 时间轴总格数*/\r\n                timeDividerCount = timeDividerCount + 0.5;\r\n            }\r\n        }\r\n        if (timeDividerCount < 40) {\r\n            timeDividerCount = 40;\r\n        } else if (timeDividerCount > 40) {\r\n            if (new Date(caseStartTime).getSeconds() != 0 && new Date(caseStartTime).getSeconds() != 30) {\r\n                timeDividerCountOver = timeDividerCountOver - 0.5;\r\n            }\r\n        }\r\n        $('.time-line-divider-container').append(timeLineHtml);\r\n        $('.time-line-divider-container').css('right', 0);\r\n        /* window resize监听事件，宽度自适应*/\r\n        let timeLineAutoSize = function () {\r\n            $('.time-line-area').css('width', $(window).width() - 270);\r\n            /* 刻度值左边距*/\r\n            $('.time-line-divider-long, .time-line-divider-short').css('margin-left', $('.time-line-container').width() * 0.025 - 1);\r\n            /* 刻度容器宽度*/\r\n            $('.time-line-divider-container').css('width', timeDividerCount * ($('.time-line-container').width() * 0.025));\r\n            /* 蓝色覆盖层宽度*/\r\n            $('.time-line-blue-cover').css('width', ((timeDividerCount - timeDividerCountOver) / timeDividerCount) * 100 + '%');\r\n            /* 能量条容器宽度*/\r\n            $(`.eng-column-chart-container`).css('width', timeDividerCount * $('.eng-column-chart').width() * 0.025);\r\n            /* 每个能量条宽度*/\r\n            $('.eng-column-value').css('width', $('.eng-column-chart').width() * 0.025 / 2 * 0.6);\r\n            $('.eng-column-value').css('margin-left', $('.eng-column-chart').width() * 0.025 / 2 * 0.2);\r\n            $('.eng-column-value').css('margin-right', $('.eng-column-chart').width() * 0.025 / 2 * 0.2);\r\n        }\r\n        timeLineAutoSize();\r\n        window.addEventListener('resize', function () {\r\n            timeLineAutoSize();\r\n        }, false);\r\n        /* 设置红色marker的位置*/\r\n        $('.time-line-marker').css('left', Number((1 - ($('.time-line-divider-container').width() - $('.time-line-blue-cover').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-container').width()) * 100) + '%');\r\n        /* 设置滑动条参数*/\r\n        $('.time-line-slider').rangeSlider({\r\n            defaultValues: {\r\n                min: (1 - ($('.time-line-container').width() / $('.time-line-divider-container').width())) * 100,\r\n                max: 100\r\n            },\r\n            range: {\r\n                min: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100,\r\n                max: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100\r\n            },\r\n            valueLabels: 'hide',\r\n            wheelMode: 'scroll'\r\n        });\r\n        $('.ui-rangeSlider-label').css('display', 'none');\r\n        /* 滑动条回调函数*/\r\n        $('.time-line-slider').on('valuesChanging', function (e, data) {\r\n            let perc = ((data.values.min + data.values.max - (($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100)) / 2) / (100 - (($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100));\r\n            /* 时间轴位置*/           // 下行公式：里面的div宽-外部div宽\r\n            $('.time-line-divider-container').css('right', (perc - 1) * ($('.time-line-divider-container').width() - $('.time-line-container').width()));\r\n            /* 能量轴位置*/\r\n            $('.eng-column-chart-container').css('right', (perc - 1) * ($('.time-line-divider-container').width() - $('.time-line-container').width()));\r\n            /* 刻度尺位置*/\r\n            let dividerRight = parseFloat($('.time-line-divider-container').css('right'));\r\n            /* 防止刻度尺超出蓝色覆盖层*/\r\n            let maxPerc = (1 - ($('.time-line-divider-container').width() - $('.time-line-blue-cover').width() + dividerRight) / $('.time-line-container').width()) * 100;\r\n            if (maxPerc < 100) {\r\n                let markLeft = $('.time-line-marker').css('left');\r\n                if (Number(markLeft.substring(0, markLeft.length - 2)) / $('.time-line-container').width() > (maxPerc / 100)) {\r\n                    $('.time-line-marker').css('left', maxPerc + '%');\r\n                }\r\n            }\r\n            /* 绘制历史影子*/\r\n            let markerTime = TimeLine.getMarkerTime(); // 获取marker所在的时间\r\n            TimeLine.devHistoryShadow(markerTime);\r\n            $('.view-default-btn-bg').css('background-position', '-210px -30px');\r\n        });\r\n        /* 时间轴初始化完成后,若当前系统时间秒数大于30，左移一次*/\r\n        if (new Date(serverDate).getSeconds() >= 30) {\r\n            /* 蓝色覆盖层宽度超出，才添加刻度*/\r\n            if (timeDividerCountOver / timeDividerCount < 0.124) {\r\n                timeDividerCount = timeDividerCount + 0.5;\r\n                $('.time-line-divider-long, .time-line-divider-short').css('margin-left', $('.time-line-container').width() * 0.025 - 1);\r\n                $('.time-line-divider-container').css('width', $('.time-line-container').width() * 0.025 / 2 + $('.time-line-divider-container').width());\r\n                /* 设置蓝色覆盖层*/\r\n                $('.time-line-blue-cover').css('width', ((timeDividerCount - timeDividerCountOver) / timeDividerCount) * 100 + '%');\r\n            } else {\r\n                timeDividerCountOver = timeDividerCountOver - 0.5;\r\n                /* 设置蓝色覆盖层*/\r\n                $('.time-line-blue-cover').css('width', ((timeDividerCount - timeDividerCountOver) / timeDividerCount) * 100 + '%');\r\n                $('.time-line-marker').css('left', Number((1 - ($('.time-line-divider-container').width() - $('.time-line-blue-cover').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-container').width()) * 100) + '%');\r\n            }\r\n            /* 修改滑动条*/\r\n            $('.time-line-slider').rangeSlider('option', 'range', {\r\n                min: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100,\r\n                max: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100\r\n            });\r\n        }\r\n        /* 点击事件*/\r\n        $('#time-line-click-cover').click(function (e) {\r\n            /* 刻度点击事件在时间轴上的百分比位置*/\r\n            let clickLeftPerc = (e.offsetX / $(this).width()) * 100;\r\n            /* 获取时间轴容器的right值*/\r\n            let dividerRight = parseFloat($('.time-line-divider-container').css('right')); // 强转为float类型，可以完美去掉末尾“px”\r\n            /* 获取最大百分比，防止刻度尺超出蓝色覆盖层*/\r\n            let maxPerc = (1 - ($('.time-line-divider-container').width() - $('.time-line-blue-cover').width() + dividerRight) / $('.time-line-container').width()) * 100;\r\n            if (clickLeftPerc < maxPerc) {\r\n                $('.time-line-marker').css('left', clickLeftPerc + '%');\r\n            } else {\r\n                $('.time-line-marker').css('left', maxPerc + '%');\r\n            }\r\n            timeLineMarketIsClicked = true;\r\n            /* 获取刻度尺对应时间*/\r\n            let markerTime = TimeLine.getMarkerTime();\r\n            /* 绘制影子*/\r\n            TimeLine.devHistoryShadow(markerTime);\r\n            $('.view-default-btn-bg').css('background-position', '-210px -30px');\r\n        });\r\n\r\n        /* 时间轴随时间更新*/\r\n        /*edit by guoshuai start 2019/3/19*/\r\n        realTimeCombatLineTimer = setInterval(() => {\r\n            /*edit by guoshuai end 2019/3/19*/\r\n            /* 用监听的方式检测时间变化，系统时间增加一分钟就更新时间轴*/\r\n            let currentTime = new Date(serverDate);\r\n            if (parseInt(currentTime.getTime() / 1000) % 30 == 0) {\r\n                /* 蓝色覆盖层宽度超出，才添加刻度*/\r\n                if (timeDividerCountOver / timeDividerCount < 0.124) {\r\n                    timeDividerCount = timeDividerCount + 0.5;\r\n                    /* 添加刻度*/\r\n                    let addHtml = '';\r\n                    /* 30秒的时候不添加刻度*/\r\n                    if (currentTime.getMinutes() != timeLineEndValue.getMinutes()) {\r\n                        /* 更新时间轴末尾时间值*/\r\n                        timeLineEndValue = new Date(serverDate);\r\n                        if (currentTime.getMinutes() % 5 == 0) {\r\n                            addHtml = `\r\n                            <div class=\"time-line-divider-long\">\r\n                                <div class=\"time-line-divider-time\">\r\n                                    ${add0AtFirst(new Date(currentTime.getTime() + 5 * 60 * 1000).getHours())}:${add0AtFirst(new Date(currentTime.getTime() + 5 * 60 * 1000).getMinutes())}\r\n                                </div>\r\n                            </div>\r\n                        `;\r\n                        } else {\r\n                            addHtml = `\r\n                            <div class=\"time-line-divider-short\"></div>\r\n                        `;\r\n                        }\r\n                        $('.time-line-divider-container').append(addHtml);\r\n                    }\r\n                    $('.time-line-divider-long, .time-line-divider-short').css('margin-left', $('.time-line-container').width() * 0.025 - 1);\r\n                    $('.time-line-divider-container').css('width', $('.time-line-container').width() * 0.025 / 2 + $('.time-line-divider-container').width());\r\n                    /* 设置蓝色覆盖层*/\r\n                    $('.time-line-blue-cover').css('width', ((timeDividerCount - timeDividerCountOver) / timeDividerCount) * 100 + '%');\r\n                    /* 修改滑动条参数*/\r\n                    $('.time-line-slider').rangeSlider('option', 'range', {\r\n                        min: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100,\r\n                        max: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100\r\n                    });\r\n                    /* 设置滑动条位置*/\r\n                    $('.ui-rangeSlider-bar').css('left', $('.ui-rangeSlider-container').width() * (($('.time-line-divider-container').width() - $('.time-line-container').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-divider-container').width()));\r\n                    $('.ui-rangeSlider-leftHandle').css('left', $('.ui-rangeSlider-container').width() * (($('.time-line-divider-container').width() - $('.time-line-container').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-divider-container').width()));\r\n                    $('.ui-rangeSlider-rightHandle').css('left', $('.ui-rangeSlider-container').width() * (1 + parseFloat($('.time-line-divider-container').css('right')) / $('.time-line-divider-container').width()) - 6);\r\n                } else {\r\n                    timeDividerCountOver = timeDividerCountOver - 0.5;\r\n                    /* 设置蓝色覆盖层*/\r\n                    $('.time-line-blue-cover').css('width', ((timeDividerCount - timeDividerCountOver) / timeDividerCount) * 100 + '%');\r\n                    if (!timeLineMarketIsClicked) {\r\n                        $('.time-line-marker').css('left', Number((1 - ($('.time-line-divider-container').width() - $('.time-line-blue-cover').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-container').width()) * 100) + '%');\r\n                    }\r\n                }\r\n                /* 绘制能量块*/\r\n                devDrawInfoMap.forEach((eachDev) => {\r\n                    // 添加能量块\r\n                    let drawEng = devDrawInfoMap.get(eachDev.devCode).maxEng.value;\r\n                    let engHeight = (drawEng / 255) * 30;\r\n                    if (engHeight < 1 && drawEng != 0) {\r\n                        engHeight = 1; // 能量值不等于1时，能量柱最小高度为1，不然看不到\r\n                    }\r\n                    let blockBgColor = '#33c0db'; // 默认为蓝色\r\n                    // console.log(drawEng);\r\n                    switch (drawEng) {\r\n                        case 1000:\r\n                            blockBgColor = '#aaa'; // 主动式命中\r\n                            break;\r\n                        case 2000:\r\n                            blockBgColor = '#ff0000'; // 主动式脱网\r\n                            break;\r\n                        /**add by gaochao start */\r\n                        case 1001:\r\n                            blockBgColor = 'linear-gradient(to right,red,red,red,red,#aaa,#aaa,#aaa,#aaa)'; //同半分钟命中后脱网\r\n                            break;\r\n                        case 2001:\r\n                            blockBgColor = 'linear-gradient(to right,#aaa,#aaa,#aaa,#aaa,red,red,red,red)'; // 同半分钟脱网后命中\r\n                            break;\r\n                        /**add by gaochao end*/\r\n                        default:\r\n                            break;\r\n                    }\r\n                    /*\r\n                    let ecvb;\r\n                    if (serverDate.getSeconds() > 25) {\r\n                        // 30秒处\r\n                        ecvb = serverDate.Format('yyyy-MM-dd-hh-mm') + '-00';\r\n                    } else {\r\n                        // 00秒处\r\n                        ecvb = new Date(serverDate.getTime() - 60 * 1000).Format('yyyy-MM-dd-hh-mm') + '-30';\r\n                    }*/\r\n                    // class=\"ecvb-${eachDev.devCode}-${ecvb}\"\r\n                    /* 根据设备编号，在该设备对应的能量条中填入能量块*/\r\n                    $(`.eng-column-chart-container-${eachDev.devCode}`).append(`\r\n                        <div class=\"eng-column-value eng-column-value-${eachDev.devCode}\" style=\"background:rgba(0,0,0,0);\">\r\n                            <div style=\"position:relative; top:${30 - engHeight}px; background:${blockBgColor}; height:${engHeight}px;\"></div>\r\n                        </div>\r\n                    `);\r\n                    /* 能量块宽度大小*/\r\n                    $(`.eng-column-value-${eachDev.devCode}`).css('width', $('.eng-column-chart').width() * 0.025 / 2 * 0.7);\r\n                    $(`.eng-column-value-${eachDev.devCode}`).css('margin-left', $('.eng-column-chart').width() * 0.025 / 2 * 0.15);\r\n                    $(`.eng-column-value-${eachDev.devCode}`).css('margin-right', $('.eng-column-chart').width() * 0.025 / 2 * 0.15);\r\n                    /* 能量块容器宽度自增*/\r\n                    if ($('.time-line-blue-cover').width() / $('.time-line-container').width() >= 0.875) {\r\n                        $(`.eng-column-chart-container-${eachDev.devCode}`).css('width', $('.eng-column-chart').width() * 0.025 / 2 + $(`.eng-column-chart-container-${eachDev.devCode}`).width());\r\n                    }\r\n                    // 绘制完成后存储信息\r\n                    if (drawEng > 0) {\r\n                        let mapKey;\r\n                        if (new Date(serverDate).getSeconds() > 25) {\r\n                            // 30秒处\r\n                            mapKey = new Date(serverDate).Format('yyyy-MM-dd hh:mm') + ':00';\r\n                        } else {\r\n                            // 00秒处\r\n                            mapKey = new Date(new Date(serverDate).getTime() - 60 * 1000).Format('yyyy-MM-dd hh:mm') + ':30';\r\n                        }\r\n                        devDrawInfoMap.get(eachDev.devCode).timeLineEngMap.set(mapKey, {\r\n                            position: { lng: devDrawInfoMap.get(eachDev.devCode).maxEng.position.lng, lat: devDrawInfoMap.get(eachDev.devCode).maxEng.position.lat, northAngle: devDrawInfoMap.get(eachDev.devCode).maxEng.position.northAngle },\r\n                            detail: devDrawInfoMap.get(eachDev.devCode).maxEng.detail,\r\n                            passive: devDrawInfoMap.get(eachDev.devCode).maxEng.value,\r\n                        });\r\n                    }\r\n                    // 绘制完成能量缓存归零\r\n                    devDrawInfoMap.get(eachDev.devCode).maxEng.value = 0;\r\n                });\r\n            }\r\n            serverDate = serverDate + 1000;\r\n        }, 1000);\r\n\r\n        /* 时间轴复位*/\r\n        /**edit by gaochao start */\r\n        // $('.view-default-btn').click(function () {\r\n            $('.view-lock-btn').click(function () {\r\n            mapFollowFlag = true;\r\n            $('.view-lock-btn div').css(\"background\", \"url(img/icon/location_active.png)no-repeat\");\r\n        /**edit by gaochao end */\r\n            $('.time-line-divider-container').css('right', '0px');\r\n            timeLineMarketIsClicked = false;\r\n            $('.time-line-marker').css('left', Number((1 - ($('.time-line-divider-container').width() - $('.time-line-blue-cover').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-container').width()) * 100) + '%');\r\n            /* 还原滑动条滑块位置*/\r\n            $('.ui-rangeSlider-bar').css('left', $('.ui-rangeSlider-container').width() * (1 - $('.time-line-container').width() / $('.time-line-divider-container').width()));\r\n            $('.ui-rangeSlider-leftHandle').css('left', $('.ui-rangeSlider-container').width() * (1 - $('.time-line-container').width() / $('.time-line-divider-container').width()));\r\n            $('.ui-rangeSlider-rightHandle').css('left', $('.ui-rangeSlider-container').width() - 6);\r\n            map.removeOverlay(historyShadowOverlay);\r\n            $('.eng-column-chart-container').css('right', '0px');\r\n            $('.view-default-btn-bg').css('background-position', '-180px -30px');\r\n            devDrawInfoMap.forEach((eachDev) => {\r\n                if (eachDev.isCorrentView) {\r\n                    /**edit by gaochao start */\r\n                    if (mapFollowFlag) {\r\n                        /**edit by gaochao start */\r\n                        let point = [devInfoMap.get(eachDev.devCode).gpsInfo.lng, devInfoMap.get(eachDev.devCode).gpsInfo.lat];\r\n                        let bdPoint = __WEBPACK_IMPORTED_MODULE_3__common_baiduMap_GPSToBaiduPoint_BaiduMap_js__[\"a\" /* GPSToBaiduPoint */].getBaiduPointLocation([point])[0];\r\n                        // map.setCenter(new BMap.Point(devInfoMap.get(eachDev.devCode).baiduGpsInfo.lng, devInfoMap.get(eachDev.devCode).baiduGpsInfo.lat));\r\n                        map.setCenter(new BMap.Point(bdPoint.lng, bdPoint.lat));\r\n                        /**edit by gaochao start */\r\n                        map.setZoom(map.getZoom() - 1);\r\n                        map.setZoom(map.getZoom() + 1);\r\n                    }\r\n                    /**edit by gaochao end */\r\n                }\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    /* 获取刻度尺时间值*/\r\n    static getMarkerTime() {\r\n        let markerLeftPerc = parseFloat($('.time-line-marker').css('left')) / $('.time-line-container').width() * 100;\r\n        /* 获取能量条能量值*/\r\n        // 先获取红色刻度值在时间轴上的百分比\r\n        // 算出超出部分有多少格\r\n        let outerCount = ($('.time-line-divider-container').width() - $('.time-line-container').width() + parseFloat($('.time-line-divider-container').css('right'))) / ($('.time-line-container').width() * 0.025);\r\n        // 红色刻度尺前面的格数 + 超出部分的格数\r\n        let markerLeftCount = markerLeftPerc / 2.5 + outerCount - 1.5;\r\n        // 通过格数确定时间戳\r\n        let clickedTime = new Date((timeLineStartValue + markerLeftCount * 1 * 60) * 1000);\r\n        let markerTime;\r\n        if (clickedTime.getSeconds() < 30) {\r\n            markerTime = new Date((timeLineStartValue + markerLeftCount * 1 * 60) * 1000).Format('yyyy-MM-dd hh:mm') + ':00';\r\n        } else {\r\n            markerTime = new Date((timeLineStartValue + markerLeftCount * 1 * 60) * 1000).Format('yyyy-MM-dd hh:mm') + ':30';\r\n        }\r\n        return markerTime;\r\n    }\r\n\r\n    /* 绘制影子*/\r\n    static devHistoryShadow(markerTime) {\r\n        /* 移除上一个影子*/\r\n        if (historyShadowOverlay != null) {\r\n            map.removeOverlay(historyShadowOverlay);\r\n        }\r\n        devDrawInfoMap.forEach((eachDev) => {\r\n            if (eachDev.isCorrentView) { // 只绘制当前视角的设备\r\n                let shadowInfo = eachDev.timeLineEngMap.get(markerTime);\r\n                if (shadowInfo != null) { // 在存储的map中找到对应的时间点\r\n                    let devCode = eachDev.devCode;\r\n                    let devType = Number(eachDev.devType);\r\n                    let point = new BMap.Point(shadowInfo.position.lng, shadowInfo.position.lat);\r\n                    let northAngle = shadowInfo.position.northAngle;\r\n                    let energy = shadowInfo.detail;\r\n                    let passive = shadowInfo.passive;\r\n                    switch (devType) {\r\n                        case 1:\r\n                            historyShadowOverlay = new __WEBPACK_IMPORTED_MODULE_1__overlay_CarHistoryShadowOverlayConstructor_js__[\"a\" /* CarHistoryShadowOverlayConstructor */](point, devCode, northAngle, energy, passive);\r\n                            map.addOverlay(historyShadowOverlay);\r\n                            break;\r\n                        case 2:\r\n                            historyShadowOverlay = new __WEBPACK_IMPORTED_MODULE_2__overlay_SingleHistoryShadowOverlayConstructor_js__[\"a\" /* SingleHistoryShadowOverlayConstructor */](point, devCode, northAngle, energy);\r\n                            map.addOverlay(historyShadowOverlay);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n}\n/* unused harmony export TimeLine */\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvdG9vbC9UaW1lTGluZS5qcz83NDhkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWdFOztBQUVzQztBQUNNO0FBQ3JCOztBQUVoRjs7QUFFUDs7QUFFQTtBQUNBLHlCQUF5Qiw4RUFBVTs7QUFFbkM7QUFDQTtBQUNBO0FBQ0EsbUhBQW1IO0FBQ25IO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsaUJBQWlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscURBQXFELEdBQUc7QUFDOUY7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRkFBMEY7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyx3RUFBd0UsR0FBRztBQUNqSDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQSwyR0FBMkc7QUFDM0c7QUFDQTtBQUNBLDJHQUEyRztBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLHFDQUFxQyxnQkFBZ0IsR0FBRyxLQUFLO0FBQzdEO0FBQ0EscURBQXFELGdCQUFnQjtBQUNyRSx3RUFBd0UsZ0JBQWdCLGtDQUFrQztBQUMxSCwwREFBMEQsT0FBTyxlQUFlLEdBQUcsY0FBYyxjQUFjLFVBQVUsVUFBVSxHQUFHO0FBQ3RJO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxnQkFBZ0I7QUFDM0QsMkNBQTJDLGdCQUFnQjtBQUMzRCwyQ0FBMkMsZ0JBQWdCO0FBQzNEO0FBQ0E7QUFDQSx5REFBeUQsZ0JBQWdCLDhGQUE4RixnQkFBZ0I7QUFDdkw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMseU1BQXlNO0FBQ2hQO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscUdBQWU7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTOztBQUVUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCwwSEFBa0M7QUFDekY7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGdJQUFxQztBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQSxDIiwiZmlsZSI6IjU1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tbW9uVXRpbCB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi91dGlsL0NvbW1vblV0aWwuanMnO1xyXG5cclxuaW1wb3J0IHsgQ2FySGlzdG9yeVNoYWRvd092ZXJsYXlDb25zdHJ1Y3RvciB9IGZyb20gJy4uL292ZXJsYXkvQ2FySGlzdG9yeVNoYWRvd092ZXJsYXlDb25zdHJ1Y3Rvci5qcyc7XHJcbmltcG9ydCB7IFNpbmdsZUhpc3RvcnlTaGFkb3dPdmVybGF5Q29uc3RydWN0b3IgfSBmcm9tICcuLi9vdmVybGF5L1NpbmdsZUhpc3RvcnlTaGFkb3dPdmVybGF5Q29uc3RydWN0b3IuanMnO1xyXG5pbXBvcnQgeyBHUFNUb0JhaWR1UG9pbnQgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vYmFpZHVNYXAvR1BTVG9CYWlkdVBvaW50LkJhaWR1TWFwLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUaW1lTGluZSB7XHJcblxyXG4gICAgc3RhdGljIGluaXRUaW1lTGluZSgpIHtcclxuXHJcbiAgICAgICAgLyog6I635Y+W5pyN5Yqh5Zmo5b2T5YmN5pe26Ze0Ki9cclxuICAgICAgICBsZXQgc2VydmVyRGF0ZSA9IENvbW1vblV0aWwuZ2V0U2VydmVyRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgLyog5b2T5YmN5pe26Ze077yI6JOd6Imy6KaG55uW54mp5pyr5bC+5YC877yJKi9cclxuICAgICAgICBsZXQgdGltZUxpbmVFbmRWYWx1ZSA9IG5ldyBEYXRlKHNlcnZlckRhdGUpO1xyXG4gICAgICAgIC8qIOaXtumXtOi9tOacq+WwvuaXtumXtOWAvCovXHJcbiAgICAgICAgbGV0IHRpbWVFbmQgPSBwYXJzZUludChuZXcgRGF0ZShzZXJ2ZXJEYXRlKS5nZXRUaW1lKCkgLyAxMDAwKSAtIG5ldyBEYXRlKHNlcnZlckRhdGUpLmdldFNlY29uZHMoKSArIDEgKiA2MDsgLy8g5YeP5Y6756eS5pWw77yM5YiG6ZKf5Y+W5pW0XHJcbiAgICAgICAgLyog6K6+572u5pe26Ze06L205byA5aeL5pe26Ze0Ki9cclxuICAgICAgICBpZiAobmV3IERhdGUoY2FzZVN0YXJ0VGltZSkuZ2V0U2Vjb25kcygpID49IDMwKSB7XHJcbiAgICAgICAgICAgIHRpbWVMaW5lU3RhcnRWYWx1ZSA9IHBhcnNlSW50KChuZXcgRGF0ZShjYXNlU3RhcnRUaW1lKS5nZXRUaW1lKCkpIC8gMTAwMCkgKyAxICogNjA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGltZUxpbmVTdGFydFZhbHVlID0gcGFyc2VJbnQoKG5ldyBEYXRlKGNhc2VTdGFydFRpbWUpLmdldFRpbWUoKSkgLyAxMDAwKSArIDEuNSAqIDYwO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiDorr7nva7ml7bpl7TovbTplb/luqYqL1xyXG4gICAgICAgIGxldCB0aW1lTGVuZ3RoO1xyXG4gICAgICAgIGlmICg0MCAtIHBhcnNlSW50KChuZXcgRGF0ZShzZXJ2ZXJEYXRlKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShjYXNlU3RhcnRUaW1lKS5nZXRUaW1lKCkpIC8gNjAwMDApID4gNSkge1xyXG4gICAgICAgICAgICAvKiDoi6XlvIDlp4vml7bpl7Toh7Pnu5PmnZ/ml7bpl7TlsI/kuo40MOWIhumSn++8jOWImeWwhuaXtumXtOi9tOmVv+W6puiuvuS4ujQw5YiG6ZKfKi9cclxuICAgICAgICAgICAgLy8gdGltZUxlbmd0aCA9IHRpbWVFbmQgLSB0aW1lTGluZVN0YXJ0VmFsdWUgKyAoNDAgLSBwYXJzZUludCgobmV3IERhdGUoc2VydmVyRGF0ZSkuZ2V0VGltZSgpICsgbmV3IERhdGUoY2FzZVN0YXJ0VGltZSkuZ2V0U2Vjb25kcygpICogMTAwMCArIG5ldyBEYXRlKGNhc2VTdGFydFRpbWUpLmdldE1pbGxpc2Vjb25kcygpIC0gbmV3IERhdGUoY2FzZVN0YXJ0VGltZSkuZ2V0VGltZSgpKSAvIDYwMDAwKSkgKiA2MDtcclxuICAgICAgICAgICAgdGltZUxlbmd0aCA9IDIzNTU7IC8vIOagueaNruS4iui/sOWFrOW8j+W+l+WHuueahOWbuuWumuWAvFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8qIOiLpeW8gOWni+aXtumXtOiHs+e7k+adn+aXtumXtOWkp+S6jjQw5YiG6ZKf77yM5YiZ5bCG5pe26Ze06L206ZW/5bqm5Zyo5q2k5Z+656GA5LiK5aKe5YqgNeWIhumSnyovXHJcbiAgICAgICAgICAgIHRpbWVMZW5ndGggPSB0aW1lRW5kIC0gdGltZUxpbmVTdGFydFZhbHVlICsgNSAqIDYwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgdGltZUxpbmVIdG1sID0gJyc7IC8vIOaXtumXtOi9tOaooeWdl0hUTUzku6PnoIFcclxuICAgICAgICAvKiDlnKjlsI/kuo4xMOeahOaVsOWtl+WJjea3u+WKoDAqL1xyXG4gICAgICAgIGxldCBhZGQwQXRGaXJzdCA9IGZ1bmN0aW9uIChwYXJhbSkge1xyXG4gICAgICAgICAgICBpZiAoTnVtYmVyKHBhcmFtKSA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJzAnICsgcGFyYW07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHRpbWVMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFRpbWUgPSB0aW1lTGluZVN0YXJ0VmFsdWUgKyBpO1xyXG4gICAgICAgICAgICBpZiAoaSAlIDMwID09IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChpICUgNjAgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZShjdXJyZW50VGltZSAqIDEwMDApLmdldE1pbnV0ZXMoKSAlIDUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiDmr4815YiG6ZKf5aSE57uY5Yi25aSn5Yi75bqmKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZUxpbmVIdG1sID0gdGltZUxpbmVIdG1sICsgYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWUtbGluZS1kaXZpZGVyLWxvbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZS1saW5lLWRpdmlkZXItdGltZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2FkZDBBdEZpcnN0KG5ldyBEYXRlKGN1cnJlbnRUaW1lICogMTAwMCkuZ2V0SG91cnMoKSl9OiR7YWRkMEF0Rmlyc3QobmV3IERhdGUoY3VycmVudFRpbWUgKiAxMDAwKS5nZXRNaW51dGVzKCkpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyog5bCP5Yi75bqmKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZUxpbmVIdG1sID0gdGltZUxpbmVIdG1sICsgYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWUtbGluZS1kaXZpZGVyLXNob3J0XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUaW1lID4gdGltZUVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIOi2heWHuuW9k+WJjeaXtumXtOeahOagvOaVsCovXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZURpdmlkZXJDb3VudE92ZXIgPSB0aW1lRGl2aWRlckNvdW50T3ZlciArIDAuNTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIOaXtumXtOi9tOaAu+agvOaVsCovXHJcbiAgICAgICAgICAgICAgICB0aW1lRGl2aWRlckNvdW50ID0gdGltZURpdmlkZXJDb3VudCArIDAuNTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGltZURpdmlkZXJDb3VudCA8IDQwKSB7XHJcbiAgICAgICAgICAgIHRpbWVEaXZpZGVyQ291bnQgPSA0MDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRpbWVEaXZpZGVyQ291bnQgPiA0MCkge1xyXG4gICAgICAgICAgICBpZiAobmV3IERhdGUoY2FzZVN0YXJ0VGltZSkuZ2V0U2Vjb25kcygpICE9IDAgJiYgbmV3IERhdGUoY2FzZVN0YXJ0VGltZSkuZ2V0U2Vjb25kcygpICE9IDMwKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lRGl2aWRlckNvdW50T3ZlciA9IHRpbWVEaXZpZGVyQ291bnRPdmVyIC0gMC41O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5hcHBlbmQodGltZUxpbmVIdG1sKTtcclxuICAgICAgICAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykuY3NzKCdyaWdodCcsIDApO1xyXG4gICAgICAgIC8qIHdpbmRvdyByZXNpemXnm5HlkKzkuovku7bvvIzlrr3luqboh6rpgILlupQqL1xyXG4gICAgICAgIGxldCB0aW1lTGluZUF1dG9TaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKCcudGltZS1saW5lLWFyZWEnKS5jc3MoJ3dpZHRoJywgJCh3aW5kb3cpLndpZHRoKCkgLSAyNzApO1xyXG4gICAgICAgICAgICAvKiDliLvluqblgLzlt6bovrnot50qL1xyXG4gICAgICAgICAgICAkKCcudGltZS1saW5lLWRpdmlkZXItbG9uZywgLnRpbWUtbGluZS1kaXZpZGVyLXNob3J0JykuY3NzKCdtYXJnaW4tbGVmdCcsICQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAqIDAuMDI1IC0gMSk7XHJcbiAgICAgICAgICAgIC8qIOWIu+W6puWuueWZqOWuveW6piovXHJcbiAgICAgICAgICAgICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5jc3MoJ3dpZHRoJywgdGltZURpdmlkZXJDb3VudCAqICgkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgKiAwLjAyNSkpO1xyXG4gICAgICAgICAgICAvKiDok53oibLopobnm5blsYLlrr3luqYqL1xyXG4gICAgICAgICAgICAkKCcudGltZS1saW5lLWJsdWUtY292ZXInKS5jc3MoJ3dpZHRoJywgKCh0aW1lRGl2aWRlckNvdW50IC0gdGltZURpdmlkZXJDb3VudE92ZXIpIC8gdGltZURpdmlkZXJDb3VudCkgKiAxMDAgKyAnJScpO1xyXG4gICAgICAgICAgICAvKiDog73ph4/mnaHlrrnlmajlrr3luqYqL1xyXG4gICAgICAgICAgICAkKGAuZW5nLWNvbHVtbi1jaGFydC1jb250YWluZXJgKS5jc3MoJ3dpZHRoJywgdGltZURpdmlkZXJDb3VudCAqICQoJy5lbmctY29sdW1uLWNoYXJ0Jykud2lkdGgoKSAqIDAuMDI1KTtcclxuICAgICAgICAgICAgLyog5q+P5Liq6IO96YeP5p2h5a695bqmKi9cclxuICAgICAgICAgICAgJCgnLmVuZy1jb2x1bW4tdmFsdWUnKS5jc3MoJ3dpZHRoJywgJCgnLmVuZy1jb2x1bW4tY2hhcnQnKS53aWR0aCgpICogMC4wMjUgLyAyICogMC42KTtcclxuICAgICAgICAgICAgJCgnLmVuZy1jb2x1bW4tdmFsdWUnKS5jc3MoJ21hcmdpbi1sZWZ0JywgJCgnLmVuZy1jb2x1bW4tY2hhcnQnKS53aWR0aCgpICogMC4wMjUgLyAyICogMC4yKTtcclxuICAgICAgICAgICAgJCgnLmVuZy1jb2x1bW4tdmFsdWUnKS5jc3MoJ21hcmdpbi1yaWdodCcsICQoJy5lbmctY29sdW1uLWNoYXJ0Jykud2lkdGgoKSAqIDAuMDI1IC8gMiAqIDAuMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRpbWVMaW5lQXV0b1NpemUoKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aW1lTGluZUF1dG9TaXplKCk7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICAgIC8qIOiuvue9rue6ouiJsm1hcmtlcueahOS9jee9riovXHJcbiAgICAgICAgJCgnLnRpbWUtbGluZS1tYXJrZXInKS5jc3MoJ2xlZnQnLCBOdW1iZXIoKDEgLSAoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgLSAkKCcudGltZS1saW5lLWJsdWUtY292ZXInKS53aWR0aCgpICsgcGFyc2VGbG9hdCgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykuY3NzKCdyaWdodCcpKSkgLyAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkpICogMTAwKSArICclJyk7XHJcbiAgICAgICAgLyog6K6+572u5ruR5Yqo5p2h5Y+C5pWwKi9cclxuICAgICAgICAkKCcudGltZS1saW5lLXNsaWRlcicpLnJhbmdlU2xpZGVyKHtcclxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlczoge1xyXG4gICAgICAgICAgICAgICAgbWluOiAoMSAtICgkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgLyAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSkpICogMTAwLFxyXG4gICAgICAgICAgICAgICAgbWF4OiAxMDBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmFuZ2U6IHtcclxuICAgICAgICAgICAgICAgIG1pbjogKCQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAvICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpKSAqIDEwMCxcclxuICAgICAgICAgICAgICAgIG1heDogKCQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAvICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpKSAqIDEwMFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB2YWx1ZUxhYmVsczogJ2hpZGUnLFxyXG4gICAgICAgICAgICB3aGVlbE1vZGU6ICdzY3JvbGwnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLnVpLXJhbmdlU2xpZGVyLWxhYmVsJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAvKiDmu5HliqjmnaHlm57osIPlh73mlbAqL1xyXG4gICAgICAgICQoJy50aW1lLWxpbmUtc2xpZGVyJykub24oJ3ZhbHVlc0NoYW5naW5nJywgZnVuY3Rpb24gKGUsIGRhdGEpIHtcclxuICAgICAgICAgICAgbGV0IHBlcmMgPSAoKGRhdGEudmFsdWVzLm1pbiArIGRhdGEudmFsdWVzLm1heCAtICgoJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpICogMTAwKSkgLyAyKSAvICgxMDAgLSAoKCQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAvICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpKSAqIDEwMCkpO1xyXG4gICAgICAgICAgICAvKiDml7bpl7TovbTkvY3nva4qLyAgICAgICAgICAgLy8g5LiL6KGM5YWs5byP77ya6YeM6Z2i55qEZGl25a69LeWklumDqGRpduWuvVxyXG4gICAgICAgICAgICAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykuY3NzKCdyaWdodCcsIChwZXJjIC0gMSkgKiAoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgLSAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkpKTtcclxuICAgICAgICAgICAgLyog6IO96YeP6L205L2N572uKi9cclxuICAgICAgICAgICAgJCgnLmVuZy1jb2x1bW4tY2hhcnQtY29udGFpbmVyJykuY3NzKCdyaWdodCcsIChwZXJjIC0gMSkgKiAoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgLSAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkpKTtcclxuICAgICAgICAgICAgLyog5Yi75bqm5bC65L2N572uKi9cclxuICAgICAgICAgICAgbGV0IGRpdmlkZXJSaWdodCA9IHBhcnNlRmxvYXQoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLmNzcygncmlnaHQnKSk7XHJcbiAgICAgICAgICAgIC8qIOmYsuatouWIu+W6puWwuui2heWHuuiTneiJsuimhuebluWxgiovXHJcbiAgICAgICAgICAgIGxldCBtYXhQZXJjID0gKDEgLSAoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgLSAkKCcudGltZS1saW5lLWJsdWUtY292ZXInKS53aWR0aCgpICsgZGl2aWRlclJpZ2h0KSAvICQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSkgKiAxMDA7XHJcbiAgICAgICAgICAgIGlmIChtYXhQZXJjIDwgMTAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWFya0xlZnQgPSAkKCcudGltZS1saW5lLW1hcmtlcicpLmNzcygnbGVmdCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKE51bWJlcihtYXJrTGVmdC5zdWJzdHJpbmcoMCwgbWFya0xlZnQubGVuZ3RoIC0gMikpIC8gJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpID4gKG1heFBlcmMgLyAxMDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnRpbWUtbGluZS1tYXJrZXInKS5jc3MoJ2xlZnQnLCBtYXhQZXJjICsgJyUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiDnu5jliLbljoblj7LlvbHlrZAqL1xyXG4gICAgICAgICAgICBsZXQgbWFya2VyVGltZSA9IFRpbWVMaW5lLmdldE1hcmtlclRpbWUoKTsgLy8g6I635Y+WbWFya2Vy5omA5Zyo55qE5pe26Ze0XHJcbiAgICAgICAgICAgIFRpbWVMaW5lLmRldkhpc3RvcnlTaGFkb3cobWFya2VyVGltZSk7XHJcbiAgICAgICAgICAgICQoJy52aWV3LWRlZmF1bHQtYnRuLWJnJykuY3NzKCdiYWNrZ3JvdW5kLXBvc2l0aW9uJywgJy0yMTBweCAtMzBweCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qIOaXtumXtOi9tOWIneWni+WMluWujOaIkOWQjizoi6XlvZPliY3ns7vnu5/ml7bpl7Tnp5LmlbDlpKfkuo4zMO+8jOW3puenu+S4gOasoSovXHJcbiAgICAgICAgaWYgKG5ldyBEYXRlKHNlcnZlckRhdGUpLmdldFNlY29uZHMoKSA+PSAzMCkge1xyXG4gICAgICAgICAgICAvKiDok53oibLopobnm5blsYLlrr3luqbotoXlh7rvvIzmiY3mt7vliqDliLvluqYqL1xyXG4gICAgICAgICAgICBpZiAodGltZURpdmlkZXJDb3VudE92ZXIgLyB0aW1lRGl2aWRlckNvdW50IDwgMC4xMjQpIHtcclxuICAgICAgICAgICAgICAgIHRpbWVEaXZpZGVyQ291bnQgPSB0aW1lRGl2aWRlckNvdW50ICsgMC41O1xyXG4gICAgICAgICAgICAgICAgJCgnLnRpbWUtbGluZS1kaXZpZGVyLWxvbmcsIC50aW1lLWxpbmUtZGl2aWRlci1zaG9ydCcpLmNzcygnbWFyZ2luLWxlZnQnLCAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgKiAwLjAyNSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLmNzcygnd2lkdGgnLCAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgKiAwLjAyNSAvIDIgKyAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSk7XHJcbiAgICAgICAgICAgICAgICAvKiDorr7nva7ok53oibLopobnm5blsYIqL1xyXG4gICAgICAgICAgICAgICAgJCgnLnRpbWUtbGluZS1ibHVlLWNvdmVyJykuY3NzKCd3aWR0aCcsICgodGltZURpdmlkZXJDb3VudCAtIHRpbWVEaXZpZGVyQ291bnRPdmVyKSAvIHRpbWVEaXZpZGVyQ291bnQpICogMTAwICsgJyUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRpbWVEaXZpZGVyQ291bnRPdmVyID0gdGltZURpdmlkZXJDb3VudE92ZXIgLSAwLjU7XHJcbiAgICAgICAgICAgICAgICAvKiDorr7nva7ok53oibLopobnm5blsYIqL1xyXG4gICAgICAgICAgICAgICAgJCgnLnRpbWUtbGluZS1ibHVlLWNvdmVyJykuY3NzKCd3aWR0aCcsICgodGltZURpdmlkZXJDb3VudCAtIHRpbWVEaXZpZGVyQ291bnRPdmVyKSAvIHRpbWVEaXZpZGVyQ291bnQpICogMTAwICsgJyUnKTtcclxuICAgICAgICAgICAgICAgICQoJy50aW1lLWxpbmUtbWFya2VyJykuY3NzKCdsZWZ0JywgTnVtYmVyKCgxIC0gKCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpIC0gJCgnLnRpbWUtbGluZS1ibHVlLWNvdmVyJykud2lkdGgoKSArIHBhcnNlRmxvYXQoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLmNzcygncmlnaHQnKSkpIC8gJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpKSAqIDEwMCkgKyAnJScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIOS/ruaUuea7keWKqOadoSovXHJcbiAgICAgICAgICAgICQoJy50aW1lLWxpbmUtc2xpZGVyJykucmFuZ2VTbGlkZXIoJ29wdGlvbicsICdyYW5nZScsIHtcclxuICAgICAgICAgICAgICAgIG1pbjogKCQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAvICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpKSAqIDEwMCxcclxuICAgICAgICAgICAgICAgIG1heDogKCQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAvICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpKSAqIDEwMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyog54K55Ye75LqL5Lu2Ki9cclxuICAgICAgICAkKCcjdGltZS1saW5lLWNsaWNrLWNvdmVyJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLyog5Yi75bqm54K55Ye75LqL5Lu25Zyo5pe26Ze06L205LiK55qE55m+5YiG5q+U5L2N572uKi9cclxuICAgICAgICAgICAgbGV0IGNsaWNrTGVmdFBlcmMgPSAoZS5vZmZzZXRYIC8gJCh0aGlzKS53aWR0aCgpKSAqIDEwMDtcclxuICAgICAgICAgICAgLyog6I635Y+W5pe26Ze06L205a655Zmo55qEcmlnaHTlgLwqL1xyXG4gICAgICAgICAgICBsZXQgZGl2aWRlclJpZ2h0ID0gcGFyc2VGbG9hdCgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykuY3NzKCdyaWdodCcpKTsgLy8g5by66L2s5Li6ZmxvYXTnsbvlnovvvIzlj6/ku6Xlroznvo7ljrvmjonmnKvlsL7igJxweOKAnVxyXG4gICAgICAgICAgICAvKiDojrflj5bmnIDlpKfnmb7liIbmr5TvvIzpmLLmraLliLvluqblsLrotoXlh7rok53oibLopobnm5blsYIqL1xyXG4gICAgICAgICAgICBsZXQgbWF4UGVyYyA9ICgxIC0gKCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpIC0gJCgnLnRpbWUtbGluZS1ibHVlLWNvdmVyJykud2lkdGgoKSArIGRpdmlkZXJSaWdodCkgLyAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkpICogMTAwO1xyXG4gICAgICAgICAgICBpZiAoY2xpY2tMZWZ0UGVyYyA8IG1heFBlcmMpIHtcclxuICAgICAgICAgICAgICAgICQoJy50aW1lLWxpbmUtbWFya2VyJykuY3NzKCdsZWZ0JywgY2xpY2tMZWZ0UGVyYyArICclJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcudGltZS1saW5lLW1hcmtlcicpLmNzcygnbGVmdCcsIG1heFBlcmMgKyAnJScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRpbWVMaW5lTWFya2V0SXNDbGlja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgLyog6I635Y+W5Yi75bqm5bC65a+55bqU5pe26Ze0Ki9cclxuICAgICAgICAgICAgbGV0IG1hcmtlclRpbWUgPSBUaW1lTGluZS5nZXRNYXJrZXJUaW1lKCk7XHJcbiAgICAgICAgICAgIC8qIOe7mOWItuW9seWtkCovXHJcbiAgICAgICAgICAgIFRpbWVMaW5lLmRldkhpc3RvcnlTaGFkb3cobWFya2VyVGltZSk7XHJcbiAgICAgICAgICAgICQoJy52aWV3LWRlZmF1bHQtYnRuLWJnJykuY3NzKCdiYWNrZ3JvdW5kLXBvc2l0aW9uJywgJy0yMTBweCAtMzBweCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiDml7bpl7TovbTpmo/ml7bpl7Tmm7TmlrAqL1xyXG4gICAgICAgIC8qZWRpdCBieSBndW9zaHVhaSBzdGFydCAyMDE5LzMvMTkqL1xyXG4gICAgICAgIHJlYWxUaW1lQ29tYmF0TGluZVRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAvKmVkaXQgYnkgZ3Vvc2h1YWkgZW5kIDIwMTkvMy8xOSovXHJcbiAgICAgICAgICAgIC8qIOeUqOebkeWQrOeahOaWueW8j+ajgOa1i+aXtumXtOWPmOWMlu+8jOezu+e7n+aXtumXtOWinuWKoOS4gOWIhumSn+WwseabtOaWsOaXtumXtOi9tCovXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50VGltZSA9IG5ldyBEYXRlKHNlcnZlckRhdGUpO1xyXG4gICAgICAgICAgICBpZiAocGFyc2VJbnQoY3VycmVudFRpbWUuZ2V0VGltZSgpIC8gMTAwMCkgJSAzMCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvKiDok53oibLopobnm5blsYLlrr3luqbotoXlh7rvvIzmiY3mt7vliqDliLvluqYqL1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVEaXZpZGVyQ291bnRPdmVyIC8gdGltZURpdmlkZXJDb3VudCA8IDAuMTI0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZURpdmlkZXJDb3VudCA9IHRpbWVEaXZpZGVyQ291bnQgKyAwLjU7XHJcbiAgICAgICAgICAgICAgICAgICAgLyog5re75Yqg5Yi75bqmKi9cclxuICAgICAgICAgICAgICAgICAgICBsZXQgYWRkSHRtbCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIDMw56eS55qE5pe25YCZ5LiN5re75Yqg5Yi75bqmKi9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbWUuZ2V0TWludXRlcygpICE9IHRpbWVMaW5lRW5kVmFsdWUuZ2V0TWludXRlcygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIOabtOaWsOaXtumXtOi9tOacq+WwvuaXtumXtOWAvCovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVMaW5lRW5kVmFsdWUgPSBuZXcgRGF0ZShzZXJ2ZXJEYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUaW1lLmdldE1pbnV0ZXMoKSAlIDUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkSHRtbCA9IGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lLWxpbmUtZGl2aWRlci1sb25nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWUtbGluZS1kaXZpZGVyLXRpbWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHthZGQwQXRGaXJzdChuZXcgRGF0ZShjdXJyZW50VGltZS5nZXRUaW1lKCkgKyA1ICogNjAgKiAxMDAwKS5nZXRIb3VycygpKX06JHthZGQwQXRGaXJzdChuZXcgRGF0ZShjdXJyZW50VGltZS5nZXRUaW1lKCkgKyA1ICogNjAgKiAxMDAwKS5nZXRNaW51dGVzKCkpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRIdG1sID0gYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWUtbGluZS1kaXZpZGVyLXNob3J0XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLmFwcGVuZChhZGRIdG1sKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnRpbWUtbGluZS1kaXZpZGVyLWxvbmcsIC50aW1lLWxpbmUtZGl2aWRlci1zaG9ydCcpLmNzcygnbWFyZ2luLWxlZnQnLCAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgKiAwLjAyNSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5jc3MoJ3dpZHRoJywgJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpICogMC4wMjUgLyAyICsgJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIOiuvue9ruiTneiJsuimhuebluWxgiovXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnRpbWUtbGluZS1ibHVlLWNvdmVyJykuY3NzKCd3aWR0aCcsICgodGltZURpdmlkZXJDb3VudCAtIHRpbWVEaXZpZGVyQ291bnRPdmVyKSAvIHRpbWVEaXZpZGVyQ291bnQpICogMTAwICsgJyUnKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiDkv67mlLnmu5HliqjmnaHlj4LmlbAqL1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy50aW1lLWxpbmUtc2xpZGVyJykucmFuZ2VTbGlkZXIoJ29wdGlvbicsICdyYW5nZScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiAoJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpICogMTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6ICgkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgLyAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSkgKiAxMDBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvKiDorr7nva7mu5HliqjmnaHkvY3nva4qL1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy51aS1yYW5nZVNsaWRlci1iYXInKS5jc3MoJ2xlZnQnLCAkKCcudWktcmFuZ2VTbGlkZXItY29udGFpbmVyJykud2lkdGgoKSAqICgoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgLSAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgKyBwYXJzZUZsb2F0KCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5jc3MoJ3JpZ2h0JykpKSAvICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnVpLXJhbmdlU2xpZGVyLWxlZnRIYW5kbGUnKS5jc3MoJ2xlZnQnLCAkKCcudWktcmFuZ2VTbGlkZXItY29udGFpbmVyJykud2lkdGgoKSAqICgoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgLSAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgKyBwYXJzZUZsb2F0KCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5jc3MoJ3JpZ2h0JykpKSAvICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnVpLXJhbmdlU2xpZGVyLXJpZ2h0SGFuZGxlJykuY3NzKCdsZWZ0JywgJCgnLnVpLXJhbmdlU2xpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgKiAoMSArIHBhcnNlRmxvYXQoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLmNzcygncmlnaHQnKSkgLyAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSkgLSA2KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZURpdmlkZXJDb3VudE92ZXIgPSB0aW1lRGl2aWRlckNvdW50T3ZlciAtIDAuNTtcclxuICAgICAgICAgICAgICAgICAgICAvKiDorr7nva7ok53oibLopobnm5blsYIqL1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy50aW1lLWxpbmUtYmx1ZS1jb3ZlcicpLmNzcygnd2lkdGgnLCAoKHRpbWVEaXZpZGVyQ291bnQgLSB0aW1lRGl2aWRlckNvdW50T3ZlcikgLyB0aW1lRGl2aWRlckNvdW50KSAqIDEwMCArICclJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aW1lTGluZU1hcmtldElzQ2xpY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcudGltZS1saW5lLW1hcmtlcicpLmNzcygnbGVmdCcsIE51bWJlcigoMSAtICgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSAtICQoJy50aW1lLWxpbmUtYmx1ZS1jb3ZlcicpLndpZHRoKCkgKyBwYXJzZUZsb2F0KCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5jc3MoJ3JpZ2h0JykpKSAvICQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSkgKiAxMDApICsgJyUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiDnu5jliLbog73ph4/lnZcqL1xyXG4gICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZm9yRWFjaCgoZWFjaERldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOa3u+WKoOiDvemHj+Wdl1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkcmF3RW5nID0gZGV2RHJhd0luZm9NYXAuZ2V0KGVhY2hEZXYuZGV2Q29kZSkubWF4RW5nLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmdIZWlnaHQgPSAoZHJhd0VuZyAvIDI1NSkgKiAzMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5nSGVpZ2h0IDwgMSAmJiBkcmF3RW5nICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5nSGVpZ2h0ID0gMTsgLy8g6IO96YeP5YC85LiN562J5LqOMeaXtu+8jOiDvemHj+afseacgOWwj+mrmOW6puS4ujHvvIzkuI3nhLbnnIvkuI3liLBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJsb2NrQmdDb2xvciA9ICcjMzNjMGRiJzsgLy8g6buY6K6k5Li66JOd6ImyXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZHJhd0VuZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkcmF3RW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTAwMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrQmdDb2xvciA9ICcjYWFhJzsgLy8g5Li75Yqo5byP5ZG95LitXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tCZ0NvbG9yID0gJyNmZjAwMDAnOyAvLyDkuLvliqjlvI/ohLHnvZFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwMDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja0JnQ29sb3IgPSAnbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LHJlZCxyZWQscmVkLHJlZCwjYWFhLCNhYWEsI2FhYSwjYWFhKSc7IC8v5ZCM5Y2K5YiG6ZKf5ZG95Lit5ZCO6ISx572RXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tCZ0NvbG9yID0gJ2xpbmVhci1ncmFkaWVudCh0byByaWdodCwjYWFhLCNhYWEsI2FhYSwjYWFhLHJlZCxyZWQscmVkLHJlZCknOyAvLyDlkIzljYrliIbpkp/ohLHnvZHlkI7lkb3kuK1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiphZGQgYnkgZ2FvY2hhbyBlbmQqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVjdmI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZlckRhdGUuZ2V0U2Vjb25kcygpID4gMjUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMzDnp5LlpIRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWN2YiA9IHNlcnZlckRhdGUuRm9ybWF0KCd5eXl5LU1NLWRkLWhoLW1tJykgKyAnLTAwJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAwMOenkuWkhFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlY3ZiID0gbmV3IERhdGUoc2VydmVyRGF0ZS5nZXRUaW1lKCkgLSA2MCAqIDEwMDApLkZvcm1hdCgneXl5eS1NTS1kZC1oaC1tbScpICsgJy0zMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xhc3M9XCJlY3ZiLSR7ZWFjaERldi5kZXZDb2RlfS0ke2VjdmJ9XCJcclxuICAgICAgICAgICAgICAgICAgICAvKiDmoLnmja7orr7lpIfnvJblj7fvvIzlnKjor6Xorr7lpIflr7nlupTnmoTog73ph4/mnaHkuK3loavlhaXog73ph4/lnZcqL1xyXG4gICAgICAgICAgICAgICAgICAgICQoYC5lbmctY29sdW1uLWNoYXJ0LWNvbnRhaW5lci0ke2VhY2hEZXYuZGV2Q29kZX1gKS5hcHBlbmQoYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZW5nLWNvbHVtbi12YWx1ZSBlbmctY29sdW1uLXZhbHVlLSR7ZWFjaERldi5kZXZDb2RlfVwiIHN0eWxlPVwiYmFja2dyb3VuZDpyZ2JhKDAsMCwwLDApO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlOyB0b3A6JHszMCAtIGVuZ0hlaWdodH1weDsgYmFja2dyb3VuZDoke2Jsb2NrQmdDb2xvcn07IGhlaWdodDoke2VuZ0hlaWdodH1weDtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyog6IO96YeP5Z2X5a695bqm5aSn5bCPKi9cclxuICAgICAgICAgICAgICAgICAgICAkKGAuZW5nLWNvbHVtbi12YWx1ZS0ke2VhY2hEZXYuZGV2Q29kZX1gKS5jc3MoJ3dpZHRoJywgJCgnLmVuZy1jb2x1bW4tY2hhcnQnKS53aWR0aCgpICogMC4wMjUgLyAyICogMC43KTtcclxuICAgICAgICAgICAgICAgICAgICAkKGAuZW5nLWNvbHVtbi12YWx1ZS0ke2VhY2hEZXYuZGV2Q29kZX1gKS5jc3MoJ21hcmdpbi1sZWZ0JywgJCgnLmVuZy1jb2x1bW4tY2hhcnQnKS53aWR0aCgpICogMC4wMjUgLyAyICogMC4xNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgLmVuZy1jb2x1bW4tdmFsdWUtJHtlYWNoRGV2LmRldkNvZGV9YCkuY3NzKCdtYXJnaW4tcmlnaHQnLCAkKCcuZW5nLWNvbHVtbi1jaGFydCcpLndpZHRoKCkgKiAwLjAyNSAvIDIgKiAwLjE1KTtcclxuICAgICAgICAgICAgICAgICAgICAvKiDog73ph4/lnZflrrnlmajlrr3luqboh6rlop4qL1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKCcudGltZS1saW5lLWJsdWUtY292ZXInKS53aWR0aCgpIC8gJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpID49IDAuODc1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYC5lbmctY29sdW1uLWNoYXJ0LWNvbnRhaW5lci0ke2VhY2hEZXYuZGV2Q29kZX1gKS5jc3MoJ3dpZHRoJywgJCgnLmVuZy1jb2x1bW4tY2hhcnQnKS53aWR0aCgpICogMC4wMjUgLyAyICsgJChgLmVuZy1jb2x1bW4tY2hhcnQtY29udGFpbmVyLSR7ZWFjaERldi5kZXZDb2RlfWApLndpZHRoKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyDnu5jliLblrozmiJDlkI7lrZjlgqjkv6Hmga9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHJhd0VuZyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1hcEtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKHNlcnZlckRhdGUpLmdldFNlY29uZHMoKSA+IDI1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAzMOenkuWkhFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwS2V5ID0gbmV3IERhdGUoc2VydmVyRGF0ZSkuRm9ybWF0KCd5eXl5LU1NLWRkIGhoOm1tJykgKyAnOjAwJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAw56eS5aSEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBLZXkgPSBuZXcgRGF0ZShuZXcgRGF0ZShzZXJ2ZXJEYXRlKS5nZXRUaW1lKCkgLSA2MCAqIDEwMDApLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbScpICsgJzozMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZ2V0KGVhY2hEZXYuZGV2Q29kZSkudGltZUxpbmVFbmdNYXAuc2V0KG1hcEtleSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHsgbG5nOiBkZXZEcmF3SW5mb01hcC5nZXQoZWFjaERldi5kZXZDb2RlKS5tYXhFbmcucG9zaXRpb24ubG5nLCBsYXQ6IGRldkRyYXdJbmZvTWFwLmdldChlYWNoRGV2LmRldkNvZGUpLm1heEVuZy5wb3NpdGlvbi5sYXQsIG5vcnRoQW5nbGU6IGRldkRyYXdJbmZvTWFwLmdldChlYWNoRGV2LmRldkNvZGUpLm1heEVuZy5wb3NpdGlvbi5ub3J0aEFuZ2xlIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IGRldkRyYXdJbmZvTWFwLmdldChlYWNoRGV2LmRldkNvZGUpLm1heEVuZy5kZXRhaWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzaXZlOiBkZXZEcmF3SW5mb01hcC5nZXQoZWFjaERldi5kZXZDb2RlKS5tYXhFbmcudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyDnu5jliLblrozmiJDog73ph4/nvJPlrZjlvZLpm7ZcclxuICAgICAgICAgICAgICAgICAgICBkZXZEcmF3SW5mb01hcC5nZXQoZWFjaERldi5kZXZDb2RlKS5tYXhFbmcudmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VydmVyRGF0ZSA9IHNlcnZlckRhdGUgKyAxMDAwO1xyXG4gICAgICAgIH0sIDEwMDApO1xyXG5cclxuICAgICAgICAvKiDml7bpl7TovbTlpI3kvY0qL1xyXG4gICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgIC8vICQoJy52aWV3LWRlZmF1bHQtYnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKCcudmlldy1sb2NrLWJ0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWFwRm9sbG93RmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICQoJy52aWV3LWxvY2stYnRuIGRpdicpLmNzcyhcImJhY2tncm91bmRcIiwgXCJ1cmwoaW1nL2ljb24vbG9jYXRpb25fYWN0aXZlLnBuZyluby1yZXBlYXRcIik7XHJcbiAgICAgICAgLyoqZWRpdCBieSBnYW9jaGFvIGVuZCAqL1xyXG4gICAgICAgICAgICAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykuY3NzKCdyaWdodCcsICcwcHgnKTtcclxuICAgICAgICAgICAgdGltZUxpbmVNYXJrZXRJc0NsaWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJCgnLnRpbWUtbGluZS1tYXJrZXInKS5jc3MoJ2xlZnQnLCBOdW1iZXIoKDEgLSAoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgLSAkKCcudGltZS1saW5lLWJsdWUtY292ZXInKS53aWR0aCgpICsgcGFyc2VGbG9hdCgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykuY3NzKCdyaWdodCcpKSkgLyAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkpICogMTAwKSArICclJyk7XHJcbiAgICAgICAgICAgIC8qIOi/mOWOn+a7keWKqOadoea7keWdl+S9jee9riovXHJcbiAgICAgICAgICAgICQoJy51aS1yYW5nZVNsaWRlci1iYXInKS5jc3MoJ2xlZnQnLCAkKCcudWktcmFuZ2VTbGlkZXItY29udGFpbmVyJykud2lkdGgoKSAqICgxIC0gJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpKTtcclxuICAgICAgICAgICAgJCgnLnVpLXJhbmdlU2xpZGVyLWxlZnRIYW5kbGUnKS5jc3MoJ2xlZnQnLCAkKCcudWktcmFuZ2VTbGlkZXItY29udGFpbmVyJykud2lkdGgoKSAqICgxIC0gJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpKTtcclxuICAgICAgICAgICAgJCgnLnVpLXJhbmdlU2xpZGVyLXJpZ2h0SGFuZGxlJykuY3NzKCdsZWZ0JywgJCgnLnVpLXJhbmdlU2xpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgLSA2KTtcclxuICAgICAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkoaGlzdG9yeVNoYWRvd092ZXJsYXkpO1xyXG4gICAgICAgICAgICAkKCcuZW5nLWNvbHVtbi1jaGFydC1jb250YWluZXInKS5jc3MoJ3JpZ2h0JywgJzBweCcpO1xyXG4gICAgICAgICAgICAkKCcudmlldy1kZWZhdWx0LWJ0bi1iZycpLmNzcygnYmFja2dyb3VuZC1wb3NpdGlvbicsICctMTgwcHggLTMwcHgnKTtcclxuICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZm9yRWFjaCgoZWFjaERldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVhY2hEZXYuaXNDb3JyZW50Vmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXBGb2xsb3dGbGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9pbnQgPSBbZGV2SW5mb01hcC5nZXQoZWFjaERldi5kZXZDb2RlKS5ncHNJbmZvLmxuZywgZGV2SW5mb01hcC5nZXQoZWFjaERldi5kZXZDb2RlKS5ncHNJbmZvLmxhdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiZFBvaW50ID0gR1BTVG9CYWlkdVBvaW50LmdldEJhaWR1UG9pbnRMb2NhdGlvbihbcG9pbnRdKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFwLnNldENlbnRlcihuZXcgQk1hcC5Qb2ludChkZXZJbmZvTWFwLmdldChlYWNoRGV2LmRldkNvZGUpLmJhaWR1R3BzSW5mby5sbmcsIGRldkluZm9NYXAuZ2V0KGVhY2hEZXYuZGV2Q29kZSkuYmFpZHVHcHNJbmZvLmxhdCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuc2V0Q2VudGVyKG5ldyBCTWFwLlBvaW50KGJkUG9pbnQubG5nLCBiZFBvaW50LmxhdCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldFpvb20obWFwLmdldFpvb20oKSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuc2V0Wm9vbShtYXAuZ2V0Wm9vbSgpICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qIOiOt+WPluWIu+W6puWwuuaXtumXtOWAvCovXHJcbiAgICBzdGF0aWMgZ2V0TWFya2VyVGltZSgpIHtcclxuICAgICAgICBsZXQgbWFya2VyTGVmdFBlcmMgPSBwYXJzZUZsb2F0KCQoJy50aW1lLWxpbmUtbWFya2VyJykuY3NzKCdsZWZ0JykpIC8gJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpICogMTAwO1xyXG4gICAgICAgIC8qIOiOt+WPluiDvemHj+adoeiDvemHj+WAvCovXHJcbiAgICAgICAgLy8g5YWI6I635Y+W57qi6Imy5Yi75bqm5YC85Zyo5pe26Ze06L205LiK55qE55m+5YiG5q+UXHJcbiAgICAgICAgLy8g566X5Ye66LaF5Ye66YOo5YiG5pyJ5aSa5bCR5qC8XHJcbiAgICAgICAgbGV0IG91dGVyQ291bnQgPSAoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgLSAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgKyBwYXJzZUZsb2F0KCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5jc3MoJ3JpZ2h0JykpKSAvICgkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgKiAwLjAyNSk7XHJcbiAgICAgICAgLy8g57qi6Imy5Yi75bqm5bC65YmN6Z2i55qE5qC85pWwICsg6LaF5Ye66YOo5YiG55qE5qC85pWwXHJcbiAgICAgICAgbGV0IG1hcmtlckxlZnRDb3VudCA9IG1hcmtlckxlZnRQZXJjIC8gMi41ICsgb3V0ZXJDb3VudCAtIDEuNTtcclxuICAgICAgICAvLyDpgJrov4fmoLzmlbDnoa7lrprml7bpl7TmiLNcclxuICAgICAgICBsZXQgY2xpY2tlZFRpbWUgPSBuZXcgRGF0ZSgodGltZUxpbmVTdGFydFZhbHVlICsgbWFya2VyTGVmdENvdW50ICogMSAqIDYwKSAqIDEwMDApO1xyXG4gICAgICAgIGxldCBtYXJrZXJUaW1lO1xyXG4gICAgICAgIGlmIChjbGlja2VkVGltZS5nZXRTZWNvbmRzKCkgPCAzMCkge1xyXG4gICAgICAgICAgICBtYXJrZXJUaW1lID0gbmV3IERhdGUoKHRpbWVMaW5lU3RhcnRWYWx1ZSArIG1hcmtlckxlZnRDb3VudCAqIDEgKiA2MCkgKiAxMDAwKS5Gb3JtYXQoJ3l5eXktTU0tZGQgaGg6bW0nKSArICc6MDAnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1hcmtlclRpbWUgPSBuZXcgRGF0ZSgodGltZUxpbmVTdGFydFZhbHVlICsgbWFya2VyTGVmdENvdW50ICogMSAqIDYwKSAqIDEwMDApLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbScpICsgJzozMCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtYXJrZXJUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIOe7mOWItuW9seWtkCovXHJcbiAgICBzdGF0aWMgZGV2SGlzdG9yeVNoYWRvdyhtYXJrZXJUaW1lKSB7XHJcbiAgICAgICAgLyog56e76Zmk5LiK5LiA5Liq5b2x5a2QKi9cclxuICAgICAgICBpZiAoaGlzdG9yeVNoYWRvd092ZXJsYXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBtYXAucmVtb3ZlT3ZlcmxheShoaXN0b3J5U2hhZG93T3ZlcmxheSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRldkRyYXdJbmZvTWFwLmZvckVhY2goKGVhY2hEZXYpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVhY2hEZXYuaXNDb3JyZW50VmlldykgeyAvLyDlj6rnu5jliLblvZPliY3op4bop5LnmoTorr7lpIdcclxuICAgICAgICAgICAgICAgIGxldCBzaGFkb3dJbmZvID0gZWFjaERldi50aW1lTGluZUVuZ01hcC5nZXQobWFya2VyVGltZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhZG93SW5mbyAhPSBudWxsKSB7IC8vIOWcqOWtmOWCqOeahG1hcOS4reaJvuWIsOWvueW6lOeahOaXtumXtOeCuVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZXZDb2RlID0gZWFjaERldi5kZXZDb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZXZUeXBlID0gTnVtYmVyKGVhY2hEZXYuZGV2VHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBvaW50ID0gbmV3IEJNYXAuUG9pbnQoc2hhZG93SW5mby5wb3NpdGlvbi5sbmcsIHNoYWRvd0luZm8ucG9zaXRpb24ubGF0KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbm9ydGhBbmdsZSA9IHNoYWRvd0luZm8ucG9zaXRpb24ubm9ydGhBbmdsZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZW5lcmd5ID0gc2hhZG93SW5mby5kZXRhaWw7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhc3NpdmUgPSBzaGFkb3dJbmZvLnBhc3NpdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkZXZUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnlTaGFkb3dPdmVybGF5ID0gbmV3IENhckhpc3RvcnlTaGFkb3dPdmVybGF5Q29uc3RydWN0b3IocG9pbnQsIGRldkNvZGUsIG5vcnRoQW5nbGUsIGVuZXJneSwgcGFzc2l2ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuYWRkT3ZlcmxheShoaXN0b3J5U2hhZG93T3ZlcmxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeVNoYWRvd092ZXJsYXkgPSBuZXcgU2luZ2xlSGlzdG9yeVNoYWRvd092ZXJsYXlDb25zdHJ1Y3Rvcihwb2ludCwgZGV2Q29kZSwgbm9ydGhBbmdsZSwgZW5lcmd5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5hZGRPdmVybGF5KGhpc3RvcnlTaGFkb3dPdmVybGF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcmVhbFRpbWVDb21iYXQvdG9vbC9UaW1lTGluZS5qc1xuLy8gbW9kdWxlIGlkID0gNTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///55\n");

/***/ }),
/* 56 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__realTimeCombat_overlay_CarHistoryShadowOverlayConstructor_js__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__realTimeCombat_overlay_SingleHistoryShadowOverlayConstructor_js__ = __webpack_require__(32);\n\r\n\r\n\r\nclass TimeLine {\r\n\r\n    static add0AtFirst(value) {\r\n        if (Number(value) < 10) {\r\n            return '0' + value;\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n\r\n    /* 绘制时间轴*/\r\n    static initTimeLine(startTime, endTime) {\r\n\r\n        timeLineEndValue = new Date(startTime); // \r\n        /* 时间轴末尾值*/\r\n        let timeEnd = parseInt(new Date(startTime).getTime() / 1000) - new Date(startTime).getSeconds() + 1 * 60;\r\n        /* 时间轴开始时间（）*/\r\n        if (new Date(startTime).getSeconds() >= 30) {\r\n            timeLineStartValue = parseInt((new Date(startTime).getTime()) / 1000) + 0.5 * 60;\r\n        } else {\r\n            timeLineStartValue = parseInt((new Date(startTime).getTime()) / 1000) + 1 * 60;\r\n        }\r\n        /* 将caseStartTime设为时间轴最左侧的起始时间*/\r\n        caseStartTime = timeLineStartValue * 1000 - new Date(timeLineStartValue * 1000).getSeconds() * 1000 - 60000;\r\n        /* 当前播放的时间归零*/\r\n        replayCurrentTime = timeLineStartValue * 1000 - new Date(timeLineStartValue * 1000).getSeconds() * 1000 - 60000;\r\n        /* 时间轴长度*/\r\n        let timeLength = timeEnd - timeLineStartValue + (parseInt((endTime - startTime) / 60000) + 1) * 60;\r\n        /* 时间轴中html代码*/\r\n        let timeLineHtml = '';\r\n        for (let i = 0; i <= timeLength; i++) {\r\n            let currentTime = timeLineStartValue + i;\r\n            if (i % 30 == 0) {\r\n                if (i % 60 == 0) {\r\n                    if (new Date(currentTime * 1000).getMinutes() % 5 == 0) {\r\n                        /* 大刻度*/\r\n                        timeLineHtml = timeLineHtml + `\r\n                            <div class=\"time-line-divider-long\">\r\n                                <div class=\"time-line-divider-time\">\r\n                                    ${TimeLine.add0AtFirst(new Date(currentTime * 1000).getHours())}:${TimeLine.add0AtFirst(new Date(currentTime * 1000).getMinutes())}\r\n                                </div>\r\n                            </div>\r\n                        `;\r\n                    } else {\r\n                        /* 小刻度*/\r\n                        timeLineHtml = timeLineHtml + `\r\n                            <div class=\"time-line-divider-short\"></div>\r\n                        `;\r\n                    }\r\n                }\r\n                if (currentTime > timeEnd) {\r\n                    timeDividerCountOver = timeDividerCountOver + 0.5;\r\n                }\r\n                /* 时间轴格数*/\r\n                timeDividerCount = timeDividerCount + 0.5;\r\n            }\r\n        }\r\n        $('.time-line-divider-container').append(timeLineHtml);\r\n        $('.time-line-divider-container').css('left', 0);\r\n        /* window resize监听事件*/\r\n        let timeLineAutoSize = function () {\r\n            /* 时间轴容器宽度*/\r\n            $('.time-line-area').css('width', $(window).width() - 270 - 170);\r\n            /* 刻度宽度*/\r\n            $('.time-line-divider-long, .time-line-divider-short').css('margin-left', $('.time-line-container').width() * 0.025 - 1);\r\n            /* 刻度容器宽度*/\r\n            $('.time-line-divider-container').css('width', timeDividerCount * ($('.time-line-container').width() * 0.025));\r\n            //$('.time-line-blue-cover').css('width', ((timeDividerCount - timeDividerCountOver) / timeDividerCount) * 100 + '%'); // 设置蓝色覆盖层宽度\r\n            /* 能量块*/\r\n            $(`.eng-column-chart-container`).css('width', timeDividerCount * $('.eng-column-chart').width() * 0.025);\r\n            $('.eng-column-value').css('width', $('.eng-column-chart').width() * 0.025 / 2 * 0.6);\r\n            $('.eng-column-value').css('margin-left', $('.eng-column-chart').width() * 0.025 / 2 * 0.2);\r\n            $('.eng-column-value').css('margin-right', $('.eng-column-chart').width() * 0.025 / 2 * 0.2);\r\n            /* 进度条*/\r\n            $('.time-line-progress').css('width', ($('.time-line-area').width() - 90) + 'px');\r\n        }\r\n        timeLineAutoSize();\r\n        window.addEventListener('resize', function () {\r\n            timeLineAutoSize();\r\n        }, false);\r\n        /* 设置红色marker的位置*/\r\n        $('.time-line-marker').css('left', Number((1 - ($('.time-line-divider-container').width() - $('.time-line-blue-cover').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-container').width()) * 100) + '%');\r\n        /* 滑动条*/\r\n        $('.time-line-slider').rangeSlider({\r\n            defaultValues: {\r\n                min: 0,\r\n                max: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100\r\n            },\r\n            range: {\r\n                min: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100,\r\n                max: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100\r\n            },\r\n            valueLabels: 'hide',\r\n            wheelMode: 'scroll'\r\n        });\r\n        $('.ui-rangeSlider-label').css('display', 'none');\r\n        /* 滑动条回调函数*/\r\n        $('.time-line-slider').on('valuesChanging', function (e, data) {\r\n            let perc = ((data.values.min + data.values.max - (($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100)) / 2) / (100 - (($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100));\r\n            /* 时间轴位置*/\r\n            $('.time-line-divider-container').css('left', -perc * ($('.time-line-divider-container').width() - $('.time-line-container').width()));\r\n            /* 能量轴位置*/\r\n            $('.eng-column-chart-container').css('left', -perc * ($('.time-line-divider-container').width() - $('.time-line-container').width()));\r\n            /* 绘制历史影子*/\r\n            let markerTime = TimeLine.getMarkerTime();\r\n            TimeLine.devHistoryShadow(markerTime);\r\n            $('.view-default-btn-bg').css('background-position', '-210px -30px');\r\n        });\r\n        /* 时间轴初始化完成后,若当前系统时间秒数大于30，左移一次*/\r\n        if (new Date(startTime).getSeconds() >= 30) {\r\n            /* 蓝色覆盖层宽度超出，才添加刻度*/\r\n            if (timeDividerCountOver / timeDividerCount <= 0.125) {\r\n                timeDividerCount = timeDividerCount + 0.5;\r\n                $('.time-line-divider-long, .time-line-divider-short').css('margin-left', $('.time-line-container').width() * 0.025 - 1);\r\n                $('.time-line-divider-container').css('width', $('.time-line-container').width() * 0.025 / 2 + $('.time-line-divider-container').width());\r\n                /* 设置蓝色覆盖层*/\r\n                // $('.time-line-blue-cover').css('width', ((timeDividerCount - timeDividerCountOver) / timeDividerCount) * 100 + '%');\r\n            } else {\r\n                timeDividerCountOver = timeDividerCountOver - 0.5;\r\n                /* 设置蓝色覆盖层*/\r\n                // $('.time-line-blue-cover').css('width', ((timeDividerCount - timeDividerCountOver) / timeDividerCount) * 100 + '%');\r\n                // $('.time-line-marker').css('left', Number((1 - ($('.time-line-divider-container').width() - $('.time-line-blue-cover').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-container').width()) * 100) + '%');\r\n            }\r\n            /* 修改滑动条*/\r\n            $('.time-line-slider').rangeSlider('option', 'range', {\r\n                min: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100,\r\n                max: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100\r\n            });\r\n        }\r\n        /* 存储蓝色覆盖层初始宽度*/\r\n        timeLineBlueCoverDefaultWidth = ($('.time-line-blue-cover').width() / $('.time-line-divider-container').width()) * 100;\r\n\r\n        /* 时间轴复位*/\r\n        /**edit by gaochao start */\r\n        // $('.view-default-btn').click(function () {\r\n        $('.view-lock-btn').click(function () {\r\n            mapFollowFlag = true;\r\n            $('.view-lock-btn div').css(\"background\", \"url(img/icon/location_active.png)no-repeat\");\r\n            /**edit by gaochao end */\r\n            if ($('.time-line-blue-cover').width() / $('.time-line-container').width() >= 0.875) {\r\n                $('.time-line-divider-container').css('left', $('.time-line-container').width() - $('.time-line-blue-cover').width() - ($('.time-line-container').width() * 0.025 / 2) * 10);\r\n                $('.eng-column-chart-container').css('left', $('.time-line-container').width() - $('.time-line-blue-cover').width() - ($('.time-line-container').width() * 0.025 / 2) * 10);\r\n            } else {\r\n                $('.time-line-divider-container').css('left', '0px');\r\n                $('.eng-column-chart-container').css('left', '0px');\r\n            }\r\n            $('.time-line-marker').css('left', Number((1 - ($('.time-line-divider-container').width() - $('.time-line-blue-cover').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-container').width()) * 100) + '%');\r\n            /* 修改滑动条（还原滑动条位置）*/\r\n            $('.time-line-slider').rangeSlider('option', 'range', {\r\n                min: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100,\r\n                max: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100\r\n            });\r\n            /* 手动设置滑动条位置（还原滑动条位置）*/\r\n            $('.ui-rangeSlider-bar').css('left', $('.ui-rangeSlider-container').width() * (($('.time-line-divider-container').width() - $('.time-line-container').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-divider-container').width()));\r\n            $('.ui-rangeSlider-leftHandle').css('left', $('.ui-rangeSlider-container').width() * (($('.time-line-divider-container').width() - $('.time-line-container').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-divider-container').width()));\r\n            $('.ui-rangeSlider-rightHandle').css('left', $('.ui-rangeSlider-container').width() * (1 + parseFloat($('.time-line-divider-container').css('right')) / $('.time-line-divider-container').width()) - 6);\r\n            $('.view-default-btn-bg').css('background-position', '-180px -30px');\r\n            map.removeOverlay(historyShadowOverlay);\r\n            devDrawInfoMap.forEach((eachDev) => {\r\n                if (eachDev.isCorrentView) {\r\n                    /**edit by gaochao start */\r\n                    if (mapFollowFlag) {\r\n                        map.setCenter(new BMap.Point(devInfoMap.get(eachDev.devCode).baiduGpsInfo.lng, devInfoMap.get(eachDev.devCode).baiduGpsInfo.lat));\r\n                        map.setZoom(map.getZoom() - 1);\r\n                        map.setZoom(map.getZoom() + 1);\r\n                    }\r\n                    /**edit by gaochao end */\r\n                }\r\n            });\r\n            timeLineMarketIsClicked = false;\r\n            timeLineSlidertIsPressed = false;\r\n        });\r\n\r\n    }\r\n\r\n    static getMarkerTime() {\r\n        /* 获取红色刻度值在时间轴容器上的百分比*/\r\n        let markerLeftPerc = parseFloat($('.time-line-marker').css('left')) / $('.time-line-container').width() * 100;\r\n        /* 算出左边部分超出有多少格*/\r\n        let outerCount = ($('.time-line-divider-container').width() - $('.time-line-container').width() + parseFloat($('.time-line-divider-container').css('right'))) / ($('.time-line-container').width() * 0.025);\r\n        /* 红色刻度尺前面的格数 + 超出部分的格数*/\r\n        let markerLeftCount = markerLeftPerc / 2.5 + outerCount;\r\n        // 通过格数确定时间戳 // timeLineStartValue * 1000 - new Date(timeLineStartValue * 1000).getSeconds() * 1000 - 60000;\r\n        let clickedTime = new Date(((timeLineStartValue * 1000 - new Date(timeLineStartValue * 1000).getSeconds() * 1000 - 60000) / 1000 + markerLeftCount * 1 * 60) * 1000);\r\n        return clickedTime;\r\n    }\r\n\r\n    /* 绘制影子*/\r\n    static devHistoryShadow(clickedTime) {\r\n        let markerTime\r\n        /* 设置key值*/\r\n        if (clickedTime.getSeconds() < 30) {\r\n            markerTime = clickedTime.Format('yyyy-MM-dd hh:mm') + ':00';\r\n        } else {\r\n            markerTime = clickedTime.Format('yyyy-MM-dd hh:mm') + ':30';\r\n        }\r\n        /* 绘制前需移除上一个影子*/\r\n        if (historyShadowOverlay != null) {\r\n            map.removeOverlay(historyShadowOverlay);\r\n        }\r\n        devDrawInfoMap.forEach((eachDev) => {\r\n            if (eachDev.isCorrentView) { // 只绘制当前视角的设备\r\n                let shadowInfo = eachDev.timeLineEngMap.get(markerTime);\r\n                if (shadowInfo != null) { // 在存储的map中找到对应的时间点\r\n                    let devCode = eachDev.devCode;\r\n                    let devType = Number(eachDev.devType);\r\n                    let point = new BMap.Point(shadowInfo.position.lng, shadowInfo.position.lat);\r\n                    let northAngle = shadowInfo.position.northAngle;\r\n                    let energy = shadowInfo.detail;\r\n                    let passive = shadowInfo.passive;\r\n                    switch (devType) {\r\n                        case 1:\r\n                            historyShadowOverlay = new __WEBPACK_IMPORTED_MODULE_0__realTimeCombat_overlay_CarHistoryShadowOverlayConstructor_js__[\"a\" /* CarHistoryShadowOverlayConstructor */](point, devCode, northAngle, energy, passive);\r\n                            map.addOverlay(historyShadowOverlay);\r\n                            break;\r\n                        case 2:\r\n                            historyShadowOverlay = new __WEBPACK_IMPORTED_MODULE_1__realTimeCombat_overlay_SingleHistoryShadowOverlayConstructor_js__[\"a\" /* SingleHistoryShadowOverlayConstructor */](point, devCode, northAngle, energy);\r\n                            map.addOverlay(historyShadowOverlay);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /* 重置刻度尺位置*/\r\n    static resetTimeLineMarker() {\r\n        $('.time-line-marker').css('left', Number((1 - ($('.time-line-divider-container').width() - $('.time-line-blue-cover').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-container').width()) * 100) + '%');\r\n    }\r\n\r\n    /* 时间轴自增*/\r\n    static updateTimeLine(updateTime) {\r\n        let currentTime = new Date(updateTime);\r\n        /* 增加蓝色覆盖层的宽度*/\r\n        let blueCoverWidthCache = $('.time-line-blue-cover').width();\r\n        blueCoverWidthCache = blueCoverWidthCache + $('.time-line-container').width() * 0.025 / 60;\r\n        $('.time-line-blue-cover').css('width', (blueCoverWidthCache / $('.time-line-divider-container').width()) * 100 + '%');\r\n        /* 时间轴自动移动*/\r\n        if (!timeLineSlidertIsPressed) {\r\n            if ($('.time-line-blue-cover').width() / $('.time-line-container').width() >= 0.875) {\r\n                /* 时间轴位移量*/\r\n                let dividerContainerLeftCache = parseFloat($('.time-line-divider-container').css('left'));\r\n                if (-dividerContainerLeftCache + $('.time-line-container').width() < $('.time-line-divider-container').width()) {\r\n                    if (-(dividerContainerLeftCache - $('.time-line-container').width() * 0.025) > $('.time-line-divider-container').width()) {\r\n                        dividerContainerLeftCache = -($('.time-line-divider-container').width() - $('.time-line-container').width());\r\n                    } else {\r\n                        dividerContainerLeftCache = dividerContainerLeftCache - $('.time-line-container').width() * 0.025 / 60;\r\n                    }\r\n                    $('.time-line-divider-container').css('left', dividerContainerLeftCache + 'px');\r\n                    $('.eng-column-chart-container').css('left', dividerContainerLeftCache + 'px');\r\n                }\r\n            }\r\n            TimeLine.resetTimeLineMarker();\r\n            /* 修改滑动条*/\r\n            $('.time-line-slider').rangeSlider('option', 'range', {\r\n                min: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100,\r\n                max: ($('.time-line-container').width() / $('.time-line-divider-container').width()) * 100\r\n            });\r\n            /* 手动设置滑动条位置*/\r\n            $('.ui-rangeSlider-bar').css('left', $('.ui-rangeSlider-container').width() * (($('.time-line-divider-container').width() - $('.time-line-container').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-divider-container').width()));\r\n            $('.ui-rangeSlider-leftHandle').css('left', $('.ui-rangeSlider-container').width() * (($('.time-line-divider-container').width() - $('.time-line-container').width() + parseFloat($('.time-line-divider-container').css('right'))) / $('.time-line-divider-container').width()));\r\n            $('.ui-rangeSlider-rightHandle').css('left', $('.ui-rangeSlider-container').width() * (1 + parseFloat($('.time-line-divider-container').css('right')) / $('.time-line-divider-container').width()) - 6);\r\n        }\r\n        /* 更新进度条*/\r\n        let progressPerc = (1 - (caseEndTime - updateTime) / (caseEndTime - caseStartTime)) * 100;\r\n        $('#time-line-progress').css('width', progressPerc + '%');\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = TimeLine;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90b29sL1RpbWVMaW5lLmpzPzk1OWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUU0RTtBQUdHOztBQUV4RTs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaUJBQWlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsOERBQThELEdBQUc7QUFDdkc7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrSUFBa0k7QUFDbEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHlJQUFrQztBQUN6RjtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsK0lBQXFDO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDIiwiZmlsZSI6IjU2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIENhckhpc3RvcnlTaGFkb3dPdmVybGF5Q29uc3RydWN0b3JcclxufSBmcm9tICcuLi8uLi9yZWFsVGltZUNvbWJhdC9vdmVybGF5L0Nhckhpc3RvcnlTaGFkb3dPdmVybGF5Q29uc3RydWN0b3IuanMnO1xyXG5pbXBvcnQge1xyXG4gICAgU2luZ2xlSGlzdG9yeVNoYWRvd092ZXJsYXlDb25zdHJ1Y3RvclxyXG59IGZyb20gJy4uLy4uL3JlYWxUaW1lQ29tYmF0L292ZXJsYXkvU2luZ2xlSGlzdG9yeVNoYWRvd092ZXJsYXlDb25zdHJ1Y3Rvci5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgVGltZUxpbmUge1xyXG5cclxuICAgIHN0YXRpYyBhZGQwQXRGaXJzdCh2YWx1ZSkge1xyXG4gICAgICAgIGlmIChOdW1iZXIodmFsdWUpIDwgMTApIHtcclxuICAgICAgICAgICAgcmV0dXJuICcwJyArIHZhbHVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyog57uY5Yi25pe26Ze06L20Ki9cclxuICAgIHN0YXRpYyBpbml0VGltZUxpbmUoc3RhcnRUaW1lLCBlbmRUaW1lKSB7XHJcblxyXG4gICAgICAgIHRpbWVMaW5lRW5kVmFsdWUgPSBuZXcgRGF0ZShzdGFydFRpbWUpOyAvLyBcclxuICAgICAgICAvKiDml7bpl7TovbTmnKvlsL7lgLwqL1xyXG4gICAgICAgIGxldCB0aW1lRW5kID0gcGFyc2VJbnQobmV3IERhdGUoc3RhcnRUaW1lKS5nZXRUaW1lKCkgLyAxMDAwKSAtIG5ldyBEYXRlKHN0YXJ0VGltZSkuZ2V0U2Vjb25kcygpICsgMSAqIDYwO1xyXG4gICAgICAgIC8qIOaXtumXtOi9tOW8gOWni+aXtumXtO+8iO+8iSovXHJcbiAgICAgICAgaWYgKG5ldyBEYXRlKHN0YXJ0VGltZSkuZ2V0U2Vjb25kcygpID49IDMwKSB7XHJcbiAgICAgICAgICAgIHRpbWVMaW5lU3RhcnRWYWx1ZSA9IHBhcnNlSW50KChuZXcgRGF0ZShzdGFydFRpbWUpLmdldFRpbWUoKSkgLyAxMDAwKSArIDAuNSAqIDYwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRpbWVMaW5lU3RhcnRWYWx1ZSA9IHBhcnNlSW50KChuZXcgRGF0ZShzdGFydFRpbWUpLmdldFRpbWUoKSkgLyAxMDAwKSArIDEgKiA2MDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyog5bCGY2FzZVN0YXJ0VGltZeiuvuS4uuaXtumXtOi9tOacgOW3puS+p+eahOi1t+Wni+aXtumXtCovXHJcbiAgICAgICAgY2FzZVN0YXJ0VGltZSA9IHRpbWVMaW5lU3RhcnRWYWx1ZSAqIDEwMDAgLSBuZXcgRGF0ZSh0aW1lTGluZVN0YXJ0VmFsdWUgKiAxMDAwKS5nZXRTZWNvbmRzKCkgKiAxMDAwIC0gNjAwMDA7XHJcbiAgICAgICAgLyog5b2T5YmN5pKt5pS+55qE5pe26Ze05b2S6Zu2Ki9cclxuICAgICAgICByZXBsYXlDdXJyZW50VGltZSA9IHRpbWVMaW5lU3RhcnRWYWx1ZSAqIDEwMDAgLSBuZXcgRGF0ZSh0aW1lTGluZVN0YXJ0VmFsdWUgKiAxMDAwKS5nZXRTZWNvbmRzKCkgKiAxMDAwIC0gNjAwMDA7XHJcbiAgICAgICAgLyog5pe26Ze06L206ZW/5bqmKi9cclxuICAgICAgICBsZXQgdGltZUxlbmd0aCA9IHRpbWVFbmQgLSB0aW1lTGluZVN0YXJ0VmFsdWUgKyAocGFyc2VJbnQoKGVuZFRpbWUgLSBzdGFydFRpbWUpIC8gNjAwMDApICsgMSkgKiA2MDtcclxuICAgICAgICAvKiDml7bpl7TovbTkuK1odG1s5Luj56CBKi9cclxuICAgICAgICBsZXQgdGltZUxpbmVIdG1sID0gJyc7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGltZUxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50VGltZSA9IHRpbWVMaW5lU3RhcnRWYWx1ZSArIGk7XHJcbiAgICAgICAgICAgIGlmIChpICUgMzAgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgJSA2MCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGN1cnJlbnRUaW1lICogMTAwMCkuZ2V0TWludXRlcygpICUgNSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIOWkp+WIu+W6piovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVMaW5lSHRtbCA9IHRpbWVMaW5lSHRtbCArIGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lLWxpbmUtZGl2aWRlci1sb25nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWUtbGluZS1kaXZpZGVyLXRpbWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtUaW1lTGluZS5hZGQwQXRGaXJzdChuZXcgRGF0ZShjdXJyZW50VGltZSAqIDEwMDApLmdldEhvdXJzKCkpfToke1RpbWVMaW5lLmFkZDBBdEZpcnN0KG5ldyBEYXRlKGN1cnJlbnRUaW1lICogMTAwMCkuZ2V0TWludXRlcygpKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIOWwj+WIu+W6piovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVMaW5lSHRtbCA9IHRpbWVMaW5lSHRtbCArIGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lLWxpbmUtZGl2aWRlci1zaG9ydFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGltZSA+IHRpbWVFbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lRGl2aWRlckNvdW50T3ZlciA9IHRpbWVEaXZpZGVyQ291bnRPdmVyICsgMC41O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyog5pe26Ze06L205qC85pWwKi9cclxuICAgICAgICAgICAgICAgIHRpbWVEaXZpZGVyQ291bnQgPSB0aW1lRGl2aWRlckNvdW50ICsgMC41O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5hcHBlbmQodGltZUxpbmVIdG1sKTtcclxuICAgICAgICAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykuY3NzKCdsZWZ0JywgMCk7XHJcbiAgICAgICAgLyogd2luZG93IHJlc2l6ZeebkeWQrOS6i+S7tiovXHJcbiAgICAgICAgbGV0IHRpbWVMaW5lQXV0b1NpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8qIOaXtumXtOi9tOWuueWZqOWuveW6piovXHJcbiAgICAgICAgICAgICQoJy50aW1lLWxpbmUtYXJlYScpLmNzcygnd2lkdGgnLCAkKHdpbmRvdykud2lkdGgoKSAtIDI3MCAtIDE3MCk7XHJcbiAgICAgICAgICAgIC8qIOWIu+W6puWuveW6piovXHJcbiAgICAgICAgICAgICQoJy50aW1lLWxpbmUtZGl2aWRlci1sb25nLCAudGltZS1saW5lLWRpdmlkZXItc2hvcnQnKS5jc3MoJ21hcmdpbi1sZWZ0JywgJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpICogMC4wMjUgLSAxKTtcclxuICAgICAgICAgICAgLyog5Yi75bqm5a655Zmo5a695bqmKi9cclxuICAgICAgICAgICAgJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLmNzcygnd2lkdGgnLCB0aW1lRGl2aWRlckNvdW50ICogKCQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAqIDAuMDI1KSk7XHJcbiAgICAgICAgICAgIC8vJCgnLnRpbWUtbGluZS1ibHVlLWNvdmVyJykuY3NzKCd3aWR0aCcsICgodGltZURpdmlkZXJDb3VudCAtIHRpbWVEaXZpZGVyQ291bnRPdmVyKSAvIHRpbWVEaXZpZGVyQ291bnQpICogMTAwICsgJyUnKTsgLy8g6K6+572u6JOd6Imy6KaG55uW5bGC5a695bqmXHJcbiAgICAgICAgICAgIC8qIOiDvemHj+WdlyovXHJcbiAgICAgICAgICAgICQoYC5lbmctY29sdW1uLWNoYXJ0LWNvbnRhaW5lcmApLmNzcygnd2lkdGgnLCB0aW1lRGl2aWRlckNvdW50ICogJCgnLmVuZy1jb2x1bW4tY2hhcnQnKS53aWR0aCgpICogMC4wMjUpO1xyXG4gICAgICAgICAgICAkKCcuZW5nLWNvbHVtbi12YWx1ZScpLmNzcygnd2lkdGgnLCAkKCcuZW5nLWNvbHVtbi1jaGFydCcpLndpZHRoKCkgKiAwLjAyNSAvIDIgKiAwLjYpO1xyXG4gICAgICAgICAgICAkKCcuZW5nLWNvbHVtbi12YWx1ZScpLmNzcygnbWFyZ2luLWxlZnQnLCAkKCcuZW5nLWNvbHVtbi1jaGFydCcpLndpZHRoKCkgKiAwLjAyNSAvIDIgKiAwLjIpO1xyXG4gICAgICAgICAgICAkKCcuZW5nLWNvbHVtbi12YWx1ZScpLmNzcygnbWFyZ2luLXJpZ2h0JywgJCgnLmVuZy1jb2x1bW4tY2hhcnQnKS53aWR0aCgpICogMC4wMjUgLyAyICogMC4yKTtcclxuICAgICAgICAgICAgLyog6L+b5bqm5p2hKi9cclxuICAgICAgICAgICAgJCgnLnRpbWUtbGluZS1wcm9ncmVzcycpLmNzcygnd2lkdGgnLCAoJCgnLnRpbWUtbGluZS1hcmVhJykud2lkdGgoKSAtIDkwKSArICdweCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aW1lTGluZUF1dG9TaXplKCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGltZUxpbmVBdXRvU2l6ZSgpO1xyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICAvKiDorr7nva7nuqLoibJtYXJrZXLnmoTkvY3nva4qL1xyXG4gICAgICAgICQoJy50aW1lLWxpbmUtbWFya2VyJykuY3NzKCdsZWZ0JywgTnVtYmVyKCgxIC0gKCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpIC0gJCgnLnRpbWUtbGluZS1ibHVlLWNvdmVyJykud2lkdGgoKSArIHBhcnNlRmxvYXQoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLmNzcygncmlnaHQnKSkpIC8gJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpKSAqIDEwMCkgKyAnJScpO1xyXG4gICAgICAgIC8qIOa7keWKqOadoSovXHJcbiAgICAgICAgJCgnLnRpbWUtbGluZS1zbGlkZXInKS5yYW5nZVNsaWRlcih7XHJcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZXM6IHtcclxuICAgICAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgICAgIG1heDogKCQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAvICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpKSAqIDEwMFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByYW5nZToge1xyXG4gICAgICAgICAgICAgICAgbWluOiAoJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpICogMTAwLFxyXG4gICAgICAgICAgICAgICAgbWF4OiAoJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpICogMTAwXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHZhbHVlTGFiZWxzOiAnaGlkZScsXHJcbiAgICAgICAgICAgIHdoZWVsTW9kZTogJ3Njcm9sbCdcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcudWktcmFuZ2VTbGlkZXItbGFiZWwnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgIC8qIOa7keWKqOadoeWbnuiwg+WHveaVsCovXHJcbiAgICAgICAgJCgnLnRpbWUtbGluZS1zbGlkZXInKS5vbigndmFsdWVzQ2hhbmdpbmcnLCBmdW5jdGlvbiAoZSwgZGF0YSkge1xyXG4gICAgICAgICAgICBsZXQgcGVyYyA9ICgoZGF0YS52YWx1ZXMubWluICsgZGF0YS52YWx1ZXMubWF4IC0gKCgkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgLyAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSkgKiAxMDApKSAvIDIpIC8gKDEwMCAtICgoJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpICogMTAwKSk7XHJcbiAgICAgICAgICAgIC8qIOaXtumXtOi9tOS9jee9riovXHJcbiAgICAgICAgICAgICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5jc3MoJ2xlZnQnLCAtcGVyYyAqICgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSAtICQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSkpO1xyXG4gICAgICAgICAgICAvKiDog73ph4/ovbTkvY3nva4qL1xyXG4gICAgICAgICAgICAkKCcuZW5nLWNvbHVtbi1jaGFydC1jb250YWluZXInKS5jc3MoJ2xlZnQnLCAtcGVyYyAqICgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSAtICQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSkpO1xyXG4gICAgICAgICAgICAvKiDnu5jliLbljoblj7LlvbHlrZAqL1xyXG4gICAgICAgICAgICBsZXQgbWFya2VyVGltZSA9IFRpbWVMaW5lLmdldE1hcmtlclRpbWUoKTtcclxuICAgICAgICAgICAgVGltZUxpbmUuZGV2SGlzdG9yeVNoYWRvdyhtYXJrZXJUaW1lKTtcclxuICAgICAgICAgICAgJCgnLnZpZXctZGVmYXVsdC1idG4tYmcnKS5jc3MoJ2JhY2tncm91bmQtcG9zaXRpb24nLCAnLTIxMHB4IC0zMHB4Jyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyog5pe26Ze06L205Yid5aeL5YyW5a6M5oiQ5ZCOLOiLpeW9k+WJjeezu+e7n+aXtumXtOenkuaVsOWkp+S6jjMw77yM5bem56e75LiA5qyhKi9cclxuICAgICAgICBpZiAobmV3IERhdGUoc3RhcnRUaW1lKS5nZXRTZWNvbmRzKCkgPj0gMzApIHtcclxuICAgICAgICAgICAgLyog6JOd6Imy6KaG55uW5bGC5a695bqm6LaF5Ye677yM5omN5re75Yqg5Yi75bqmKi9cclxuICAgICAgICAgICAgaWYgKHRpbWVEaXZpZGVyQ291bnRPdmVyIC8gdGltZURpdmlkZXJDb3VudCA8PSAwLjEyNSkge1xyXG4gICAgICAgICAgICAgICAgdGltZURpdmlkZXJDb3VudCA9IHRpbWVEaXZpZGVyQ291bnQgKyAwLjU7XHJcbiAgICAgICAgICAgICAgICAkKCcudGltZS1saW5lLWRpdmlkZXItbG9uZywgLnRpbWUtbGluZS1kaXZpZGVyLXNob3J0JykuY3NzKCdtYXJnaW4tbGVmdCcsICQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAqIDAuMDI1IC0gMSk7XHJcbiAgICAgICAgICAgICAgICAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykuY3NzKCd3aWR0aCcsICQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAqIDAuMDI1IC8gMiArICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpKTtcclxuICAgICAgICAgICAgICAgIC8qIOiuvue9ruiTneiJsuimhuebluWxgiovXHJcbiAgICAgICAgICAgICAgICAvLyAkKCcudGltZS1saW5lLWJsdWUtY292ZXInKS5jc3MoJ3dpZHRoJywgKCh0aW1lRGl2aWRlckNvdW50IC0gdGltZURpdmlkZXJDb3VudE92ZXIpIC8gdGltZURpdmlkZXJDb3VudCkgKiAxMDAgKyAnJScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGltZURpdmlkZXJDb3VudE92ZXIgPSB0aW1lRGl2aWRlckNvdW50T3ZlciAtIDAuNTtcclxuICAgICAgICAgICAgICAgIC8qIOiuvue9ruiTneiJsuimhuebluWxgiovXHJcbiAgICAgICAgICAgICAgICAvLyAkKCcudGltZS1saW5lLWJsdWUtY292ZXInKS5jc3MoJ3dpZHRoJywgKCh0aW1lRGl2aWRlckNvdW50IC0gdGltZURpdmlkZXJDb3VudE92ZXIpIC8gdGltZURpdmlkZXJDb3VudCkgKiAxMDAgKyAnJScpO1xyXG4gICAgICAgICAgICAgICAgLy8gJCgnLnRpbWUtbGluZS1tYXJrZXInKS5jc3MoJ2xlZnQnLCBOdW1iZXIoKDEgLSAoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgLSAkKCcudGltZS1saW5lLWJsdWUtY292ZXInKS53aWR0aCgpICsgcGFyc2VGbG9hdCgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykuY3NzKCdyaWdodCcpKSkgLyAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkpICogMTAwKSArICclJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyog5L+u5pS55ruR5Yqo5p2hKi9cclxuICAgICAgICAgICAgJCgnLnRpbWUtbGluZS1zbGlkZXInKS5yYW5nZVNsaWRlcignb3B0aW9uJywgJ3JhbmdlJywge1xyXG4gICAgICAgICAgICAgICAgbWluOiAoJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpICogMTAwLFxyXG4gICAgICAgICAgICAgICAgbWF4OiAoJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpICogMTAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiDlrZjlgqjok53oibLopobnm5blsYLliJ3lp4vlrr3luqYqL1xyXG4gICAgICAgIHRpbWVMaW5lQmx1ZUNvdmVyRGVmYXVsdFdpZHRoID0gKCQoJy50aW1lLWxpbmUtYmx1ZS1jb3ZlcicpLndpZHRoKCkgLyAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSkgKiAxMDA7XHJcblxyXG4gICAgICAgIC8qIOaXtumXtOi9tOWkjeS9jSovXHJcbiAgICAgICAgLyoqZWRpdCBieSBnYW9jaGFvIHN0YXJ0ICovXHJcbiAgICAgICAgLy8gJCgnLnZpZXctZGVmYXVsdC1idG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLnZpZXctbG9jay1idG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1hcEZvbGxvd0ZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAkKCcudmlldy1sb2NrLWJ0biBkaXYnKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwidXJsKGltZy9pY29uL2xvY2F0aW9uX2FjdGl2ZS5wbmcpbm8tcmVwZWF0XCIpO1xyXG4gICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgIGlmICgkKCcudGltZS1saW5lLWJsdWUtY292ZXInKS53aWR0aCgpIC8gJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpID49IDAuODc1KSB7XHJcbiAgICAgICAgICAgICAgICAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykuY3NzKCdsZWZ0JywgJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpIC0gJCgnLnRpbWUtbGluZS1ibHVlLWNvdmVyJykud2lkdGgoKSAtICgkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgKiAwLjAyNSAvIDIpICogMTApO1xyXG4gICAgICAgICAgICAgICAgJCgnLmVuZy1jb2x1bW4tY2hhcnQtY29udGFpbmVyJykuY3NzKCdsZWZ0JywgJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpIC0gJCgnLnRpbWUtbGluZS1ibHVlLWNvdmVyJykud2lkdGgoKSAtICgkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgKiAwLjAyNSAvIDIpICogMTApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLmNzcygnbGVmdCcsICcwcHgnKTtcclxuICAgICAgICAgICAgICAgICQoJy5lbmctY29sdW1uLWNoYXJ0LWNvbnRhaW5lcicpLmNzcygnbGVmdCcsICcwcHgnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkKCcudGltZS1saW5lLW1hcmtlcicpLmNzcygnbGVmdCcsIE51bWJlcigoMSAtICgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSAtICQoJy50aW1lLWxpbmUtYmx1ZS1jb3ZlcicpLndpZHRoKCkgKyBwYXJzZUZsb2F0KCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5jc3MoJ3JpZ2h0JykpKSAvICQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSkgKiAxMDApICsgJyUnKTtcclxuICAgICAgICAgICAgLyog5L+u5pS55ruR5Yqo5p2h77yI6L+Y5Y6f5ruR5Yqo5p2h5L2N572u77yJKi9cclxuICAgICAgICAgICAgJCgnLnRpbWUtbGluZS1zbGlkZXInKS5yYW5nZVNsaWRlcignb3B0aW9uJywgJ3JhbmdlJywge1xyXG4gICAgICAgICAgICAgICAgbWluOiAoJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpICogMTAwLFxyXG4gICAgICAgICAgICAgICAgbWF4OiAoJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpICogMTAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvKiDmiYvliqjorr7nva7mu5HliqjmnaHkvY3nva7vvIjov5jljp/mu5HliqjmnaHkvY3nva7vvIkqL1xyXG4gICAgICAgICAgICAkKCcudWktcmFuZ2VTbGlkZXItYmFyJykuY3NzKCdsZWZ0JywgJCgnLnVpLXJhbmdlU2xpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgKiAoKCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpIC0gJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpICsgcGFyc2VGbG9hdCgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykuY3NzKCdyaWdodCcpKSkgLyAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSkpO1xyXG4gICAgICAgICAgICAkKCcudWktcmFuZ2VTbGlkZXItbGVmdEhhbmRsZScpLmNzcygnbGVmdCcsICQoJy51aS1yYW5nZVNsaWRlci1jb250YWluZXInKS53aWR0aCgpICogKCgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSAtICQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSArIHBhcnNlRmxvYXQoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLmNzcygncmlnaHQnKSkpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpKTtcclxuICAgICAgICAgICAgJCgnLnVpLXJhbmdlU2xpZGVyLXJpZ2h0SGFuZGxlJykuY3NzKCdsZWZ0JywgJCgnLnVpLXJhbmdlU2xpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgKiAoMSArIHBhcnNlRmxvYXQoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLmNzcygncmlnaHQnKSkgLyAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSkgLSA2KTtcclxuICAgICAgICAgICAgJCgnLnZpZXctZGVmYXVsdC1idG4tYmcnKS5jc3MoJ2JhY2tncm91bmQtcG9zaXRpb24nLCAnLTE4MHB4IC0zMHB4Jyk7XHJcbiAgICAgICAgICAgIG1hcC5yZW1vdmVPdmVybGF5KGhpc3RvcnlTaGFkb3dPdmVybGF5KTtcclxuICAgICAgICAgICAgZGV2RHJhd0luZm9NYXAuZm9yRWFjaCgoZWFjaERldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVhY2hEZXYuaXNDb3JyZW50Vmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBzdGFydCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXBGb2xsb3dGbGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5zZXRDZW50ZXIobmV3IEJNYXAuUG9pbnQoZGV2SW5mb01hcC5nZXQoZWFjaERldi5kZXZDb2RlKS5iYWlkdUdwc0luZm8ubG5nLCBkZXZJbmZvTWFwLmdldChlYWNoRGV2LmRldkNvZGUpLmJhaWR1R3BzSW5mby5sYXQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldFpvb20obWFwLmdldFpvb20oKSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuc2V0Wm9vbShtYXAuZ2V0Wm9vbSgpICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qKmVkaXQgYnkgZ2FvY2hhbyBlbmQgKi9cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRpbWVMaW5lTWFya2V0SXNDbGlja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRpbWVMaW5lU2xpZGVydElzUHJlc3NlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0TWFya2VyVGltZSgpIHtcclxuICAgICAgICAvKiDojrflj5bnuqLoibLliLvluqblgLzlnKjml7bpl7TovbTlrrnlmajkuIrnmoTnmb7liIbmr5QqL1xyXG4gICAgICAgIGxldCBtYXJrZXJMZWZ0UGVyYyA9IHBhcnNlRmxvYXQoJCgnLnRpbWUtbGluZS1tYXJrZXInKS5jc3MoJ2xlZnQnKSkgLyAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgKiAxMDA7XHJcbiAgICAgICAgLyog566X5Ye65bem6L656YOo5YiG6LaF5Ye65pyJ5aSa5bCR5qC8Ki9cclxuICAgICAgICBsZXQgb3V0ZXJDb3VudCA9ICgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSAtICQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSArIHBhcnNlRmxvYXQoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLmNzcygncmlnaHQnKSkpIC8gKCQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAqIDAuMDI1KTtcclxuICAgICAgICAvKiDnuqLoibLliLvluqblsLrliY3pnaLnmoTmoLzmlbAgKyDotoXlh7rpg6jliIbnmoTmoLzmlbAqL1xyXG4gICAgICAgIGxldCBtYXJrZXJMZWZ0Q291bnQgPSBtYXJrZXJMZWZ0UGVyYyAvIDIuNSArIG91dGVyQ291bnQ7XHJcbiAgICAgICAgLy8g6YCa6L+H5qC85pWw56Gu5a6a5pe26Ze05oizIC8vIHRpbWVMaW5lU3RhcnRWYWx1ZSAqIDEwMDAgLSBuZXcgRGF0ZSh0aW1lTGluZVN0YXJ0VmFsdWUgKiAxMDAwKS5nZXRTZWNvbmRzKCkgKiAxMDAwIC0gNjAwMDA7XHJcbiAgICAgICAgbGV0IGNsaWNrZWRUaW1lID0gbmV3IERhdGUoKCh0aW1lTGluZVN0YXJ0VmFsdWUgKiAxMDAwIC0gbmV3IERhdGUodGltZUxpbmVTdGFydFZhbHVlICogMTAwMCkuZ2V0U2Vjb25kcygpICogMTAwMCAtIDYwMDAwKSAvIDEwMDAgKyBtYXJrZXJMZWZ0Q291bnQgKiAxICogNjApICogMTAwMCk7XHJcbiAgICAgICAgcmV0dXJuIGNsaWNrZWRUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIOe7mOWItuW9seWtkCovXHJcbiAgICBzdGF0aWMgZGV2SGlzdG9yeVNoYWRvdyhjbGlja2VkVGltZSkge1xyXG4gICAgICAgIGxldCBtYXJrZXJUaW1lXHJcbiAgICAgICAgLyog6K6+572ua2V55YC8Ki9cclxuICAgICAgICBpZiAoY2xpY2tlZFRpbWUuZ2V0U2Vjb25kcygpIDwgMzApIHtcclxuICAgICAgICAgICAgbWFya2VyVGltZSA9IGNsaWNrZWRUaW1lLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbScpICsgJzowMCc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWFya2VyVGltZSA9IGNsaWNrZWRUaW1lLkZvcm1hdCgneXl5eS1NTS1kZCBoaDptbScpICsgJzozMCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIOe7mOWItuWJjemcgOenu+mZpOS4iuS4gOS4quW9seWtkCovXHJcbiAgICAgICAgaWYgKGhpc3RvcnlTaGFkb3dPdmVybGF5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkoaGlzdG9yeVNoYWRvd092ZXJsYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZXZEcmF3SW5mb01hcC5mb3JFYWNoKChlYWNoRGV2KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlYWNoRGV2LmlzQ29ycmVudFZpZXcpIHsgLy8g5Y+q57uY5Yi25b2T5YmN6KeG6KeS55qE6K6+5aSHXHJcbiAgICAgICAgICAgICAgICBsZXQgc2hhZG93SW5mbyA9IGVhY2hEZXYudGltZUxpbmVFbmdNYXAuZ2V0KG1hcmtlclRpbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNoYWRvd0luZm8gIT0gbnVsbCkgeyAvLyDlnKjlrZjlgqjnmoRtYXDkuK3mib7liLDlr7nlupTnmoTml7bpl7TngrlcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGV2Q29kZSA9IGVhY2hEZXYuZGV2Q29kZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGV2VHlwZSA9IE51bWJlcihlYWNoRGV2LmRldlR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwb2ludCA9IG5ldyBCTWFwLlBvaW50KHNoYWRvd0luZm8ucG9zaXRpb24ubG5nLCBzaGFkb3dJbmZvLnBvc2l0aW9uLmxhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vcnRoQW5nbGUgPSBzaGFkb3dJbmZvLnBvc2l0aW9uLm5vcnRoQW5nbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuZXJneSA9IHNoYWRvd0luZm8uZGV0YWlsO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXNzaXZlID0gc2hhZG93SW5mby5wYXNzaXZlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZGV2VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5U2hhZG93T3ZlcmxheSA9IG5ldyBDYXJIaXN0b3J5U2hhZG93T3ZlcmxheUNvbnN0cnVjdG9yKHBvaW50LCBkZXZDb2RlLCBub3J0aEFuZ2xlLCBlbmVyZ3ksIHBhc3NpdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLmFkZE92ZXJsYXkoaGlzdG9yeVNoYWRvd092ZXJsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnlTaGFkb3dPdmVybGF5ID0gbmV3IFNpbmdsZUhpc3RvcnlTaGFkb3dPdmVybGF5Q29uc3RydWN0b3IocG9pbnQsIGRldkNvZGUsIG5vcnRoQW5nbGUsIGVuZXJneSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuYWRkT3ZlcmxheShoaXN0b3J5U2hhZG93T3ZlcmxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIOmHjee9ruWIu+W6puWwuuS9jee9riovXHJcbiAgICBzdGF0aWMgcmVzZXRUaW1lTGluZU1hcmtlcigpIHtcclxuICAgICAgICAkKCcudGltZS1saW5lLW1hcmtlcicpLmNzcygnbGVmdCcsIE51bWJlcigoMSAtICgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSAtICQoJy50aW1lLWxpbmUtYmx1ZS1jb3ZlcicpLndpZHRoKCkgKyBwYXJzZUZsb2F0KCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5jc3MoJ3JpZ2h0JykpKSAvICQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSkgKiAxMDApICsgJyUnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiDml7bpl7TovbToh6rlop4qL1xyXG4gICAgc3RhdGljIHVwZGF0ZVRpbWVMaW5lKHVwZGF0ZVRpbWUpIHtcclxuICAgICAgICBsZXQgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSh1cGRhdGVUaW1lKTtcclxuICAgICAgICAvKiDlop7liqDok53oibLopobnm5blsYLnmoTlrr3luqYqL1xyXG4gICAgICAgIGxldCBibHVlQ292ZXJXaWR0aENhY2hlID0gJCgnLnRpbWUtbGluZS1ibHVlLWNvdmVyJykud2lkdGgoKTtcclxuICAgICAgICBibHVlQ292ZXJXaWR0aENhY2hlID0gYmx1ZUNvdmVyV2lkdGhDYWNoZSArICQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAqIDAuMDI1IC8gNjA7XHJcbiAgICAgICAgJCgnLnRpbWUtbGluZS1ibHVlLWNvdmVyJykuY3NzKCd3aWR0aCcsIChibHVlQ292ZXJXaWR0aENhY2hlIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpICogMTAwICsgJyUnKTtcclxuICAgICAgICAvKiDml7bpl7TovbToh6rliqjnp7vliqgqL1xyXG4gICAgICAgIGlmICghdGltZUxpbmVTbGlkZXJ0SXNQcmVzc2VkKSB7XHJcbiAgICAgICAgICAgIGlmICgkKCcudGltZS1saW5lLWJsdWUtY292ZXInKS53aWR0aCgpIC8gJCgnLnRpbWUtbGluZS1jb250YWluZXInKS53aWR0aCgpID49IDAuODc1KSB7XHJcbiAgICAgICAgICAgICAgICAvKiDml7bpl7TovbTkvY3np7vph48qL1xyXG4gICAgICAgICAgICAgICAgbGV0IGRpdmlkZXJDb250YWluZXJMZWZ0Q2FjaGUgPSBwYXJzZUZsb2F0KCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5jc3MoJ2xlZnQnKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoLWRpdmlkZXJDb250YWluZXJMZWZ0Q2FjaGUgKyAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgPCAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgtKGRpdmlkZXJDb250YWluZXJMZWZ0Q2FjaGUgLSAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgKiAwLjAyNSkgPiAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXZpZGVyQ29udGFpbmVyTGVmdENhY2hlID0gLSgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSAtICQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGl2aWRlckNvbnRhaW5lckxlZnRDYWNoZSA9IGRpdmlkZXJDb250YWluZXJMZWZ0Q2FjaGUgLSAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgKiAwLjAyNSAvIDYwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykuY3NzKCdsZWZ0JywgZGl2aWRlckNvbnRhaW5lckxlZnRDYWNoZSArICdweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5lbmctY29sdW1uLWNoYXJ0LWNvbnRhaW5lcicpLmNzcygnbGVmdCcsIGRpdmlkZXJDb250YWluZXJMZWZ0Q2FjaGUgKyAncHgnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBUaW1lTGluZS5yZXNldFRpbWVMaW5lTWFya2VyKCk7XHJcbiAgICAgICAgICAgIC8qIOS/ruaUuea7keWKqOadoSovXHJcbiAgICAgICAgICAgICQoJy50aW1lLWxpbmUtc2xpZGVyJykucmFuZ2VTbGlkZXIoJ29wdGlvbicsICdyYW5nZScsIHtcclxuICAgICAgICAgICAgICAgIG1pbjogKCQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAvICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpKSAqIDEwMCxcclxuICAgICAgICAgICAgICAgIG1heDogKCQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSAvICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpKSAqIDEwMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLyog5omL5Yqo6K6+572u5ruR5Yqo5p2h5L2N572uKi9cclxuICAgICAgICAgICAgJCgnLnVpLXJhbmdlU2xpZGVyLWJhcicpLmNzcygnbGVmdCcsICQoJy51aS1yYW5nZVNsaWRlci1jb250YWluZXInKS53aWR0aCgpICogKCgkKCcudGltZS1saW5lLWRpdmlkZXItY29udGFpbmVyJykud2lkdGgoKSAtICQoJy50aW1lLWxpbmUtY29udGFpbmVyJykud2lkdGgoKSArIHBhcnNlRmxvYXQoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLmNzcygncmlnaHQnKSkpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpKTtcclxuICAgICAgICAgICAgJCgnLnVpLXJhbmdlU2xpZGVyLWxlZnRIYW5kbGUnKS5jc3MoJ2xlZnQnLCAkKCcudWktcmFuZ2VTbGlkZXItY29udGFpbmVyJykud2lkdGgoKSAqICgoJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkgLSAkKCcudGltZS1saW5lLWNvbnRhaW5lcicpLndpZHRoKCkgKyBwYXJzZUZsb2F0KCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5jc3MoJ3JpZ2h0JykpKSAvICQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS53aWR0aCgpKSk7XHJcbiAgICAgICAgICAgICQoJy51aS1yYW5nZVNsaWRlci1yaWdodEhhbmRsZScpLmNzcygnbGVmdCcsICQoJy51aS1yYW5nZVNsaWRlci1jb250YWluZXInKS53aWR0aCgpICogKDEgKyBwYXJzZUZsb2F0KCQoJy50aW1lLWxpbmUtZGl2aWRlci1jb250YWluZXInKS5jc3MoJ3JpZ2h0JykpIC8gJCgnLnRpbWUtbGluZS1kaXZpZGVyLWNvbnRhaW5lcicpLndpZHRoKCkpIC0gNik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIOabtOaWsOi/m+W6puadoSovXHJcbiAgICAgICAgbGV0IHByb2dyZXNzUGVyYyA9ICgxIC0gKGNhc2VFbmRUaW1lIC0gdXBkYXRlVGltZSkgLyAoY2FzZUVuZFRpbWUgLSBjYXNlU3RhcnRUaW1lKSkgKiAxMDA7XHJcbiAgICAgICAgJCgnI3RpbWUtbGluZS1wcm9ncmVzcycpLmNzcygnd2lkdGgnLCBwcm9ncmVzc1BlcmMgKyAnJScpO1xyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vdG9vbC9UaW1lTGluZS5qc1xuLy8gbW9kdWxlIGlkID0gNTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///56\n");

/***/ }),
/* 57 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ajax_QueryReplay_js__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__table_DrawTable_js__ = __webpack_require__(34);\n\r\n\r\n\r\n\r\nclass PageInfo {\r\n\r\n    static drawPageController(result) {\r\n        let pageInfo = result.pageInfo;\r\n        let currentPage = pageInfo.pageNum;\r\n        let totalPages = pageInfo.pages;\r\n        if (totalPages == 1) {\r\n            $('.M-box3').pagination({\r\n                pageCount: totalPages,\r\n                coping: true,\r\n                homePage: '首页',\r\n                endPage: '末页',\r\n                /*delete by guoshuai start 2018-9-29\r\n                prevContent: '上页',\r\n                nextContent: '下页',\r\n                delete by guoshuai start 2018-9-29*/\r\n                /*add by guoshuai start 2018-9-29*/\r\n                prevContent: '',\r\n                nextContent: '',\r\n                /*add by guoshuai end 2018-9-29*/\r\n                callback: function (api) { }\r\n            });\r\n        } else {\r\n            $('.M-box3').pagination({\r\n                pageCount: totalPages,\r\n                mode: 'fixed',\r\n                count: 8,\r\n                jump: true,\r\n                coping: true,\r\n                homePage: '首页',\r\n                endPage: '末页',\r\n                /*delete by guoshuai start 2018-9-29\r\n                prevContent: '上页',\r\n                nextContent: '下页',\r\n                delete by guoshuai start 2018-9-29*/\r\n                /*add by guoshuai start 2018-9-29*/\r\n                prevContent: '',\r\n                nextContent: '',\r\n                /*add by guoshuai end 2018-9-29*/\r\n                callback: function (api) {\r\n                    let page = api.getCurrent();\r\n                    if (CombatReplayGuideCache.pageNum != page) {\r\n                        CombatReplayGuideCache.pageNum = page;\r\n                        __WEBPACK_IMPORTED_MODULE_0__ajax_QueryReplay_js__[\"a\" /* QueryReplay */].query(CombatReplayGuideCache).then((result) => {\r\n                            queryResult = result.pageInfo.list;\r\n                            __WEBPACK_IMPORTED_MODULE_1__table_DrawTable_js__[\"a\" /* DrawTable */].caseTable(result);\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = PageInfo;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90YWJsZS9QYWdlSW5mby5qcz82MjY3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBb0Q7O0FBRUg7O0FBRTFDOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUVBQVc7QUFDbkM7QUFDQSw0QkFBNEIsc0VBQVM7QUFDckMseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQSxDIiwiZmlsZSI6IjU3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUXVlcnlSZXBsYXkgfSBmcm9tICcuLi9hamF4L1F1ZXJ5UmVwbGF5LmpzJ1xyXG5cclxuaW1wb3J0IHsgRHJhd1RhYmxlIH0gZnJvbSAnLi4vdGFibGUvRHJhd1RhYmxlLmpzJ1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhZ2VJbmZvIHtcclxuXHJcbiAgICBzdGF0aWMgZHJhd1BhZ2VDb250cm9sbGVyKHJlc3VsdCkge1xyXG4gICAgICAgIGxldCBwYWdlSW5mbyA9IHJlc3VsdC5wYWdlSW5mbztcclxuICAgICAgICBsZXQgY3VycmVudFBhZ2UgPSBwYWdlSW5mby5wYWdlTnVtO1xyXG4gICAgICAgIGxldCB0b3RhbFBhZ2VzID0gcGFnZUluZm8ucGFnZXM7XHJcbiAgICAgICAgaWYgKHRvdGFsUGFnZXMgPT0gMSkge1xyXG4gICAgICAgICAgICAkKCcuTS1ib3gzJykucGFnaW5hdGlvbih7XHJcbiAgICAgICAgICAgICAgICBwYWdlQ291bnQ6IHRvdGFsUGFnZXMsXHJcbiAgICAgICAgICAgICAgICBjb3Bpbmc6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBob21lUGFnZTogJ+mmlumhtScsXHJcbiAgICAgICAgICAgICAgICBlbmRQYWdlOiAn5pyr6aG1JyxcclxuICAgICAgICAgICAgICAgIC8qZGVsZXRlIGJ5IGd1b3NodWFpIHN0YXJ0IDIwMTgtOS0yOVxyXG4gICAgICAgICAgICAgICAgcHJldkNvbnRlbnQ6ICfkuIrpobUnLFxyXG4gICAgICAgICAgICAgICAgbmV4dENvbnRlbnQ6ICfkuIvpobUnLFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGJ5IGd1b3NodWFpIHN0YXJ0IDIwMTgtOS0yOSovXHJcbiAgICAgICAgICAgICAgICAvKmFkZCBieSBndW9zaHVhaSBzdGFydCAyMDE4LTktMjkqL1xyXG4gICAgICAgICAgICAgICAgcHJldkNvbnRlbnQ6ICcnLFxyXG4gICAgICAgICAgICAgICAgbmV4dENvbnRlbnQ6ICcnLFxyXG4gICAgICAgICAgICAgICAgLyphZGQgYnkgZ3Vvc2h1YWkgZW5kIDIwMTgtOS0yOSovXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGFwaSkgeyB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJy5NLWJveDMnKS5wYWdpbmF0aW9uKHtcclxuICAgICAgICAgICAgICAgIHBhZ2VDb3VudDogdG90YWxQYWdlcyxcclxuICAgICAgICAgICAgICAgIG1vZGU6ICdmaXhlZCcsXHJcbiAgICAgICAgICAgICAgICBjb3VudDogOCxcclxuICAgICAgICAgICAgICAgIGp1bXA6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb3Bpbmc6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBob21lUGFnZTogJ+mmlumhtScsXHJcbiAgICAgICAgICAgICAgICBlbmRQYWdlOiAn5pyr6aG1JyxcclxuICAgICAgICAgICAgICAgIC8qZGVsZXRlIGJ5IGd1b3NodWFpIHN0YXJ0IDIwMTgtOS0yOVxyXG4gICAgICAgICAgICAgICAgcHJldkNvbnRlbnQ6ICfkuIrpobUnLFxyXG4gICAgICAgICAgICAgICAgbmV4dENvbnRlbnQ6ICfkuIvpobUnLFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGJ5IGd1b3NodWFpIHN0YXJ0IDIwMTgtOS0yOSovXHJcbiAgICAgICAgICAgICAgICAvKmFkZCBieSBndW9zaHVhaSBzdGFydCAyMDE4LTktMjkqL1xyXG4gICAgICAgICAgICAgICAgcHJldkNvbnRlbnQ6ICcnLFxyXG4gICAgICAgICAgICAgICAgbmV4dENvbnRlbnQ6ICcnLFxyXG4gICAgICAgICAgICAgICAgLyphZGQgYnkgZ3Vvc2h1YWkgZW5kIDIwMTgtOS0yOSovXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGFwaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYWdlID0gYXBpLmdldEN1cnJlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQ29tYmF0UmVwbGF5R3VpZGVDYWNoZS5wYWdlTnVtICE9IHBhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ29tYmF0UmVwbGF5R3VpZGVDYWNoZS5wYWdlTnVtID0gcGFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUXVlcnlSZXBsYXkucXVlcnkoQ29tYmF0UmVwbGF5R3VpZGVDYWNoZSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeVJlc3VsdCA9IHJlc3VsdC5wYWdlSW5mby5saXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJhd1RhYmxlLmNhc2VUYWJsZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3RhYmxlL1BhZ2VJbmZvLmpzXG4vLyBtb2R1bGUgaWQgPSA1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///57\n");

/***/ }),
/* 58 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_baiduMap_Init_BaiduMap_js__ = __webpack_require__(2);\n\r\n\r\n\r\nclass EndOverlayConstructor {\r\n\r\n    constructor(point,address) {\r\n        return this.draw(point,address);\r\n    }\r\n\r\n    draw(point,address) {\r\n        /* 定义自定义覆盖物的构造函数 */\r\n        function EndMarkerOverlay(point,address) {\r\n            this._point = point;\r\n            this.address = address;\r\n        }\r\n        /* 继承API的BMap.Overlay */\r\n        EndMarkerOverlay.prototype = new BMap.Overlay();\r\n        /* 实现初始化方法 */\r\n        EndMarkerOverlay.prototype.initialize = function (map) {\r\n            /* 保存map对象实例 */\r\n            this._map = map;\r\n            /* 创建div元素，作为自定义覆盖物的容器 */\r\n            let div = this._div = document.createElement('div');\r\n            /**add by gaochao start */\r\n            /**add by gaochao end*/\r\n            div.style.position = 'absolute';\r\n            div.style.zIndex = 5000;\r\n            $(div).attr('class', `endMarkerIcon`);\r\n            $(div).attr('data-open-status', 'close');\r\n            $(div).attr('z-index-temp', '5000');\r\n            div.style.display = 'inline-block';\r\n            div.innerHTML = `\r\n                <!--基站图片-->\r\n                <img class=\"endMarker-img\" src=\"img/endMarker.png\" style=\"top:-46px;left:0px\"> \r\n                <!--基站信息框-->\r\n                <div style=\"z-index:8000;\" class=\"endMarker-info-panel\" style=\"display:none;\">\r\n                    <div class=\"endMarker-info-panel-close\">\r\n                        <span class=\"glyphicon iconfont icon-close\"></span>\r\n                    </div>\r\n                    <div class=\"endMarker-info-panel-decoration\"></div>\r\n                    <span class=\"endMarker-title\" style=\" position: absolute;left: 20px;top: 20px;color: #ffffff;\">地址 :</span>\r\n                    <span class=\"bts-range endMarker-content\" style=\"top: 20px;left: 60px;width: 200px;\">${this.address}</span>\r\n                </div>\r\n            `;\r\n            /**edit by gaochao end */\r\n            /* 将div添加到覆盖物容器中 */\r\n            map.getPanes().labelPane.appendChild(div);\r\n            /* 保存div实例 */\r\n            this._div = div;\r\n            /* 需要将div元素作为方法的返回值 */\r\n            return div;\r\n        }\r\n        /* 绘制覆盖物,实现绘制方法 */\r\n        EndMarkerOverlay.prototype.draw = function () {\r\n            /* 根据地理坐标转换为像素坐标，并设置给容器 */\r\n            let position = this._map.pointToOverlayPixel(this._point);\r\n            this._div.style.left = position.x + 'px';\r\n            this._div.style.top = position.y + 'px';\r\n        }\r\n\r\n        return new EndMarkerOverlay(point, address);\r\n\r\n    }\r\n\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = EndOverlayConstructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vcmVhbFRpbWVDb21iYXQvb3ZlcmxheS9FbmRPdmVybGF5Q29uc3RydWN0b3IuanM/MTUxNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUF5RTs7O0FBR2xFOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRkFBb0Y7QUFDcEY7QUFDQSx5Q0FBeUMsbURBQW1EO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLFdBQVcsVUFBVSxlQUFlO0FBQ2pILCtFQUErRSxXQUFXLGFBQWEsSUFBSSxhQUFhO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsQyIsImZpbGUiOiI1OC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhaWR1TWFwSW5pdCB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9iYWlkdU1hcC9Jbml0LkJhaWR1TWFwLmpzJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgRW5kT3ZlcmxheUNvbnN0cnVjdG9yIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwb2ludCxhZGRyZXNzKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhdyhwb2ludCxhZGRyZXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KHBvaW50LGFkZHJlc3MpIHtcclxuICAgICAgICAvKiDlrprkuYnoh6rlrprkuYnopobnm5bniannmoTmnoTpgKDlh73mlbAgKi9cclxuICAgICAgICBmdW5jdGlvbiBFbmRNYXJrZXJPdmVybGF5KHBvaW50LGFkZHJlc3MpIHtcclxuICAgICAgICAgICAgdGhpcy5fcG9pbnQgPSBwb2ludDtcclxuICAgICAgICAgICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcclxuICAgICAgICB9XHJcbiAgICAgICAgLyog57un5om/QVBJ55qEQk1hcC5PdmVybGF5ICovXHJcbiAgICAgICAgRW5kTWFya2VyT3ZlcmxheS5wcm90b3R5cGUgPSBuZXcgQk1hcC5PdmVybGF5KCk7XHJcbiAgICAgICAgLyog5a6e546w5Yid5aeL5YyW5pa55rOVICovXHJcbiAgICAgICAgRW5kTWFya2VyT3ZlcmxheS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChtYXApIHtcclxuICAgICAgICAgICAgLyog5L+d5a2YbWFw5a+56LGh5a6e5L6LICovXHJcbiAgICAgICAgICAgIHRoaXMuX21hcCA9IG1hcDtcclxuICAgICAgICAgICAgLyog5Yib5bu6ZGl25YWD57Sg77yM5L2c5Li66Ieq5a6a5LmJ6KaG55uW54mp55qE5a655ZmoICovXHJcbiAgICAgICAgICAgIGxldCBkaXYgPSB0aGlzLl9kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gc3RhcnQgKi9cclxuICAgICAgICAgICAgLyoqYWRkIGJ5IGdhb2NoYW8gZW5kKi9cclxuICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IDUwMDA7XHJcbiAgICAgICAgICAgICQoZGl2KS5hdHRyKCdjbGFzcycsIGBlbmRNYXJrZXJJY29uYCk7XHJcbiAgICAgICAgICAgICQoZGl2KS5hdHRyKCdkYXRhLW9wZW4tc3RhdHVzJywgJ2Nsb3NlJyk7XHJcbiAgICAgICAgICAgICQoZGl2KS5hdHRyKCd6LWluZGV4LXRlbXAnLCAnNTAwMCcpO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG4gICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICAgICAgPCEtLeWfuuermeWbvueJhy0tPlxyXG4gICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImVuZE1hcmtlci1pbWdcIiBzcmM9XCJpbWcvZW5kTWFya2VyLnBuZ1wiIHN0eWxlPVwidG9wOi00NnB4O2xlZnQ6MHB4XCI+IFxyXG4gICAgICAgICAgICAgICAgPCEtLeWfuuermeS/oeaBr+ahhi0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInotaW5kZXg6ODAwMDtcIiBjbGFzcz1cImVuZE1hcmtlci1pbmZvLXBhbmVsXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVuZE1hcmtlci1pbmZvLXBhbmVsLWNsb3NlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGljb25mb250IGljb24tY2xvc2VcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVuZE1hcmtlci1pbmZvLXBhbmVsLWRlY29yYXRpb25cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVuZE1hcmtlci10aXRsZVwiIHN0eWxlPVwiIHBvc2l0aW9uOiBhYnNvbHV0ZTtsZWZ0OiAyMHB4O3RvcDogMjBweDtjb2xvcjogI2ZmZmZmZjtcIj7lnLDlnYAgOjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJ0cy1yYW5nZSBlbmRNYXJrZXItY29udGVudFwiIHN0eWxlPVwidG9wOiAyMHB4O2xlZnQ6IDYwcHg7d2lkdGg6IDIwMHB4O1wiPiR7dGhpcy5hZGRyZXNzfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAvKiplZGl0IGJ5IGdhb2NoYW8gZW5kICovXHJcbiAgICAgICAgICAgIC8qIOWwhmRpdua3u+WKoOWIsOimhueblueJqeWuueWZqOS4rSAqL1xyXG4gICAgICAgICAgICBtYXAuZ2V0UGFuZXMoKS5sYWJlbFBhbmUuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICAgICAgLyog5L+d5a2YZGl25a6e5L6LICovXHJcbiAgICAgICAgICAgIHRoaXMuX2RpdiA9IGRpdjtcclxuICAgICAgICAgICAgLyog6ZyA6KaB5bCGZGl25YWD57Sg5L2c5Li65pa55rOV55qE6L+U5Zue5YC8ICovXHJcbiAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIOe7mOWItuimhueblueJqSzlrp7njrDnu5jliLbmlrnms5UgKi9cclxuICAgICAgICBFbmRNYXJrZXJPdmVybGF5LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvKiDmoLnmja7lnLDnkIblnZDmoIfovazmjaLkuLrlg4/ntKDlnZDmoIfvvIzlubborr7nva7nu5nlrrnlmaggKi9cclxuICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gdGhpcy5fbWFwLnBvaW50VG9PdmVybGF5UGl4ZWwodGhpcy5fcG9pbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYuc3R5bGUubGVmdCA9IHBvc2l0aW9uLnggKyAncHgnO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYuc3R5bGUudG9wID0gcG9zaXRpb24ueSArICdweCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IEVuZE1hcmtlck92ZXJsYXkocG9pbnQsIGFkZHJlc3MpO1xyXG5cclxuICAgIH1cclxuXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9yZWFsVGltZUNvbWJhdC9vdmVybGF5L0VuZE92ZXJsYXlDb25zdHJ1Y3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gNThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///58\n");

/***/ })
/******/ ]);